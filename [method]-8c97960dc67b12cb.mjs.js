(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[83194,18755,45861],{13882:(e,t,i)=>{"use strict";function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}i.d(t,{Z:()=>n})},983946:(e,t,i)=>{"use strict";function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}i.d(t,{Z:()=>n})},619013:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(13882);function r(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},762587:e=>{"use strict";e.exports=function(e,t,i,n){t=t||"&",i=i||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var o=0;o<l;++o){var d,c,u,p,h=e[o].replace(a,"%20"),_=h.indexOf(i);(_>=0?(d=h.substr(0,_),c=h.substr(_+1)):(d=h,c=""),u=decodeURIComponent(d),p=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(r,u))?Array.isArray(r[u])?r[u].push(p):r[u]=[r[u],p]:r[u]=p}return r}},712361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,n,r){return(i=i||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(r){var a=encodeURIComponent(t(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return a+encodeURIComponent(t(e))}).join(i):a+encodeURIComponent(t(e[r]))}).join(i):r?encodeURIComponent(t(r))+n+encodeURIComponent(t(e)):""}},817673:(e,t,i)=>{"use strict";t.decode=t.parse=i(762587),t.encode=t.stringify=i(712361)},237666:(e,t,i)=>{"use strict";var n=i(667294),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,o=n.useMemo,d=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,i,n,c){var u=s(null);if(null===u.current){var p={hasValue:!1,value:null};u.current=p}else p=u.current;var h=a(e,(u=o(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==c&&p.hasValue){var t=p.value;if(c(t,e))return s=t}return s=e}if(t=s,r(a,e))return t;var i=n(e);return void 0!==c&&c(t,i)?(a=e,t):(a=e,s=i)}var a,s,l=!1,o=void 0===i?null:i;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,i,n,c]))[0],u[1]);return l(function(){p.hasValue=!0,p.value=h},[h]),d(h),h}},331103:(e,t,i)=>{"use strict";e.exports=i(237666)},563463:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};n.hash="0b5f077c08e31de36594b6918e128d12";let r=n;var a,s,l,o,d=n.default||n;if("query"===d.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(d);else{let e=[d.params.name,d.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=d}},409510:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="6bb1a587f71f85424aa51845831862d4";let r=n},635654:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="3caf9424c2af74d2b11a6ea682b57d1b";let r=n},494119:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};n.hash="18c3db3fbed169f50cffd214f66ddd8e";let r=n},771589:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};n.hash="f12c153dafdb70970e02775ea0db67c2";let r=n},940220:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="76215b7b40cb02e76b77e58c8765d0d1";let r=n},777579:(e,t,i)=>{"use strict";var n,r,a;i.r(t),i.d(t,{default:()=>l});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[n,{args:null,kind:"FragmentSpread",name:"BoardCard_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r,{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};s.hash="918c0a075d1004184a9085be4c3a53c1";let l=s},587679:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};n.hash="56f620fbd63abf8f7cb32f9a378198f8";let r=n},27218:(e,t,i)=>{"use strict";var n,r;i.r(t),i.d(t,{default:()=>s});let a=(r=[n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],type:"AdvisoryAction",abstractKey:null});a.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let s=a},599673:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};n.hash="5879c4710b107f258f42156bf3e47e37";let r=n},730172:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};n.hash="4970946a36017d9ad0c751fd70cc512c";let r=n},799535:(e,t,i)=>{"use strict";var n,r,a;i.r(t),i.d(t,{default:()=>l});let s=(r=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],a=[n],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[n,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});s.hash="53d7eec34666980eda011429185b5b10";let l=s},202553:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCreateCreatorCard_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],type:"User",abstractKey:null};n.hash="36cd6f7c339f78d7313adfdc547f55aa";let r=n},886412:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"PinCreateSuccessQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinCreateSuccessQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"PinCreateSuccessQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},d],storageKey:null},d],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"361259864d5e343ec4104dcc200090a08fe4f153febefad5d1af54d1684205e2",metadata:{},name:"PinCreateSuccessQuery",operationKind:"query",text:null}};n.hash="87a123e15659dd3698a08361e7757110";let r=n;var a,s,l,o,d,c=n.default||n;if("query"===c.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(c);else{let e=[c.params.name,c.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=c}},71288:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCreateSuccessQuery_pin",selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinCreateCreatorCard_user"}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="0bf1cc8db9761ab9f2f8fdb0e390d1f0";let a=r},194117:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="d928a4e793c8e81567357b1faa71d2e3";let r=n},869717:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};n.hash="1a4583782792fbfe92015cb2dbe50f70";let r=n},216232:(e,t,i)=>{"use strict";var n;i.r(t),i.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="bfa270bf437ef1e9195cafe07b0b3631";let a=r},380718:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};n.hash="58c24e25a76e7a1c4533f3b07f490517";let r=n},600483:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};n.hash="616d5be8fea6092b51f23b548a1a5dca";let r=n},947793:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinPane_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};n.hash="4435ca5e135b834ea8a6425f68eb2f7a";let r=n},583808:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};n.hash="d12a0ef89312e2429f28a098a2536c8a";let r=n},22526:(e,t,i)=>{"use strict";i.d(t,{X_:()=>a,Xo:()=>c,Xv:()=>d,fW:()=>u,h_:()=>o,vF:()=>l});var n=i(415787);let r=(e,t)=>{let i=`client.partner.quick_promote_button.${e}`;(0,n.nP)(i,{sampleRate:1,tags:{app_type:"web",location:t}})},a=e=>{e&&e.utm_campaign&&(0,n.nP)("client.partner.account.convert_attempt.utm_campaign.exists",{sampleRate:1,tags:e})},s=(e,t,i,n={},r)=>{r({event_type:e,component:t,element:10148,view_type:i,aux_data:{...n}})},l=(e,t,i,n,a,l,o={})=>{r(t,i),s(n,a,l,o,e)},o=e=>{e({event_type:8217})},d=()=>{(0,n.nP)("client.partner.biz_nux_v3.nux_start",{sampleRate:1,tags:{app_type:"web"}})},c=()=>{(0,n.nP)("client.partner.biz_nux_v3.nux_end",{sampleRate:1,tags:{app_type:"web"}})},u=e=>{let t=`client.partner.biz_nux_v3.render.${e}`;(0,n.nP)(t,{sampleRate:1,tags:{app_type:"web"}})}},401296:(e,t,i)=>{"use strict";i.d(t,{f:()=>w,X:()=>S});var n=i(667294),r=i(239763),a=i(942052),s=i(663641),l=i(847881),o=i(90230),d=i(799328),c=i(473599),u=i(832442),p=i(435881),h=i(605388),_=i(498490),m=i(785220),g=i(135296),f=i(296209),y=i(785893);let b=(e,t,i)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!n)return;let r=(0,g.Z)(f.Z,!0)(n),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[a]?e[a]=r:e.push(r)},v=(e,t,i,n)=>{let r=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(r?.action?.filter){let e=r.action.filter.filterOptions;r.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,useHook:S}=(0,_.Z)("OneBarProductFilters");function w({children:e}){let[t,i]=(0,n.useState)([]),[_,g]=(0,n.useState)(null),f=function(){let{scope:e}=(0,l.b)();return[s.lw.BOARDS,s.lw.PINS_BUYABLE,s.lw.PINS_VIDEO,s.lw.USERS].includes(e)}(),S=(0,u.Z)(),w=(0,d.Z)(),P=(0,r.Z)(),I=(0,a.Z)(),A=(0,c.Z)(),E=(0,p.Z)(),k=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let r=e?.filter(({module_type:e})=>17===e||0===e);if(!r||r?.length===0||!n)return;let a=n!==_,s=a?[]:t;(a||!f)&&b(s,r,4),(a||!S)&&b(s,r,1),(a||!w)&&b(s,r,0),(a||!P)&&b(s,r,3),(a||!I)&&b(s,r,6),(a||!E)&&b(s,r,10),(a||!A)&&[7,8,9].forEach(e=>{b(s,r,e)}),(0,m.ZP)(s,t)||(i(s),g(n))},[t,P,I,f,w,A,S,E,_]),C=(0,o.Z)(),{priceMax:j,priceMin:T,scope:R,brands:O,onSale:Z,style:N,colors:B,domains:L}=(0,l.b)();(0,n.useEffect)(()=>{if(!C||0===t.length)return;let e=(0,h.Z)(t);if(R!==s.lw.PINS){let t=(0,s.gi)(R),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof j||"string"==typeof T){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(T)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(j)}:null].filter(Boolean))}v(new Set([3]),O,"stringValue",e),v(new Set([6]),B,"stringValue",e),v(new Set([0]),L,"stringValue",e),v(new Set([7,8,9]),Z,"numericValue",e),v(new Set([10]),N,"stringValue",e),(0,m.ZP)(e,t)||i(e)},[t,C,j,T,R,O,B,L,Z,N]);let D=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:k}),[t,k]);return(0,y.jsx)(x,{value:D,children:e})}},239763:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(616550),r=i(868808);function a(){return!!(0,r.mB)((0,n.TH)().search).brands}},942052:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(616550),r=i(297728),a=i(868808);function s(){let{checkExperiment:e}=(0,r.F)(),t=(0,n.TH)(),{colors:i}=(0,a.mB)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},90230:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(297728);function r(){let{checkExperiment:e}=(0,n.F)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},799328:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(616550),r=i(868808);function a(){return!!(0,r.mB)((0,n.TH)().search).domains}},473599:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(616550),r=i(868808);function a(){let e=(0,n.TH)(),{on_sale:t}=(0,r.mB)(e.search);return!!t}},832442:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(616550),r=i(868808);function a(){let e=(0,n.TH)(),{price_max:t,price_min:i}=(0,r.mB)(e.search);return!!(i??t)}},435881:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(616550),r=i(297728),a=i(868808);function s(){let{checkExperiment:e}=(0,r.F)(),t=(0,n.TH)(),{style:i}=(0,a.mB)(t.search);return!!i&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},642032:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,m:()=>a});var n=i(755884),r=i(983542);let a=["female","male","unknown"],s=e=>{let{interests:t,ages:i,genders:s,country:l}=e;return{AGE_BUCKET:i||[],APPTYPE:n.jz,GENDER:s||a,INTEREST:(t||[]).map(e=>e.topic_id),LOCATION:[...new Set((l||r.UF).split("+"))]}}},107830:(e,t,i)=>{"use strict";i.d(t,{Z:()=>z});var n,r,a=i(667294);i(167912);var s=i(616550),l=i(883119),o=i(22526),d=i(800492),c=i(573706),u=i(602185),p=i(384609),h=i(289762),_=i(144326),m=i(240760),g=i(297728),f=i(957486),y=i(931397),b=i(961754),v=i(383399),x=i(501912),S=i(801621),w=i(700506),P=i(343931),I=i(255388),A=i(104168),E=i(357346),k=i(785893);function C(e){let{color:t,description:i,imageUrl:n,link:r}=e;return(0,k.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:!n&&t&&r?(0,k.jsx)(l.xu,{width:236,children:(0,k.jsx)(E.Z,{color:t,description:i,url:r})}):(0,k.jsx)(l.zd,{rounding:2,width:236,children:(0,k.jsx)("img",{alt:i,src:n})})})}var j=i(332839),T=i(871335);let R={width:"100%"};class O extends a.Component{constructor(...e){var t,i,n;super(...e),t="videoRef",i=(0,a.createRef)(),(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){let{video:e}=this.props;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}render(){let{video:e}=this.props,t=(0,j.Z)(e.customCoverImg||e,236);return(0,k.jsx)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,k.jsxs)(l.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,k.jsx)(l.zd,{height:"100%",rounding:2,wash:!0,width:"100%",children:e.customCoverImg?(0,k.jsx)(l.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,k.jsx)("video",{ref:this.videoRef,muted:!0,src:e.src,style:R,children:(0,k.jsx)("track",{kind:"captions"})})}),(0,k.jsx)(l.xu,{alignItems:"end",bottom:!0,display:"flex",justifyContent:"start",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,k.jsx)(T.Z,{duration:1e3*e.duration})})]})})}}function Z(e){let{color:t,description:i,imageUrl:n,link:r,video:a,websiteMedia:s}=e,o=s&&s.length>1?(0,k.jsx)(l.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,k.jsx)(l.Rk,{columnWidth:160,items:s,minCols:3,renderItem:({data:e})=>(0,k.jsx)(C,{description:i,imageUrl:e.src})})}):(0,k.jsx)(C,{color:t,description:i,imageUrl:n,link:r});return(0,k.jsx)(l.xu,{marginTop:-8,paddingY:8,children:a?(0,k.jsx)(O,{video:a}):o})}var N=i(274377),B=i(415787);let L=void 0!==n?n:n=i(71288),D=void 0!==r?r:r=i(886412);function F({boardName:e,color:t,description:i="",hideHeader:n,imageUrl:r,link:u,onClose:g,openNewTab:y,pin:P,pinId:E,sectionName:C,siteType:j,video:T,websiteMedia:R,fetchedResourceExpEnabled:O,pinSuccessDataRef:F}){let z=(0,_.ZP)(),{logContextEvent:M}=(0,c.v)(),U=(0,s.k6)(),H=(0,v.Z)(),K=(0,x.Z)(),G=(0,S.lJ)(H,K),W=(0,h.Z)({strategy:"LEGACY",query:D,variables:{pinId:E},useGetLegacyData:({pinId:e})=>{let{data:t}=(0,b.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",orbac_subject_id:G}}),{data:i}=(0,f.Z)(F);return O?i:t}}),$=W?.v3GetPinQuery?.__typename==="V3GetPin"?W?.v3GetPinQuery.data:null,Y=(0,p.Z)(L,$),V=()=>3!==j&&(0,d.su)(H);(0,a.useEffect)(()=>{V()?((0,o.vF)(M,w.NH.RENDER,w.Xc.PIN_CREATE_SUCCESS_PINNER,120,207),(0,B.nP)("web.pin_create.success.promote")):(0,B.nP)("web.pin_create.success.send"),(0,B.nP)("web.pin_create.success.default")},[]);let q=(0,I.Z)({currentSiteType:j,destinationSiteType:0,inputPath:`/pin/${E}`}),X=C?(0,m.nk)(z._('Saved to {{ sectionName }} in {{ boardName }}', ' - ', ' -- '),{boardName:e,sectionName:C}):(0,m.nk)(z._('Saved to {{ boardName }}', ' - ', ' -- '),{boardName:e}),Q=Y&&Y.linkDomain&&Y.linkDomain.officialUser,J=H.isAuth&&Q&&Q.entityId!==H.id&&!Q.followedByMe;return(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(l.xu,{"data-test-id":"saved-pin-modal",minWidth:500,children:(0,k.jsxs)(l.xu,{color:"default",rounding:2,width:"auto",children:[n?null:(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(l.xu,{paddingX:6,paddingY:4,children:(0,k.jsx)(l.X6,{size:"600",children:X})}),(0,k.jsx)(l.iz,{})]}),!!Q&&J&&(0,k.jsxs)(a.Fragment,{children:[(0,k.jsx)(l.xu,{paddingX:6,paddingY:3,children:(0,k.jsx)(A.Z,{userKey:Q})}),(0,k.jsx)(l.iz,{})]}),(0,k.jsx)(Z,{color:t,description:i,imageUrl:r,link:u,video:T,websiteMedia:R}),(0,k.jsx)(l.iz,{}),(0,k.jsx)(l.xu,{paddingX:6,paddingY:2,children:(0,k.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[!V()&&(0,k.jsx)(l.ZP,{accessibilityLabel:z._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),color:"gray",href:`/pin/${E}/?share=true`,iconEnd:"share",text:z._('Send', 'Text for button to send this pin', 'Text for button to send this pin')}),(0,k.jsx)(l.xu,{"data-test-id":"seeItNow",paddingX:1,children:(0,k.jsx)(l.ZP,{color:H.isAuth&&H.isPartner||V()?"gray":"red",dataTestId:H.isAuth&&H.isPartner||V()?"gray-button-link":"red-button-link",href:q,onClick:()=>{(0,o.vF)(M,w.NH.DISMISS,w.Xc.PIN_CREATE_SUCCESS_PINNER,123,207),g()},target:y?"blank":null,text:z._('See it now', 'pinCreateSuccess.seeItNow', 'Text for button that takes user to see their new Pin')})}),V()&&(0,k.jsx)(l.xu,{paddingX:1,children:(0,k.jsx)(l.zx,{color:"red",onClick:()=>{(0,o.vF)(M,w.NH.CLICK,w.Xc.PIN_CREATE_SUCCESS_PINNER,101,207),(0,d.Pw)({history:U,pinId:E}),g()},text:z._('Promote your Pin', 'Text for button to that takes users to promote a Pin', 'Text for button to that takes users to promote a Pin')})})]})})]})}),3!==j&&(0,k.jsx)(N.Z,{url:P?.link})]})}function z(e){let t=(0,v.Z)(),i=(0,x.Z)(),n=(0,S.lJ)(t,i),{pinId:r}=e,s=(0,g.F)().checkExperiment("web_pin_create_success_suspense_resource").anyEnabled,l=(0,y.Z)(s?{name:"PinResource",options:{id:r,field_set_key:"detailed",orbac_subject_id:n}}:null);return s?(0,k.jsx)(u.Z,{name:"PinCreateSuccess",children:(0,k.jsx)(a.Suspense,{fallback:(0,k.jsx)(P.Z,{}),children:(0,k.jsx)(F,{...e,fetchedResourceExpEnabled:s,pinSuccessDataRef:l})})}):(0,k.jsx)(F,{...e,fetchedResourceExpEnabled:s,pinSuccessDataRef:l})}},952522:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),r=i(883119),a=i(785893);function s({color:e="red",duration:t,finalProgress:i,shape:s="pill"}){let[l,o]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=setTimeout(()=>{o(!0)},0);return()=>{clearTimeout(e)}},[]);let d="pill"===s;return(0,a.jsx)(r.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${l?"-5px":"-100%"})`:`scaleX(${+!!l})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:d?8:6,rounding:d?"pill":2,width:`${i}%`})}},136061:(e,t,i)=>{"use strict";i.d(t,{Hv:()=>o,aX:()=>u,nK:()=>p});var n=i(667294),r=i(616550),a=i(498490),s=i(785893);let{Provider:l,useHook:o}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){let i={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(i.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:i,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:i};default:return e}}function u(){let{current:e,previous:t}=o();return(0,n.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,r.k6)(),i=(0,r.TH)(),a=(0,r.$B)(),o={forward:[],current:{action:t.action,location:i,match:a},previous:[]},[d,u]=(0,n.useReducer)(c,o),p=(0,n.useRef)(i);if(p.current!==i){let{action:e}=t;u({type:e,location:i,match:a}),p.current=i}return(0,s.jsx)(l,{value:d,children:e})}},360307:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});let n=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let i=this._uidToData[e];i||(i=new n(e,t),this._uidToData[e]=i,this._numItems+=1),this._moveToFront(i),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let a=r},616218:(e,t,i)=>{"use strict";i.d(t,{Z:()=>P});var n=i(883119),r=i(477058),a=i(793874),s=i(144326),l=i(240760),o=i(635258),d=i(488792),c=i(154785),u=i(785893);function p({href:e,viewType:t,viewParameter:i,dataTestId:r,trackItem:a,element:s=8012,children:l}){let o=(0,c.Z)(),p=(0,d.Z)();return(0,u.jsx)(n.rU,{dataTestId:r,display:"inline",href:e,onClick:()=>{a&&o({action:"click",item:a}),t&&p({view_type:t,view_parameter:i,element:s,event_type:102})},target:"blank",children:l})}let h=(e,t)=>`${t?"CONVERSION":"SIGNUP"}_${e?"BUSINESS":"PERSONAL"}`,_="SIGNUP_PERSONAL",m="CONVERSION_PERSONAL",g="SIGNUP_BUSINESS",f="CONVERSION_BUSINESS",y=(e,t,i)=>i[h(e,t)];function b({isBusiness:e,textColor:t,alignText:i,viewType:r,viewParameter:a,isConversion:d=!1}){let c=(0,s.ZP)(),h=y(e,d,{[_]:c._('By continuing, you agree to Pinterest\'s <a id="1">Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. <a id="3">Notice at collection</a>.', 'termOfService.text.default', 'Agreement to legal texts for new users'),[g]:c._('By continuing, you agree to Pinterest\'s <a id="1">Business Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. <a id="3">Notice at collection</a>.', 'termOfService.business.text.default', 'Agreement to legal texts for new users'),[m]:c._('By converting, you agree to Pinterest\'s <a id="1">Business Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. <a id="3">Notice at collection</a>.', 'termOfService.conversion.text.default', 'Agreement to legal texts for new users'),[f]:c._('By converting, you agree to Pinterest\'s <a id="1">Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. <a id="3">Notice at collection</a>.', 'termOfService.business.conversion.text.default', 'Agreement to legal texts for new users')});return(0,u.jsx)(n.xv,{align:"left"===i?"start":"center",color:t,inline:!0,overflow:"normal",size:"100",children:(0,l.XB)({text:h,jsxReplacements:{1:({innerHtmlStrings:t})=>(0,u.jsx)(p,{dataTestId:e?"business-tos":"tos",href:e?o.V$B:o.U5h,trackItem:"business-tos",viewParameter:a,viewType:r,children:t},e?"business-tos":"tos"),2:({innerHtmlStrings:e})=>(0,u.jsx)(p,{dataTestId:"privacy",href:o.R_9,trackItem:"privacy-policy",viewParameter:a,viewType:r,children:e},"privacy"),3:({innerHtmlStrings:e})=>(0,u.jsx)(p,{dataTestId:"noticeAtCollection",href:o.cvl,trackItem:"notice-at-collection",children:e},"noticeAtCollection")}})},"tos-defaultTerms")}function v({isBusiness:e,textColor:t,alignText:i,viewType:r,viewParameter:a,isConversion:d=!1}){let c=(0,s.ZP)(),h=y(e,d,{[_]:c._('By continuing, you agree to Pinterest\'s <a id="1">Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. If you\'re a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id="3">delete your account</a>.', 'termOfService.text.floridaCompliance', 'Agreement to legal texts for new users '),[g]:c._('By continuing, you agree to Pinterest\'s <a id="1">Business Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. If you\'re a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id="3">delete your account</a>.', 'termOfService.business.text.floridaCompliance', 'Agreement to legal texts for new users '),[m]:c._('By converting, you agree to Pinterest\'s <a id="1">Business Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. If you\'re a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id="3">delete your account</a>.', 'termOfService.conversion.text.floridaCompliance', 'Agreement to legal texts for new users '),[f]:c._('By converting, you agree to Pinterest\'s <a id="1">Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. If you\'re a Florida user under 18 years old, you also opt in to the processing of your personal information. To opt out, you can <a id="3">delete your account</a>.', 'termOfService.business.conversion.text.floridaCompliance', 'Agreement to legal texts for new users ')});return(0,u.jsx)(n.xv,{align:"left"===i?"start":"center",color:t,inline:!0,overflow:"normal",size:"100",children:(0,l.XB)({text:h,jsxReplacements:{1:({innerHtmlStrings:t})=>(0,u.jsx)(p,{dataTestId:e?"business-tos":"tos",href:e?o.V$B:o.U5h,trackItem:"business-tos",viewParameter:a,viewType:r,children:t},e?"business-tos":"tos"),2:({innerHtmlStrings:e})=>(0,u.jsx)(p,{dataTestId:"privacy",element:8004,href:o.R_9,trackItem:"privacy-policy",viewParameter:a,viewType:r,children:e},"privacy"),3:({innerHtmlStrings:e})=>(0,u.jsx)(p,{dataTestId:"deleteYourAccount",href:o.QA0,children:e},"deleteYourAccount")}})})}function x({isBusiness:e,textColor:t,alignText:i,viewType:r,viewParameter:a,isConversion:d=!1}){let c=(0,s.ZP)(),h=y(e,d,{[_]:c._('By continuing, you agree to Pinterest\'s <a id="1">Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. Your data helps us provide you <a id="3">personalized ads</a>, which allows us to offer our services. <a id="4">Notice at Collection.</a>', 'termOfService.text.italyCompliance', 'Agreement to legal texts for new users '),[g]:c._('By continuing, you agree to Pinterest\'s <a id="1">Business Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. Your data helps us provide you <a id="3">personalized ads</a>, which allows us to offer our services. <a id="4">Notice at Collection.</a>', 'termOfService.business.text.italyCompliance', 'Agreement to legal texts for new users '),[m]:c._('By converting, you agree to Pinterest\'s <a id="1">Business Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. Your data helps us provide you <a id="3">personalized ads</a>, which allows us to offer our services. <a id="4">Notice at Collection.</a>', 'termOfService.conversion.text.italyCompliance', 'Agreement to legal texts for new users '),[f]:c._('By converting, you agree to Pinterest\'s <a id="1">Terms of Service</a> and acknowledge you\'ve read our <a id="2">Privacy Policy</a>. Your data helps us provide you <a id="3">personalized ads</a>, which allows us to offer our services. <a id="4">Notice at Collection.</a>', 'termOfService.business.conversion.text.italyCompliance', 'Agreement to legal texts for new users ')});return(0,u.jsx)(n.xv,{align:"left"===i?"start":"center",color:t,inline:!0,overflow:"normal",size:"100",children:(0,l.XB)({text:h,jsxReplacements:{1:({innerHtmlStrings:t})=>(0,u.jsx)(p,{dataTestId:e?"business-tos":"tos",href:e?o.V$B:o.U5h,trackItem:"business-tos",viewParameter:a,viewType:r,children:t},e?"business-tos":"tos"),2:({innerHtmlStrings:e})=>(0,u.jsx)(p,{dataTestId:"privacy",element:8004,href:o.R_9,trackItem:"privacy-policy",viewParameter:a,viewType:r,children:e},"privacy"),3:({innerHtmlStrings:e})=>(0,u.jsx)(p,{dataTestId:"personalizedAds",element:8004,href:o.R_9,trackItem:"personalized-ads",children:e},"personalizedAds"),4:({innerHtmlStrings:e})=>(0,u.jsx)(p,{dataTestId:"noticeAtCollection",href:o.cvl,trackItem:"notice-at-collection",children:e},"noticeAtCollection")}})})}var S=i(846077),w=i(343931);function P({isMobileHomepage:e,isBusiness:t=!1,alignText:i="center",isSignupStep:s=!1,isConversion:l=!1}){let{isRequirementEnabled:o,state:d}=(0,S.yp)(),{viewType:c,viewParameter:p}=(0,r.SU)(),h=(0,a.vs)(),_=e?"default":"subtle";!h&&e&&(_="inverse");let m=s||l,g=m&&o(0),f=m&&o(2);return m&&d===S.AA.LOADING?(0,u.jsx)(w.Z,{}):(0,u.jsx)(n.xu,{alignItems:"left"===i?"start":"center",alignSelf:"center","data-test-id":t?"business-terms-of-service":"terms-of-service",direction:"row",display:"flex",justifyContent:"center",paddingX:5,wrap:!0,children:(0,u.jsx)(g?v:f?x:b,{alignText:i,isBusiness:t,isConversion:l,textColor:_,viewParameter:p,viewType:c})})}},499068:(e,t,i)=>{"use strict";i.d(t,{Pw:()=>n,SB:()=>r,ZP:()=>s,x9:()=>a});let n=80,r=56,a=e=>"phone"===e?r:n;function s(e,t){return t?0:a(e)}},976823:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(431705),r=i(415787);function a(e,t,i,a,s){let l=new URLSearchParams,o=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);l.append(n.NR.SOURCE_EVENT_ID,e??"0"),l.append(n.NR.DESTINATION,JSON.stringify([...o])),l.append(n.NR.EXPIRY,i?n.uV:n.ug),l.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),s&&l.append(n.NR.ADVERTISER_ID,s),a&&l.append(n.NR.CAMPAIGN_ID,a),l.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&l.append(n.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+l.toString()}},570686:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(635258),r=i(503237);function a(e,t){let i="";if(e&&(i=e,t)){let a=(0,r.Z)(e,!0),s="/advertiser/",{hostname:l}=a;(null===l||l===n.KUo)&&(e.startsWith(n.auO)&&(e=e.replace(n.auO,"")),i=e.startsWith(s)?e:s+t+e)}return i}},989274:(e,t,i)=>{"use strict";i.d(t,{C:()=>r,N:()=>n});let n=1050,r=880},325764:(e,t,i)=>{"use strict";i.d(t,{O:()=>r,r:()=>n});let n="ref",r="os"},118755:(e,t,i)=>{"use strict";i.d(t,{G6:()=>a,i7:()=>s,oi:()=>n,u$:()=>r,un:()=>o,vU:()=>l,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function a(e){return r(e)===n.SAFARI}function s(e){return r(e)===n.CHROME}function l(e){return r(e)===n.FIREFOX}function o(e){return r(e)===n.EDGE}function d(e){return r(e)===n.IE}},196074:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(449112),r=i(1006),a=i(228867);let s=(e,t)=>{t?.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,n.Z)(e)}},800492:(e,t,i)=>{"use strict";i.d(t,{Fl:()=>o,Pw:()=>p,QG:()=>m,dl:()=>l,k3:()=>h,su:()=>_,tW:()=>d});var n=i(89393),r=i(876597),a=i(868808);let s=["AT","AU","BE","BR","CA","CH","CY","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","LU","MT","MX","NL","NO","NZ","PT","RO","SE","SK","US"],l=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US","AR","CO","CL","JP"],o=e=>s.includes(e.toUpperCase()),d=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),c=e=>e?`/advertiser/quick_promote?pinId=${e}`:"/advertiser/quick_promote",u=(e,t)=>{let i=(0,a.ru)("/business/convert",{next:t});e.push(i)},p=({history:e,pinId:t})=>{u(e,c(t))},h=e=>{let t=e.trim().split(" ").filter(e=>!!e);return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},_=e=>e.isAuth&&!e.isPartner&&!(0,r.Z)(null,e)&&!(0,n.Z)(e.createdAt),m=(e,t)=>!(e.includes("SHOPIFY")||t.includes("Shopify")||e.includes("WOO_COMMERCE")||t.includes("WooCommerce"))},644845:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(e,t)=>{let i=new Date;return new Date(1e3*e)<=new Date(i.getFullYear()-(t||18),i.getMonth(),i.getDate())}},705492:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>Math.floor(new Date(e).getTime()/1e3)},617332:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r,z:()=>a});var n=i(128805);function r(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],i=e&&-1!==e.indexOf(".")?e.split("."):[];if(i.length>=2&&"gmail"===i[0]&&"com"!==i.slice(1).join("."))return!0;let r=(0,n.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===r||2===r))return!0}return!1}function a(e,t){let i=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==i.length)return!1;let r=i[1],a=r&&-1!==r.indexOf(".")?r.split("."):[],s=a[0];if(s===t&&a.length>3)return!0;if(a.length>=2){let e=(0,n.Z)(s,t);return s.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==a.length||s!==t||2!==a[1].length&&"com"!==a[1])&&(a.length,!1)}},986782:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),r=i(79292),a=i(415787);function s(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),s(this,"state",{error:null,info:null}),s(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,i=this.props.type||"secondary";(0,r.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),(0,a.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,a.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:i}=this.state;return t&&i?e?e({error:t,info:i,resetError:this.resetError}):null:this.props.children}}},634757:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(785893);let r=({size:e=56})=>(0,n.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,n.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,n.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,n.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,n.jsx)("path",{d:"M20 20h472v472H20V20z"})]})},39260:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(297728),r=i(730212),a=i(855746);function s(e){let{isAuthenticated:t}=(0,r.B)(),{expName:i,anyEnabled:s,group:l}=function({experimentsClient:e,handlerId:t,isAuthenticated:i,skipActivation:n}){let{checkExperiment:r}=e,a=r(i?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:n});return a.group?{expName:i?"web_masonry_v2_auth":"web_masonry_v2_unauth",...a}:"www/[username]/[slug].js"!==t||i?"www/pin/[id].js"!==t||i?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...r("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:n})}:{expName:"web_masonry_v2_unauth_board",...r("web_masonry_v2_unauth_board",{dangerouslySkipActivation:n})}}({experimentsClient:(0,n.F)(),handlerId:(0,a.MM)(),isAuthenticated:t,skipActivation:e?.skipActivation??!1});return{expName:i,anyEnabled:s,group:l,isMeasureAllEnabled:"enabled_measure_all"===l||"enabled_measure_all_impression_fix"===l,isImpressionFixEnabled:"control_impression_fix"===l||"enabled_impression_fix"===l||"enabled_measure_all_impression_fix"===l}}},591692:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(400416),r=i(1006),a=i(609326),s=i(864723),l=i(592305);async function o(e){let t=(0,l.ZP)(),i=t?t.map(({pageType:e,...t})=>t):null,o={is_register:e??!1};if(i&&(o.unauth_visited_pages=JSON.stringify(i)),i){let e=await (0,n.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:o});(0,r.My)(`landing_signals.flush.${e.status}`),(0,s.M0)().removeItem(a.pm),(0,s.M0)().removeItem(a.ny),(0,s.M0)().removeItem(a.Vb),(0,s.M0)().removeItem(a.Mi)}}},654556:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(333733),r=i(727976),a=i(785893);function s({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:l,...o}){return(0,a.jsx)(r.Z,{appUpsellFooterConfig:t,hideOnScroll:o.hideOnScroll,navFooterConfig:l?.scrollConfig,children:r=>(0,a.jsx)(n.Z,{...o,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:l},hideOnScrollState:r,type:"footer"})})}},128805:(e,t,i)=>{"use strict";function n(e,t){let i,n;if(0===e.length)return t.length;if(0===t.length)return e.length;let r=[];for(i=0;i<=t.length;i+=1)r[i]=[i];for(n=0;n<=e.length;n+=1)r[0][n]=n;for(i=1;i<=t.length;i+=1)for(n=1;n<=e.length;n+=1)t.charAt(i-1)===e.charAt(n-1)?r[i][n]=r[i-1][n-1]:r[i][n]=Math.min(r[i-1][n-1]+1,Math.min(r[i][n-1]+1,r[i-1][n]+1));return r[t.length][e.length]}i.d(t,{Z:()=>n})},264147:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(191855),r=i(914896),a=i(937304);function s(e,t){let i=Math.round(1e3*Math.random())+"",s=Math.round(1e3*Math.random())+"";r.t8((0,n.GS)(i),s);let l={token:`${i}-${s}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,a.Z)(l)}`}},526789:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(400416),r=i(786974),a=i(604759);let s=async({clientTrackingParams:e,href:t,pinId:i,spamCheckCallback:s})=>{let l=await function(e){let t=(0,r.Z)(e),i=a.y8.get("ApiResource",t);if(i)return i;let s=(0,n.Z)(e);return a.y8.add("ApiResource",t,s),s}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!l.resource_response.error){let{message:e,redirect_status:t,url:i}=l.resource_response.data||{};s({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:i})}}},353096:(e,t,i)=>{"use strict";function n({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}i.d(t,{Z:()=>n})},937637:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(449112),r=i(564573);let a=e=>"string"!=typeof e&&e?e.state:null;var s=i(723184),l=i(809604),o=i(592174);let d=({event:e,onHistoryChange:t,href:i,history:d,target:c})=>{let u=(0,r.Z)(i),p=a(i)??{},h=(0,s.Z)(u);h===o.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===c?(0,n.Z)(u,"blank"===c):d&&h===o.Z.SAME_ORIGIN&&(d.push((0,l.Z)({url:u}),{from:d.location,...p}),t&&t({event:e}))}},256277:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(449112),r=i(264147);function a(e,t){(0,n.Z)((0,r.Z)(e,t),!0,t?.features)}},125265:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(225669);function r({location:e,pinId:t,surface:i}){return!!i&&!n.ZF.includes(i)||e.pathname.includes(t)}},343583:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(667294),r=i(616550),a=i(526789),s=i(353096),l=i(937637),o=i(125265),d=i(853559),c=i(564573),u=i(648089),p=i(638966),h=i(415787);function _(e){let{clientTrackingParams:t,externalData:i,href:_,onHistoryChange:m,target:g}=e,[f,y]=(0,n.useState)(null),b=(0,r.k6)(),v=(0,r.TH)(),x=(0,c.Z)(_),S=(0,u.Z)({url:x}),{showWarning:w}=(0,p.s)()??{},{pin:P,surface:I}=i||{},A=t||P?.trackingParams,E=(0,d.Z)();return(0,n.useEffect)(()=>{S&&P&&null===f&&(!P.promoter||P.isDownstreamPromotion)&&(0,o.Z)({location:v,pinId:P.entityId,surface:I})&&(0,a.Z)({clientTrackingParams:A,pinId:P.entityId,spamCheckCallback:e=>y(e),href:x})},[A,P,I,x,S,v,f]),({event:e})=>{if(!(0,s.Z)({isOffsiteUrl:S,event:e})){if(e.preventDefault(),!_||"string"==typeof _&&_.startsWith("#")){(0,h.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:v.pathname,href:_}});return}S||i?.dangerouslyForceOffsiteUrl?E({auxData:i?.auxData,clientTrackingParams:A,pin:i?.pin&&{attributionSourceId:i.pin.attributionSourceId,campaignId:i.pin.campaignId,isPromoted:i.pin.isPromoted,pinPromotionId:i.pin.pinPromotionId,isThirdPartyAd:i.pin.isThirdPartyAd,advertiserId:i.pin.advertiserId,destinationUrl:i.pin.destinationUrl,link:i.pin.link,domain:i.pin.domain},pinId:i?.pin?.entityId,queryParams:i?.queryParams,showWarning:w,spamCheck:f,url:x}):(0,l.Z)({event:e,href:_,history:b,onHistoryChange:m,target:"blank"===g?"blank":null})}}}},853559:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(548466),r=i(431705),a=i(976823),s=i(118755),l=i(449112),o=i(573706),d=i(264147),c=i(256277),u=i(590238);let p=(e,t,i)=>{let n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(r.$N.ATTRIBUTION_SOURCE_ID,e),n.setAttribute(r.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(r.$N.ATTRIBUTE_ON,i),n.click()},h=(e,t,i,n,s,l,o)=>{let d=(0,a.Z)(e,[i,n,s],!0,l,o),c=document.createElement("a");c.setAttribute("href",t),c.setAttribute("target","_blank"),c.setAttribute("rel","noopener nofollow noreferrer"),c.style.cursor="pointer",c.style.display="block",c.setAttribute(r.NR.SOURCE,d),c.click()},_=()=>{let{logContextEvent:e}=(0,o.v)();return({attributionSourceId:t,auxData:i,campaignId:r,clientTrackingParams:a,href:l,isPromoted:o,pinId:c,pinPromotionId:u,isThirdPartyAd:_,advertiserId:m,destinationUrl:g,link:f,domain:y})=>{if(!o)return!1;let b=(0,n.Z)(),v={params:{pinId:c,csrId:null,clientTrackingParams:a,auxData:i,isThirdPartyAd:_}},x=(0,d.Z)(l,v);b?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&o&&l===g&&(fetch((0,d.Z)(g,v),{redirect:"manual"}),x=g);let S=b?.userAgent.browserName??"";if((0,s.G6)(S)){let i=b?.userAgent.browserVersion?b.userAgent.browserVersion:"0.0",n=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&n>=14.1)return p(t,x,l),e({event_type:101,clientTrackingParams:a,object_id_str:c||"",aux_data:{pin_id:c||"",click_measurement_ppid:u||"",click_measurement_campaign_id:r||"",is_pcm:!0,attribution_source_id:t,page_url:l}}),!0}else if((0,s.i7)(S)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return h(t,x,g,f,y,r,m),e({event_type:101,clientTrackingParams:a,object_id_str:c||"",aux_data:{pin_id:c||"",click_measurement_ppid:u||"",click_measurement_campaign_id:r||"",is_arapi:!0,attribution_source_id:t,page_url:l}}),!0;return!1}},m=e=>{let t=_();return({auxData:i,clientTrackingParams:r,pin:a,pinId:s,queryParams:o,showWarning:p,spamCheck:h,url:_})=>{if("undefined"!=typeof window&&window.Windows){(0,u.Z)(_,{clientTrackingParams:r,pinId:s,hasPin:!!a,auxData:i,isThirdPartyAd:a?.isThirdPartyAd});return}if(!a&&!e?.isFromClickthroughLink){(0,c.Z)(_,o?{queryParams:o}:{params:{pinId:s}});return}if(h?.blocked){p?.(h);return}if(a&&t({attributionSourceId:a.attributionSourceId,auxData:i,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:r,href:_,isPromoted:a.isPromoted,pinId:s,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain}))return;let m={params:{clientTrackingParams:r,auxData:i,pinId:s,isThirdPartyAd:a?.isThirdPartyAd}},g=(0,n.Z)();if(g?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&a?.isPromoted&&_===a?.destinationUrl){fetch((0,d.Z)(_,m),{redirect:"manual"}),(0,l.Z)(_,!0);return}(0,c.Z)(_,m)}}},680369:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(415787);function r(e,t){return new Promise((i,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)i();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)i();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else i()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>i()),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}})}},731972:(e,t,i)=>{"use strict";function n(e){let t=!1;return{promise:new Promise((i,n)=>{e.then(e=>t?n({isCanceled:!0}):i(e),e=>t?n({isCanceled:!0}):n(e))}),cancel(){t=!0}}}i.d(t,{Z:()=>n})},983272:(e,t,i)=>{"use strict";function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s});let r=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},a=e=>{if(e.isHidden){let{reason:t}=e;r.windowInFocus=!1,r.onPauseListeners.forEach(e=>e(t))}else r.windowInFocus=!0,r.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>a({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>a({isHidden:!1})),window.addEventListener("blur",()=>a({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>a({isHidden:!1})),window.addEventListener("pagehide",()=>a({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let s=r},28171:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.Component{constructor(e){super(e),r(this,"onImageLoad",e=>{this.mounted&&("number"==typeof e.width&&"number"==typeof e.height&&e.width>119&&e.height>119?this.setState(t=>({loadedItems:[...t.loadedItems,e]})):this.setState(e=>({errors:e.errors+1})))}),r(this,"onImageError",()=>{this.mounted&&this.setState(e=>({errors:e.errors+1}))}),r(this,"mounted",!1),r(this,"loadImages",e=>{let t=new Image;t.onload=()=>this.onImageLoad({height:t.naturalHeight,url:e,width:t.naturalWidth}),t.onerror=()=>this.onImageError(),t.src=e}),this.state={errors:0,loadedItems:[]}}componentDidMount(){this.mounted=!0;let{url:e}=this.props;this.loadImages(e||"")}componentWillUnmount(){this.mounted=!1}render(){let{children:e}=this.props,{loadedItems:t}=this.state;return e({image:t})}}},707874:(e,t,i)=>{"use strict";i.d(t,{$4:()=>j,AQ:()=>G,ASPECT_RATIO_FORMAT_MAP:()=>F,Bj:()=>y,DB:()=>W,FM:()=>Q,G9:()=>B,GX:()=>g,Hy:()=>ed,JO:()=>R,Ke:()=>T,LM:()=>r,Lc:()=>eu,Lr:()=>eo,MN:()=>v,Mn:()=>J,N8:()=>f,NB:()=>et,P0:()=>ei,P9:()=>es,Pn:()=>x,S:()=>O,TK:()=>w,TZ:()=>E,UU:()=>u,Uw:()=>q,W_:()=>el,XB:()=>o,Xy:()=>k,YM:()=>P,aD:()=>ep,aj:()=>M,bA:()=>N,bo:()=>d,cH:()=>eg,dS:()=>A,eZ:()=>_,fk:()=>er,g1:()=>ec,gU:()=>c,i2:()=>p,iR:()=>L,jh:()=>eh,km:()=>h,lx:()=>Z,mr:()=>$,mt:()=>K,n_:()=>z,np:()=>H,of:()=>n,q:()=>em,qY:()=>I,qm:()=>ea,rc:()=>X,ro:()=>e_,sD:()=>s,sG:()=>m,u1:()=>V,uR:()=>l,v5:()=>a,v9:()=>Y,vk:()=>ee,wj:()=>S,x1:()=>D,yC:()=>b,yI:()=>C,yb:()=>U,zr:()=>en});let n=880,r=340,a=380,s=510,l=40,o=20,d=4,c=474,u=134,p=96,h=800,_=186,m=40,g=10,f=48,y=88,b=183,v=130,x=24,S=400,w=50,P=8,I=8,A=5,E=29,k=5,C=20,j=400,T=100,R=800,O=800,Z=500,N=40,B=100,L=5,D=["attempted","publishing","succeeded","uploading"],F={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},z=["tl","tc","tr","bl","bc","br"],M=["left","center"],U=["top","center","bottom"],H=["none","uppercase"],K=["sm","md","lg"],G=[1,.75],W=198,$=132,Y=1,V=56,q=240,X="cubic-bezier(0.66, 0.025, 0.33, 0.975)",Q=1e3,J=1500,ee=2,et=3,ei=20,en=20,er=2,ea=["processing","publishing","saving"],es=300.5,el=1,eo=0xc800000,ed=2500,ec=3,eu="pin-builder-default-education-id",ep="pin-builder-default-tour-id",eh="pin-builder-editing-tour-id",e_="save_from_url",em=["processing","edited","creating","saving","saved"],eg=2048},994964:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(868808);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let a={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:({user:e})=>!!e?.video_upload_allowed,authOnly:!0,hasCustomEnabledCheck:()=>!0},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinAltText:{authOnly:!0,experiment:"web_idea_pin_creation_alt_text",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}},s=new class{constructor(){r(this,"_experiments",null),r(this,"_viewer",null),r(this,"_advertiser",null),r(this,"_scenario",null),r(this,"_language",null),r(this,"_context",null),r(this,"_orbacActingAs",null)}initialize(e){let{requestContext:t,viewer:i,location:r,advertiser:a,scenario:s,orbacActingAs:l}=e;this._context=e,this._experiments=t.experimentsClient,this._language=t.language,this._viewer=i,this._advertiser=a,this._orbacActingAs=l;let{adCreate:o}=(0,n.mB)(r.search);s?this._scenario=s:o?this._scenario="ad_creation":this._scenario="default"}scenario(){return this._scenario}enabled(e){if(!this._viewer||!this._experiments)return!1;let{advertisers:t,authOnly:i,customEnabledCheck:n,experiment:r,groups:s=/.*/,hasCustomEnabledCheck:l,languages:o,orbacDisabled:d,partnerOnly:c,scenarios:u,skipActivation:p}=a[e];return(!this._orbacActingAs?.id||this._orbacActingAs.id===this._viewer.id||!d)&&(l&&n&&this._context&&l(this._context)?!!this._context&&n(this._context):p&&this._experiments?!!r&&this.checkExperimentWithSkipActivation(e):!!t&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!c||!!this._viewer.isPartner)&&(!u||!!u.includes(this._scenario))&&(!o||!!o.includes(this._language))&&(!r||s.test(this.getExperimentGroup(e)||"")))}getExperimentGroup(e){if(!this._viewer||!this._experiments)return null;let{checkExperiment:t}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return t("disable_pin_creation").group??null;case"imageSignals":return t("pin_quality_signal_image").group??null;case"tagging":return t("web_pin_builder_tagging").group??null;case"videoEditing":return t("video_edit").group??null;case"ideaPinProductTagging":return t("web_idea_pin_product_tagging").group??null;case"ideaPinAltText":return t("web_idea_pin_creation_alt_text").group??null;case"pinItemBase64":return t("aid_exp_pin_builder_item_base64").group??null;default:return null}}checkExperimentWithSkipActivation(e){if(!this._viewer||!this._experiments)return!1;let{checkExperiment:t}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return t("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"imageSignals":return t("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"tagging":return t("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"videoEditing":return t("video_edit",{dangerouslySkipActivation:!0}).anyEnabled??!1;default:return!1}}}},332839:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(707874);function r(e,t=n.LM,i=0){return(t-2*i)/e.width*e.height+2*i}},260134:(e,t,i)=>{"use strict";i.d(t,{M:()=>h,Z:()=>m});var n=i(667294),r=i(498490),a=i(391731),s=i(897425),l=i(297728),o=i(730212),d=i(1006),c=i(410150),u=i(785893);let{Provider:p,useMaybeHook:h}=(0,r.Z)("GoogleSignInApi"),_=()=>{let e=(0,c.HG)(),{checkExperiment:t}=(0,l.F)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled};function m({children:e}){let t=_(),i=(0,c.HG)(),r=(0,n.useRef)(null),l=(0,n.useRef)(new Set),h=(0,n.useRef)(new Set),m=(0,n.useRef)(null),{language:g}=(0,o.B)(),f=i?"dweb":"mweb",y=(0,n.useRef)(!1),b=(0,n.useCallback)(()=>{if(y.current)return;y.current=!0;let e=!1,t=()=>{let t=(0,a.Fm)();t&&(e||(e=!0,(0,s.Z)({type:"loadScript",status:"success"}),(0,s.Z)({type:"apiClient",valid:!!t}),m.current=t,(0,a.OY)({autoSelect:!0},e=>{if((0,s.Z)({type:"response",valid:!!e}),e)if((0,d.My)(`${f}.google_sign_in.select_by.${e.select_by}`),"SIGN_IN_WITH_GOOGLE_BUTTON"===(0,a.PL)(e.select_by)){let t=Array.from(l.current),i=t[t.length-1],n=r.current;i?i(e):n&&n(e)}else r.current?.(e)}),h.current.forEach(e=>{e()}),h.current.clear()))};window.onGoogleLibraryLoad=()=>t(),(0,s.Z)({type:"loadScript",status:"start"}),(0,a.Px)(void 0,g).then(()=>{t()}).catch(()=>{})},[g,f]);(0,n.useEffect)(()=>{t?(l.current.clear(),h.current.clear()):b()},[t,b]);let v=(0,n.useRef)({ensureInit:(e,t)=>(b(),"button"===e?l.current.add(t):r.current=t,new Promise(e=>{m.current?e(void 0):h.current.add(e)})),removeButtonCallback:e=>{l.current.delete(e)}});return(0,u.jsx)(p,{value:v.current,children:e})}},765963:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9}},894789:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let n=e=>(e||"").replace(/-/g,"+").replace(/_/g,"/"),r=e=>JSON.parse(decodeURIComponent(atob(n(e.split(".")[1])).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},369081:(e,t,i)=>{"use strict";i.d(t,{GH:()=>o,JF:()=>f,Jb:()=>h,MI:()=>m,_V:()=>d,fi:()=>y,sl:()=>u,we:()=>p});var n=i(705492),r=i(400416),a=i(680369),s=i(685667),l=i(1006);let o="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,l.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,l.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:o,status:!0,xfbml:!0,version:"v2.7"})):e?(0,l.dy)({event:"global_object_not_found",provider:"facebook"}):(0,l.My)("pcons.non_autologin.fb.global_object_not_found")},p=(e,t)=>(t&&(0,l.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,s.Z)(e),"FACEBOOK").then(()=>u(t))),h=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),_=({userID:e,accessToken:t,data:{birthday:i,email:r,first_name:a,gender:s,last_name:l,picture:o}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:i?(0,n.Z)(i):void 0,email:r,first_name:a,gender:s,image_url:o&&!o.data.is_silhouette?o.data.url:void 0,last_name:l});async function m(e){let t=(await (0,r.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}})).resource_response.data||{};return(0,l.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let g=(e,t)=>new Promise((i,n)=>{if("connected"!==e.status){n({status:e.status||"unknown"});return}let{userID:r,accessToken:a}=e.authResponse;m(a).then(e=>{i({creds:{facebook_id:r,facebook_token:a,facebook_autologin:t?.autologin||!1},signupOptions:_({userID:r,accessToken:a,data:e})})},n)}),f=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>g(e)),y=async(e,t)=>{await p(e,!1);let i=await h(),n=t?"dweb":"mweb";if("connected"===i.status){(0,l.My)(`${n}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=i.authResponse;try{let i=await (0,r.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(i?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:r}=i.resource_response.data,a=e||t;return(0,l.My)(`${n}.login_data_from_fb_token.success`),{isGoogleConnected:a,hasPassword:r,isFBAuthOnly:!a&&!r}}(0,l.My)(`${n}.login_data_from_fb_token.no_data`)}catch{(0,l.My)(`${n}.login_data_from_fb_token.error`)}}return null}},685667:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let n=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},r=e=>`//connect.facebook.net/${n(e)}/sdk.js`},391731:(e,t,i)=>{"use strict";i.d(t,{Fm:()=>s,OY:()=>o,PL:()=>c,Px:()=>l,mK:()=>u,ru:()=>d});var n=i(680369),r=i(635258),a=i(1006);let s=()=>window?.google?.accounts?.id,l=(e,t)=>(0,n.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),e?.unsafe?null:"GSI"),o=({autoSelect:e},t)=>{let i={auto_select:e??!1,button_auto_select:!0,client_id:r.v3o,callback:t,cancel_on_tap_outside:!1,context:"use",itp_support:!0,use_fedcm_for_prompt:!0,use_fedcm_for_button:!0};s()?.initialize(i)},d=({buttonRef:e,isDesktop:t,isVisualRefreshEnabled:i,locale:n,logo_alignment:r,onClick:l,onTouch:o})=>{let d=s();if(d&&e.current){let t=e.current.offsetWidth;d.renderButton(e.current,{locale:n,size:"large",shape:i?"rectangular":"pill",text:"continue_with",theme:"outline",width:t+"px",logo_alignment:r,click_listener:()=>{l&&l(),o&&o(),(0,a.EX)({event:"start",provider:"google"})}})}else(0,a.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},c=e=>"auto"===e||"fedcm_auto"===e?"AUTO_LOGIN":e.startsWith("btn")||e.startsWith("fedcm_button")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},76367:(e,t,i)=>{"use strict";i.d(t,{Ny:()=>u,ZP:()=>h,eD:()=>m,lp:()=>_,nY:()=>g});var n=i(609326),r=i(196074),a=i(719174),s=i(864723),l=i(635258),o=i(1006),d=i(720398),c=i(976534);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6,LOGIN_GOOGLE:7});class p{static defaultLoginRedirectUrl(){return window.location.pathname===l.lfe||window.location.pathname===l.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=s.ZP.getItem(n.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=s.ZP.getItem(n.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let i=(new Date().getTime()/1e3).toString();t.push(i);let r=t.join("|");s.ZP.setItem(n.kl,r)}static isFullyLoggedIn(e,t){return e&&t===a.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,c.Z)();if(t){let i=t.next;i&&(e=i,delete t.next),e=(0,d.Z)(e||"/",t)}}(0,r.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){(0,s.M0)().setItem(n.F6,Date.now()),!t&&e&&"/"!==e?p.handleRedirect(e):p.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let i=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(i).then(()=>{(0,o.My)("navigatorCredentials.store.success")})}catch(e){(0,o.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,i){(0,o.My)("multi_step_login"),p.storeLoginCredentialsToBrowser(e),i?i(e,t):(0,o.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let h=p;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},271615:(e,t,i)=>{"use strict";i.d(t,{M3:()=>c,PE:()=>l,Q:()=>u,lv:()=>o,r8:()=>s,rl:()=>a,yW:()=>d});var n=i(609326),r=i(864723);let a=()=>(0,r.M0)().getItem(n.uo)??Object.freeze({}),s=e=>(0,r.M0)().setItem(n.uo,e),l=()=>null!==(0,r.M0)().getItem(n.uo),o=()=>Object.keys(a()).length,d=()=>(0,r.M0)().getItem(n.R1),c=e=>(0,r.M0)().setItem(n.R1,e),u=()=>({multipleAccountMap:a(),multipleAccountGroupId:d()})},844543:(e,t,i)=>{"use strict";i.d(t,{E_:()=>d,Eh:()=>a,du:()=>o,yV:()=>s});var n=i(734325),r=i(116897);let a=(e,t)=>{if("DEPRECATED_CHECK_EXISTS"===t)return"facebook_id"in e&&"facebook"||"google_open_id_token"in e&&"google"||"line_id_token"in e&&"line"||"sso_id_token"in e&&"sso"||"email";if("DEPRECATED_CHECK_TRUTHY"===t)if(e.facebook_id)return"facebook";else if(e.google_open_id_token)return"google";else if(e.line_id_token)return"line";else if(e.sso_id_token)return"sso";else return"email";return e.type},s=e=>{let t=a(e,"DEPRECATED_CHECK_TRUTHY");return"google"===t?"google_one_tap":t},l=(e="")=>e in n.i5,o=e=>r.rT.includes(e)||r.ZR.has(e)||l(e),d={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk",SSO:"sso"}},897425:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(272158),r=i(1006);let a=e=>(0,r.dy)({event:e,provider:"google"}),s=e=>(0,n.RP)("google_autologin",e),l=e=>(0,n.M3)("google_autologin",e),o=e=>{switch(e.type){case"loadScript":"start"===e.status?(a("start"),a("load_script_start"),l("autoLoginGoogleStart")):"success"===e.status?a("load_script_success"):a("load_script_failure");break;case"apiClient":e.valid?(a("initialize_library"),l("autoLoginGoogleInitEnd")):(s("noAccountFound"),a("global_object_not_found"));break;case"response":e.valid?(a("receive_credential_response_from_provider"),(0,r.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(s("noResponse"),(0,r.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(a("pinterest_login_start"),(0,r.NC)("press_google_one_tap_other"),(0,n.M3)("google_autologin","autoLoginGoogleEnd"),(0,n.PA)("google_autologin")):("success"===e.status?a("pinterest_login_success"):a("pinterest_login_failure"),a("end"));break;case"manualLoginAttempt":(0,r.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,n.PA)("google_autologin")}}},484777:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294),r=i(297728);let a=()=>{let e=(0,r.F)();return(0,n.useCallback)(()=>{e.flush()},[e])}},770975:(e,t,i)=>{"use strict";i.d(t,{E:()=>r,S:()=>n});let{Provider:n,useMaybeHook:r}=(0,i(498490).Z)("pwtSurfaceContext")},736298:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(886132);let r=()=>!!window.performance?.timing;var a=i(671481);function s(e){return("desktop"!==e||!!r())&&!!a.Z&&(0,n.v)()}},301567:(e,t,i)=>{"use strict";i.d(t,{F9:()=>p,LM:()=>d,VZ:()=>a,cQ:()=>h,rZ:()=>s});var n=i(10306),r=i(248750);let a=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,s=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,l=({top:e,height:t},{foldY:i,pageYOffset:n})=>{let r=e+n;if(r>=i)return!1;let a=Math.min(t,i-r);return a>.5*t||a>.2*i},o=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},d=()=>document.querySelector?document.querySelectorAll(n.wc).length:((0,r.H)("missing_document_query_selector"),0),c=()=>{if(!document.querySelector)return(0,r.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(n.wc);return e[e.length-1]||null},u=(e,t)=>{let i=s(e);if(!i)return(0,r.H)("missing_client_rect"),!1;if(i.width<70&&i.height<70){if(e instanceof HTMLImageElement)return!1;let t=o(e);if(t?.endsWith("svg"))return!1}return l(i,t)},p=()=>{let e=c();if(!e)return!1;let t=window.innerHeight||0,i=window.pageYOffset||0;return e.getBoundingClientRect().top+i>=t},h=(e,t,i)=>{if(!document.querySelector)return(0,r.H)("missing_document_query_selector"),[];let a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},s=[n.Wf,...e?[n.fF]:[],...t?[n.$N]:[]].join(","),l=[...document.querySelectorAll(s)];if(i){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let i=[...e.children];!i.length&&e.style.backgroundImage?l.push(e):i.length&&i.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return l.reduce((e,i)=>{if((i instanceof HTMLImageElement||i instanceof HTMLDivElement||i instanceof HTMLVideoElement&&t)&&u(i,a)){let t=o(i);if(t){let n=(t||"").replace(/.*\//,"");return e.concat([{element:i,fileName:n}])}}return e},[])}},10306:(e,t,i)=>{"use strict";i.d(t,{$N:()=>o,Kb:()=>n,Wf:()=>s,fF:()=>l,wc:()=>a});let n="pwt-grid-item",r=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${n}"]`],a=r.join(","),s=r.map(e=>`${e} img`).join(","),l=r.map(e=>`${e} div[style*=background-image]`).join(","),o=r.map(e=>`${e} video`).join(",")},886132:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x,v:()=>g});var n=i(667294),r=i(297728),a=i(630118),s=i(845729),l=i(301567),o=i(248750),d=i(353168),c=i(770975),u=i(202953),p=i(636506),h=i(438973),_=i(415787);let m=(0,s.XV)("GridProfiler"),g=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,l.VZ)(),f=e=>"LAYOUT"===e.status&&500||"TIMING"===e.status&&100||null,y=(e,t)=>{if(!t){let t=(0,l.LM)();if(t===e)return m("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,l.F9)())return m("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},b=(e,t)=>{let i=0,n=0,r=0,a=0,s=0;return e=e.filter(e=>"pin"===e.type),t.forEach((t,l)=>{let o,d=t.fileName.split(".")[0];o=e[l],d!==o?.image_signature&&(o=e.find(e=>d===e?.image_signature)),void 0===o?s+=1:o.is_promoted||o.recommendation_reason?.reason==="PROMOTED_PIN"||o?.promoter?.length?r+=1:null!==o.story_pin_data_id&&void 0!==o.story_pin_data_id?i+=1:o?.videos?.video_list?n+=1:a+=1}),{storyPinCount:i,videoCount:n,adCount:r,imageCount:a,unknownCount:s}},v=(e,t)=>{let i=()=>{window.removeEventListener(e,i),t()};return window.addEventListener(e,i),()=>window.removeEventListener(e,i)};function x({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:i,includeVideos:g=!1,includeSections:x,isPlaceholderGrid:S,stopwatchSetVisuallyCompleteResult:w,stopwatchContext:P,isAuth:I}){let A=(0,c.E)(),E=A?.getId()||(0,p.P9)(),k=A?.setVisuallyCompleteResult,C=({imageTimings:e})=>{w&&w(),k&&k({imageTimings:e}),(0,p.cB)(e)},[j,T]=(0,n.useState)({status:"DISABLED"}),R=(0,r.F)();(0,n.useEffect)(()=>{T({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[E]),(0,n.useEffect)(()=>{if(m("new status",j),"LAYOUT"===j.status){let e=v("scroll",()=>{(0,d.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[j.status]),(0,h.Z)(()=>{let n="unknown",r="unknown",d=()=>{},c=e=>{A?A.abort(e):P?.abort()};if(A){let{getMetricId:e}=A,t=e();r=t.surface,n=(0,a.KJ)(t),d=A.addBinaryAnnotation}else r="stopwatch",n=`${r}_${P?.name}`,P?.addBinaryAnnotation&&(d=P?.addBinaryAnnotation);let h=(0,l.cQ)(i,g,x);if(S&&!h.length){m("bypassing PWT run due to skeleton pin grid");return}switch(j.status){case"LAYOUT":{let t=y(j.numOfItemsChecked,e);t.complete?T({status:"TIMING",failedCount:0,pinElements:h}):500*j.failedCount>6e4?((0,o.A9)(`images.${n}.visuallyComplete.maxLayoutAttempt`),c("visuallyComplete_layoutTimeout"),(0,p.JG)("visuallyComplete_layoutTimeout"),T({status:"DISABLED"})):T({...j,failedCount:j.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,u.Cg)(),i=j.pinElements.length,a=[],l=0,h=0,g=0,f=1/0,y=0;if(j.pinElements.forEach(({element:t,fileName:i})=>{let n=e.find(e=>e.name.endsWith(i));n?n.responseEnd?(a.push(n),(0,s.v5)(t,"green"),"search"===r&&(f=Math.min(f,n.requestStart),y=Math.max(y,n.responseEnd))):(g+=1,(0,s.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(h+=1,(0,s.v5)(t,"red")):(l+=1,(0,s.v5)(t,"greenyellow"))}),l||g)100*j.failedCount>6e4?((0,o.A9)(`images.${n}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:i,incompleteCount:l,noTimingCount:h,noTimingResponseEndCount:g}}),c("visuallyComplete_timingTimeout"),(0,p.JG)("visuallyComplete_timingTimeout"),T({status:"DISABLED"})):T({...j,failedCount:j.failedCount+1});else{if(m(`All ${a.length} images are fetched`),t&&t.length){let e=b(t,j.pinElements);if(Object.entries(e).forEach(([e,t])=>{d(e,t,"I16"),(0,p.XJ)(e,t,"I16")}),(0,o.A9)(`${n}.pinTypes`,{tags:e}),"search"===r){let e=y-f;t[0].display_options?.num_columns_requested===0?(0,_.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,_.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}if(I&&"search"===r){let{group:e}=R.checkExperiment("dweb_grid_loading_state");e&&(0,_.S0)("webapp.gridVisuallyComplete.loadingState",i,{sampleRate:1,tags:{group:e}})}C({imageTimings:a}),T({status:"DISABLED"}),(0,o.A9)(`images.${n}.visuallyComplete.complete`,{tags:{totalImageCount:i,noTimingCount:h}})}}}},f(j))}},272158:(e,t,i)=>{"use strict";i.d(t,{M3:()=>g,PA:()=>f,RP:()=>m,gq:()=>h});var n=i(736298),r=i(248750),a=i(353168),s=i(294726),l=i(920301),o=i(537567),d=i(147921),c=i(671481);let u=({name:e,pwtStaticContext:t})=>{if(!c.Z||!(0,n.Z)())return null;let i={type:"stopwatch",name:e},r=[],a=!0;return{abort:e=>{if(!a)return;a=!1;let n={type:"ABORT",reason:e,traceId:(0,d.Z)(),startTime:0,endTime:c.Z?.now()||0,spans:[],annotationMap:(0,o.Z)(r),binaryAnnotationMap:(0,s.ng)({metricId:i,pwtStaticContext:t,type:"ABORT"})};(0,l.Z)({metricId:i,pwtStaticContext:t,result:n})},annotate:e=>{a&&r.push({label:e,timestamp:c.Z.now()})},stop:()=>{if(!a)return;a=!1;let e={type:"COMPLETE",traceId:(0,d.Z)(),startTime:0,endTime:c.Z.now(),spans:[],annotationMap:(0,o.Z)(r),binaryAnnotationMap:(0,s.ng)({metricId:i,pwtStaticContext:t,type:"COMPLETE"})};(0,l.Z)({metricId:i,pwtStaticContext:t,result:e})}}},p={},h=(e,t)=>{t.forEach(t=>{p[t]=u({name:t,pwtStaticContext:e})})},_=e=>p[e],m=(e,t)=>{let i=_(e);if(i)try{i.abort(t)}catch(t){(0,r.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},g=(e,t)=>{let i=_(e);i&&(i.annotate(t),(0,a.ZP)(`stopwatch_${e}_${t}`))},f=e=>{let t=_(e);if(t)try{t.stop()}catch(t){(0,r.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},537567:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>{let t={};e.forEach(({label:e,timestamp:i})=>{t={...t,[e]:(t[e]||[]).concat([i])}});let i=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,n)=>{let r=n?`${e}_${n+1}`:e;i={...i,[r]:t}})}),i}},834047:(e,t,i)=>{"use strict";function n(e,t){let i;if(e.error){let{httpStatus:n,api_error_code:r,redirectUrl:a}=e.error;(404===n||401===n&&7===r)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===n&&a&&(i={pathname:a})}return i}i.d(t,{Z:()=>n})},957486:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),r=i(545007),a=i(809833),s=i(604759);function l(e){let{name:t,optionsKey:i}=e,l=t===a.fY,o=(0,s.bC)(),d=o?.get(t,i);if(d)throw d;let c=e=>e[t]?.[i],u=(0,r.v9)(({resources:e})=>c(e)?.nextBookmark),p=(0,r.v9)(({resources:e})=>c(e)?.data),h=(0,r.v9)(({resources:e})=>c(e)?.auxData),_=(0,r.v9)(({resources:e})=>c(e)?.error),m=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(l)return m.current;let g={auxData:h,data:p,error:_,isAtEnd:u===a.qx,nextBookmark:u};return(g.auxData!==m.current.auxData||g.data!==m.current.data||g.error!==m.current.error||g.isAtEnd!==m.current.isAtEnd||g.nextBookmark!==m.current.nextBookmark)&&(m.current=g),m.current}},931397:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(809833),r=i(174044);function a(e){let{enabledRouteRefresh:t,headers:i,name:a,noCache:s,options:l,schema:o}=e??{name:n.fY,options:null},d=!e,{fetchResource:c,ref:u}=(0,r.Z)({enabledRouteRefresh:t,headers:i,name:a,noCache:s,options:l,schema:o},d,!1);return d||c(),u}},615529:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(616550),r=i(282999),a=i(834047),s=i(961754),l=i(383399);function o(e){let t=(0,n.k6)(),i=(0,n.TH)(),{isAuth:o}=(0,l.Z)(),d=!o&&(0,r.L6)(i),c=(0,s.Z)(e),u=(0,a.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},89934:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294),r=i(961414);function a({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:i,resourceName:a,resourceOptions:s,value:l}){let o=(0,r.Z)({allowSearchOnMount:e,resourceName:a,resourceOptions:s,value:l});return(0,n.useEffect)(()=>{o?.length&&i(o)},[o]),t||null}},382396:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=2},961414:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),r=i(360307),a=i(465848);function s({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:i={},value:s}){let l=(0,n.useRef)(!1),o=(0,n.useRef)({}),[d,c]=(0,n.useState)([]),u=function({resourceName:e,resourceOptions:t}){let i=(0,a.vL)(),s=(0,n.useRef)();return s.current||(s.current=function({resourceCreator:e,resourceName:t,resourceOptions:i}){let n=e(t,{...i,count:"count"in i?i.count:5}),a=new r.Z,s=()=>{n.abort()},l=async(e,t)=>{if(n.isCalling()){let i=n.options?.term,r=n.options?.pin_scope;if(e===i&&t===r)return;s()}let{bookmarks:i,...r}=n.options||{};n.options={...r,term:e,pin_scope:t};let{data:l}=(await n.callGet({showError:!1})).resource_response,o=l?.items,d=l?.hint||{};return a.set(`${t}-${e}`,{hint:d,items:o}),{term:e,items:o,hint:d}};return async function(e,t){let i=a.get(`${t}-${e}`);if(i){let{items:t}=i;if(t&&t.length){s();let{hint:n}=i;return{hint:n,items:t,term:e}}}return e.length>=0?l(e,t):{hint:{},items:[],term:e}}}({resourceCreator:i,resourceName:e,resourceOptions:t})),s.current}({resourceName:t,resourceOptions:i}),p=i.pin_scope||"pins",h=`${p}-${s}`;return(0,n.useEffect)(()=>{(async()=>{if(null!=s&&""!==s&&(e||l.current))if(h in o.current)c(o.current[h]);else try{let e=await u(s,p);if(e){let{items:t}=e;o.current[h]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}l.current||(l.current=!0)})()},[s,p,h]),d}},663641:(e,t,i)=>{"use strict";i.d(t,{Hd:()=>d,_R:()=>l,gi:()=>a,lw:()=>n,oD:()=>r,wF:()=>o,zh:()=>s});let n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},r=e=>Object.values(n).find(t=>t===e)??void 0,a=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},s=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},l=e=>{switch(e){case n.PINS_MINE:case n.MY_CONTENT:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.SHOP_TOOL:return 3380;case n.BOARDS:return 44;case n.USERS:return 45;case n.PINS:default:return 43}},o=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:case n.MY_CONTENT:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},d=(e,t)=>{if(t)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},711820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(868808),r=i(503237);function a(e){if(!e)return"";let{directory:t,queryKey:i}=(0,r.Z)((0,n.Gw)(e,["request_params"]));return t+"?"+Object.keys(i).sort().map(e=>`${e}=${i[e]}`).join("&")}},545230:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search",SUGGESTION_SEARCH:"suggestion_search"}},277844:(e,t,i)=>{"use strict";i.d(t,{Ht:()=>s,Tb:()=>a});var n=i(711820),r=i(545230);function a({appliedProductFilters:e,appliedUnifiedFilters:t,autoCorrectionDisabled:i,filters:n,journeyDepth:r,query:a,rs:s,scope:l,selectedOneBarModules:o,selectedPinImgSig:d,sourceId:c,sourceModuleId:u,topPinIds:p,user:h}){let _=[e,n,r,a,s,l,o,d,c,u,t,p,h].map(e=>e??"").join(":");return i?"auto-correction-disabled:"+_:_}function s(e){let{appliedProductFilters:t,appliedUnifiedFilters:i,autoCorrectionDisabled:a,bubbleId:s,domains:l,filters:o,guidedSearchQuery:d,journeyDepth:c,pageSize:u,priceMax:p,priceMin:h,query:_,requestParams:m,rs:g,scope:f,selectedOneBarModules:y,selectedPinImgSig:b,seoDrawerEnabled:v,sourceId:x,sourceModuleId:S,sourceUrl:w,topPinId:P,topPinIds:I,user:A}=e;return{name:"BaseSearchResource",options:function({appliedUnifiedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:i=!1,bubbleId:a=null,domains:s=null,filters:l=null,journeyDepth:o=null,pageSize:d=null,priceMax:c=null,priceMin:u=null,query:p="",requestParams:h=null,rs:_=r.i.DIRECT_NAVIGATION,scope:m="pins",selectedOneBarModules:g=null,selectedPinImgSig:f=null,seoDrawerEnabled:y=!1,sourceId:b=null,sourceModuleId:v=null,sourceUrl:x=null,topPinId:S=null,topPinIds:w=null,user:P}){return{applied_unified_filters:e,appliedProductFilters:t,article:a,auto_correction_disabled:i,corpus:f?"personalize":null,customized_rerank_type:f?"manas_graph_sage_only_wand_rewrite":null,domains:s,filters:l,journey_depth:o,page_size:d,price_max:c,price_min:u,query_pin_sigs:f,query:p,redux_normalize_feed:!0,request_params:h,rs:_,scope:m,selected_one_bar_modules:g,seoDrawerEnabled:y,source_id:b,source_module_id:v,source_url:(0,n.Z)(x),top_pin_id:S,top_pin_ids:w,user:P}}({appliedProductFilters:t,appliedUnifiedFilters:i,autoCorrectionDisabled:!!a,bubbleId:s,domains:l,filters:o,guidedSearchQuery:d,journeyDepth:c,pageSize:u,priceMax:p,priceMin:h,query:_,requestParams:m,rs:g,scope:f,selectedOneBarModules:y,selectedPinImgSig:b,seoDrawerEnabled:v,sourceId:x,sourceModuleId:S,sourceUrl:w,topPinId:P,topPinIds:I,user:A})}}},728593:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(830997),r=i(873095);let a=()=>{let e=(0,n.g)(),t=(0,r.l)();return i=>{let{mobileOptions:n,desktopOptions:r,reason:a,attributionLabel:s,pinId:l}=i;e?e.showDesktopSignupModal({signupFlow:r?.modalType==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:s,...r?.modalOptions}):t&&t.showMobileSignupModal({reason:a,attributionLabel:s,headingType:n?.headingType??"none",pinId:l})}}},626964:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(410150),r=i(855746);function a(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,n.ZP)(),site:(0,r.uo)()})}},786525:(e,t,i)=>{"use strict";i.d(t,{L_:()=>r,Nh:()=>a,qn:()=>n});let n=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(e){return console.error("Cannot access localStorage."),t}},r=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(e){console.error("Cannot access localStorage.")}},a=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(e){console.error("Cannot access localStorage.")}}},978993:(e,t,i)=>{"use strict";i.d(t,{N:()=>r,q:()=>n});let n=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(e){return window.console.error("Cannot access sessionStorage."),t}},r=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(e){window.console.error("Cannot access sessionStorage.")}}},360410:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});let n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>n.test(e)},861972:(e,t,i)=>{"use strict";function n(e,t){let i=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,t)=>"_"+t.toLowerCase())}i.d(t,{Z:()=>n})},888775:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(868808);function r(){let e=(0,n.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let t=document.referrer;if(!t)return"direct";if(t.includes("/t.co/"))return"twitter";if(t.includes("cdn.ampproject.org"))return"amp";if(t.includes("google."))return"google";if(t.includes("bing."))return"bing";else if(t.includes("facebook."))return"facebook";else return"other"}},711120:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),r=i(888775),a=i(1006);function s(){return(0,n.useCallback)(e=>{e.action&&e.event?(0,a.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,r.Z)()}):(0,a.My)("pinner_conversion.missing_tags")},[])}},896612:(e,t,i)=>{"use strict";i.d(t,{A:()=>m,Z:()=>_});var n=i(667294),r=i(545007),a=i(609326),s=i(488792),l=i(477058),o=i(830997),d=i(297728),c=i(873095),u=i(864723),p=i(280625),h=i(410150);function _(){let{trackConversionUpsellForContext:e}=(0,o.g)()||{},{trackConversionUpsellForContext:t}=(0,c.l)()||{},{viewType:i,viewParameter:n}=(0,l.SU)();return{trackConversionUpsell:({eventType:r,viewType:a,viewParameter:s,element:l,component:o,upsellReason:d,incrementUpsellReasonCounter:c})=>{let u=e||t;u&&u({eventType:r,viewType:a||i||202,viewParameter:s||n,element:l,component:o,upsellReason:d,incrementUpsellReasonCounter:c})}}}function m(){let e=(0,s.Z)(),t=(0,u.M0)(),i=(0,r.I0)(),l=(0,r.v9)(e=>e?.upsell?.upsellReason),{checkExperiment:o}=(0,d.F)(),c=(0,h.HG)(),_=(0,n.useRef)(null),m=()=>t.getItem(a.w0)&&Number.isInteger(t.getItem(a.w0))?t.getItem(a.w0):0,g=()=>{t.setItem(a.w0,m()+1)};return{trackConversionUpsellForContext:({eventType:t,viewType:n,viewParameter:r,element:s,component:d,upsellReason:h,incrementUpsellReasonCounter:f})=>{let y=(0,u.M0)(),b=c&&o("dweb_upsell_manager_redux").anyEnabled;14688===t&&(y.setItem(a.bg,h||""),h&&b&&i((0,p.vY)(h)),_.current=d,!1!==f&&g());let v=y.getItem(a.bg)||null;!v&&b&&(v=h||l),e({event_type:t,view_type:n,view_parameter:r,element:s,component:_.current,aux_data:{upsell_reason:v,upsell_view_count:m()}})}}}},838857:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(570686),r=i(635258);function a({advertiser:e,isAdsSite:t,isAnalyticsSite:i,isTrendsSite:a,baseUrl:s,adsUrl:l,isQuickPromote:o,isShoppingCatalogs:d}){if(t&&!e&&!o)return"/";let c=s;return(t||i||a)&&!d?(l||(l=s),e?(c=(0,n.Z)(l,e.id),t||(c=r.auO+c)):c=t?l:r.auO+c):d?c=r.auO+(0,n.Z)(s,e?e.id:""):l||(c=r.auO+s),c}},564573:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},308551:(e,t,i)=>{"use strict";function n(e,t){if(!t)return e;let i=new RegExp(/http(s?):/);if(!i.test(e)){let n=i.exec(t);n&&n.length&&(e=n[0]+e)}return e}i.d(t,{Z:()=>n})},846077:(e,t,i)=>{"use strict";i.d(t,{AA:()=>u,iE:()=>g,yp:()=>m});var n=i(667294),r=i(573706),a=i(498490),s=i(194093),l=i(400416),o=i(730212),d=i(415787),c=i(785893);let u={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"},p={0:"US_FL_SIGNUP_CONSENT",1:"KR_SIGNUP_CONSENT",2:"IT_SIGNUP_CONSENT"},h=e=>p[e],{Provider:_,useHook:m}=(0,a.Z)("ComplianceManager"),g=({children:e})=>{let t=(0,n.useRef)(!1),{isBot:i}=(0,o.B)(),{logContextEvent:a}=(0,r.v)(),[p,m]=(0,n.useState)({state:u.LOADING}),g=(0,n.useCallback)(async()=>{try{if(i){m({state:u.ERROR});return}let e=performance.now(),t=await (0,l.Z)({url:"/v3/compliance_requirements/",callOptions:{timeout:3e3}});if(t.resource_response.data){let{requirements:i}=t.resource_response.data,n=i.map(e=>h(e)),r=performance.now();a({view_type:9,event_type:16679,aux_data:{time_in_ms:r-e,compliance_requirements:n.toString()}}),m({state:u.LOADED,requirements:i})}}catch(t){let e=(0,s.Z)(t,"message_detail")||(0,s.Z)(t,"message")||"";"timeout"===(0,s.Z)(t,"type")?a({event_type:16681}):a({event_type:16680,aux_data:{status_code:(0,s.Z)(t,"httpStatus")||"-1",api_error_code:(0,s.Z)(t,"api_error_code")||"-1"}}),(0,d.nP)("complianceManager.fetchConfiguration.failure",{sampleRate:1,tags:{errorMessage:e,httpStatus:(0,s.Z)(t,"httpStatus")||"",apiErrorCode:(0,s.Z)(t,"api_error_code")||"",errorCode:(0,s.Z)(t,"code")||"",type:(0,s.Z)(t,"type")}}),m({state:u.ERROR})}},[i,a]),f=(0,n.useCallback)(e=>{a({event_type:16682,aux_data:{feature_key:h(e)}})},[a]),y=(0,n.useCallback)(e=>{switch(p.state===u.LOADING&&!t.current&&(t.current=!0,g()),p.state){case u.LOADED:return p.requirements.includes(e);case u.LOADING:case u.ERROR:default:return f(e),!1}},[p,g,f]),b=(0,n.useMemo)(()=>({state:p.state,isRequirementEnabled:y}),[p.state,y]);return(0,c.jsx)(_,{value:b,children:e})}},191851:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(667294);let r=null,a=!1,s=0,l=()=>{r&&clearTimeout(r),a=!0,r=setTimeout(()=>{a=!1},100)},o=()=>{0===s&&window.addEventListener("scroll",l),s+=1},d=()=>{(s-=1)||window.removeEventListener("scroll",l)},c=()=>{let[e,t]=(0,n.useState)(!1),i=(0,n.useRef)(null);(0,n.useEffect)(()=>(o(),()=>{i.current&&clearTimeout(i.current),d()}),[]);let r=e=>{i.current&&clearTimeout(i.current),i.current=e&&a?setTimeout(()=>r(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1)}).current}}},453854:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,q:()=>a});var n=i(667294);let r=()=>{let[e,t]=(0,n.useState)(!1),[i,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1);return{active:e,focused:i,hovered:a,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}};function a({children:e}){return e(r())}let s=r},438973:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294);let r=(e,t)=>{let i=(0,n.useRef)(()=>{});(0,n.useEffect)(()=>{i.current=e},[e]),(0,n.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>i.current(),t);return()=>clearInterval(e)},[t])}},639686:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294),r=i(731972);function a(){let e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(i,n){if(n){let e=t.current[n];e&&(e(),delete t.current[n])}let{cancel:a,promise:s}=(0,r.Z)(i);return n?t.current[n]=a:e.current=[...e.current,a],s}}},644797:(e,t,i)=>{"use strict";i.d(t,{W:()=>c,r:()=>d});var n=i(667294),r=i(573706),a=i(498490),s=i(297728),l=i(785893);let{Provider:o,useHook:d}=(0,a.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:i}=(0,r.v)(),{checkExperiment:a}=(0,s.F)(),[d,c]=(0,n.useState)(!1),[u,p]=(0,n.useState)([]),[h,_]=(0,n.useState)([]),[m,g]=(0,n.useState)({}),f=a("web_ads_mrc_video_impression").anyEnabled,y=e=>{g(t=>({...t,[e]:!0}))},b=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||i)&&p(t=>[...t,e].slice(-1e3))}},[f]),v=(0,n.useCallback)(e=>{18===e.eventType&&f&&_(t=>[...t,e].slice(-1e3))},[f]),x=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},S=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!m[i]||!f||(t(x(e)),!1)});e.length!==u.length&&p(e)},[u,f,t,m]),(0,n.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&f){let t=S(e);return t&&i(t),!1}return!0});e.length!==h.length&&_(e)},[h,f,i,m]);let w=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:v,logMrcVideoAdEventOnPlay:b,setCaptionsEnabled:c,setVideoPlayed:y,videosPlayed:m}),[d,b,v,m]);return(0,l.jsx)(o,{value:w,children:e})}},590238:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(400416),r=i(256277);function a(e,t){let{auxData:i,clientTrackingParams:a,hasPin:s,pinId:l,isThirdPartyAd:o}=t||{},d={pin_id:l,check_only:!0,client_tracking_params:s?a:void 0,url:e,aux_data:JSON.stringify(i)};o&&(d.third_party_ad=l,delete d.pin_id),(0,n.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:i,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(i)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,r.Z)(e,{params:s?{pinId:l,clientTrackingParams:a,auxData:i,isThirdPartyAd:o}:{pinId:l}})})}},700506:(e,t,i)=>{"use strict";i.d(t,{uB:()=>_,re:()=>m,Xc:()=>y,NH:()=>f,Mz:()=>g,Mj:()=>k,LZ:()=>I,Lu:()=>P,es:()=>A,xV:()=>T,d5:()=>S,xQ:()=>x,O9:()=>b,bq:()=>R,HH:()=>O,Ti:()=>C,cG:()=>v,Hw:()=>E,HC:()=>j,$n:()=>Z});var n=i(548466),r=i(642032),a=i(983542);let s=({values:e,pin:t,productGroup:i,country:n})=>{let{name:s,destination_url:l,budget:o,duration:d,inclusive_end_date:c,is_ongoing:u,advertiser_id:p,ages:h,interests:_,genders:m,ad_type:g,selected_ocpm_tag:f,isAutoTargeting:y}=e,b=Math.round(o*a.Az),v=(0,r.Z)({ages:h,interests:_,genders:m,country:n}),x={};g===a.Hl.WEB_CONVERSION&&(x.objective_type=a.Hl.WEB_CONVERSION,x.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:f.conversionTagId,conversion_event:f.conversionEvent}});let S={budget_in_micro_currency:b,campaign_name:s&&s.length<64?s:`${(s||"").substr(0,62)}…`,destination_url:t?l:null,duration:parseInt(d,10),auto_targeting_enabled:y,is_ongoing:u,start_now:!0,targeting_spec:v,advertiser_id:p,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:i?i.id:null,...x,flexible_daily_budget_enabled:!1};return!u&&c&&c.trim().length>0&&(S.inclusive_end_date=c),S};var l=i(729263),o=i(194093),d=i(400416),c=i(635258),u=i(868808),p=i(838857),h=i(415787);let _=472,m=364,g={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},f={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},y={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},b=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}),v=e=>{let{isAnalyticsSite:t=!1,isSterlingSite:i=!1,isWwwSite:n=!1,loggingType:r}=e,a="";t?a=".analytics":n?a=".www":i&&(a=".ads"),(0,h.nP)(`sterling.quick_promote.page${a}.${r}`,{sampleRate:1})},x=e=>e?a.vX.indexOf(e):-1,S=e=>{if(null!=e&&!(e<0)&&!(e>a.vX.length-1))return a.vX[e]},w=e=>e===a.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===a.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},P=(e,t)=>{let{component:i,element:n}=w(S(e));t({event_type:101,component:i,element:n,aux_data:{page:"GestaltQuickPromote"}})},I=(e,t)=>{let i=S(e),{component:n}=w(i);i===a.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):i===a.Gl.SUCCESS_MODAL&&t({event_type:6358,component:n,aux_data:{page:"GestaltQuickPromote"}})},A=(e,t)=>{let i=[...new Set(e?.split("+"))];return t&&i.filter(e=>e in t)},E=(e,t)=>{if(!t||!e)return"";let i=`https://${c.KUo}`,n=`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`;return`${i}/advertiser/${e}/billing/${n}`},k=(e,t)=>{if(!e)return"";let{ad_group_id:i=""}=e,n=(0,l.default)("adgroup",t,{id:i,showAllEntities:!0});return(0,p.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:n,adsUrl:null,isQuickPromote:!0})},C=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),j=async e=>{let{pin:t,productGroup:i,country:n,onSaveSuccess:r,onSaveFailed:a,quickPromoteFormValues:l,advertiserId:c}=e;if(!t&&i)return;let u=`/ads/v4/advertisers/${c}/pins/${t?.id||""}/quick_promote/`;try{let{resource_response:e}=await (0,d.Z)({url:u,method:"POST",data:s({values:l,pin:t,productGroup:i,country:n})});e.data&&r(e.data)}catch(i){let e=(0,o.Z)(i,"httpStatus"),t=(0,o.Z)(i,"message_detail");a(t?{area:401===e?"pin":"modal",message:t}:{area:"modal"})}},T=e=>{let{hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:n,hasBusinessInfo:r,serverErrorArea:s,stepIndex:l,isQuickPromotePage:o=!1}=e,{hasValidBusinessInfo:d,hasValidBillingInfo:c}=C({hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:n,hasBusinessInfo:r}),u=[void 0,null].includes(l)?0:l+1;return S(l)===a.hf&&(s?u="modal"===s?x(a.Gl.ERROR_MODAL):l:d&&c?u=x(a.Gl.SUCCESS_MODAL):d?u=x(a.Gl.BILLING_FORM):o||(u=x(a.Gl.BUSINESS_FORM))),u>a.vX.length-1?void 0:u},R=e=>{let t=a.Pq.WIDE;return e<870?t=a.Pq.NARROW:e>=870&&e<=1275&&(t=a.Pq.MEDIUM),t},O=(e,t,i)=>{let{crossSite:r}=(0,u.mB)(e.search);if((0,n.Z)()?.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled&&t.length<=1){window.close();return}window?[...Array(i.find(e=>e&&e.location&&e.location.pathname.includes("pin-builder"))?3:1)].forEach(()=>r?window.history.back():t.goBack()):t.goBack()};function Z(e,t){let i=[...e],n=i.indexOf(t);return n>-1?i.splice(n,1):i.push(t),i}},755884:(e,t,i)=>{"use strict";i.d(t,{$v:()=>m,Yw:()=>b,eN:()=>g,gf:()=>s,i7:()=>_,in:()=>u,jz:()=>o,p_:()=>a,s5:()=>c,sk:()=>y,tz:()=>p,uE:()=>h,uM:()=>f,zY:()=>d});let n="iphone",r="android_mobile",a="ipad",s="android_tablet",l="web_mobile",o=["web",l,n,a,r,s],d=["android_mobile","android_tablet","iphone","ipad","web"],c=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","iphone"],p=["android_mobile","android_tablet","iphone","ipad"],h=[n,r],_=[n,r],m=[n,r,a,s],g=[n,r],f=[n,r,a,s],y=["web",a,l,n,r,s],b=["web",a,l,n,r,s]},356801:(e,t,i)=>{"use strict";i.d(t,{I9:()=>o,OY:()=>c,ZP:()=>l,tb:()=>d});var n=i(609326),r=i(617332),a=i(864723),s=i(26456);function l(e){return!(!e.match(s.CU)||(0,r.Z)(e)||(0,r.z)(e,"yahoo")||(0,r.z)(e,"hotmail"))}let o=()=>{a.ZP.setItem(n.Z4,!0)},d=()=>{a.ZP.setItem(n.Z4,!1)};function c(e){let t=e.isAuth&&e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected,i=e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected,n=e.isAuth&&e.hasPassword;return t&&!i&&!n}},225669:(e,t,i)=>{"use strict";i.d(t,{Wv:()=>r,ZF:()=>n,zI:()=>a,zl:()=>s});let n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ShoppingTool","ProductPinRetrieval"],s=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton"]},688596:(e,t,i)=>{"use strict";i.d(t,{Fx:()=>l,HY:()=>s,IR:()=>a,Uz:()=>o,qA:()=>d});var n=i(415787),r=i(757749);let a={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2},s={[r.b.HIDDEN]:"https://i.pinimg.com/originals/0d/fc/e7/0dfce74a82e89659495f1c9257fed188.png",[r.b.HOPE]:"https://i.pinimg.com/originals/46/d7/70/46d7705570b3c23562a70f39817b7b19.png",[r.b.LOVE]:"https://i.pinimg.com/originals/60/7e/d2/607ed2380d9fa28047f211dc6a7e8576.png"};function l(e){return null!=e&&!!e.notices&&e.notices.length>0}function o(e){return!!e&&e.severity===a.ABUSIVE}function d({auxData:e,isDesktop:t,logContextEvent:i}){i({aux_data:e,component:13367,element:11180,event_type:t?101:102,view_parameter:43,view_type:2}),(0,n.QX)("webapp.searchAdvisories.action",1,{sampleRate:1,tags:{advisory_level:e.advisory_level,advisory_type:e.advisory_type,app:t?"DESKTOP_WEB":"MOBILE_WEB",url:e.url,resource_country:e.resource_country}})}},723223:(e,t,i)=>{"use strict";i.d(t,{W:()=>B,Z:()=>L});var n,r,a,s,l,o=i(667294);i(167912);var d=i(573706),c=i(384609),u=i(730212),p=i(410150),h=i(969119),_=i(897976),m=i(883119),g=i(488792),f=i(648089),y=i(688596),b=i(785893);let v=void 0!==n?n:n=i(27218);function x({auxData:e,actionKey:t,alignCenter:i}){let n=(0,c.Z)(v,t),r=(0,g.Z)(),a=(0,p.HG)(),{title:s,description:l,button:d}=n,u=d?.text,h=s?.text,x=l?.text,S=d?.link??"",w=S.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),P=u&&S.startsWith("http"),I=(0,f.Z)({url:S}),A=P&&I?"nofollow":"none";return e?.advisory_type===_.Uv?(0,b.jsx)(o.Fragment,{children:(0,b.jsxs)(m.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!h&&(0,b.jsx)(m.xv,{align:"start",weight:"bold",children:h}),!!x&&(0,b.jsx)(m.xv,{align:"start",children:x}),(0,b.jsx)(m.ZP,{color:"white",href:S,onClick:()=>{(0,y.qA)({auxData:{...e,url:S},isDesktop:a,logContextEvent:r})},rel:A,text:u||"Visit"})]})}):P?(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(m.xu,{marginBottom:1,children:(0,b.jsx)(m.xv,{align:i?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,b.jsx)(m.xu,{marginBottom:1,children:(0,b.jsx)(m.rU,{href:S,onClick:()=>{(0,y.qA)({logContextEvent:r,auxData:{...e,url:S},isDesktop:a})},rel:A,children:(0,b.jsx)(m.xv,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:w})})})]}):(0,b.jsxs)(o.Fragment,{children:[!!h&&(0,b.jsx)(m.xu,{marginBottom:1,children:(0,b.jsx)(m.xv,{align:i?"center":"start",weight:"bold",children:h})}),!!x&&(0,b.jsx)(m.xu,{marginBottom:1,children:(0,b.jsx)(m.xv,{align:i?"center":"start",children:x})})]})}let S=void 0!==r?r:r=i(730172);function w({text:e,textTags:t,auxData:i}){let n=(0,g.Z)(),r=(0,p.HG)(),a=[],s=0;for(let l=0;l<t.length;l+=1){let o=t[l];if(5===o.tagType&&o.link){let{offset:t,length:l,link:d}=o;if(null!=t&&null!=l&&null!=d){let o=e.substring(t,t+l),c=(0,b.jsx)(m.xv,{inline:!0,weight:"bold",children:(0,b.jsx)(m.rU,{display:"inlineBlock",href:d,onClick:()=>{(0,y.qA)({logContextEvent:n,auxData:{...i,url:d},isDesktop:r})},target:"blank",underline:"hover",children:o},o)});a.push((0,b.jsx)("span",{children:e.substring(s,t)})),a.push(c),s=t+l}}}return(s>0&&a.push((0,b.jsx)("span",{children:e.substring(s)})),0===a.length)?[(0,b.jsx)("span",{children:e})]:a}function P({auxData:e,textTagKey:t,text:i}){let n=(0,c.Z)(S,t);return(0,b.jsx)(w,{auxData:e,text:i,textTags:n})}let I=[4,14],A={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},E={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},k=void 0!==a?a:a=i(599673);function C({auxData:e,advisory:t,inModal:i,noticeKey:n}){let{title:r,description:a,actions:s}=(0,c.Z)(k,n),l=!!s?.length&&(e?.advisory_type===_.Uv||!!t&&I.includes(t)),o=s?.length===1,d=a&&a.text||"";return(0,b.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:i?E:A},padding:6,rounding:2,children:[!!r&&!i&&(0,b.jsx)(m.xu,{display:"flex",marginBottom:2,children:(0,b.jsx)(m.X6,{size:"600",children:r})}),!!d&&a?.textTags!=null&&(0,b.jsx)(m.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,b.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,b.jsx)(m.xv,{align:i?"center":"start",overflow:"normal",children:(0,b.jsx)(P,{auxData:e,text:d,textTagKey:a.textTags})})})}),l&&(0,b.jsx)(m.xu,{direction:i?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:s?.map(t=>(0,b.jsx)(m.xu,{column:i||o?12:6,paddingX:2,paddingY:1,children:(0,b.jsx)(x,{actionKey:t,alignCenter:i||o,auxData:e})},t.actionId))})]})}let j=void 0!==s?s:s=i(799535);function T({auxData:e,noticeKey:t}){let i=(0,c.Z)(j,t),n=(0,g.Z)(),r=(0,p.HG)(),a={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,b.jsxs)(m.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,b.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,b.jsxs)(m.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,b.jsx)("span",{style:a,children:i.description?.textTags&&(0,b.jsx)(P,{text:i.description?.text||"",textTagKey:i.description.textTags})}),(0,b.jsx)(m.xu,{marginTop:6,children:(i.actions??[]).map(t=>{let i=t.button?.link;return i&&i.startsWith("tel")?(0,b.jsxs)(m.xu,{children:[(0,b.jsx)("span",{style:{fontWeight:"600",...a},children:t.title?.text}),(0,b.jsx)("span",{style:a,children:t.description?.text})]}):(0,b.jsx)(m.rU,{href:i||"",onClick:()=>{(0,y.qA)({logContextEvent:n,auxData:{...e,url:i||"",isLegoNotice:!0},isDesktop:r})},children:(0,b.jsx)(m.xu,{display:"inlineBlock",children:(0,b.jsx)(m.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,b.jsx)(m.xv,{color:"inverse",weight:"bold",children:t.button?.text||""})})})})})})]})}),!!i.footer&&(0,b.jsx)(m.xu,{paddingY:2,width:540,children:(0,b.jsx)(m.rU,{display:"inlineBlock",href:i.footer.link??"",onClick:()=>{(0,y.qA)({logContextEvent:n,auxData:{...e,url:i.footer?.link??"",isLegoNotice:!0},isDesktop:r})},target:"blank",underline:"hover",children:(0,b.jsx)(m.xv,{align:"center",color:"subtle",size:"100",children:(0,b.jsx)("div",{dangerouslySetInnerHTML:{__html:i.footer.text??""}})})},i.footer.link)})]})}var R=i(511507),O=i(415787);let Z=void 0!==l?l:l=i(583808);function N({advisoryDetails:e,boardId:t,boardSectionId:i,query:n,sensitivity:r,viewParameter:a,viewType:s}){let{logContextEvent:l}=(0,d.v)(),o=(0,p.HG)();(0,h.Z)(()=>{s&&(l({aux_data:{entered_query:n,advisory_details:e,advisory_level:r?.advisory,severity_level:r?.severity,advisory_type:r?.advisory_type,resource_country:r?.resource_country},component:13367,event_type:120,view_parameter:a,view_type:s}),(0,O.QX)("webapp.searchAdvisories.view",1,{sampleRate:1,tags:{advisory_level:r?.advisory,advisory_type:r?.advisory_type,app:o?"DESKTOP_WEB":"MOBILE_WEB",resource_country:r?.resource_country,placement:5===s?"board":"search"}})),t&&5===s&&l({aux_data:{board_id:t,board_section_id:i??0},component:178,event_type:15549,view_parameter:a,view_type:s})})}function B({boardId:e,boardSectionId:t,sensitivityKey:i,inModal:n,query:r,viewParameter:a,viewType:s,advisoryDetails:l}){let d=(0,c.Z)(Z,i),{data:p}=(0,R.Z)(),h=(0,u.B)(),{sensitivity:m}=p||{};N({advisoryDetails:l,boardId:e,boardSectionId:t,query:r,sensitivity:null!=m?m:void 0,viewParameter:a,viewType:s});let g=d?.notices,f={advisory_level:m?.advisory||null,severity_level:m?.severity||null,advisory_type:m?.advisory_type||"",stage:h.stage,resource_country:m?.resource_country||"",entered_query:r||""};return(0,b.jsx)(o.Fragment,{children:g?.map(e=>2===e.style&&f?.advisory_type!==_.Uv?(0,b.jsx)(T,{auxData:f,noticeKey:e}):(0,b.jsx)(C,{advisory:m?.advisory,auxData:f,inModal:n,noticeKey:e}))})}function L({boardId:e,boardSectionId:t,notices:i,query:n,sensitivity:r,viewParameter:a,viewType:s,inModal:l}){N({advisoryDetails:r?.advisory_details,boardId:e,boardSectionId:t,query:n,sensitivity:{advisory:r?.advisory,severity:r?.severity},viewParameter:a,viewType:s});let d=(0,u.B)(),c={advisory_level:r?.advisory||null,severity_level:r?.severity||null,advisory_type:r?.advisory_type||"",stage:d.stage,resource_country:r?.resource_country||"",entered_query:n||""};return(0,b.jsx)(o.Fragment,{children:i?.map(e=>2===e.style?(0,b.jsx)(T,{auxData:c,noticeKey:{type:"deprecated",data:e}},e.id):(0,b.jsx)(C,{advisory:r?.advisory,inModal:l,noticeKey:{type:"deprecated",data:e}},e.id))})}},897976:(e,t,i)=>{"use strict";i.d(t,{IR:()=>r,St:()=>n,Uv:()=>s,Uz:()=>a});let n={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function a(e){return!!e&&e.severity===r.ABUSIVE}let s="THIRD_PARTY_TL"},343931:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(883119),r=i(144326),a=i(785893);let s=({isInModal:e})=>{let t=(0,r.ZP)();return(0,a.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new n.Ry(1),children:(0,a.jsx)(n.xH,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},133003:(e,t,i)=>{"use strict";i.d(t,{H:()=>d,N:()=>o});var n=i(667294),r=i(498490),a=i(465848),s=i(785893);let{Provider:l,useHook:o}=(0,r.Z)("LastSavedTo");function d({children:e}){let[t,i]=(0,n.useState)();(0,a.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;i(t)}});let r=(0,n.useCallback)(e=>{let n=t?t.filter(t=>t.id!==e.id):[];i([e,...n])},[t]),o=(0,n.useMemo)(()=>({lastSavedTo:t,saveToBoard:r}),[t,r]);return(0,s.jsx)(l,{value:o,children:e})}},605810:(e,t,i)=>{"use strict";i.d(t,{H:()=>n,W:()=>r});let{Provider:n,useMaybeHook:r}=(0,i(498490).Z)("PinCreateDeleteContext")},845873:(e,t,i)=>{"use strict";i.d(t,{bn:()=>l,fJ:()=>d,gC:()=>o});var n=i(545007),r=i(498490),a=i(785893);let{Provider:s,useHook:l}=(0,r.Z)("Boards");function o(){let e=l();return t=>e[t]}function d({children:e}){let t=(0,n.v9)(({boards:e})=>e,n.wU);return(0,a.jsx)(s,{value:t,children:e})}},47407:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(667294),r=i(883119),a=i(144326),s=i(611735),l=i(785893);function o(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),o(this,"setInputRef",e=>{e&&(this._input=e)}),o(this,"handleKeyDown",e=>{let{event:t}=e,{disabled:i,indexManager:n}=this.props;if(!i)switch(t.which){case s.Z.ENTER:case s.Z.NUMPAD_ENTER:t.preventDefault(),n.select();break;case s.Z.UP:t.preventDefault(),n.prev();break;case s.Z.DOWN:t.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){let{onChange:e,value:t}=this.props;return(0,l.jsx)(r.xu,{"data-test-id":"picker-search-field-container",role:"presentation",width:"100%",children:(0,l.jsx)(r.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:t})})}}let c=function(e){let t=(0,a.ZP)();return(0,l.jsx)(d,{...e,i18n:t})}},151600:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(667294),r=i(883119),a=i(144326),s=i(591412),l=i(401227),o=i(47407),d=i(411886),c=i(564665),u=i(589681),p=i(785893);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends n.Component{constructor(...e){super(...e),h(this,"state",{searchQuery:""}),h(this,"handleSelectItem",e=>{let{onCreate:t,onSelected:i}=this.props;if(!e&&t){let{searchQuery:e}=this.state;t(e)}else e&&i(e);(t||e)&&this.setState({searchQuery:""})}),h(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),h(this,"renderSectionHeader",e=>e.title?(0,p.jsx)(r.xu,{children:(0,p.jsx)(r.xu,{paddingX:3,paddingY:1,children:(0,p.jsx)(r.xv,{size:"200",children:e.title})})}):null),h(this,"renderRow",({item:e,hovered:t,sectionProps:i={}})=>{let{boardSavedTo:n,isSelectMode:r,disabledRowId:a}=this.props,{searchQuery:s}=this.state,{inSectionSelection:l=!1}=i,o=n&&n.board===e.id?n&&n.state:null,c="board_section"===e.type;return(0,p.jsx)(d.Z,{disabled:e.id===a&&l,isSection:c,isSelectMode:r,isWithinSectionPicker:l,item:e,saveState:o,searchQuery:s,selected:t})})}render(){let{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:i,getSections:n,isLoaded:a,onCreate:d,pinId:h}=this.props;if(!a)return(0,p.jsx)(r.xu,{paddingY:5,children:(0,p.jsx)(r.xH,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});{let{searchQuery:a}=this.state,_=n(a);return this.indexManager=new s.Z(_.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),(0,p.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!i&&(0,p.jsx)(r.xu,{children:(0,p.jsx)(r.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,p.jsx)(o.Z,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:a})})}),(0,p.jsx)(l.Z,{disabled:!!e,grow:!i&&!a,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:_}),d&&(0,p.jsx)(r.xu,{borderStyle:_.length>1?"shadow":"none",children:(0,p.jsx)(u.Z,{buttonLabel:t,hasHoverState:!0,name:a,onClick:()=>d(a)})}),i&&d&&h&&(0,p.jsx)(c.Z,{onBoardSelected:d,pinId:h})]})}}}function m(e){let t=(0,a.ZP)();return(0,p.jsx)(_,{...e,i18n:t})}},909999:(e,t,i)=>{"use strict";i.d(t,{j:()=>s});let n={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},r=e=>{if(!e)return"";let t="";for(let i=0;i<e.length;i+=1)t+=n[e.charAt(i)]||e.charAt(i);return t},a=(e,t)=>{let i=t.split(" "),n=e.split(" "),a=0;for(let e=0;e<n.length;e+=1)(r(n[e]).includes(i[a])||n[e].includes(i[a]))&&(a+=1);return a===i.length},s=(e,t,i="name")=>{let n=t.toLowerCase();return e.filter(e=>a(e[i].toLowerCase(),n))}},994699:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294),r=i(235838);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let s=({scrollTop:e,clientHeight:t,scrollHeight:i},n)=>e+t+(n?n(t):2*t)>i;class l extends n.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",(0,r.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&s(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},638966:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g,s:()=>m});var n=i(667294),r=i(498490),a=i(608575),s=i(883119),l=i(758339),o=i(144326),d=i(240760),c=i(785893);let u=()=>{let e=(0,o.ZP)(),{dismissWarning:t}=m()??{};return(0,c.jsx)(s.xu,{paddingX:3,children:(0,c.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{let e=(0,o.ZP)();return(0,c.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(s.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},h=({message:e,sanitized_url:t})=>{let i=(0,o.ZP)(),{dismissWarning:n}=m()??{};return(0,c.jsx)(l.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,c.jsx)(u,{}),heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:n,children:(0,c.jsxs)(s.xu,{padding:6,children:[(0,c.jsx)(s.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(s.xu,{marginEnd:3,children:(0,c.jsx)(s.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(s.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})},{Provider:_,useMaybeHook:m}=(0,r.Z)("SpammyClickthrough");function g({children:e}){let[t,i]=(0,n.useState)(null),r=(0,n.useCallback)(()=>{i(null)},[i]),a=(0,n.useCallback)(e=>{i(e)},[i]),s=(0,n.useMemo)(()=>({dismissWarning:r,showWarning:a}),[r,a]);return(0,c.jsxs)(_,{value:s,children:[t&&(0,c.jsx)(h,{...t}),e]})}},55463:(e,t,i)=>{"use strict";i.d(t,{f:()=>l,w:()=>o});var n=i(667294),r=i(498490),a=i(785893);let{Provider:s,useHook:l}=(0,r.Z)("Session");function o({children:e}){let[t,i]=(0,n.useState)(void 0),r=(0,n.useCallback)(()=>i(void 0),[]),l=(0,n.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:i,removeUnauthFollowUserId:r}),[t,r]);return(0,a.jsx)(s,{value:l,children:e})}},888027:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var n,r=i(667294),a=i(545007);i(167912);var s=i(883119),l=i(488792),o=i(384609),d=i(730212),c=i(1006),u=i(154785),p=i(410150),h=i(383399),_=i(856163),m=i(464099),g=i(478595),f=i(560425),y=i(845873),b=i(785893);let v=void 0!==n?n:n=i(777579),x=["thumbnail","imageOnly"],S=({isUsingMask:e,setIsHovered:t,children:i})=>e?(0,b.jsx)(s.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:i}):(0,b.jsx)(r.Fragment,{children:i});function w({boardKey:e,component:t,containerBackgroundColor:i,display:n="responsive",forwardedRef:w,fullSize:P,hideSecretBoardIcon:I=!1,isAttributionHeightUnfixed:A=!1,isCollaboratorsAttributionVisible:E=!1,isFeaturedBoardsModule:k=!1,isHomePageBoards:C,noPaddings:j=!1,showFollowButton:T=!0,isUsingMask:R=!1,showPinCount:O=!0,slotIndex:Z,type:N,viewObjectIdStr:B,viewParameter:L,viewType:D,isBoardPreviewEnabled:F,trackInteractionObjectProp:z,isFromProfileGrid:M=!1,metaMarginTop:U=2,metaMarginBottom:H=0,metaPaddingY:K=0}){let G=(0,h.Z)(),W=G&&G.isAuth,$=(0,a.I0)(),{locale:Y}=(0,d.B)(),V=(0,u.Z)(),q=(0,o.Z)(v,e),X=(0,y.gC)(),Q=q?.entityId?X(q.entityId):null,J=(0,m.Z)(q),ee=(0,l.Z)(),et=(0,p.HG)(),[ei,en]=(0,r.useState)(!1);if(!q)return null;let{owner:er,shouldShowBoardCollaborators:ea}=q,es=G.isAuth?G.id:"",el=er?.entityId===es,eo=q.collaboratingUsers?.__typename==="UserCollaboratingUsersConnectionContainer"?q.collaboratingUsers.connection?.edges:[],ed=eo?.some(e=>e?.node?.entityId===es)||el;if("secret"===q.privacy&&!ed)return null;let ec=F&&!(M&&q.hasCustomCover)&&!!q.images170x?.[0]?.url,eu="grid"===N||"thumbnail"===N?2:4,ep=ec?q.images236x?.[0]?.url:J(eu),eh=q.coverPin??Q?.cover_pin,e_=(eh?.crop&&eh?.size&&{x:eh?.crop[0]??0,y:eh?.crop[1]??0,width:eh?.size[0]??0,height:eh?.size[0]??0})??{x:0,y:0,width:0,height:0},em={isCustom:!ec&&(q.hasCustomCover||void 0),url:ep,position:e_},eg=q.pinThumbnailUrls??Q?.pin_thumbnail_urls,ef=(0,g.Jx)(q.images170x,eg?.filter(e=>null!==e)??void 0,ep).map(({url:e})=>({name:(0,g.po)(e),url:e})),ey=[44,49].includes(L)||[3,442,625].includes(D),eb=()=>49===L?el?3106:3107:L,ev=q?.sensitivityScreen?{reason:q.sensitivityScreen?.reason,showWarning:q.sensitivityScreen?.showWarning}:void 0,ex=q.pinCount??Q?.pin_count??0,eS=q.sectionCount??Q?.section_count??0,ew=(0,b.jsx)(_.Z,{archivedDate:q.archivedByMeAt??Q?.archived_by_me_at,boardId:q.entityId,canEdit:!!q.boardAccess&&q.boardAccess.includes("write"),containerBackgroundColor:i,coverPhoto:em,display:n,followedByMe:!!(Q?.followed_by_me??q.followedByMe),fullSizeDrawer:P,hideMeta:x.includes(N),hideSecretBoardIcon:I,id:q.entityId,imagesLego:ef,isActive:ei,isAttributionHeightUnfixed:A,isAuthenticated:W,isCollaborative:!!q.isCollaborative,isCollaborator:!!ed,isCollaboratorsAttributionVisible:E,isFeaturedBoardsModule:k,isHomePageBoards:C,isOwner:el,isProtected:"protected"===q.privacy||Q?.privacy==="protected",isSecret:"secret"===q.privacy||Q?.privacy==="secret",isTemporarilyDisabled:!!q.isTemporarilyDisabled||!!Q?.is_temporarily_disabled,lastModifiedDate:q.boardOrderModifiedAt??Q?.board_order_modified_at??"",layout:et?"square":void 0,locale:Y,metaMarginBottom:H,metaMarginTop:U,metaPaddingY:K,name:q.name??(Q?.name||""),numberOfCollaborators:eo?.length??0,numCols:eu,onFollow:e=>$((0,f.Z)(e,ee)),onUnfollow:e=>$((0,f.f)(e,ee)),pinCount:O&&ex?ex:void 0,sectionCount:eS??0,sensitivityScreen:ev,showBoardCollaborators:!1!==ea,showFollowButton:T,showTitleOnly:"imageTitle"===N,slotIndex:Z,userKey:q?.owner,viewerId:es,viewObjectIdStr:B,viewParameter:L,viewType:D}),eP=q.url||Q?.url;return!x.includes(N)&&eP?(0,b.jsx)(s.Tg,{href:W?eP:eP.toLowerCase(),onTap:()=>{if(ey&&ee({aux_data:{board_id:q.entityId,board_pin_count:ex,board_section_count:eS},component:t??1,element:36,event_type:102,view_parameter:eb(),view_data:{view_object_id_str:B}}),!W){if((0,c.NC)("click_go_to_board"),z){V(z);return}V({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,b.jsx)(s.xu,{ref:w,paddingY:j?0:et?2:3,children:(0,b.jsx)(S,{isUsingMask:R,setIsHovered:en,children:ew})})}):ew}},243583:(e,t,i)=>{"use strict";i.d(t,{Yg:()=>o,ib:()=>c,nF:()=>p,xX:()=>u});var n=i(297728),r=i(730212),a=i(410150),s=i(415787);let l=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,s.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...i}})}},o=()=>{let{isAuthenticated:e}=(0,r.B)(),t=(0,a.HG)(),{checkExperiment:i}=(0,n.F)();return e&&!t?l({checkExperiment:i}):{logStat:()=>{}}},d=0,c=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:i}=l({checkExperiment:e});(d+=1)<10&&i(`repin_${d}`)};function u({checkExperiment:e,isDesktop:t,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:t,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,closeupPageSuspenseBehavior:t?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function p(){let{checkExperiment:e}=(0,n.F)(),t=(0,a.HG)(),{isAuthenticated:i}=(0,r.B)();return u({checkExperiment:e,isDesktop:t,isAuthenticated:i})}},912355:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(883119),r=i(990949),a=i(684860),s=i(785893);let l=({collaborator_count:e,useLegoLayout:t,type:i})=>t?(0,s.jsx)(n.xu,{marginEnd:2*!!e,children:(0,s.jsx)(a.Z,{type:i})}):(0,s.jsx)(a.Z,{type:i}),o=({board:e,showCollaborativeIcon:t,showPrivateIcon:i,showProtectedIcon:o,showSectionsIcon:d,useLegoLayout:c})=>{let u=e?.collaborating_users?.length||0;return t||i||o||d?(0,s.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!c,children:[i&&(0,s.jsx)(l,{collaborator_count:u,type:"secret",useLegoLayout:c}),o&&(0,s.jsx)(l,{collaborator_count:u,type:"protected",useLegoLayout:c}),t&&(c?(0,s.jsx)(r.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,s.jsx)(a.Z,{type:"group"})),d&&(0,s.jsx)(a.Z,{type:"sections"})]}):null}},605244:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);let a=({image_url:e,naturalHeight:t,naturalWidth:i})=>(0,r.jsx)(n.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,r.jsx)(n.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,r.jsx)(n.Ee,{alt:"",naturalHeight:t,naturalWidth:i,src:e})})})},591412:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});let n={row:0,section:0},r={row:-1,section:-1},a=()=>void 0;class s{constructor(e){this.index={...n},this.sections=e,this.updateCallback=a,this.selectItem=a}getIndex(){return this.index}isAtStart(){let{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){let{row:e,section:t}=this.index,i=this.sections[t]||[];return this.sections.length===t+1&&i.length===e+1}next(){if(this.isAtEnd())return;let{row:e,section:t}=this.index;e===r.row&&t===r.section?this.index={...n}:this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;let{row:e,section:t}=this.index;if(e===r.row&&t===r.section)this.index={...n};else if(e>0)this.index.row-=1;else{let e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){let{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index={...r},this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},401227:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),r=i(883119),a=i(994699),s=i(785893);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.Component{constructor(e){super(e),l(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),l(this,"handleIndexUpdate",e=>{let{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),l(this,"handleSelectItem",e=>()=>{let{disabled:t,onSelectItem:i}=this.props;t||i(e)}),l(this,"handleMouseEnter",e=>()=>{let{disabled:t,indexManager:i}=this.props;t||i.updateIndex(e)}),l(this,"handleMouseLeave",()=>{let{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),l(this,"renderItems",(e,t)=>{let{renderItem:i}=this.props,{selectedIndex:n}=this.state,{row:a,section:l}=n||{},{customProps:o={},items:d,renderItem:c}=e,{isDisabled:u}=o,p=t===l,h=c||i;return h&&d.map((e,i)=>{let n=u?.(e)??!1,l=p&&i===a;return(0,s.jsx)(r.xu,{ref:!n&&l?this.setSelectedItemRef:null,"data-test-id":"board-selection",children:n?h({item:e,hovered:l,sectionProps:o}):(0,s.jsx)(r.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter({section:t,row:i}),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:h({item:e,hovered:l,sectionProps:o})})},i)})}),l(this,"renderSections",()=>{let{renderSectionHeader:e,sections:t}=this.props;return t.map((t,i)=>(0,s.jsxs)(r.xu,{children:[e&&e(t,i),this.renderItems(t,i)]},i))});let{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){let{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){let e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;let i=e.getBoundingClientRect(),n=i.top,r=i.bottom,a=t.getBoundingClientRect(),s=a.top;r>=a.bottom?e.scrollIntoView(!1):n<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){let{grow:e=!1,maxHeight:t,fetchMore:i}=this.props;return(0,s.jsx)(a.Z,{fetchMore:i,children:({setRef:i,onScroll:n})=>(0,s.jsx)(r.xu,{ref:e=>{this.containerRef=e,i(e)},flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:n,overflow:"auto",children:this.renderSections()})})}}},560104:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(883119),r=i(785893);let a={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function s(){return(0,r.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:a,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l({disabled:e,name:t,onClick:i,size:a,submitting:l,text:o}){return(0,r.jsxs)(n.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[l&&(0,r.jsx)(s,{}),(0,r.jsx)(n.zx,{color:"red",disabled:e||l,name:t,onClick:i,size:a,text:o,type:"submit"})]})}},847881:(e,t,i)=>{"use strict";i.d(t,{b:()=>u,v:()=>p});var n=i(667294),r=i(616550),a=i(498490),s=i(663641),l=i(410150),o=i(989386),d=i(785893);let{Provider:c,useHook:u}=(0,a.Z)("SearchParams"),p=({children:e,value:t})=>{let i=function(){let e=(0,l.HG)(),{search:t,pathname:i}=(0,r.TH)(),{scope:n}=(0,r.UO)(),a=!n&&i.includes("/_tools/shop");return(0,o.Z)({isDesktop:e,scope:a?s.lw.SHOP_TOOL:n,search:t})}(),a=(0,n.useMemo)(()=>({...i,...t}),[i,t]);return(0,d.jsx)(c,{value:a,children:e})}},127566:(e,t,i)=>{"use strict";function n(e,t){return e&&e.includes("~0")&&(e=e.replace("~0","")),e||`${t||""}~0`}i.d(t,{Z:()=>n})},246826:(e,t,i)=>{"use strict";i.d(t,{Iv:()=>n,dU:()=>p,it:()=>s,jI:()=>u,n0:()=>o,nY:()=>a,sW:()=>c,up:()=>r});let n="uploaded",r="pinbuilder",a="scraped",s="button";function l(e){return!!e&&"object"==typeof e&&"method"in e}function o(e){return l(e)&&e.method===a}function d(e){return l(e)&&e.method===n}function c(e){return l(e)&&e.method===s}function u(e){return o(e)||d(e)||c(e)}function p({boardId:e,checkExperiment:t,createPin:i,sectionId:n,state:r}){let a=[];if(o(r)){let{imgData:s}=r;s.forEach(s=>{a.push(i(function({boardId:e,checkExperiment:t,image:i,sectionId:n,state:r}){let{description:a,link:s,method:l}=r;return{boardId:e,checkExperiment:t,description:a,guid:"",imageBase64:"",imageUrl:i,link:s,method:l,sectionId:n}}({boardId:e,checkExperiment:t,image:s,sectionId:n,state:r})))})}else a.push(i(function({boardId:e,checkExperiment:t,sectionId:i,state:n}){if(d(n)){let{description:r,imageBase64:a,imageUrl:s,method:l}=n;return{boardId:e,checkExperiment:t,description:r,guid:"",imageBase64:a,imageUrl:s,link:"",method:l,sectionId:i}}{let{description:r,guid:a,imageUrl:s,link:l,method:o}=n;return{boardId:e,checkExperiment:t,description:r,guid:a,imageUrl:s,link:l,method:o,sectionId:i}}}({boardId:e,checkExperiment:t,sectionId:n,state:r})));return a}},842909:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=function(e){return{...e,ts:Date.now()}}},227984:(e,t,i)=>{"use strict";i.d(t,{C:()=>s,O:()=>a});var n=i(609326),r=i(864723);let a=()=>(0,r.M0)().getItem(n.Mi)??"",s=e=>{(0,r.M0)().setItem(n.Mi,e)}},578406:(e,t,i)=>{"use strict";i.d(t,{N4:()=>a,Wh:()=>n,hr:()=>r});let n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},291130:(e,t,i)=>{"use strict";i.d(t,{Z:()=>P});var n,r,a=i(667294);i(167912);var s=i(883119),l=i(384609),o=i(144326),d=i(240760),c=i(785893);function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let p=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],h=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),_=e=>Math.PI/180*e;class m extends a.PureComponent{constructor(...e){super(...e),u(this,"animationTimer",null),u(this,"canvasRemovalTimer",null),u(this,"containerRef",(0,a.createRef)()),u(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),i=2.5*e,n=document.createElement("canvas");return n.style.position="absolute",n.style.left=`${0-(i-t)/2}px`,n.style.top=`${0-(i-e)/2}px`,n.style.pointerEvents="none",n.style.width=`${i}px`,n.style.height=`${i}px`,n.style.overflow="visible",n.width=i,n.height=i,n}),u(this,"explode",()=>{let e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;let i=e.getContext("2d");t.prepend(e);let n=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(h(10,30)),color:p[Math.floor(Math.random()*p.length)],degree:Number(h(0,360).toFixed(1)),speed:Math.round(h(0,25)),friction:.9,opacity:Number(h(0,.5).toFixed(1)),yVel:0,gravity:.04})),r=(e,t,i,n)=>{window.requestAnimationFrame(()=>r(e,t,i,n)),t.clearRect(0,0,i,n),e.forEach(e=>{e.x+=e.speed*Math.cos(_(e.degree)),e.y+=e.speed*Math.sin(_(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i&&r(n,i,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){let{delay:t,startAnimation:i}=this.props,{startAnimation:n}=e;i&&n!==i&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,c.jsx)(s.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}function g(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}u(m,"defaultProps",{delay:0});let f=void 0!==n?n:n=i(494119),y=void 0!==r?r:r=i(771589),b=e=>({pointerEvents:"none",opacity:+!!e,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}),v=e=>({opacity:+!!e,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),x=(e,t,i,n)=>{let r,a,s={},l=i.current?.getBoundingClientRect(),o=t.current?.getBoundingClientRect(),d=n.current?.getBoundingClientRect();if(o&&l&&d){s={left:l.left-o.left,top:l.top-o.top};let e={x:d.left-l.left,y:d.top-l.top},t={x:(d.width-l.width)/2,y:(d.height-l.height)/2};r=`translate(${e.x}px, ${e.y}px)`,a=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:s.left,top:s.top,width:e?d?.width:l?.width,height:e?d?.height:l?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?r:"none",transform:e?r:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:l?.width,height:l?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?a:"none",transform:e?a:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},S=e=>({opacity:+!!e,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class w extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{isInitialized:!1}),g(this,"containerRef",(0,a.createRef)()),g(this,"pinDestinationRef",(0,a.createRef)())}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(){let{isInitialized:e}=this.state,{onDismiss:t}=this.props;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}render(){let{pin:e,firstRepin:t,pinImageRef:i,selectedBoardName:n,shuffleAsset:r}=this.props,l=r?.cutoutImages??e?.imageSpec_236x,o=e?.description??"",u=l?.height??1,p=l?.width??1,h=l?.url??"",{isInitialized:_}=this.state,{mask:g,imageContainer:f}=x(_,this.containerRef,i,this.pinDestinationRef);return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)(s.xu,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:g},maxHeight:335,overflow:"hidden",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:f},children:(0,c.jsx)(s.Ee,{alt:o,naturalHeight:u,naturalWidth:p,src:h})})}),(0,c.jsx)(s.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:b(_)},left:!0,position:"absolute",right:!0,top:!0,children:(0,c.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:v(_)},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,c.jsx)(m,{delay:1250,startAnimation:_,children:(0,c.jsx)(s.zd,{height:180,rounding:2,width:270,children:(0,c.jsxs)(s.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,c.jsx)(s.xu,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,c.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,c.jsx)(s.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,c.jsx)(s.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:S(_)},"data-test-id":"board-saved-heading",paddingX:2,children:(0,c.jsx)(s.X6,{align:"center",children:t?(0,d.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:n??""}):(0,d.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:n??""})})})]})})]})})}}function P({pinKey:e,shuffleAssetKey:t,...i}){let n=(0,o.ZP)(),r=(0,l.Z)(f,e),a=(0,l.Z)(y,t);return(0,c.jsx)(w,{...i,i18n:n,pin:r,shuffleAsset:a})}g(w,"defaultProps",{firstRepin:!1})},989386:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(663641),r=i(868808);function a({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:a="",b_id:s,brands:l,category:o,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:p,domains:h,filters:_,guided_search_query:m,interest_id:g,journey_depth:f,on_sale:y,price_max:b,price_min:v,q:x,query_pin_sigs:S,request_params:w,rs:P,selected_one_bar_modules:I,source_id:A,source_module_id:E,style:k,tab:C,top_pin_ids:j,user:T}=(0,r.mB)(i),R="true"===c.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:l,bubbleId:s,category:o,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:_,debD:p,domains:h,guidedSearchQuery:m,interestId:g,journeyDepth:f?parseInt(f,10):void 0,onSale:y,personalizationPinSig:S,placementId:(0,n.Hd)(R,e),priceMax:b,priceMin:v,query:x,requestParams:w,rs:P,scope:R,selectedOneBarModules:I,sourceId:A,sourceModuleId:E,style:k,tab:C||"",topPinIds:j,user:T,viewParameter:(0,n._R)(R),viewType:R===n.lw.SHOP_TOOL?1:2}}},983542:(e,t,i)=>{"use strict";i.d(t,{Az:()=>f,DI:()=>x,Gl:()=>P,Hl:()=>T,NA:()=>n,NG:()=>d,OC:()=>C,Pq:()=>E,QM:()=>_,Sk:()=>w,UF:()=>b,Uo:()=>k,WF:()=>l,Xm:()=>c,Zf:()=>a,_N:()=>h,ac:()=>s,dt:()=>g,e_:()=>p,gf:()=>y,hf:()=>I,i_:()=>o,jY:()=>v,ni:()=>S,qg:()=>u,rX:()=>r,vX:()=>A,yG:()=>m,yq:()=>j});let n="10",r=1,a=365,s=64,l=8,o=9,d=11,c=15,u=16,p=17,h=18,_=19,m=20,g=22,f=1e6,y=1e6,b="US";function v(e){let t="USD",i="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",i="€";break;case"AU":t="AUD",i="$";break;case"CA":t="CAD",i="$";break;case"CH":t="CHF",i="CHF";break;case"DK":t="DKK",i="kr";break;case"GB":t="GBP",i="£";break;case"NO":t="NOK",i="kr";break;case"NZ":t="NZD",i="$";break;case"SE":t="SEK",i="kr"}return[t,i]}let x={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},S={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},w={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},P={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},I="QUICK_PROMOTE_PAGE",A=[P.GDPR_MODAL,P.PIN_SELECTION_MODAL,I,P.BUSINESS_FORM,P.BILLING_FORM,P.SUCCESS_MODAL,P.ERROR_MODAL],E={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},k=e=>e>=1&&e<=2,C="qp-fac-education-id",j="qp-fac-modal-education-id",T={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"}},255388:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(566344);let r={0:n.C0,3:n.vI,4:n.YD};function a({currentSiteType:e,destinationSiteType:t,inputPath:i}){let n=Object.keys(r).includes(String(e))&&Object.keys(r).includes(String(t)),a="/"===i[0]?i:`/${i}`;return n&&t!==e?`${r[t]}${a}`:a}},990949:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(883119),r=i(144326),a=i(240760),s=i(383399),l=i(785893);function o(e){let t=e?.imageMediumUrl??e?.image_medium_url??"",i=e?.avatar_color_index??void 0;return{name:e?.fullName??e?.full_name??"",color:i,src:"https://s.pinimg.com/images/user/default_75.png"===t?void 0:t}}function d({board:e,forceViewer:t,isCompact:i,ownerOnly:d}){let c=(0,r.ZP)(),u=(0,s.Z)(),p=d?[o(e?.owner)]:(function(e,t,i){let{collaborated_by_me:n,collaborating_users:r,owner:a}=e??{},s=r??[],l=[a];if(n||i){let e=s.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){let t=s.splice(e,1)[0];l.push(t)}else l.push(t)}return[...l,...[...s].sort((e,t)=>(e.full_name??"")>(t.full_name??"")?1:(t.full_name??"")>(e.full_name??"")?-1:0)]})(e,u,t).map(o),h=p.slice(0,3).map(e=>e.name),_="";switch(p.length){case 3:_=(0,a.Wc)(`${c._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${h[0]??""}`,second:`${h[1]??""}`,last:`${h[2]??""}`});break;case 2:_=(0,a.Wc)(`${c._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${h[0]??""}`,second:`${h[1]??""}`});break;default:_=h.join(", ")}let m=p.length>3?(0,a.Wc)(`, ${c.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', p.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')}`,{userNames:_,leftCount:`${p.length-3}`}):(0,a.Wc)(`, ${c._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:_});return(0,l.jsx)(n.HE,{accessibilityLabel:m,collaborators:p,size:i?"xs":"sm"})}},476310:(e,t,i)=>{"use strict";function n(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function r(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}i.d(t,{HG:()=>r,OQ:()=>a,hd:()=>n});let a=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},465256:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(252071),r=i(338623),a=i(880560),s=i(476310),l=i(701842),o=i(344502),d=i(403764);function c({boardId:e,sourceBoardId:t="",sourceSectionId:i="",name:c,nameSource:u,pinImport:p,initialPinIds:h=[]},_,m,g){let f=0;"RECOMMENDATION"===u?f=1:"EDITED_RECOMMENDATION"===u&&(f=2);let y={board_id:e,initial_pins:p&&!p.all?p.pinIds:h,name:c,name_source:f,...m?{orbac_subject_id:m}:Object.freeze({})};return c=>n.Z.create("BoardSectionResource",y).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{g({event_type:7100,object_id_str:n.id}),c((0,s.hd)(e,n)),c((0,l.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),c((0,a.Z)(e,"pin_count")),c((0,r.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:m}));let{all:u,pinIds:h}=p||{all:!1,pinIds:[]};return u?new Promise((r,a)=>c((0,o.Z)({inverseSelection:!0,selectedPinIds:h,source:{boardId:t||e,sectionId:i||null},target:{boardId:e,sectionId:n.id}},_)).then(()=>r(n)).catch(a)):(h.length>0&&c((0,l.N8)(d.Z.BOARDFEED,e)),n)})}},880560:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(468808);function r(e,t,i){return(0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}},344502:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_,S:()=>h});var n=i(252071),r=i(880560),a=i(508629),s=i(701842),l=i(255507),o=i(403764),d=i(785020);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,s.N8)(e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,e.sectionId||e.boardId);function p(e,t){let{source:i,target:n}=e;n.boardId!==i.boardId?(t((0,r.Z)(i.boardId,"pin_count")),t((0,r.Z)(n.boardId,"pin_count"))):i.sectionId&&n.sectionId||t((0,r.Z)(n.boardId,"pin_count")),i.sectionId&&t((0,a.Z)(i.sectionId)),n.sectionId&&t((0,a.Z)(n.sectionId))}function h(e){return t=>{let{selectedPinIds:i,source:n,target:r}=e;t((0,s.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,s.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:i,itemType:"pin"})),i.forEach(e=>{t((0,l.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),p(e,t)}}function _(e,t){return i=>{let{selectedPinIds:r,target:a}=e;return r.forEach(e=>{i((0,l.Vp)({pinId:e,boardId:a.boardId,sectionId:a.sectionId||void 0,title:a.name||""}))}),(function(e,t,i){let{inverseSelection:r,selectedPinIds:a,source:l,target:d,orbacSubjectId:p}=e;if(l.boardId===d.boardId&&(l.sectionId||null)===(d.sectionId||null))return Promise.reject();if(r){let e={board_id:l.boardId,new_board_id:d.boardId,old_section_id:l.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return n.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(l)),t(u(d))])).catch(c(i))}{let e=(e,i)=>{t((0,s.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,s.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:a,itemType:"pin"}))};e(l,d);let r=()=>e(d,l);if(d.boardId===l.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:a,orbac_subject_id:p};return n.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(i)(e)})}else{let e={section_id:l.sectionId,pins:a,orbac_subject_id:p};return n.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{r(),c(i)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:p};return n.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(i)(e)})}}})(e,i,t).then(()=>p(e,i))}}},409065:(e,t,i)=>{"use strict";function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function r(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function a(e){return{type:"PIN_SAVE",payload:e}}function s(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function l(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function o({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:i}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function _(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}i.d(t,{Gb:()=>s,I1:()=>o,Ib:()=>c,JU:()=>_,Ur:()=>a,Vw:()=>l,au:()=>m,b9:()=>p,i0:()=>u,mO:()=>r,q1:()=>d,yR:()=>n,yj:()=>h})},612719:(e,t,i)=>{"use strict";i.d(t,{M:()=>l,i:()=>d});var n=i(782677),r=i(252071),a=i(338623),s=i(517989);let l=(e,t,i,n)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:i,pinnerId:n}}),o=e=>async t=>{let{boardId:i,guid:o,imageBase64:d,imageUrl:c,method:u,sectionId:p}=e,h={...e,board_id:i,method:"button"!==u||o?u:"button_external",image_url:c,image_base64:d,section:p},_="PinResource",m=await r.Z.create(_,h).callCreate(),g=(0,n.Fv)(m.resource_response.data,s.Z[_]);t((0,a.XM)(_,h,m,g));let f=m.resource_response.data,{pinner:{id:y}}=f;return t(l(f.id,i,p,y)),m},d=e=>async t=>{let{imageBase64:i,imageUrl:n}=e;return await t(o({...e,imageUrl:n,imageBase64:i}))}},497816:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=(0,i(442279).P1)(({users:e,boards:t,session:i})=>{let n=e[i.userId]||null;return Object.keys(t).reduce((e,i)=>{let r=t[i];return!r.archived_by_me_at&&(r.owner?.id===n?.id||r.collaborating_users&&r.collaborating_users.map(({id:e})=>e).includes(n?.id))&&r.cover_images?e.concat([r]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},891487:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(545007),r=i(883119),a=i(144326),s=i(240760),l=i(934648),o=i(827278),d=i(785893);function c({boardId:e,onBoardSelected:t,noArrowIcon:i,showSingleBoardRep:c}){let u=(0,a.ZP)(),p=(0,n.v9)(({boards:e})=>e)[e],h=p.section_count,_=!!h&&h>0,m=(0,l.Z)(),g=p.name??"this board";return(0,d.jsx)(r.iP,{accessibilityLabel:(0,s.Wc)(`${u._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:g}),onTap:m({fn:()=>t(_)}),rounding:2,tapStyle:"compress",children:(0,d.jsx)(o.Z,{boardId:e,noArrowIcon:i,showSingleBoardRep:c})})}},971618:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(545007),r=i(616550),a=i(883119),s=i(144326),l=i(615529),o=i(845873),d=i(891487),c=i(240760),u=i(410287),p=i(785893);function h({onSectionSelected:e,sectionId:t,showSectionRep:i}){let r=(0,n.v9)(({boardsections:e})=>e[t]),l=(0,s.ZP)(),o=r&&r.preview_pins?.[0]&&r.preview_pins[0].image_medium_url,d=r?.title??"";return(0,p.jsx)(u.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,p.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!i,rounding:2,children:[i&&(0,p.jsx)(a.xu,{height:48,width:51,children:(0,p.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:o&&(0,p.jsx)(a.Ee,{alt:(0,c.Wc)(l._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:d}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})}),!i&&(0,p.jsx)(a.xu,{column:1,paddingY:2}),(0,p.jsx)(a.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:i?(0,p.jsx)(a.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,p.jsx)(a.xv,{lineClamp:1,size:"400",weight:"bold",children:r?.title})}):(0,p.jsx)(a.xu,{marginStart:2,children:(0,p.jsx)(a.xv,{weight:"bold",children:r?.title})})})]})})}let _=(e,t)=>{let{isFetching:i}=(0,l.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),r=(0,n.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let i={type:"boardsection",id:t.id};e.push(i)}return e},[])),a=(0,n.v9)(i=>r.map(e=>e.id).reduce((n,r)=>{let a=i.boardsections[r??""];return r!==t&&a&&n.push({board:{id:e},id:a.id,title:a.title,type:"boardsection",slug:a.slug}),n},[]));return{isFetching:i,boardSections:r,filteredBoardSections:a}};function m({boardId:e,originalBoardId:t,sectionId:i,repin:n,hideBoardPickerRow:l,showSectionRep:c}){let u=(0,s.ZP)(),{isFetching:m,boardSections:g,filteredBoardSections:f}=_(e,i),y=(0,r.k6)(),b=(0,o.gC)()(t||"");return(0,p.jsxs)(a.xu,{children:[g.length>0&&(0,p.jsxs)(a.xu,{paddingY:3*!c,children:[c&&(0,p.jsx)(a.xu,{paddingY:2,children:(0,p.jsx)(a.xu,{marginBottom:2,children:(0,p.jsx)(a.xv,{children:u._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!l&&(0,p.jsx)(d.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>n(e,void 0,u),showSingleBoardRep:c},e),c&&(0,p.jsx)(a.xu,{paddingY:4,children:(0,p.jsx)(a.xv,{children:u._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),f.map(i=>(0,p.jsx)(h,{onSectionSelected:()=>{n(e,i,u),t&&y.push(b?.url??"")},sectionId:i.id??"",showSectionRep:c},i.id))]}),(0,p.jsx)(a.xH,{accessibilityLabel:u._('Loading board section for repin flow', ' - ', ' -- '),show:m})]})}},411886:(e,t,i)=>{"use strict";i.d(t,{W:()=>c,Z:()=>u});var n=i(883119),r=i(640498),a=i(144326),s=i(912355),l=i(605244),o=i(684860),d=i(785893);function c(e,t=""){let i=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(i).reduce((i,n)=>{if(i.length>0&&e&&e.length){let r=t.toLowerCase().indexOf(e.toLowerCase());return i.concat(t.substring(r,r+e.length),n)}return[n]},[]):t}let u=function(e){let t=(0,a.ZP)(),{disabled:i,item:u,isSection:p,isSelectMode:h,isWithinSectionPicker:_,saveState:m,searchQuery:g,selected:f}=e,y=p?null:u,b=p?u:null,v=b&&b.title||y&&y.name||"",x="",S=!1,w="",P=0;y&&({image_cover_url:x,is_collaborative:S,privacy:w,section_count:P=0}=y);let I=c(g,v),A=w===r.ZP.BoardPrivacy.SECRET,E=!i&&(f||!!m),k=!_&&"number"==typeof P&&P>0,C="number"==typeof P&&P>0?"boardWithSection":"boardWithoutSection",j=h?t._('Select', 'Board select button label', 'Board select button label'):t._('Save', 'Pin save button label', 'Pin save button label');return(0,d.jsxs)(n.xu,{alignItems:"center",color:E?"secondary":"default","data-test-id":C,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[y&&(0,d.jsx)(n.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:x&&(0,d.jsx)(n.Ee,{alt:t._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:x})}),b&&!!b.preview_pins?.length&&(0,d.jsx)(l.Z,{image_url:b.preview_pins[0].image_square_url??"",naturalHeight:b.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:b.preview_pins[0].image_square_size_pixels?.width??1}),(0,d.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(n.xv,{color:i?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:I}),(k||!E)&&(0,d.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[A&&(0,d.jsx)(o.Z,{type:"secret"}),S&&(0,d.jsx)(s.Z,{board:y,showCollaborativeIcon:S,useLegoLayout:!0}),k&&(0,d.jsx)(o.Z,{type:"sections"})]}),!k&&E&&!m&&(0,d.jsx)(n.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,d.jsx)(n.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:j})}),!k&&E&&"loading"===m&&(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,d.jsx)(n.xH,{accessibilityLabel:t._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},684860:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(883119),r=i(144326),a=i(785893);let s=function({type:e}){let t=(0,r.ZP)(),i={group:{accessibilityLabel:t._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:t._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:t._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}}[e];return(0,a.jsx)(n.xu,{marginStart:1,children:(0,a.jsx)(n.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,a.jsx)(n.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:"12"}):(0,a.jsx)(n.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:16})})})}},564665:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),r=i(883119),a=i(573706),s=i(144326),l=i(961754),o=i(785893);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.Component{constructor(...e){super(...e),d(this,"state",{isHovering:!1}),d(this,"onHover",()=>{this.setState({isHovering:!0})}),d(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){let{name:e,selected:t,image:i,inFlyoutExp:n}=this.props;return n?(0,o.jsxs)(r.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&i&&i.url?(0,o.jsx)(r.Ee,{alt:"",color:"",fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,src:i.url}):(0,o.jsx)(r.xu,{color:"secondary",height:40,width:40})})}),(0,o.jsx)(r.xu,{padding:2,children:(0,o.jsx)(r.X6,{size:"400",children:e})})]}):(0,o.jsxs)(r.xu,{alignItems:"center",color:t?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.JO,{accessibilityLabel:"",color:t?"default":"subtle",icon:"add"})}),(0,o.jsx)(r.xu,{marginStart:3,children:(0,o.jsx)(r.xv,{color:t?"default":"subtle",weight:"bold",children:e})})]})}}let u=e=>(0,n.useMemo)(()=>e&&e.length?e.map(e=>e.title):[],[e]),p=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:i,image:d,minHeight:p,onBoardSelected:h})=>{let{logContextEvent:_}=(0,a.v)(),m=(0,s.ZP)(),[g,f]=(0,n.useState)(-1),{data:y=[],isLoaded:b}=(0,l.Z)({name:"ApiResource",options:{url:`/v3/pins/${String(i)}/board_title_suggestions/`,pin_id:i}}),v=u(y),x=e=>{h(v[e],!1),_({event_type:101,component:13025,element:23})},S=e=>{f(e)},w=()=>{f(-1)},P=(t,i)=>{let n=g===i;return(0,o.jsx)("li",{children:(0,o.jsx)(r.iP,{onMouseEnter:()=>S(i),onMouseLeave:w,onTap:()=>x(i),children:(0,o.jsx)(c,{image:d,inFlyoutExp:e,name:t,selected:n})})},i)};return b?v&&v.length?e?(0,o.jsx)(r.xu,{children:(0,o.jsx)("ul",{children:v.map(P)})}):t?(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,o.jsx)(r.xv,{children:m._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,o.jsx)("ul",{children:v.map(P)})]}):(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{marginTop:2,paddingX:5,children:(0,o.jsx)(r.xv,{children:m._('Suggested board names', ' - ', ' -- ')})}),(0,o.jsx)("ul",{children:v.map(P)})]}):null:(0,o.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,o.jsx)(r.xH,{accessibilityLabel:m._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},589681:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(883119),r=i(144326),a=i(191851),s=i(785893);function l(e){let t=(0,r.ZP)(),{buttonLabel:i,hasHoverState:l,name:o,onClick:d}=e,{isHovering:c,hoverHandlers:u}=(0,a.Z)(),p=o||i||t._('Create board', ' - ', ' -- ');return(0,s.jsx)(n.iP,{onMouseEnter:u.onMouseOver,onMouseLeave:u.onMouseLeave,onTap:d,children:(0,s.jsxs)(n.xu,{alignItems:"center",color:l&&c?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,s.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,s.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),o?(0,s.jsx)(n.xu,{margin:1,children:(0,s.jsxs)(n.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,s.jsxs)(n.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}},150333:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var n=i(667294),r=i(545007),a=i(883119),s=i(488792),l=i(144326),o=i(611735),d=i(383399),c=i(501912),u=i(801621),p=i(560104),h=i(465256),_=i(785893);function m(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends n.Component{constructor(e){super(e),m(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:i,dispatch:n,completeCreateSectionAction:r,pinImport:a,viewer:s,orbacActingAs:l,logContextEvent:o}=this.props,d=(0,u.lJ)(s,l);return this.setState({isSaving:!0}),n((0,h.Z)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:i&&i.id,name:this.state.inputName.trim(),pinImport:a},this.props.i18n,d,o)).then(e=>{this.setState({isSaving:!1}),r(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),m(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:i}=this.state;[o.Z.ENTER,o.Z.NUMPAD_ENTER].includes(e.which)&&!t&&i.trim()&&this.onCreateSection()}),m(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),m(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:i,inputRef:n}=this.state;n&&(!t.inputRef||i)&&n.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:i,inputName:n,isSaving:r}=this.state,s=!!n.trim()&&!i;return(0,_.jsxs)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[e&&(0,_.jsx)(a.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,_.jsx)(a.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,_.jsxs)(a.xu,{padding:4,children:[(0,_.jsx)(a.xu,{marginBottom:2,children:(0,_.jsx)(a.__,{htmlFor:"sectionEditName",children:(0,_.jsx)(a.xv,{color:i?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,_.jsx)(a.xu,{children:(0,_.jsx)(a.xu,{ref:this.handleInputRef,children:(0,_.jsx)(a.nv,{errorMessage:i||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:n})})})]}),(0,_.jsx)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,_.jsx)(a.xu,{padding:4,children:(0,_.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,_.jsx)(p.Z,{disabled:!s||r,onClick:this.onCreateSection,submitting:r,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}let f=function(e){let t=(0,r.I0)(),i=(0,l.ZP)(),n=(0,d.Z)(),a=(0,c.Z)();return(0,_.jsx)(g,{...e,dispatch:t,i18n:i,logContextEvent:(0,s.Z)(),orbacActingAs:a,viewer:n})}},357346:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(883119),r=i(503237),a=i(785893);function s({url:e,description:t,color:i}){return i=i||"#8fa7bf",(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{background:i}},height:216,rounding:2,width:"100%",children:(0,a.jsxs)(n.xu,{maxHeight:200,overflow:"hidden",padding:4,children:[e&&(0,a.jsx)(n.xu,{marginBottom:2,children:(0,a.jsx)(n.xv,{color:"inverse",size:"100",children:(0,r.Z)(e).hostname||e})}),(0,a.jsx)(n.xu,{maxHeight:144,children:(0,a.jsx)(n.xv,{color:"inverse",overflow:"normal",weight:"bold",children:t})})]})})}},104168:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n,r=i(667294);i(167912);var a=i(883119),s=i(573706),l=i(384609),o=i(948938),d=i(838486),c=i(785893);function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends r.PureComponent{constructor(...e){super(...e),u(this,"state",{}),u(this,"handleUserFollow",(e,t)=>{this.setState({isFollowing:t}),t?this.props.logContextEvent({event_type:45,object_id_str:e,view_type:3,view_parameter:73}):this.props.logContextEvent({event_type:46,object_id_str:e,view_type:3,view_parameter:73})})}static getDerivedStateFromProps(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:!!e.user.followedByMe}:Object.freeze({})}render(){let{user:e}=this.props,{entityId:t,fullName:i,imageMediumUrl:n,username:r}=e,s=r?`/${r}/`:"";return t&&i?(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,children:[(0,c.jsx)(a.xu,{flex:"grow",paddingX:1,children:(0,c.jsx)(o.Z,{fullName:i,imageUrl:n,openNewTab:!0,profileUrl:s})}),(0,c.jsx)(a.xu,{flex:"none",paddingX:1,children:(0,c.jsx)(d.Z,{fullName:i,id:t,imageUrl:n||"",isOwnProfile:!1,onUserFollow:e=>this.handleUserFollow(t,e),profileUrl:s,size:"md",suppressToasts:!0})})]}):null}}let h=function({userKey:e,...t}){let{logContextEvent:r}=(0,s.v)(),a=void 0!==n?n:n=i(202553),o=(0,l.Z)(a,e);return(0,c.jsx)(p,{...t,logContextEvent:r,user:o})}},686993:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(667294),r=i(883119),a=i(400416),s=i(357013),l=i(144326),o=i(240760),d=i(611735),c=i(639686),u=i(785893);function p(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class h extends n.Component{constructor(...e){super(...e),p(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),p(this,"onDismiss",()=>{}),p(this,"mounted",!1),p(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),p(this,"handleKeyDown",e=>{e.keyCode===d.Z.UP?this.handlePrevHashtag(e):e.keyCode===d.Z.DOWN?this.handleNextHashtag(e):e.keyCode===d.Z.ESCAPE?this.handleClose(e):e.keyCode===d.Z.ENTER&&this.handleSubmit(e)}),p(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),p(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),p(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),p(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),p(this,"callResource",e=>{let{makeCancelablePromise:t}=this.props;t((0,a.Z)({url:"/v3/search/autocomplete/",data:{q:e,show_pin_count:!0}}),"typeahead").then(e=>{if(!this.mounted)return;let{data:t}=e.resource_response;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){let{recommendations:e,resourceLoaded:t,selectedIndex:i}=this.state,{anchor:n,idealDirection:a}=this.props,l=e.filter(e=>e.query),d="flyout_"+l.length;return t&&l.length>0?(0,u.jsx)(r.J2,{anchor:n,idealDirection:a||"down",onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(r.xu,{width:"100%",zIndex:new r.Ry(3),children:l.length>0?l.map((e,t)=>(0,u.jsx)(r.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(r.xu,{alignItems:"center",color:t===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,u.jsx)(r.xu,{flex:"grow",children:(0,u.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(r.xu,{flex:"none",children:(0,u.jsx)(r.xv,{inline:!0,size:"100",children:(0,o.nk)(this.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(e.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,u.jsx)(s.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query)):null})},d):null}}function _(e){let t=(0,l.ZP)(),i=(0,c.Z)();return(0,u.jsx)(h,{...e,i18n:t,makeCancelablePromise:i})}},374371:(e,t,i)=>{"use strict";i.d(t,{Z:()=>k});var n,r,a,s,l,o=i(667294);i(167912);var d=i(883119),c=i(573706),u=i(384609),p=i(357346),h=i(529521),_=i(289762),m=i(144326),g=i(240760),f=i(961754),y=i(785893);let b=void 0!==n?n:n=i(635654),v=void 0!==r?r:r=i(409510),x=void 0!==a?a:a=i(563463);function S({pinKey:e}){let t=(0,m.ZP)(),i=(0,u.Z)(b,e),n="GraphQL"===(0,h.o)(e),r=(0,_.Z)({strategy:n?"GRAPHQL":"LEGACY",query:x,variables:{pinId:i.entityId},options:{fetchPolicy:"network-only"},useGetLegacyResource:({pinId:e})=>{let t=(0,f.Z)({name:"ApiResource",options:{url:`/v3/pins/${e}/`,field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return{data:t.data,refresh:t.refresh}}}),a=r?.v3GetPinQuery?.__typename==="V3GetPin"?r.v3GetPinQuery.data:null,s=(0,u.Z)(v,a);return s&&s.pinnedToBoard&&"quick_creates"!==s.pinnedToBoard.layout?(0,y.jsxs)(d.xu,{children:[(0,y.jsx)(d.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,y.jsx)(d.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,g.nk)(t._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(s.pinnedToBoard||{}).name}).join(" ")})}),(0,y.jsx)(d.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,y.jsx)(d.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var w=i(686993);function P(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let I=void 0!==s?s:s=i(194117),A=void 0!==l?l:l=i(869717);class E extends o.Component{constructor(...e){super(...e),P(this,"state",{flyoutCursorIndex:-1,description:this.props.pin?.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),P(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),P(this,"handleHashtagAddition",e=>{let{pin:t}=this.props;this.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:t?.entityId,aux_data:{hashtags:e}});let i=this.state.flyoutCursorIndex,n=Number(i+this.state.hashtagQuery.length),r=this.state.description.slice(0,i)+e+" "+this.state.description.slice(n);this.updateDescription(r),this.setState({description:r,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})})}render(){let{color:e,isFirstPin:t,pin:i,pinImageRef:n,shuffleAsset:r}=this.props,{editing:a,flyoutOpened:s,hashtagQuery:l,isHashtagFlyoutOpen:o}=this.state,c=r?.cutoutImages??i?.imageSpec_236x,u=c?.url||i?.imageBase64||this.props.urlPinInfo?.imageUrl,h=this.state.description||this.props.urlPinInfo?.description||"",_=i?.link||this.props.urlPinInfo?.link;return(0,y.jsxs)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:s&&a?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:t?"50%":"",children:[(0,y.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[i?.entityId&&!r&&(0,y.jsx)(S,{pinKey:i}),(0,y.jsx)(d.xu,{paddingY:9*!!t,width:240,children:(0,y.jsx)(d.xu,{ref:n,maxHeight:s&&a?220:335,overflow:"hidden",rounding:4,children:u?(0,y.jsx)(d.Ee,{alt:h,naturalHeight:c?.height||1,naturalWidth:c?.width||1,src:u}):!!_&&(0,y.jsx)(p.Z,{color:e||"",description:h,url:_})})})]}),this.anchor&&o?(0,y.jsx)(w.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:l}):null]})}}function k({pinKey:e,shuffleAssetKey:t,...i}){let{logContextEvent:n}=(0,c.v)(),r=(0,u.Z)(I,e),a=(0,u.Z)(A,t);return(0,y.jsx)(E,{...i,logContextEvent:n,pin:r,shuffleAsset:a})}},195456:(e,t,i)=>{"use strict";i.d(t,{K:()=>F});var n,r,a=i(667294),s=i(545007);i(167912);var l=i(616550),o=i(252071),d=i(573706),c=i(785020),u=i(636565),p=i(835764),h=i(476198),_=i(384609),m=i(136061),g=i(144326),f=i(468808),y=i(901450),b=i(308551),v=i(383399),x=i(732567),S=i(133003),w=i(127566),P=i(605810),I=i(119437),A=i(409065),E=i(900492),k=i(883119);i(640498);var C=i(240760),j=i(415384),T=i(785893);let R=(e,t,i)=>i?(0,j.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:i.title??"",boardName:t??""}):(0,T.jsx)(k.xv,{children:(0,C.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,T.jsx)(k.xv,{weight:"bold",children:t})})});var O=i(845349);function Z(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let N=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,B=void 0!==n?n:n=i(216232),L=void 0!==r?r:r=i(380718);class D extends a.Component{constructor(...e){super(...e),Z(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||this.props.urlPinInfo?.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),Z(this,"unmounted",!1),Z(this,"setModalTitle",e=>this.safeSetState({modalTitle:e})),Z(this,"updateDescription",e=>{this.safeSetState({pinDescription:e})}),Z(this,"close",()=>{let{onClose:e}=this.props;e&&e(),this.props.logContextEvent({event_type:2502,component:5,element:610})}),Z(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),Z(this,"getPinResource",(e,t,i)=>{let{color:n,clientTrackingParams:r,pin:a,method:s,guid:l,additionalCreateFields:d,advertiser_id:c,urlPinInfo:u,shuffleAsset:p}=this.props,h=a?.entityId?"RepinResource":"PinResource",_=a?.imageUrl||u?.imageUrl,m=a?.link||u?.link,g=!a?.entityId&&_?(0,b.Z)(_,m):a?.imageSpec_orig?.url||"",f={...d,board_id:t||"",color:n||"",clientTrackingParams:(0,w.Z)(r,a?.trackingParams),description:this.state.pinDescription,guid:l||"",link:m,image_base64:a?.imageBase64??void 0,image_url:g,is_buyable_pin:!1,is_removable:a?.promotedIsRemovable??void 0,media_upload_id:a?.mediaUploadId??void 0,method:s||"",pin_id:a?.entityId||"",section:i,title:a?.title||"",...c?{advertiser_id:c}:Object.freeze({}),...p?{shuffle_asset:p.entityId}:{}};if(!e){let{facebook:e,twitter:t}=this.state.sharing;f.share_facebook=e,f.share_twitter=t}return o.Z.create(h,f)}),Z(this,"triggerPubSubs",e=>{this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),Z(this,"makeCancelablePromise",e=>{let t=!1;return{promise:new Promise((i,n)=>{e.then(e=>t?n({isCanceled:!0}):i(e)),e.catch(e=>t?n({isCanceled:!0}):n(e))}),cancel(){t=!0}}}),Z(this,"handleLogToastClick",()=>{this.props.logContextEvent({event_type:101,component:20,view_type:52})}),Z(this,"showBoardSavedToast",(e,t)=>{let{toastManagerContext:i,i18n:n}=this.props;i.showToast(({hideToast:i})=>(0,T.jsx)(h.Z,{duration:O.A,href:t?`${e.url??""}${t.slug??""}`:e.url,imageUrl:e.image_cover_url??"",onClick:this.handleLogToastClick,onHide:i,text:R(n,e.name,t)}))}),Z(this,"dismissModal",()=>{let{resolve:e,newPin:t}=this.state;e&&e(t)}),Z(this,"handleBoardSaveSuccess",(e,t,i,n)=>{let{action:r,saveToBoard:a,dispatch:s,pin:l,setCompletionPromise:o,shouldShowToast:d,showRepinAnimation:c,viewerUserId:u,urlPinInfo:h}=this.props;s((0,p.fO)());let _=e.resource_response.data,m=this.makeCancelablePromise(new Promise(e=>{this.triggerPubSubs(_);let r=this.state.pinDescription.match(N)||[];r.length>0&&this.props.logContextEvent({event_type:2,element:10273,object_id_str:this.props.pin?.entityId,aux_data:{hashtags:JSON.stringify(r)}});n?(d&&this.showBoardSavedToast(t,i),this.safeSetState({displaySuccessAnimation:!0,modalTitle:this.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:_,resolve:e})):e(_)}));!n&&l?.entityId&&c(l.entityId),o(m),a(t),s((0,I.Br)({boardId:t.id,sectionId:i&&i.id,increment:1})),u&&(s((0,E.JS)({userId:u,increment:1})),s((0,p.fO)())),(i||!t.image_cover_url)&&(t.image_cover_url=l?.imageUrl||h?.imageUrl||l?.imageSpec_236x?.url||"",s((0,I.yT)(t))),i&&s((0,f.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:i.id}})),l?.entityId&&s((0,A.Ur)({id:l.entityId,nodeId:l.__id,boardId:t.id,title:t.name??"",url:t.url??"",localPinId:_.id}))}),Z(this,"handleSaveToBoard",(e,t,i)=>{let{onToggleModal:n,shouldShowToast:r,mountAfterActionPlacement:a}=this.props;r&&!i&&(this.close(),this.showBoardSavedToast(e,t));let s="secret"===(e.privacy||""),l={board:t?t.id:e.id,state:O.S.LOADING};this.safeSetState({boardSavedTo:l},()=>{this.getPinResource(s,e.id,(t||{}).id).callCreate({showError:!1}).then(r=>{a("Save",{pin_id:this.props.pin?.entityId,is_promoted:this.props.pin?.isPromoted}),this.safeSetState({boardSavedTo:Object.assign(l,{state:O.S.SUCCESS})},()=>this.handleBoardSaveSuccess(r,e,t,i)),n&&!i&&n(!1)}).catch(e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),c.Z.showError(e.message_detail||e.message);let t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),n&&n(!1)})})}),Z(this,"handleNewBoardAnimationCompletion",()=>{let{pin:e,showRepinAnimation:t}=this.props;e?.entityId&&t(e.entityId)})}getModalTitle(e,t){if(e)if(t)return this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane');else return this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board');return t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}componentDidUpdate(e){let{boardWithSection:t,showCreate:i,pin:n,urlPinInfo:r,description:a}=this.props,s={};(n!==e.pin||r!==e.urlPinInfo||a!==e.description)&&(s.pinDescription=n?.description||r?.description||a||""),(i!==e.showCreate||t!==e.boardWithSection)&&(s.modalTitle=this.getModalTitle(i,!!t)),Object.keys(s).length>0&&this.safeSetState(s)}componentWillUnmount(){this.unmounted=!0}render(){let{close:e,dismissModal:t,handleNewBoardAnimationCompletion:i,handleSaveToBoard:n,setModalTitle:r,updateDescription:a}=this,{boardSavedTo:s,displaySuccessAnimation:l,modalTitle:o,newPin:d}=this.state,{color:c}=this.props;return this.props.children({boardSavedTo:s,color:c,dismissModal:t,displaySuccessAnimation:l,handleAbort:e,handleNewBoardAnimationCompletion:i,handleSaveToBoard:n,modalTitle:o,newPin:d,setModalTitle:r,updateDescription:a})}}function F({pinKey:e,shuffleAssetKey:t,...i}){let{saveToBoard:n}=(0,S.N)(),{logContextEvent:r}=(0,d.v)(),a=(0,P.W)()?.onPinCreate,o=(0,g.ZP)(),c=(0,l.TH)(),p=(0,v.Z)(),h=(0,y.F9)(),f=(0,s.I0)(),{updateHeaderState:b}=(0,x.Z)(),w=(0,s.v9)(({advertiser:e})=>p.isAuth&&e&&e.owner_user_id!==p.id?e.id:void 0),{previous:I}=(0,m.Hv)(),A=(0,u.cO)(),E=(0,_.Z)(B,e),k=(0,_.Z)(L,t);return(0,T.jsx)(D,{...i,advertiser_id:w,dispatch:f,i18n:o,location:c,logContextEvent:r,mountAfterActionPlacement:A,onPinCreate:a,pin:E,previousHistory:I,saveToBoard:n,showRepinAnimation:e=>b({type:"showRepinAnimation",payload:e}),shuffleAsset:k,toastManagerContext:h,viewerUserId:p.isAuth?p.id:void 0})}},855799:(e,t,i)=>{"use strict";i.d(t,{Z:()=>es});var n,r,a,s,l=i(667294);i(167912);var o=i(883119),d=i(758339),c=i(384609),u=i(144326),p=i(383399),h=i(723223),_=i(291130),m=i(545007),g=i(488792),f=i(730212),y=i(465256),b=i(785893);let v=({board:e,completeCreateSectionAction:t,height:i,onClose:n,pinImport:r,url:a,width:s})=>{let c=(0,u.ZP)(),{isRTL:p}=(0,f.B)(),h=(0,g.Z)(),_=(0,m.I0)(),[v,x]=(0,l.useState)(""),[S,w]=(0,l.useState)(!1),[P,I]=(0,l.useState)(null);return(0,b.jsx)(d.ZP,{accessibilityModalLabel:c._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),footer:(0,b.jsx)(o.kC,{children:(0,b.jsx)(o.xu,{marginStart:"auto",children:(0,b.jsx)(o.zx,{color:"red",dataTestId:"create-section-add-button",disabled:S||!v.trim()||!!P,fullWidth:!0,onClick:()=>{e&&(w(!0),_((0,y.Z)({boardId:e.id,name:v.trim(),pinImport:r},c,void 0,h)).then(i=>{t(e,i,!1)}).catch(e=>{I(e.message_detail||e.message)}).finally(()=>{w(!1)}))},size:"lg",text:c._('Add', 'sectionCreateModal.add.button', 'add a new section')})})}),heading:(0,b.jsx)(o.xu,{paddingY:8,children:(0,b.jsxs)(o.kC,{justifyContent:"center",children:[(0,b.jsx)(o.xu,{maxWidth:400,children:(0,b.jsx)(o.X6,{align:"center",size:"600",children:c._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,b.jsx)(o.xu,{left:p,padding:8,position:"absolute",right:!p,top:!0,children:(0,b.jsx)(o.hU,{accessibilityLabel:c._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]})}),onDismiss:n,size:"sm",children:(0,b.jsx)(o.xu,{padding:8,children:(0,b.jsxs)(o.kC,{children:[(0,b.jsx)(o.zd,{height:i,rounding:4,width:s,children:a&&(0,b.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:i??1,naturalWidth:s??1,src:a})}),(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{width:s?`calc(100% - ${s}px)`:"100%"}},marginStart:8,children:(0,b.jsx)(o.nv,{dataTestId:"create-section-name-input-field",errorMessage:P,id:"sectionEditName",label:c._('Name', 'section.create.label', 'label text for section input'),onChange:e=>{x(e.value),I(null)},placeholder:c._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),size:"lg",type:"text",value:v})})]})})})};var x=i(573706),S=i(338623),w=i(961754),P=i(382396),I=i(410150);let A=void 0;function E(e,t,i,n){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...i?{advertiser_id:i,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:A,shortlist_suggestions:2,isDesktop:n}}var k=i(151600),C=i(909999);let j=void 0!==n?n:n=i(940220),T=e=>{let t=[],i=[];return e.forEach(e=>{e.name?.match(/^\d/)?i.push(e):t.push(e)}),[...t,...i]};class R extends l.Component{constructor(...e){var t,i,n;super(...e),t="getSections",i=e=>{let{boardResource:{data:t}}=this.props;if(!t)return[];let{all_boards:i,boards_shortlist:n}=t,r=T(i);return r.length<=3?[{items:r}]:e.length>=P.Z?[{items:(0,C.j)(r,e)}]:[n.length?{items:n,title:this.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:r,title:this.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{boardResource:{data:e,error:t,isLoaded:i},boardSavedTo:n,isSelectMode:r,onBoardCreate:a,onBoardSelected:s,pin:l}=this.props,o=i&&!!e&&e.all_boards.length<=3;return(0,b.jsx)(k.Z,{boardSavedTo:n,getSections:this.getSections,hasLoadError:!!t,hasLowBoardCount:o,isLoaded:i,isSelectMode:r,onCreate:a,onSelected:s,pinId:l?.entityId})}}function O({pinKey:e,...t}){let i=(0,u.ZP)(),n=(0,p.Z)(),r=(0,I.HG)(),a=(0,c.Z)(j,e),s=(0,m.v9)(({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.id}),l=(0,m.v9)(({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.owner_user_id}),o=(0,w.Z)({name:"BoardPickerBoardsResource",options:E(a?.entityId,l,s,r)});return(0,b.jsx)(R,{...t,boardResource:o,i18n:i,pin:a})}class Z extends l.Component{constructor(...e){var t,i,n;super(...e),t="getSections",i=e=>{let{board:t,i18n:i,sectionsResource:{data:n}}=this.props,r=i._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),a=i._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return e.length>=P.Z?[{items:(0,C.j)([t],e),customProps:{inSectionSelection:!0}},{items:(0,C.j)(n??[],e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0},title:r},{items:n??[],title:a}]},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{sectionsResource:{error:e,isLoaded:t},boardSavedTo:i,isSelectMode:n,onSectionCreate:r,onSectionSelected:a,pinId:s}=this.props;return(0,b.jsx)(k.Z,{boardSavedTo:i,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),getSections:this.getSections,hasLoadError:!!e,isLoaded:t,isSelectMode:n,onCreate:r,onSelected:a,pinId:s})}}function N(e){let t=(0,u.ZP)(),i=(0,w.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,b.jsx)(Z,{...e,i18n:t,sectionsResource:i})}var B=i(640498),L=i(89934),D=i(360410),F=i(559028),z=i(415384);function M(e){let t=(0,u.ZP)(),{body:i,img:n,onClick:r,selected:a,title:s,username:l,valid:d}=e;return(0,b.jsx)(o.xu,{marginBottom:4,children:(0,b.jsx)(o.iP,{onTap:r,children:(0,b.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[n,(0,b.jsxs)(o.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,b.jsx)(o.xu,{marginBottom:1,children:(0,b.jsx)(o.xv,{lineClamp:1,weight:"bold",children:s})}),(0,b.jsx)(o.xv,{lineClamp:1,size:"100",children:l||i})]}),(0,b.jsx)(o.xu,{marginStart:2,children:l?a?(0,b.jsx)(o.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,b.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,b.jsx)(o.zx,{color:"gray",disabled:!!a||!d,size:"sm",text:a?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')})})]})})})}var U=i(332322);function H(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function K(e,t,i){let{id:n}=e;return t===i.findIndex(e=>e.id===n)}class G extends l.Component{constructor(...e){super(...e),H(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),H(this,"isIdSelected",{}),H(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),H(this,"handleCollaboratorClick",e=>{let{id:t,type:i}=e;this.isIdSelected[t]=!this.isIdSelected[t];let{inviteUsers:n,inviteEmails:r}=this.props,{selectedCollaborators:a}=this.state,s=a.concat([e]);this.props.onSelectedCollaboratorsChange({id:t,resource:"email"===i?r:n}),this.setState({selectedCollaborators:s})}),H(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){let{inviteUsers:e,inviteEmails:t}=this.props;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(i=>{let{id:n,type:r}=i;return this.isIdSelected[n]=!this.isIdSelected[n],this.props.onSelectedCollaboratorsChange({id:n,resource:"email"===r?t:e}),null})}render(){let{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,i=t||[],n=(""===e?this.state.selectedCollaborators.concat(i).filter(K):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:(0,D.Z)(e)}).concat(i).filter(K)).map(e=>(function(e,t,i,n){if("user_share_suggestion"===e.type||"user"===e.type){let n=(0,b.jsx)(F.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,b.jsx)(M,{img:n,onClick:()=>i(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){let r,a,{id:s,valid:l}=e,d=(0,b.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,b.jsx)(o.JO,{accessibilityLabel:n._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),c=(0,z.Z)(n._('Email {{ email }}', ' - ', ' -- '),{email:s});return t?(r=n._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),a=()=>void 0):(r=l?n._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):n._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),a=()=>l?i(e):void 0),(0,b.jsx)(M,{body:r,img:d,onClick:a,selected:t,title:c,valid:l})}})(e,this.isIdSelected[e.id],this.handleCollaboratorClick,this.props.i18n)).map((e,t)=>(0,b.jsx)("li",{children:e},t));return(0,b.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,b.jsx)(o.xu,{paddingX:3,paddingY:2,children:(0,b.jsx)(o.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,b.jsx)(o.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,b.jsx)(o.xu,{flex:"grow",children:(0,b.jsx)(L.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,b.jsx)(o.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:e})})})}),(0,b.jsx)(o.xu,{marginBottom:14,overflow:"scrollY",paddingX:3,children:(0,b.jsx)("ul",{children:n})})]})}}function W(e){let t=(0,u.ZP)(),i=(0,w.Z)({name:"ShareSuggestionsResource",noCache:!0}),n=(0,U.zC)(),r=(0,U.DK)();return(0,b.jsx)(G,{...e,i18n:t,inviteEmails:n,inviteUsers:r,shareSuggestionsResource:i})}var $=i(560104),Y=i(960221);function V({onCancel:e,onCreate:t,onInvite:i,prefilledName:n,preselectedCollaborators:r,showTitle:a}){let s=(0,u.ZP)(),{isRTL:d}=(0,f.B)(),{handleCreate:c,handleChangeName:p,handleChangePrivacy:h,isAdAccountOwner:_,state:{createBoardError:m,inputName:g,nameValidatorErrors:y,privacy:v,saving:x}}=(0,Y.Z)({onCreate:t,prefilledName:n}),S=0===y.length,w=v===B.ZP.BoardPrivacy.SECRET;return(0,b.jsx)(o.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,b.jsx)("form",{onSubmit:e=>{e.preventDefault(),c()},style:{height:"100%"},children:(0,b.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[a&&(0,b.jsx)(o.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,b.jsx)(o.X6,{size:"400",children:s._('Create board', ' - ', ' -- ')})}),(0,b.jsxs)(o.xu,{padding:3,children:[(0,b.jsx)(o.xu,{marginBottom:2,children:(0,b.jsx)(o.__,{htmlFor:"boardEditName",children:(0,b.jsx)(o.xv,{size:"100",children:s._('Name', ' - ', ' -- ')})})}),(0,b.jsx)(o.xu,{children:(0,b.jsx)(o.nv,{errorMessage:y.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>p(e),placeholder:s._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:g})})]}),_&&(0,b.jsxs)(l.Fragment,{children:[(0,b.jsxs)(o.xu,{padding:3,children:[(0,b.jsx)(o.xu,{marginBottom:2,children:(0,b.jsx)(o.__,{htmlFor:"secret",children:(0,b.jsx)(o.xv,{size:"100",children:s._('Secret', 'secret board', 'secret board')})})}),(0,b.jsx)(o.xu,{children:(0,b.jsx)(o.rs,{id:"secret",onChange:h,switched:w})})]}),(0,b.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,b.jsx)(o.xu,{width:"100%",children:(0,b.jsx)(W,{onSelectedCollaboratorsChange:i,preselectedCollaborators:r})})})]}),!_&&(0,b.jsx)(l.Fragment,{children:(0,b.jsxs)(o.xu,{padding:3,children:[(0,b.jsx)(o.xu,{marginBottom:2,children:(0,b.jsx)(o.__,{htmlFor:"protected",children:(0,b.jsx)(o.xv,{size:"100",children:s._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,b.jsx)(o.xu,{children:(0,b.jsx)(o.rs,{disabled:!0,id:"protected",onChange:()=>void 0,switched:!0})})]})}),(0,b.jsxs)(o.xu,{borderStyle:"shadow",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:d,paddingX:4,paddingY:2,position:"absolute",right:!d,width:720,children:[(0,b.jsx)(o.kC,{children:(0,b.jsx)(o.zx,{onClick:e,text:s._('Cancel', 'cancel board create', 'cancel board create')})}),(0,b.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",children:[!!m&&(0,b.jsx)(o.xu,{paddingX:2,children:(0,b.jsx)(o.xv,{align:"center",color:"error",size:"200",weight:"bold",children:m})}),(0,b.jsx)($.Z,{disabled:!g.trim()||!S||!!m||x,submitting:x,text:s._('Create', 'create a new board', 'create a new board')})]})]})]})})})}var q=i(150333);function X(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let Q=void 0!==r?r:r=i(587679);class J extends l.Component{constructor(...e){super(...e),X(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),X(this,"close",()=>{let{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:i}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):i()}),X(this,"sendInvites",e=>{let{inviteQueue:t}=this.state;Object.keys(t).forEach(i=>{t[i].resource(e.id??"",[i])})}),X(this,"handleInvite",e=>{let{inviteQueue:t}=this.state;if(t[e.id]){let i={...t};delete i[e.id],this.setState({inviteQueue:i})}else{let i={...t,[e.id]:e};this.setState({inviteQueue:i})}}),X(this,"handleBoardCreate",e=>{let{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),X(this,"handleBoardSave",(e,t)=>{let{selectedSectionBoard:i}=this.state,{onBoardSave:n,invalidatePinBetterSaveResource:r,invalidateResource:a}=this.props,s="board_section"===e.type;if(a(),r(),i&&("boardsection"===e.type||s))return n(i,e,t);let{section_count:l=0}=e;!i&&"number"==typeof l&&l>0?this.setState({selectedSectionBoard:e},this.manageModalTitle):(this.sendInvites(e),n(e,void 0,t))}),X(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle),this.props.logContextEvent({event_type:101,component:e?13105:13025,element:e?10306:249})}),X(this,"manageModalTitle",()=>{let{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:i}=this.state;e&&e(i&&t?this.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):i&&!t?this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t&&!i?this.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))})}render(){let{boardSavedTo:e,isRepin:t,isSelectMode:i,pin:n,preselectedCollaborators:r,setModalTitle:a,suggestedBoardTitle:s}=this.props,{newName:l,selectedSectionBoard:d,showCreate:c}=this.state,u=!!d,p=!a;return(0,b.jsxs)(o.xu,{display:"flex",position:"relative",width:"100%",children:[!c&&(0,b.jsx)(o.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?(0,b.jsx)(N,{board:d,boardSavedTo:e,isSelectMode:i,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):(0,b.jsx)(O,{boardSavedTo:e,isSelectMode:i,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinKey:n})}),c&&!d&&(0,b.jsx)(V,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:l||s,preselectedCollaborators:r,showTitle:p}),c&&d&&(0,b.jsx)(q.Z,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:l,isRepin:t,onClearModal:this.close,showTitle:p})]})}}function ee({pinKey:e,...t}){let{logContextEvent:i}=(0,x.v)(),n=(0,u.ZP)(),r=(0,c.Z)(Q,e),a=(0,m.I0)();return(0,b.jsx)(J,{...t,i18n:n,invalidatePinBetterSaveResource:()=>{a((0,S.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:()=>{a((0,S.jB)("BoardPickerBoardsResource",E(r?.entityId)))},logContextEvent:i,pin:r})}var et=i(374371);function ei(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let en=void 0!==a?a:a=i(600483),er=void 0!==s?s:s=i(947793);class ea extends l.PureComponent{constructor(...e){super(...e),ei(this,"pinImageRef",(0,l.createRef)()),ei(this,"handleSavePinToBoard",(e,t,i)=>{let{handleSaveToBoard:n}=this.props;n(e,t,i)}),ei(this,"close",()=>{let{handleAbort:e}=this.props;e()}),ei(this,"dismissModal",()=>{let{dismissModal:e}=this.props;e&&e()})}render(){let{boardSavedTo:e,boardWithSection:t,color:i,displaySuccessAnimation:n,handleNewBoardAnimationCompletion:r,isInModal:a,newPin:s,pin:c,preselectedCollaborators:u,onBoardCreated:p,sensitiveContentNotice:m,setModalTitle:g,showCreate:f,shouldRenderContent:y,suggestedBoardTitle:x,updateDescription:S,urlPinInfo:w,shuffleAsset:P}=this.props,I=w?.description||w?.link||w?.imageUrl;if(!c&&!I||!y)return null;if(f&&t)return(0,b.jsx)(v,{board:t,completeCreateSectionAction:this.handleSavePinToBoard,height:c?.imageSpec_236x?.height??0,onClose:this.close,url:c?.imageSpec_236x?.url??w?.imageUrl??"",width:c?.imageSpec_236x?.width??0});let A=null;s&&s.board&&(A=s.board.name);let E=m&&m.title||this.props.modalTitle,k=m?(0,b.jsx)(h.Z,{inModal:!0,notices:[m]}):(0,b.jsx)(o.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,b.jsxs)(l.Fragment,{children:[(0,b.jsxs)(o.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,b.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,b.jsx)(o.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,b.jsx)(et.Z,{color:i,pinImageRef:this.pinImageRef,pinKey:c,shuffleAssetKey:P,updateDescription:S,urlPinInfo:w})})}),(0,b.jsx)(o.kC,{alignItems:"stretch",width:"60%",children:(0,b.jsx)(ee,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:p,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:c,preselectedCollaborators:u,setModalTitle:a?g:void 0,showCreate:f,suggestedBoardTitle:x})})]}),n&&(0,b.jsx)(_.Z,{onDismiss:()=>{r(),this.dismissModal()},pinImageRef:this.pinImageRef,pinKey:c,selectedBoardName:A,shuffleAssetKey:P})]})});return a?(0,b.jsx)(d.ZP,{accessibilityModalLabel:E||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal'),heading:E,onDismiss:this.close,size:"md",children:k}):k}}ei(ea,"defaultProps",{pwtAuxData:{}});let es=function({pinKey:e,shuffleAssetKey:t,...i}){let n=(0,u.ZP)(),r=(0,p.Z)(),a=(0,c.Z)(en,e),s=(0,c.Z)(er,t);return(0,b.jsx)(ea,{...i,i18n:n,pin:a,shuffleAsset:s,viewer:r})}},845349:(e,t,i)=>{"use strict";i.d(t,{A:()=>n,S:()=>r});let n=4e3,r={LOADING:"loading",SUCCESS:"success"}},960221:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(667294),r=i(545007),a=i(640498),s=i(194093),l=i(144326),o=i(240760),d=i(338623),c=i(383399),u=i(26456),p=i(599911),h=i(207666);function _({onCreate:e,prefilledName:t}){let i=(0,l.ZP)(),_=(0,r.v9)(({advertiser:e})=>e),m=(0,r.I0)(),g=(0,c.Z)(),f=!_||g.isAuth&&_.owner_user_id===g.id,y=_&&_.id,b=(0,h.Z)(),[v,x]=(0,n.useState)({createBoardError:null,inputName:t||"",nameValidatorErrors:[],privacy:f?a.ZP.BoardPrivacy.PUBLIC:a.ZP.BoardPrivacy.PROTECTED,saving:!1}),S=()=>{let{inputName:t,privacy:n}=v;x({...v,saving:!0,createBoardError:null}),b({boardCreateOptions:{name:t,privacy:n,...!f&&y?{advertiser_id:y}:Object.freeze({}),aux_data:{source:"board_picker"}}}).then(t=>{x({...v,saving:!1}),e(t)}).catch(e=>{let t=i._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else{let i=(0,s.Z)(e,"message");if(i){let n=(0,s.Z)(e,"message_detail");t=n?`${i} ${n}`:i}}x({...v,saving:!1,createBoardError:t})}),m((0,d.jB)("BoardsResource",(0,p.Z)(g.isAuth?g.username:"",n===a.ZP.BoardPrivacy.SECRET)))};return{handleChangeName:(e,t)=>{x({...v,inputName:e,nameValidatorErrors:(0,u.FU)([(0,u.aH)({message:i._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,u.Gy)({max:a.ZP.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,o.nk)(i._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:a.ZP.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null}),t&&S()},handleChangePrivacy:()=>{x({...v,privacy:v.privacy===a.ZP.BoardPrivacy.SECRET?a.ZP.BoardPrivacy.PUBLIC:a.ZP.BoardPrivacy.SECRET})},handleCreate:S,isAdAccountOwner:f,state:v}}},274377:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var n=i(667294),r=i(883119),a=i(559028),s=i(144326),l=i(609326),o=i(400416),d=i(864723);let c={POST_CREATE_UPSELL:"POST_CREATE_UPSELL_V2"};function u(e){return(d.ZP.getItem(l.Hm)||[]).includes(e)||!1}function p(e,t){if(!e)return!1;try{return new URL(e).hostname.endsWith(t)}catch{return e.includes(t)}}let h="instagram.com";async function _(){let e=await (0,o.Z)({url:"/v3/users/settings",method:"GET"}),t=e?.resource_response?.data||{};return{hasClaimedInstagram:t.connected_to_instagram||!1,hasInstagramLink:p(t.listed_website_url,h)}}var m=i(573706),g=i(785893);function f({url:e}){let t=(0,s.ZP)(),[i,o]=(0,n.useState)(!1),{logViewUpsell:f,logTapConnect:y}=function(){let{logContextEvent:e}=(0,m.v)();return{logViewUpsell:function(){e({event_type:13,view_type:679})},logTapConnect:function(){e({event_type:102,element:15936,aux_data:{action:"connect"}})}}}(),[b,v]=(0,n.useState)(!1);(0,n.useEffect)(()=>{!async function(){if(!p(e,h)||u(c.POST_CREATE_UPSELL))return;let{hasClaimedInstagram:t,hasInstagramLink:i}=await _();if(!t&&i){var n;o(!0),u(n=c.POST_CREATE_UPSELL)||d.ZP.prependItem(l.Hm,n),f(),setTimeout(()=>{v(!0)},2e3)}}()},[e]);let x=t._('Connect your Instagram account', 'InstagramClaimingUpsellModal.generalInfo', 'Alt/a11y text for the Instagram claiming upsell modal');return(0,g.jsx)(n.Fragment,{children:i&&(0,g.jsx)(r.mh,{children:(0,g.jsxs)(a.u_,{accessibilityModalLabel:x,align:"start",closeOnOutsideClick:!1,footer:(0,g.jsx)(r.kC,{justifyContent:"center",children:(0,g.jsx)(r.ZP,{color:"red",href:"/settings/claim/",onClick:()=>{o(!1),y()},size:"lg",text:t._('Connect now', 'InstagramClaimingUpsellModal.linkButton', 'The text for the complete button in the Instagram claiming upsell modal')})}),heading:(0,g.jsxs)(r.kC,{justifyContent:"end",children:[(0,g.jsx)("img",{alt:x,src:"https://s.pinimg.com/webapp/instagram-upsell-background-204586d8.jpg",style:{marginTop:-26,marginRight:-60,maxWidth:1e3}}),(0,g.jsx)(r.xu,{opacity:+!!b,children:(0,g.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:()=>o(!1),size:"sm"})})]}),isOpen:!0,onDismiss:()=>o(!1),size:"sm",children:[(0,g.jsx)(r.xu,{"data-test-id":"instagram-claiming-upsell-modal",marginBottom:6,marginTop:-2,paddingX:2,paddingY:2,position:"relative",children:(0,g.jsx)(r.X6,{align:"center",children:t._('Now you can turn your Instagram posts into Pins', 'InstagramClaimingUpsellModal.title', 'Dialog title that tells the user they can convert their Instagram posts into Pinterest pins')})}),(0,g.jsx)(r.xv,{align:"center",size:"400",children:t._('Connect your Instagram account with Pinterest and automatically create Pins from your Instagram posts.', 'InstagramClaimingUpsellModal.body', 'The body text of the Instagram claiming upsell modal')})]})})})}},571729:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(883119),r=i(845873),a=i(785893);function s({boardId:e}){let t=(0,r.gC)()(e),i=t?.images&&t.images["170x"]?t.images["170x"][0]:void 0;return e&&i?i.url&&(0,a.jsx)(n.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:i.url}):null}},592305:(e,t,i)=>{"use strict";i.d(t,{Z4:()=>d,ZP:()=>c,t_:()=>l});var n=i(609326),r=i(640498),a=i(864723),s=i(842909);let l=()=>{let e=(0,a.M0)().getItem(n.pm);return null!==e?JSON.stringify(e):""},o=()=>(0,a.M0)().getItem(n.pm)??[],d=(e,t)=>{let i=[...o()],l=i.length,d=l?i[0].path:"";if(!l||e!==d){let i=(0,s.Z)({path:e,pageType:t});(0,a.M0)().prependItem(n.pm,i,r.LG)}},c=o},207666:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(545007),r=i(782677),a=i(252071),s=i(835764),l=i(786974),o=i(468808),d=i(338623);function c(){let e=(0,n.I0)(),t=(0,n.v9)(e=>e.resources);return async function({boardCreateOptions:i,deprecatedSchemaForNormalization:n}){let c=await a.Z.create("BoardResource",i).callCreate(),u=c.resource_response.data,p=n?(0,r.Fv)(u,n):void 0;e((0,d.XM)("BoardResource",i,c,p)),e((0,s.fO)({event_type:20})),u.owner?.id&&e((0,o.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let h=t.BoardsResource||{},_=t.BoardsFeedResource||{};return Object.keys(h).forEach(t=>{(0,l.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(_).forEach(t=>{(0,l.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},871335:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(883119),r=i(717067),a=i(144326),s=i(785893);function l({duration:e}){let t=(0,a.ZP)();return(0,s.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,s.jsx)(n.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,s.jsx)(n.xu,{marginStart:1,children:(0,s.jsx)(n.xv,{color:"inverse",lineClamp:1,size:"100",children:(0,r.Z)(e)})})]})}},400067:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ep});var n=i(410150),r=i(383399),a=i(616550),s=i(667294),l=i(883119),o=i(252071),d=i(107830),c=i(118755),u=i(573706),p=i(400416),h=i(144326),_=i(730212),m=i(626964),g=i(901450),f=i(937304),y=i(195456),b=i(855799),v=i(785893);function x(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let S="success",w="fail";class P extends s.Component{constructor(...e){super(...e),x(this,"_completionPromiseTimeout",null),x(this,"_pincreateCompletionPromise",null),x(this,"state",{boardName:"",pinId:"",showPinSuccess:!1,pinImageUrl:this.props.urlPinInfo.imageUrl,readyToRender:!!this.props.urlPinInfo.imageUrl}),x(this,"setCompletionPromise",e=>{this._pincreateCompletionPromise=e,this._pincreateCompletionPromise.promise.then(e=>{this.logCreateEvent({id:e.id,status:S}),this.setState({boardName:e.board.name,pinId:e.id,showPinSuccess:!0}),this._completionPromiseTimeout=window.setTimeout(this.handleClose,1e4)}).catch(()=>{this.logCreateEvent({status:w})})}),x(this,"logCreateEvent",({id:e,status:t})=>{let{method:i,query:n}=this.props;if(t===S&&n.guid||t===w){let r=(0,f.Z)({...n,client:"web",event:`pin_create_${t}`,...e?{pin_id:e}:{},path:i});new Image().src="https://log.pinterest.com/?"+r}}),x(this,"handleHeightChange",e=>{window.resizeTo(750,e+48)}),x(this,"handleClose",()=>{window.setTimeout(window.close,1)}),x(this,"handleClosePinCreateSuccess",()=>{let{requestContext:e}=this.props;(0,c.G6)(e.userAgent.browserName)||e.experimentsClient.flush(),window.clearTimeout(this._completionPromiseTimeout)}),x(this,"_createImageResource",e=>{(0,p.Z)({url:"/v3/pins/image/",method:"PUT",data:{image_url:e},callOptions:{async:!0}})}),x(this,"_findPinImageResource",e=>{o.Z.create("FindPinImagesResource",{url:e,scrapeMetric:"www_url_scrape"}).callGet({showError:!1}).then(e=>{if(!e||!e.resource_response||!e.resource_response.data)return;let t=(e.resource_response.data.items||[]).filter(e=>"pinnable"===e.type);0!==t.length&&(this._createImageResource(t[0].url),this.setState({pinImageUrl:t[0].url}))}).finally(()=>this.setState({readyToRender:!0}))})}componentDidMount(){let{urlPinInfo:e}=this.props;e.imageUrl?this._createImageResource(e.imageUrl):this._findPinImageResource(e.link),window.opener&&window.innerHeight<750&&this.handleHeightChange(750)}componentWillUnmount(){this._pincreateCompletionPromise&&this._pincreateCompletionPromise.cancel()}renderShowPinSuccess(){let{color:e,urlPinInfo:t}=this.props,{boardName:i,pinImageUrl:n,pinId:r,showPinSuccess:a}=this.state;return(0,v.jsx)(d.Z,{boardName:i,color:e,description:t.description,imageUrl:n,link:t.link,onClose:this.handleClosePinCreateSuccess,openNewTab:a,pinId:r})}render(){let{action:e,color:t,urlPinInfo:i,guid:n,method:r}=this.props,{pinImageUrl:a}=this.state,s={description:i.description,imageUrl:a,link:i.link};return(0,v.jsx)(l.xu,{children:(0,v.jsx)(l.xu,{alignItems:"center",bottom:!0,color:this.state.showPinSuccess?"secondary":"dark",display:"flex",justifyContent:"center",overflow:"scrollY",position:"fixed",right:!0,top:!0,width:"100%",children:this.state.showPinSuccess?this.renderShowPinSuccess():(0,v.jsx)(y.K,{action:"repin"===e?"repin":"create",color:t,description:i.description,guid:n,method:r,onClose:this.handleClose,pinKey:null,setCompletionPromise:this.setCompletionPromise,urlPinInfo:s,children:({boardSavedTo:e,dismissModal:n,displaySuccessAnimation:r,handleAbort:a,handleNewBoardAnimationCompletion:o,handleSaveToBoard:d,newPin:c,modalTitle:u,setModalTitle:p,updateDescription:h})=>(0,v.jsx)(l.xu,{maxWidth:750,width:"100%",children:(0,v.jsx)(b.Z,{boardSavedTo:e,color:t,description:i.description,dismissModal:n,displaySuccessAnimation:r,handleAbort:a,handleNewBoardAnimationCompletion:o,handleSaveToBoard:d,modalTitle:u,newPin:c,onHeightChange:this.handleHeightChange,pinKey:null,pwtAuxData:{pin_create_method:"bookmarklet"},setModalTitle:p,shouldRenderContent:!this.state.showPinSuccess&&this.state.readyToRender,updateDescription:h,urlPinInfo:s})})})})})}}function I(e){let{logContextEvent:t}=(0,u.v)(),i=(0,h.ZP)(),n=(0,m.Z)();return(0,v.jsx)(P,{...e,i18n:i,logContextEvent:t,requestContext:(0,_.B)(),siteType:n,toastManagerContext:(0,g.F9)()})}var A=i(212515),E=i(868808);function k(){let e=(0,a.TH)(),{action:t,method:i}=(0,a.UO)(),n=(0,E.mB)(e.search);return(0,A.Q)({view_type:12,view_parameter:119,view_data:{method:i||"create",guid:n.guid}}),(0,v.jsx)(I,{action:t||"create",color:n.color,method:i||"create",query:{color:n.color,media:n.media||"",description:n.description,url:n.url,guid:n.guid},urlPinInfo:{description:n.description,imageUrl:n.media,link:n.url}})}var C=i(545007),j=i(488792),T=i(476198),R=i(240760),O=i(94757),Z=i(775383),N=i(297728),B=i(961754),L=i(343931),D=i(246826),F=i(654556),z=i(343583);let M=function({nextRouterState:e,selectedBoard:t}){let i=(0,h.ZP)(),n=t?`/board/${t.id}/create_section/`:"/board/create/",r=(0,z.Z)({href:{pathname:n,state:e}});return(0,v.jsx)(F.Z,{height:70,children:(0,v.jsx)(l.rU,{href:n,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),r({event:e})},rounding:2,children:(0,v.jsxs)(l.xu,{alignItems:"center",display:"flex",padding:1,children:[(0,v.jsx)(l.JO,{accessibilityLabel:i._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,v.jsx)(l.xu,{marginStart:3,children:(0,v.jsx)(l.xv,{weight:"bold",children:t?i._('Create section', 'Create new section to Pin to', 'Create new section to Pin to'):i._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})};var U=i(612719),H=i(497816),K=i(919122),G=i(891487),W=i(971618),$=i(571729);function Y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class V extends s.PureComponent{constructor(...e){super(...e),Y(this,"state",{isPinCreating:!1}),Y(this,"onBoardSelected",(e,t)=>{t?this.setState({selectedBoard:e}):this.createPin(e)}),Y(this,"onSectionSelected",(e,t)=>{let i=this.state.selectedBoard;i&&this.createPin(i,t)}),Y(this,"findPinnableImagePromise",e=>o.Z.create("FindPinImagesResource",{url:e,scrapeMetric:"www_url_scrape"}).callGet({showError:!1}).then(e=>{if(e?.resource_response.data){let t=(e.resource_response.data.items||[]).filter(e=>"pinnable"===e.type);if(t.length>0)return t[0].url}return""})),Y(this,"getRouterStateFromUrlParams",()=>{let{location:{search:e,state:t},match:{params:{method:i}}}=this.props,{description:n,guid:r,media:a,url:s}=(0,E.mB)(e);return{...{description:n||"",guid:r,imageUrl:a||"",link:s,method:i||D.it},...t}}),Y(this,"createPin",async(e,t)=>{this.setState({isPinCreating:!0});let{checkExperiment:i,createPin:n,history:r,logContextEvent:a,showToast:s}=this.props,o=this.getRouterStateFromUrlParams();if((0,D.sW)(o)){let{imageUrl:e,link:t}=o;t&&""===e&&(o.imageUrl=await this.findPinnableImagePromise(t))}let d=(0,D.dU)({boardId:e.id,checkExperiment:i,createPin:n,sectionId:t&&t.id,state:o});try{let e=(await Promise.all(d))[0].resource_response.data,{board:t,id:i}=e;s&&"function"==typeof s&&s(({hideToast:i})=>(0,v.jsx)(T.Z,{_dangerouslySetThumbnail:(0,v.jsx)(l.xu,{height:32,width:32,children:(0,v.jsx)($.Z,{boardId:t.id})}),duration:5e3,href:`/pin/${e?.id}`,onHide:i,primaryAction:{accessibilityLabel:this.props.i18n._('Navigate to created Pin', 'storyboard.toast.viewPublishedPin.accessibilityLabel', 'Accessibility label on a button link text on a toast that appears to confirm creation of a pin. Tapping on the button navigates user to the created pin'),label:this.props.i18n._('View', 'storyboard.toast.viewPublishedPin.buttonText', 'Button link text on a toast that appears to confirm creation of a pin. Tapping on the button navigates user to the created pin'),onClick:()=>{}},text:(0,R.Wc)(this.props.i18n._('Saved to {{ boardName }}', 'CreatePinPage.Toast.Message', 'Confirmation message after saving Pin into Board. boardName: board name'),{boardName:t.name})})),a({event_type:1,view_type:92,component:7,object_id_str:i}),(0,D.sW)(o)||r.length<=1?window.close():(0,D.n0)(o)&&r.length>2?r.go(-2):r.goBack()}catch(e){this.setState({isPinCreating:!1}),s&&"function"==typeof s&&s(({hideToast:e})=>(0,v.jsx)(T.Z,{onHide:e,text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation')}))}}),Y(this,"backToBoardPicker",()=>{this.setState({selectedBoard:void 0})})}renderRecentBoards(){let{i18n:e,recentBoards:t}=this.props;return(0,v.jsxs)(l.xu,{marginTop:2,children:[(0,v.jsxs)(l.xu,{marginBottom:1,children:[(0,v.jsx)(l.xv,{children:e._('Top choices', ' - ', ' -- ')}),t.map(e=>(0,v.jsx)(G.Z,{boardId:e.id,onBoardSelected:t=>this.onBoardSelected(e,t)},e.id))]}),(0,v.jsx)(l.iz,{})]})}renderAllBoards(){let{allBoards:e,boardPickerResource:t,i18n:i}=this.props;return(0,v.jsxs)(l.xu,{marginBottom:1,marginTop:2,children:[(0,v.jsx)(l.xv,{children:i._('All boards', ' - ', ' -- ')}),t.isFetching&&(0,v.jsx)(l.xu,{column:12,paddingY:2,children:(0,v.jsx)(l.xH,{accessibilityLabel:i._('Loading boards', ' - ', ' -- '),show:!0})}),e.map(e=>(0,v.jsx)(G.Z,{boardId:e.id,onBoardSelected:t=>this.onBoardSelected(e,t)},e.id))]})}render(){let{allBoards:e,location:{state:t},recentBoards:i}=this.props,{selectedBoard:n}=this.state,r=(0,D.n0)(t);return(0,v.jsxs)(Z.default,{hasFixedHeader:!0,children:[(0,v.jsx)(O.default,{children:(0,v.jsxs)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,v.jsx)(l.xu,{column:2,children:n?(0,v.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Back', 'navigation button', 'navigation button'),icon:"arrow-back",iconColor:"gray",onClick:this.backToBoardPicker,size:"lg"}):(0,v.jsx)(K.Z,{icon:r?"arrow-back":"cancel",padding:3})}),(0,v.jsx)(l.xu,{column:8,children:(0,v.jsx)(l.xv,{align:"center",weight:"bold",children:n?this.props.i18n._('Choose section', 'label for section picker in pin create', 'label for section picker in pin create'):this.props.i18n._('Choose board', 'label for board picker in pin create', 'label for board picker in pin create')})}),(0,v.jsx)(l.xu,{column:2})]})}),(0,v.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:90}},position:"relative",children:[(0,v.jsxs)(l.xu,{children:[(0,v.jsx)(l.iz,{}),n?(0,v.jsx)(W.Z,{boardId:n.id,repin:this.onSectionSelected}):(0,v.jsxs)(l.xu,{marginBottom:1,children:[i&&i.length>0&&this.renderRecentBoards(),e&&e.length>=0&&this.renderAllBoards()]})]}),this.state.isPinCreating&&(0,v.jsx)(L.Z,{})]}),(0,v.jsx)(M,{nextRouterState:this.getRouterStateFromUrlParams(),selectedBoard:n})]})}}let q=e=>{let{hostname:t}=(0,E.Qc)(e);return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com"))};function X(){let e=(0,a.k6)(),t=(0,a.TH)(),i=(0,a.$B)(),n=(0,C.I0)(),s=(0,h.ZP)(),l=(0,j.Z)(),{checkExperiment:o}=(0,N.F)(),{isAuth:d}=(0,r.Z)(),{showToast:c}=(0,g.F9)(),{search:u}=t,{url:p}=(0,E.mB)(u),{hostname:_,path:m}=(0,E.Qc)(p),f=(0,C.v9)(e=>e.session.userId),y=(0,C.v9)(e=>(e.users[f]??{}).recent_boards??[]),b=(0,C.v9)(e=>(0,H.Z)(e)),{isFetching:x}=(0,B.Z)({name:"BoardPickerBoardsResource",options:{filter:"all",field_set_key:"profile_grid_item",user_id:f}});if(!d)return(0,v.jsx)(a.l_,{to:"/"});if(!_||q(_)){let e=m.match(/^(\/amp)?\/pin\/(\d+)\/$/);if(e){let t=e[2],i=`/pin/${t}/repin/x/`;return(0,v.jsx)(a.l_,{to:{pathname:[i]}})}}return(0,v.jsx)(V,{allBoards:b,boardPickerResource:{isFetching:x},checkExperiment:o,createPin:e=>n((0,U.i)(e)),history:e,i18n:s,location:t,logContextEvent:l,match:i,recentBoards:y,showToast:c})}var Q=i(172045),J=i(989274),ee=i(325764),et=i(949808),ei=i(707874),en=i(28171),er=i(994964),ea=i(332839),es=i(499068),el=i(969119),eo=i(415787);function ed({width:e,height:t,src:i,onImageLoad:n}){let r=(0,h.ZP)();return(0,el.Z)(()=>n({width:e,height:t})),(0,v.jsx)(l.Ee,{alt:r._('Uploaded image', 'Label for a user uploaded image on Pin create', 'Label for a user uploaded image on Pin create'),naturalHeight:t??1,naturalWidth:e??1,src:i})}function ec({imageUrl:e}){(0,s.useEffect)(()=>{(0,eo.nP)("offsite_pin_creation.view",{sampleRate:1,tags:{type:"single_pin"}})},[]);let t=(0,a.TH)(),[i,n]=(0,s.useState)((0,ea.Z)({width:1,height:1}));return(0,v.jsxs)(l.xu,{"data-test-id":"pindraft-external-body",direction:"row",display:"flex",marginTop:0,children:[(0,v.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingX:5,children:(0,v.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:ei.LM,children:(0,v.jsx)(l.xu,{direction:"column",display:"flex",height:i,position:"relative",children:(0,v.jsx)(l.xu,{"data-tutorial-id":"pin-builder-media-draft-view",flex:"grow",height:"100%",children:(0,v.jsx)(l.xu,{height:"100%",width:"100%",children:(0,v.jsx)(l.xu,{"data-test-id":"media-image-view",height:"100%",overflow:"hidden",rounding:2,width:"100%",children:(0,v.jsx)(en.Z,{url:e,children:({image:t})=>{let i=t[0];return i?(0,v.jsx)(ed,{height:i.height,onImageLoad:({width:e,height:t})=>{e&&t&&n((0,ea.Z)({width:e,height:t}))},src:e,width:i.width}):null}})})})})})})}),(0,v.jsx)(l.xu,{color:"secondary",marginTop:-5,width:2}),(0,v.jsx)(l.xu,{"data-test-id":"unauth-offsite-pin-creation-signup",children:(0,v.jsx)(et.default,{attributionLabel:t.state?.attributionLabel,container:"pinBookmarklet",nextUrlParam:encodeURIComponent(`${t.pathname}${t.search}&${ee.r}=${ee.O}`),signupFlow:{type:"login"},signupSource:"pinBookmarklet"})})]})}function eu(){let e=(0,h.ZP)(),t=(0,_.B)(),i=(0,r.Z)(),[n,o]=(0,s.useState)(null),d=(0,a.TH)(),c=(0,E.mB)(d.search);return(0,el.Z)(()=>(er.Z.initialize({user:void 0,requestContext:t,viewer:i,location:d,advertiser:void 0,scenario:"offsite_pin_creation"}),o({id:(0,Q.Z)(),imageUrl:c.media}),(window.opener||"bookmarklet"===c.method)&&(window.innerHeight<J.C||window.innerWidth<J.N)&&window.resizeTo(J.N,J.C),()=>o(null))),(0,v.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{top:es.Pw}},direction:"column",display:"flex",left:!0,position:"fixed",right:!0,children:(0,v.jsxs)(l.xu,{color:"secondary","data-test-id":"pin-builder",flex:"grow",height:"100%",position:"relative",children:[(0,v.jsx)(l.xu,{display:"visuallyHidden",children:(0,v.jsx)(l.X6,{accessibilityLevel:1,children:e._('Pin Builder', 'pinBuilder.heading', 'The page heading for Pin Builder')})}),(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{border:"4px solid transparent"}},height:"100%",overflow:"auto",children:(0,v.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transformOrigin:"top center",transition:`transform 250ms ${ei.rc}, height 250ms ${ei.rc}`}},height:"100%",children:(0,v.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",paddingY:7,children:(0,v.jsx)(l.xu,{children:(0,v.jsx)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:(0,v.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:n&&(0,v.jsx)(l.xu,{"data-group-id":"pin-builder-pin-draft","data-test-id":`pin-builder-pin-draft-${n.id}`,paddingY:3,children:(0,v.jsx)(l.xu,{position:"relative",children:(0,v.jsx)(l.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:ei.XB}},"data-test-id":"pin-builder-draft",direction:"column",display:"flex",paddingX:ei.bo,rounding:4,width:ei.of,children:(0,v.jsx)(ec,{imageUrl:n.imageUrl})})})})})})})})})})]})})}let ep=function(){let e=(0,n.HG)(),t=(0,r.Z)();return e?t.isAuth?(0,v.jsx)(k,{}):(0,v.jsx)(eu,{}):(0,v.jsx)(X,{})}},757749:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});let n={CUSTOM:0,HIDDEN:1,HOPE:2,LOVE:3,NONE:4}},766889:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/create/[method]",function(){return i(400067).Z}])},693967:(e,t)=>{var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=a(t,i));return t}(i)))}return e}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(i=(function(){return r}).apply(t,[]))||(e.exports=i)}()}},e=>{var t=t=>e(e.s=t);e.O(0,[97270,83119,15787,80899,76594,61754,42298,36565,27234,84609,90917,82809,47679,93861,50063,90407,32322,84659,76030,50526,58766,88565,38628],()=>t(766889)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/create/[method]-8c97960dc67b12cb.mjs.map