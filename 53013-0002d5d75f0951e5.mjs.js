(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["53013"],{762587:function(e){e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var s=e.length;o>0&&s>o&&(s=o);for(var l=0;l<s;++l){var c,u,d,p,_=e[l].replace(a,"%20"),h=_.indexOf(n);(h>=0?(c=_.substr(0,h),u=_.substr(h+1)):(c=_,u=""),d=decodeURIComponent(c),p=decodeURIComponent(u),Object.prototype.hasOwnProperty.call(r,d))?Array.isArray(r[d])?r[d].push(p):r[d]=[r[d],p]:r[d]=p}return r}},712361:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,r){return(n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(r){var a=encodeURIComponent(t(r))+i;return Array.isArray(e[r])?e[r].map(function(e){return a+encodeURIComponent(t(e))}).join(n):a+encodeURIComponent(t(e[r]))}).join(n):r?encodeURIComponent(t(r))+i+encodeURIComponent(t(e)):""}},817673:function(e,t,n){t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},470131:function(e,t,n){n.d(t,{YD:()=>d,df:()=>u});var i=n(667294);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=new Map,o=new Map,s=0;function l(e,t,n){if(void 0===n&&(n={}),!e)return function(){};var i=function(e){var t=Object.keys(e).sort().filter(function(t){return void 0!==e[t]}).map(function(t){var n;return t+"_"+("root"===t?(n=e.root)?(o.has(n)||(s+=1,o.set(n,s.toString())),o.get(n)):"0":e[t])}).toString(),n=a.get(t);if(!n){var i,r=new Map,l=new IntersectionObserver(function(t){t.forEach(function(t){var n,a=t.isIntersecting&&i.some(function(e){return t.intersectionRatio>=e});e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=a),null==(n=r.get(t.target))||n.forEach(function(e){e(a,t)})})},e);i=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:r},a.set(t,n)}return n}(n),r=i.id,l=i.observer,c=i.elements,u=c.get(e)||[];return c.has(e)||c.set(e,u),u.push(t),l.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(c.delete(e),l.unobserve(e)),0===c.size&&(l.disconnect(),a.delete(r))}}function c(e){return"function"!=typeof e.children}var u=function(e){function t(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),c(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e;var n=t.prototype;return n.componentDidUpdate=function(e){(e.rootMargin!==this.props.rootMargin||e.root!==this.props.root||e.threshold!==this.props.threshold||e.skip!==this.props.skip||e.trackVisibility!==this.props.trackVisibility||e.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())},n.componentWillUnmount=function(){this.unobserve(),this.node=null},n.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,i=e.rootMargin,r=e.trackVisibility,a=e.delay;this._unobserveCb=l(this.node,this.handleChange,{threshold:t,root:n,rootMargin:i,trackVisibility:r,delay:a})}},n.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},n.render=function(){if(!c(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var a=this.props,o=a.children,s=a.as,l=a.tag,u=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t.indexOf(n=a[i])>=0||(r[n]=e[n]);return r}(a,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,i.createElement)(s||l||"div",r({ref:this.handleNode},u),o)},t}(i.Component);function d(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,a=t.trackVisibility,o=t.rootMargin,s=t.root,c=t.triggerOnce,u=t.skip,d=t.initialInView,p=(0,i.useRef)(),_=(0,i.useState)({inView:!!d}),h=_[0],m=_[1],f=(0,i.useCallback)(function(e){void 0!==p.current&&(p.current(),p.current=void 0),!u&&e&&(p.current=l(e,function(e,t){m({inView:e,entry:t}),t.isIntersecting&&c&&p.current&&(p.current(),p.current=void 0)},{root:s,rootMargin:o,threshold:n,trackVisibility:a,delay:r}))},[Array.isArray(n)?n.toString():n,s,o,c,u,a,r]);(0,i.useEffect)(function(){p.current||!h.entry||c||u||m({inView:!!d})});var g=[f,h.inView,h.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}u.displayName="InView",u.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}},237666:function(e,t,n){var i=n(667294),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,o=i.useRef,s=i.useEffect,l=i.useMemo,c=i.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,i,u){var d=o(null);if(null===d.current){var p={hasValue:!1,value:null};d.current=p}else p=d.current;var _=a(e,(d=l(function(){function e(e){if(!s){if(s=!0,a=e,e=i(e),void 0!==u&&p.hasValue){var t=p.value;if(u(t,e))return o=t}return o=e}if(t=o,r(a,e))return t;var n=i(e);return void 0!==u&&u(t,n)?(a=e,t):(a=e,o=n)}var a,o,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,i,u]))[0],d[1]);return s(function(){p.hasValue=!0,p.value=_},[_]),c(_),_}},331103:function(e,t,n){e.exports=n(237666)},955168:function(e,t,n){n.r(t),n.d(t,{default:()=>r});let i={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarketingPixelQuery",selections:a=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"PrivacyPolicyRules",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sendEventsToFacebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sendPixel",storageKey:null}],storageKey:null}],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MarketingPixelQuery",selections:a},params:{id:"0af0ebc3d1bdfa898b3fb7209156a29f43e45a5762ade8f5909b21f8930336ca",metadata:{},name:"MarketingPixelQuery",operationKind:"query",text:null}};i.hash="d461335ac93d4f0aac1c624d0f23c98a";let r=i;var a,o=i.default||i;if("query"===o.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(o);else{let e=[o.params.name,o.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=o}},731517:function(e,t,n){n.d(t,{Z:()=>r});var i=n(994193);async function r(e,t){let{api:n}=(0,i.t)(),r=(0,i.u)();try{r.attempt("getMultipleBizEntityProperties",t);let i=new Date().getTime(),a=await n.post("/ads/v4/business_entities",e,!1);return r.success("getMultipleBizEntityProperties",t),r.latency("getMultipleBizEntityProperties",new Date().getTime()-i,t),a}catch(e){throw r.failure("getMultipleBizEntityProperties",t),e}}(0,i.u)()},861241:function(e,t,n){n.d(t,{Z:()=>r});var i=n(994193);async function r(e,t){let{api:n}=(0,i.t)(),r=(0,i.u)();try{r.attempt("setMultipleBizEntityProperties",t);let i=new Date().getTime(),a=await n.patch("/ads/v4/business_entities",e,!1);return r.success("setMultipleBizEntityProperties",t),r.latency("setMultipleBizEntityProperties",new Date().getTime()-i,t),a}catch(e){throw r.failure("setMultipleBizEntityProperties",t),e}}(0,i.u)()},680616:function(e,t,n){n.d(t,{Fy:()=>a,ZP:()=>o,_G:()=>r});var i=n(627973);let r=e=>i.Fd[e]??i.U5.MORE_IDEAS,a=e=>i.lJ[e]??0,o="/collage-creation-tool"},947862:function(e,t,n){n.d(t,{Z:()=>s,g:()=>a});var i=n(616550),r=n(888226);let a="lastOnHomefeed",o=["/","/homefeed/"];function s(){let{pathname:e}=(0,i.TH)(),t=(0,i.k6)(),n=o.includes(e),s=t&&"POP"!==t.action;if(n&&s){let e=JSON.parse((0,r.q)(a,null)),t=e?.time?Date.now()-e.time:0;return{shouldMaintainHomefeed:t>0&&t/6e4<2.5,lastHFScrollPosition:e?.scrollPosition}}return{shouldMaintainHomefeed:!1}}},26581:function(e,t,n){n.d(t,{Z:()=>d});var i=n(667294),r=n(616550),a=n(470205),o=n(774838),s=n(825605),l=n(639008),c=n(785893);let u=(0,i.lazy)(()=>n.e("19085").then(n.bind(n,968900)));function d(e){let{removeInSiteFeedbackModal:t,submitInSiteFeedback:n,inSiteFeedback:i}=(0,l.y)(),{actionFrom:d,isSubmitting:p,modalOpen:_,modalTitle:h,nextPageToRedirect:m,prompt:f,submissionComplete:g,submissionFailure:v}=i,b=(0,r.TH)(),w=(0,o.B)();return _?(0,c.jsx)(a.Z,{name:"SafeSuspense_InSiteFeedbackManager_InSiteFeedbackManagerInternal",children:(0,c.jsx)(s.Z,{children:(0,c.jsx)(u,{...e,actionFrom:d,hideModal:()=>t(),isSubmitting:p,location:b,modalOpen:_,nextPageToRedirect:m,prompt:f,requestContext:w,submissionComplete:g,submissionFailure:v,submitFeedback:e=>n(e),title:h})})}):null}},65711:function(e,t,n){n.d(t,{Z:()=>r});var i=n(462867);let r=()=>{let e=(0,i.Z)();return!!e.isAuth&&e.isPartner}},69406:function(e,t,n){n.d(t,{Oz:()=>i,mo:()=>o,nt:()=>a,v8:()=>r});let i={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE",CATALOG:"CATALOG"},r="BUSINESS_PANEL",a="ASSET_PANEL",o=500},800287:function(e,t,n){n.d(t,{lG:()=>C,FE:()=>N,d9:()=>k});var i=n(667294),r=n(616550),a=n(65711),o=n(684645),s=n(462867),l=n(767415);let c=()=>{let e=(0,s.Z)(),t=(0,a.Z)(),[n,r]=(0,i.useState)({isReady:!1}),c=(0,i.useCallback)(async({entityId:e,actingBusinessId:n,favorites:i})=>{t&&(await (0,o.yo)({entityId:e,actingBusinessId:n,favorites:i}),r(e=>{let t={...e,actingBusinessId:n};return i&&(t.favoriteAdAccounts={favoriteAdAccountsMap:{...e.favoriteAdAccounts?.favoriteAdAccountsMap||{},[i.actingBusinessId]:{advertiserId:i.adAccounts}}}),t}))},[t]);return(0,i.useEffect)(()=>{t&&e.isAuth&&!n.isReady&&(async()=>{let t=!1;try{let t=await (0,o.SF)({entityId:e.id});r(e=>({...e,...t}))}catch{t=!0}finally{(0,l.nP)("globalAccountSwitcher.getFavoriteAdAccounts",{sampleRate:1,tags:{businessId:e.id,hasError:t}}),r(e=>({...e,isReady:!0}))}})()},[n.isReady,t,e]),{accountSwitcherConfig:n,setConfig:c}};var u=n(581722),d=n(387535),p=n(442279),_=n(498539);let h=(0,p.createSelector)(_.Z,({viewerIsProfileOwnerOrProfileManager:e})=>e??void 0);var m=n(200619),f=n(601871),g=n(414448);let v=()=>{let e=(0,s.Z)(),t=(0,i.useRef)(e);t.current=e;let n=(0,u.I0)(),r=(0,m.Z)(),a=(0,i.useRef)(r);a.current=r;let l=(0,u.v9)(h),c=l?.data||void 0,p=(0,i.useRef)(c);p.current=c,(0,i.useEffect)(()=>{(async()=>{if(t.current.isAuth&&void 0===l.data){let e=await (0,o.bG)({user_id:t.current.id});if(void 0!==e&&void 0===p.current){let i=(0,f.D3)(t.current,e?.id??"",a)||t.current.isAuth&&t.current.username===e?.username;n((0,d.Z)(!!i))}}})()},[t,p,n,a,l]);let _=(0,g.rc)(c);return{viewerIsProfileOwnerOrProfileManagerData:c,previousIsViewerProfileOwnerOrProfileManager:_}};var b=n(69406),w=n(230201),y=n(213491),S=n(173874),E=n(138482),x=n(613567),P=n(575820),I=n(563218),A=n(131990),O=n(785893);let{Provider:T,useHook:k}=(0,y.Z)("AccountSwitcherContext"),C=e=>e.search&&(0,P.mB)(e.search).advertiserId,N=({children:e})=>{let t=(0,r.TH)(),{params:{userBizId:n,businessHierarchyId:l,advertiserId:u,username:d}}=(0,r.$B)(),{catalogId:p}=(0,A.Z)(),_=C(t),h=(0,s.Z)(),{viewerIsProfileOwnerOrProfileManagerData:m,previousIsViewerProfileOwnerOrProfileManager:f}=v(),{checkExperiment:y}=(0,x.F)(),P=y("web_m10n_business_access_catalogs").anyEnabled,[k,N]=(0,i.useState)(""),[R,Z]=(0,i.useState)(null),[j,L]=(0,i.useState)(!1),[U,M]=(0,i.useState)(null),D=new URLSearchParams(t.search),[G,H]=(0,i.useState)(D.has("actingBusinessId")?null:{id:h.id||"",name:h.fullName||"",img:h.imageMediumUrl||""}),[B,z]=(0,i.useState)(!1),F=(0,a.Z)(),{logContextEvent:V}=(0,w.v)(),{accountSwitcherConfig:W,setConfig:$}=c();(0,i.useEffect)(()=>{l?N(l):N("")},[l]);let q=(0,i.useCallback)(async({id:e,username:t})=>{let n=await (0,o.bG)({user_id:e,username:t});n&&M({type:e?b.Oz.BUSINESS_ACCOUNT:b.Oz.PROFILE,id:e||n.id,name:n.full_name,img:n.image_medium_url,username:t,ownerImg:n.image_medium_url,ownerName:n.full_name,actingBusinessFullName:G?.name||n.full_name}),z(!1)},[G]),Y=(0,g.rc)(d);(0,i.useEffect)(()=>{(0,E.Z)(t)&&U&&Y!==d&&d===h.username&&(q({username:h.username}),H({id:h.id||"",name:h.fullName||"",img:h.imageMediumUrl||""}),Z({type:b.nt,id:h.id}))},[t,Y,q,U,d,h.fullName,h.id,h.imageMediumUrl,h.username]),(0,i.useEffect)(()=>{let e=async({businessId:e,assetId:n})=>{if(!e)return void z(!1);let i=P&&(0,S.Bg)(t)?"CATALOG":"AD_ACCOUNT";try{let e={asset:{name:""},type:i};if(h.isAuth){let{data:{data:t={[n]:e}}={}}=await (0,I.pI)({businessId:G?.id||h.id,assetIds:[n],resourceType:i})||{},{asset:r,type:a}=t[n]||e;M({id:n,name:"CATALOG"===i?t[n].owner.full_name:r.name,img:t[n].owner.image_medium_url,type:a,ownerImg:t[n].owner.image_medium_url,ownerName:t[n].owner.full_name,actingBusinessFullName:G?.name||t[n].owner.full_name})}}catch{M({id:h.id||"",name:h.fullName||"",img:h.imageMediumUrl||"",type:b.Oz.BUSINESS_ACCOUNT,ownerImg:h.imageMediumUrl||"",ownerName:h.fullName||"",actingBusinessFullName:h.fullName||""})}z(!1)},i=async({id:e})=>{let t=await (0,o.p)({hierarchyId:e});M({id:e,name:t?.data?t.data.name:"",img:t?.data?t.data.img_medium_url:"",type:b.Oz.BUSINESS_HIERARCHY,ownerImg:t?.data?t.data.img_medium_url:"",ownerName:t?.data?t.data.name:"",actingBusinessFullName:t?.data?t.data.name:""}),z(!1)};if(h.isAuth&&F){let r=U&&U.username&&U.username!==d,a=!0===m&&m!==f;if((!U||r||a)&&!B&&G){let r=(0,S.z6)(t)||(0,S.h3)(t),a=u||!!_&&!r||(0,S.Bg)(t)&&P;z(!0),l?i({id:l}):n?q({id:n}):(0,E.Z)(t)&&d&&m?q({username:d}):a?e({businessId:h.id,assetId:u||_||p||""}):U&&U.id===h.id||(M({type:b.Oz.BUSINESS_ACCOUNT,id:h.id||"",name:h.fullName||"",img:h.imageMediumUrl||"",ownerImg:h.imageMediumUrl||"",ownerName:h.fullName||"",actingBusinessFullName:h.fullName||""}),z(!1))}}},[U,h,l,n,d,u,_,G,F,t,q,B,m,f,p,P]);let K=(0,i.useMemo)(()=>({activePanel:R,selectedHierarchyId:k,switcherOpen:j,openAccountSwitcher:()=>{if(V({event_type:101,view_type:608,component:14346}),!R)if((0,S.z6)(t))Z({type:b.v8});else{let e=new URLSearchParams(t.search).get("actingBusinessId");Z({type:b.nt,id:e??G?.id})}L(!0)},closeAccountSwitcher:()=>{Z(U&&!(0,S.z6)(t)?{type:b.nt,id:G?.id}:{type:b.v8}),L(!1)},openAssetPanel:e=>{Z({type:b.nt,id:e})},closeAssetPanel:()=>{Z(U&&!(0,S.z6)(t)?{type:b.nt,id:G?.id}:{type:b.v8})},activateBusinessPanel:()=>{Z({type:b.v8})},actingBusiness:G,selectedAccount:U,setSelectedAccount:M,setActingBusiness:H,accountSwitcherConfig:W,setConfig:$}),[R,k,j,G,U,W,$,V,t]);return(0,O.jsx)(T,{value:K,children:e})}},684645:function(e,t,n){n.d(t,{IT:()=>c,SF:()=>_,WP:()=>u,bG:()=>p,p:()=>d,yo:()=>h});var i=n(731517),r=n(861241),a=n(27399),o=n(69406),s=n(681698),l=n(109563);let c=e=>({id:e.id,entity_type:o.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:o.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}),u=e=>({id:e.id,entity_type:o.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:o.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}),d=async({hierarchyId:e})=>(await (0,s.Z)({url:`ads/v4/business_access/business_hierarchy/${e}/`})).resource_response,p=async({user_id:e,username:t})=>{if(!t&&!e)return null;let{resource_response:{data:n}}=await a.Z.create("UserResource",{user_id:e,username:t}).callGet();return n},_=async({entityId:e})=>{let t=(await (0,i.Z)([{entity_type:"BIZ_USER",entity_id:e,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]))[0];return t&&t.properties?t.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG:{}},h=async({entityId:e,actingBusinessId:t,favorites:n})=>{let i={};(0,l.k)(t)||(i.actingBusinessId=t),n&&(i.favoriteAdAccounts={favoriteAdAccountsMap:{[n.actingBusinessId]:{advertiserId:n.adAccounts}}}),Object.keys(i).length>0&&await (0,r.Z)([{entity_type:"BIZ_USER",entity_id:e,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:i}}])}},611649:function(e,t,n){n.d(t,{Z:()=>l});var i=n(613567),r=n(739405),a=n(462867),o=n(200619),s=n(601871);function l(e){let t=(0,r.HG)(),{checkExperiment:n}=(0,i.F)(),l=(0,o.Z)(),c=(0,a.Z)(),u=(0,s.lJ)(c,l),d=!t||n("web_sce_organic_pinbuilder_dep").anyEnabled,p=n("uid_sce_lightswitch_advertisers").anyEnabled;return!u&&(e&&n("sce_lightswitch_organic"),!t||!!(d||p))}},907565:function(e,t,n){n.d(t,{d:()=>c,m:()=>l});var i=n(667294),r=n(213491),a=n(730448),o=n(785893);let{Provider:s,useHook:l}=(0,r.Z)("ShoppingIndicatorScroll");function c({children:e}){let t,[n,r]=(0,i.useState)(!1),l=(0,a.Z)(()=>{t&&clearTimeout(t),n||(r(!0),t=setTimeout(()=>{r(!1)},1500))},50);return(0,i.useEffect)(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[l]),(0,o.jsx)(s,{value:{showScrollUI:n},children:e})}},933442:function(e,t,n){n.d(t,{p:()=>l,t:()=>s});var i=n(667294),r=n(213491),a=n(785893);let{Provider:o,useHook:s}=(0,r.Z)("VisualShopContext");function l({children:e}){let[t,n]=(0,i.useState)({}),r=(0,i.useRef)(0),s=(0,i.useRef)("");return(0,a.jsx)(o,{value:{cachedOneBarModules:t,setCachedOneBarModules:n,imageContainerScrollTop:r,imageContainerScrollTopForPinId:s},children:e})}},132602:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),r=n(883119),a=n(785893);function o({color:e="red",duration:t,finalProgress:n,shape:o="pill"}){let[s,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},0);return()=>{clearTimeout(e)}},[]);let c="pill"===o;return(0,a.jsx)(r.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${s?"-5px":"-100%"})`:`scaleX(${+!!s})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:c?8:6,rounding:c?"pill":2,width:`${n}%`})}},777719:function(e,t,n){let i;n.d(t,{Z:()=>d,e:()=>o});var r=n(343669),a=n(505633);let o="data-pinterest-extension-installed",s=()=>Promise.resolve().then(n.bind(n,572840)),l=100,c={},u={[r.oi.CHROME]:{url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},[r.oi.FIREFOX]:{url:"https://addons.mozilla.org/en-US/firefox/addon/pinterest/",newWindow:!1},[r.oi.SAFARI]:{url:"https://apps.apple.com/us/app/save-to-pinterest/id6473649042",newWindow:!0},[r.oi.EDGE]:{url:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",newWindow:!0}};c.handleExtensionInstall=(e,t)=>{let n=(0,r.u$)(e),i=n?u[n].url:void 0;i&&((0,a.Z)(i,n?u[n].newWindow:void 0),t())},c.isExtensionInstalled=()=>i,c.isBrowserExtensionSupported=e=>(0,r.i7)(e)||(0,r.vU)(e)||(0,r.un)(e)||(0,r.G6)(e),c.extensionReady=(e,t=l)=>new Promise(n=>{setTimeout(()=>{document.body&&(i=document.body.hasAttribute(o),c.isBrowserExtensionSupported(e)||(i=!0),n(i))},t)}),c.initBrowserExtension=()=>{s().then(({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:i})})};let d=c},400962:function(e,t,n){n.d(t,{Hv:()=>l,aX:()=>d,nK:()=>p});var i=n(667294),r=n(616550),a=n(213491),o=n(785893);let{Provider:s,useHook:l}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){let n={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(n.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function d(){let{current:e,previous:t}=l();return(0,i.useMemo)(()=>e?t.concat(e):t,[e,t])}function p({children:e}){let t=(0,r.k6)(),n=(0,r.TH)(),a=(0,r.$B)(),l={forward:[],current:{action:t.action,location:n,match:a},previous:[]},[c,d]=(0,i.useReducer)(u,l),p=(0,i.useRef)(n);if(p.current!==n){let{action:e}=t;d({type:e,location:n,match:a}),p.current=n}return(0,o.jsx)(s,{value:c,children:e})}},43295:function(e,t,n){n.d(t,{Z:()=>_});var i=n(667294),r=n(883119),a=n(876594),o=n(498895),s=n(138596),l=n(59111),c=n(247387),u=n(865043),d=n(736328),p=n(785893);let _=({displayLocation:e})=>{let t=(0,s.ZP)(),n=(0,d.Z)(),[_,h]=(0,i.useState)((0,o.a)());return(0,i.useEffect)(()=>{h((0,o.a)())},[]),(0,p.jsxs)(r.xu,{paddingX:2,paddingY:4,children:[(0,p.jsx)(l.Z,{unsafeCSS:`
          [data-test-id="pinterest-terms-and-privacy"]:hover {
            border-radius: ${a.Zy6};
            background: ${a.CK8};
          }
          /* These two selectors ensure that the hover state for the link encompasses the background color and padding. */
          [data-test-id="pinterest-terms-and-privacy"] {
            position: relative;
          }
          [data-test-id="pinterest-terms-and-privacy"] a::before {
            content: '';
            position: absolute;
            inset: 0;
          }
        `}),(0,p.jsxs)(r.kC,{alignItems:"stretch",dataTestId:"unauth-settings-flyout",direction:"column",justifyContent:"start",children:[(0,p.jsx)(r.xu,{"data-test-id":"pinterest-terms-and-privacy",padding:3,children:(0,p.jsx)(r.xv,{color:"default",weight:"bold",children:(0,p.jsx)(r.rU,{href:c.U5h,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,u.NC)("click_terms_and_privacy"),n({action:"click",item:"pinterest-terms-and-privacy"})},underline:"none",children:t._('See terms & privacy', 'Text for the terms section in setting button in the header', 'Text for the terms section in setting button in the header')})})}),(0,p.jsxs)(r.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",padding:3,children:[(0,p.jsx)(r.xu,{flex:"grow",marginEnd:2,children:(0,p.jsx)(r.__,{htmlFor:"StopModalsRequest",children:(0,p.jsx)(r.xv,{color:"default",weight:"bold",children:t._('Stop requests to log in', 'A button to prevent the login/signup prompts from popping up', 'A button to prevent the login/signup prompts from popping up')})})}),(0,p.jsx)(r.xu,{"data-test-id":"stop-login-request",right:!0,children:(0,p.jsx)(r.rs,{id:"StopModalsRequest",onChange:()=>{h(!_),(0,o.B)(!_),(0,u.NC)("click_stop_login_request"),n({action:"click",item:_?"stop-login-request":"enable-login-request",within:`unauth-${e}`})},switched:_})})]})]})]})}},865575:function(e,t,n){n.d(t,{Z:()=>p});var i=n(465989),r=n(575820),a=n(925201),o=n(918985);let s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},l=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},c=e=>{let{campaignId:t,objectiveType:n,partialCreate:i,catalogsFeedId:r,managedClientId:o,catalogId:s,productGroupId:l,resumeLastDraft:c}=e,u={};return t&&i&&(u.campaignId=t),n&&(u.objectiveType=n),"CATALOG_SALES"===n&&r&&(u.catalogsFeedId=r),s&&(u.catalogId=s),l&&(u.productGroupId=l),o&&(u.managedClientId=o),c&&(u.resumeLastDraft=!0),(0,a.Z)("/ads/create/",u)},u=e=>{let{campaignToolPreference:t,...n}=e;return(0,a.Z)("/automated/ads/create/",n)},d={overview:()=>"/",reporting:e=>{let t=e.objectiveType||null;delete e.objectiveType;let n={...e,...l(t)};return(0,a.Z)("/reporting/campaigns/",n)},reportingAdGroup:e=>{let{campaignId:t,objectiveType:n,showAllEntities:i,adGroupId:r,message:o}=e,c={campaignIds:[t],...i?s:{},...l(n),...r?{adGroupIds:[r]}:{},message:o};return(0,a.Z)("/reporting/adgroups/",c)},campaign:e=>{let{id:t,objectiveType:n}=e;return(0,a.Z)("/reporting/adgroups/",{campaignIds:[t],...l(n)})},editCampaign:e=>e.isAutomatedCampaign?d.editAutomated({campaignId:e.id,view:"campaign"}):d.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{let{id:t,objectiveType:n,showAllEntities:i,pinPromotionId:r,campaignId:o}=e;return"TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n?(0,a.Z)("/reporting/productgroups/",{adGroupIds:[t],...l(n)}):(0,a.Z)("/reporting/ads/",{adGroupIds:[t],...l(n),...i?s:{},...r?{pinPromotionIds:[r]}:{},...o?{campaignIds:[o]}:{}})},editAdGroup:e=>e.isAutomatedCampaign?d.editAutomated({campaignId:e.id,view:"campaign"}):d.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{let{id:t,adFilter:n}=e;return(0,a.Z)("/reporting/ads/",{pinPromotionIds:[t],...n?{adFilter:n}:{}})},editPinPromotion:e=>{let t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return d.editV2({adGroupId:e.adGroupId,view:"ad",...n,...t})},productGroup:e=>{let{id:t,name:n}=e;return(0,a.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",bulkEdit:e=>{let{entity_level:t,ids:n}=e;return(0,a.Z)("/ads/bulk_edit/",{entity_level:t,ids:n})},productgroups:()=>"/reporting/productgroups/",productitems:()=>"/reporting/productitems/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>d.pinPromotion(e),createPreferred:e=>{switch(e.campaignToolPreference){case o.k.ADS_MANAGER:return c(e);case o.k.AUTOMATED_CAMPAIGN:return u(e);default:return(0,a.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0)}},campaignMode:e=>(0,a.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:c,createAutomated:u,editV2:e=>(0,a.Z)("/ads/edit/",e),editAutomated:e=>(0,a.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,a.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,a.Z)("/ads/duplicate/",e),audiences:e=>(0,a.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{let{page:t,subSection:n,nextStepUrl:r}=e;switch(t){case i.kM.BILLING_HISTORY:return"/billing/history/";case i.kM.ORDER_LINES:return"/billing/order_lines/";case i.kM.PROMOTIONS:return"/billing/promotions/";case i.kM.DOCUMENTS:return"/billing/documents/";case i.kM.TAX_DOCUMENTS:return"/billing/tax_documents/";case i.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:let o={};return n&&(o.section=n),r&&(o.next_step_link_url=r),(0,a.Z)("/billing/",o)}},bulk:e=>{let{subSection:t,page:n,jobStarted:r}=e||{};switch(n){case i.fm.UPLOAD_TEMPLATE:return(0,a.Z)("/bulk_editor/upload_template/",{section:t});case i.fm.DOWNLOAD_TEMPLATE:return(0,a.Z)("/bulk_editor/download_template/",{section:t});case i.fm.HISTORY:return(0,a.Z)("/bulk_editor/history/",{section:t,job_started:r});case i.fm.BULK_ID_LIBRARY:return(0,a.Z)("/bulk_editor/bulk_id_library/",{section:t});case i.fm.RESOURCES:return(0,a.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},experiments:e=>{let{page:t,id:n}=e;switch(t){case i.S9.CREATE:return"/experiments/create/";case i.S9.MANAGE:return"/experiments/manage/";case i.S9.VIEW_REPORT:return`/experiments/manage/${n}`;case i.S9.AB_TEST_CREATE:return"/experiments/ab-test/create";default:return"/experiments/"}},history:e=>(0,a.Z)("/history/",e),shopping:e=>d.reporting(l("TEMPORARY_SHOPPING")),pinterest_tag:e=>{let{page:t,subSection:n,platform:r,source:o,origin:s}=e;switch(t){case i.qp.PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:return"/conversions/events-overview/";case i.qp.PINTEREST_EVENT_HISTORY:if(o)return(0,a.Z)("/conversions/event-history/",{source:o});return"/conversions/event-history/";case i.qp.CONVERSION_HEALTH:return"/conversions/health/";case i.qp.PINTEREST_TEST_EVENTS:return(0,a.Z)("/conversions/test-events/",{subPage:n,platform:r});case i.qp.PINTEREST_TAG:return(0,a.Z)("/conversions/tag/",{subPage:n,platform:r});case i.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:let l=(0,a.Z)("/conversions/tag_manual_setup/",{origin:s});if(r)return(0,a.Z)(l,{platform:r,source:o});return l;case i.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case i.qp.CONVERSION_UPLOAD:return(0,a.Z)("/conversions/upload/",{subPage:n});case i.qp.UPLOAD_HISTORY:return(0,a.Z)("/conversions/history/",{subPage:n});case i.qp.PCA_UPLOAD_HISTORY:return(0,a.Z)("/conversions/pca_history/",{subPage:n});case i.qp.PCA_UPLOAD:return(0,a.Z)("/conversions/pca_upload/",{subPage:n});case i.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:if(o||s)return(0,a.Z)("/conversions/api_manual_setup/",{source:o,origin:s});return"/conversions/api_manual_setup/";case i.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:if(o||s)return(0,a.Z)("/conversions/api_partner_setup/",{source:o,origin:s});return"/conversions/api_partner_setup/";case i.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case i.qp.PINTEREST_SETUP_API:return"/conversions/setup-api/";case i.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";case i.qp.PAYLOAD_HELPER:return"/conversions/payload-helper/";case i.qp.CONVERSIONS:return"/conversions/";case i.qp.NOCODE_CONVERSIONS_API_SETUP_FLOW:return"/conversions/pinterest_capi_connect/";case i.qp.PINTEREST_EVENT_HISTORY_CAPI_TAB:return"/conversions/event-history/#conversionsAPI";case i.qp.PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:return"/conversions/events-overview/#conversionsAPI";default:return"/conversions/tag/"}},"pin-builder":e=>(0,a.Z)("/pin-builder/",e),purchases:()=>d.reporting(l("PURCHASE")),awareness_reserved:()=>d.reporting(l("IMPRESSION")),engagement:()=>d.reporting(l("BILLABLE_ENGAGEMENT")),videos:()=>d.reporting(l("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>d.reporting(l("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>d.reporting(l("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>d.reporting(l("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,a.Z)("/reporting/preferences/",e),report_builder:e=>(0,a.Z)("/report-center/builder/",e),report_history:e=>(0,a.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,a.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,a.Z)("/report-center/download/",e),awareness:()=>d.reporting(l("AWARENESS")),traffic:()=>d.reporting(l("TRAFFIC")),app_installs:()=>d.reporting(l("APP_INSTALL")),catalog_sales:()=>d.reporting(l("CATALOG_SALES")),web_conversion:()=>d.reporting(l("WEB_CONVERSION")),video_view:()=>d.reporting(l("VIDEO_VIEW")),quick_promote:e=>(0,a.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,a.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>{let t=`/campaign-insights/${e.campaignId}/`;if(e.queryParams){let{start_date:n,end_date:i,comp_start_date:a,comp_end_date:o}=e.queryParams;t+=`?${(0,r.XP)({start_date:n,end_date:i,comp_start_date:a,comp_end_date:o})}`}return t},product_group_reporting:e=>`/campaign-insights/${e.campaignId}/product-group/${e.productGroupId}`,media_planner:e=>(0,a.Z)("/media_planner/",e),ad_spend_optimizer:e=>(0,a.Z)("/msot-optimizer/",e)},p=d},331716:function(e,t,n){n.d(t,{t:()=>c,Z:()=>u});var i=n(50571),r=n(966502),a=n(470967),o=n(681698),s=n(767415);let l=function(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{return window.Notification.permission}catch(e){return}}(),c="default"===l||"granted"===l;async function u(){if("undefined"!=typeof navigator&&"serviceWorker"in navigator&&void 0!==navigator.serviceWorker&&"Notification"in window&&"PushManager"in window)try{let{permission:e}=window.Notification,t=await navigator.serviceWorker.ready;if("granted"===e)try{let e=await t.pushManager.getSubscription(),n=await fetch("/getWebPushKey"),{key:l}=await n.json();if(!e&&l){let e={userVisibleOnly:!0,applicationServerKey:(0,i.Mp)(l)};(0,s.nP)("getChromePushSubscription.no_subscription",{sampleRate:1});let n=await t.pushManager.subscribe(e);((e,t)=>{a.t8(r.L9,"allowed",(0,a.kZ)(r.L9)),t&&t(),(0,s.nP)("auth.web.notifications.allowed",{sampleRate:1});let n=e.subscriptionId&&"string"==typeof e.subscriptionId?e.subscriptionId:e.endpoint.split("/").pop(),i={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};return(0,o.Z)({url:`/v3/users/devices/web/${n}/`,method:"PUT",data:i})})(n,void 0)}}catch(e){(0,s.nP)("getChromePushSubscription.error",{sampleRate:1})}}catch(e){(0,s.nP)("getChromePushSubscription.resubscribe.exception",{sampleRate:1})}}},95664:function(e,t,n){n.d(t,{$K:()=>c,dh:()=>i,ry:()=>s,xX:()=>u});let i=e=>/instagram/i.test(e||""),r=e=>/facebook/i.test(e||""),a=e=>/line/i.test(e||""),o=e=>/wechat/i.test(e||""),s=e=>i(e)||r(e)||a(e)||o(e),l="[Pinterest/Android]",c=e=>(e||"").includes("[Pinterest/iOS]")||(e||"").includes(l),u=e=>(e||"").includes(l)},676128:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},756219:function(e,t,n){n.d(t,{Z:()=>d});var i=n(667294),r=n(883119),a=n(222126),o=n(739879),s=n(138596),l=n(774838),c=n(785893);let u=({dismiss:e,errorMessage:t})=>{let n=(0,s.ZP)(),{isRTL:i}=(0,l.B)();return(0,c.jsx)(o.Z,{canClose:!1,hidden:!1,type:"error",children:(0,c.jsxs)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"6px"}},margin:"auto",width:380,zIndex:new r.Ry(2e3),children:[(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"20px",fontWeight:"bold",borderBottom:"1px solid #e7e7e7"}},padding:5,children:n._('Oops!', 'unauth.error.modal', 'Header for error modal')}),(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{color:"#333",fontSize:"14px",lineHeight:"21px"}},padding:5,children:t}),(0,c.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{float:i?"left":"right"}},padding:4,children:(0,c.jsx)(r.zx,{color:"red",onClick:()=>e(),size:"sm",text:n._('Okay', 'unauth.error.modal.okay', 'Button text for accepting that there was an error')})})]})})},d=({children:e})=>{let[t,n]=(0,i.useState)(null),r=(0,i.useRef)(null);return(0,a.o)(e=>{n(e),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{n(null)},3e3)}),(0,i.useEffect)(()=>()=>{r.current&&clearTimeout(r.current)},[]),(0,c.jsxs)(i.Fragment,{children:[e,!!t&&(0,c.jsx)(u,{dismiss:()=>n(null),errorMessage:t})]})}},739879:function(e,t,n){n.d(t,{Z:()=>c});var i=n(667294),r=n(883119),a=n(42538),o=n(865043),s=n(785893);function l(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"state",{hidden:this.props.hidden||!1}),l(this,"handleKeyDown",e=>{let{canClose:t,type:n}=this.props;"Escape"===e.key&&((0,o.My)(`unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON.${n}.${t?"can":"cant"}_close`),t&&((0,o.My)(`unauth.authentication_modal.esc_key_click.DISMISSED.${n}`),this.close())),e.stopPropagation()}),l(this,"close",()=>{let{onCloseClick:e,onHide:t}=this.props;e?e():(this.setState({hidden:!0}),t&&t())})}componentDidMount(){window.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown)}render(){let{hidden:e}=this.state,{canClose:t,children:n,type:i}=this.props;return e?null:(0,s.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"closeup"===i?"rgba(239, 239, 239, 0.96)":"rgba(0, 0, 0, 0.6)",cursor:"closeup"===i?"zoom-out":void 0}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:a.P,children:(0,s.jsx)("div",{"aria-label":"modal",onClick:()=>{(0,o.My)(`unauth.full_page_modal.${i}.empty_space_click`),t&&this.close()},role:"dialog",style:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:0,left:0,right:0,top:0,position:"fixed",display:"flex"},children:(0,s.jsx)("div",{"aria-label":"modal",onClick:e=>{e.stopPropagation()},onKeyDown:e=>{t&&"Escape"===e.key&&e.stopPropagation()},role:"dialog",style:{height:"100%",display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},children:n})})})}}},40679:function(e,t,n){n.d(t,{Z:()=>r});var i=n(53596);let r=`
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
nav,
section,
ul {
  display: block;
}

audio,
canvas,
video {
  display: inline-block;
}

audio:not([controls]) {
  display: none;
}

html {
  font-size: 100%;
  text-size-adjust: none;
}

a:hover,
a:active {
  outline: 0;
}

sub,
sup {
  position: relative;
  font-size: 75%;
  line-height: 0;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}

img {
  max-width: 100%;
  width: auto;
  height: auto;

  vertical-align: middle;
  border: 0;
  -ms-interpolation-mode: bicubic;
}

#map_canvas img {
  max-width: none;
}

fieldset {
  border: 0;
  margin: 0;
  padding: 0;
}

button,
input,
select,
textarea {
  font-size: 100%;
  margin: 0;
  vertical-align: middle;
}
button,
input {
  overflow: visible;
  line-height: normal;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  padding: 0;
  border: 0;
}
button,
input[type='button'],
input[type='reset'],
input[type='submit'] {
  cursor: pointer;
  -webkit-appearance: button;
}
textarea {
  overflow: auto;
  vertical-align: top;
}
body {
  margin: 0;
}
h1, h2, h3, h4, h5, h6 {
  margin: 0;
}
figure {
  margin: 0;
}
html {
  background-color: #fff;
}

html, body {
  font-family: ${i.Z};
  color: rgb(33, 25, 34);
  font-size: 12px;
  height: 100%;
}

body {
  position: relative;
  overflow-y: overlay;
  overflow-x: hidden;
}

input::-ms-clear {
  display: none;
}

ul {
  margin: 0;
  padding: 0;
}

ul li {
  list-style: none;
  padding: 0;
}

button, input, select, textarea {
  font-family: ${i.Z};
  font-size: 100%;
  vertical-align: middle;
  margin: 0px;
}

.SkipToContent {
  display: none;
}
`},36796:function(e,t,n){n.d(t,{Z:()=>r,z:()=>a});var i=n(456940);function r(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],n=e&&-1!==e.indexOf(".")?e.split("."):[];if(n.length>=2&&"gmail"===n[0]&&"com"!==n.slice(1).join("."))return!0;let r=(0,i.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===r||2===r))return!0}return!1}function a(e,t){let n=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==n.length)return!1;let r=n[1],a=r&&-1!==r.indexOf(".")?r.split("."):[],o=a[0];if(o===t&&a.length>3)return!0;if(a.length>=2){let e=(0,i.Z)(o,t);return o.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==a.length||o!==t||2!==a[1].length&&"com"!==a[1])&&(a.length,!1)}},211405:function(e,t,n){n.d(t,{Z:()=>i});let i="M19.1 7.5c-.2-.7-.6-1.3-1-1.8l2.7-2.8-1.5-1.5L16.7 4c-1.4-1.1-3-1.6-4.7-1.6-3.3 0-6.2 2-7.2 5.2-2.9.7-4.8 3.1-4.8 6 0 2 1 3.9 2.5 5L.1 21.1l1.6 1.5 2.9-3c.3.1.7.2 1 .2H18.3c3.2-.2 5.7-2.9 5.7-6.2.1-3-2-5.5-4.9-6.1zm-2.6-.2c.2.4.4.7.5 1.1l.4 1.2 1.2.2c1.9.3 3.3 1.9 3.3 3.9s-1.5 3.8-3.6 4H6.6l9.9-10.4zM2.3 13.6c0-1.8 1.4-3.5 3.1-3.9l1.1-.2.3-1.1c.7-2.3 2.8-3.8 5.1-3.8 1.2 0 2.2.4 3.2 1.1L4.1 17c-1.1-.8-1.8-2-1.8-3.4z"},954934:function(e,t,n){n.d(t,{Z:()=>i});let i="M24.4 8.1c0-4.3-3.6-7.9-7.9-7.9-2.6 0-4.9 1.3-6.4 3.2-2.5.5-4.5 2.3-5.4 4.8-2.7.7-4.7 3.1-4.7 6 0 3.2 2.5 5.9 5.7 6.1H18.3c3.2-.2 5.7-2.9 5.7-6.1 0-.9-.2-1.7-.6-2.4.7-1.1 1-2.4 1-3.7zm-6.2 10H5.9c-2-.1-3.6-1.8-3.6-4 0-1.8 1.3-3.5 3.1-3.9l1.1-.1.3-1.1c.3-1 1-2 1.9-2.6 0 .5-.1 1.1-.1 1.6 0 4.3 3.6 7.9 7.9 7.9 2 0 3.9-.8 5.3-2v.3c0 2-1.6 3.8-3.6 3.9zm-1.7-4.3c-3.2 0-5.8-2.6-5.8-5.8s2.6-5.8 5.8-5.8 5.8 2.6 5.8 5.8-2.6 5.8-5.8 5.8z M18.9 5.5l-3.3 3.3-1.3-1.3c-.4-.4-.9-.4-1.3 0s-.4.9 0 1.3l1.9 1.9.6.6.6-.6L20 6.8c.4-.4.4-.9 0-1.3-.3-.3-.7-.3-1.1 0z"},306902:function(e,t,n){n.d(t,{L:()=>s,Z:()=>o});var i=n(883119),r=n(613567),a=n(774838);let o=()=>(0,i.Z6)({webExperimentName:"web_gestalt_visualrefresh",mwebExperimentName:"web_gestalt_visualrefresh"}),s=()=>{let e="default",{locale:t}=(0,a.B)(),{checkExperiment:n}=(0,r.F)();return"enabled_pinrep"===n("web_gestalt_visualrefresh").group?(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none":void 0}},17929:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>Object.keys(e).reduce((e,t)=>({...e,[t]:t}),{})},456940:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t){let n,i;if(0===e.length)return t.length;if(0===t.length)return e.length;let r=[];for(n=0;n<=t.length;n+=1)r[n]=[n];for(i=0;i<=e.length;i+=1)r[0][i]=i;for(n=1;n<=t.length;n+=1)for(i=1;i<=e.length;i+=1)t.charAt(n-1)===e.charAt(i-1)?r[n][i]=r[n-1][i-1]:r[n][i]=Math.min(r[n-1][i-1]+1,Math.min(r[n][i-1]+1,r[n-1][i]+1));return r[t.length][e.length]}},143699:function(e,t,n){n.d(t,{Z:()=>a});var i=n(173874),r=n(138482);function a(e){return(0,i.C$)(e)||(0,i.L6)(e)||(0,i.l4)(e)||(0,i.am)(e)||(0,i.En)(e)||(0,i.$V)(e)||(0,i.Zz)(e)||(0,r.Z)(e)||(0,i.Ni)(e)}},947417:function(e,t,n){n.d(t,{DL:()=>a,DO:()=>s,J7:()=>r,SL:()=>c,X:()=>o,a0:()=>i,gM:()=>u,kq:()=>l,xJ:()=>d});let i="home",r="closeup",a="news_hub",o="board",s="profile",l="topic",c="today",u="business",d="search"},126296:function(e,t,n){n.d(t,{Z:()=>o});var i=n(173874),r=n(138482),a=n(947417);function o(e){if((0,i.C$)(e))return a.a0;if((0,i.L6)(e))return a.J7;if((0,i.l4)(e))return a.DL;if((0,i.am)(e))return a.X;if((0,r.Z)(e))return a.DO;if((0,i.En)(e))return a.xJ;if((0,i.$V)(e))return a.kq;else if((0,i.Zz)(e))return a.SL;else if((0,i.Ni)(e))return a.gM;return"undefined"}},573074:function(e,t,n){n.d(t,{Z:()=>a});var i=n(947417),r=n(126296);function a(e){switch((0,r.Z)(e)){case i.a0:return{viewType:1,viewParameter:92};case i.J7:return{viewType:3,viewParameter:void 0};case i.DL:return{viewType:107,viewParameter:3081};case i.X:return{viewType:5,viewParameter:void 0};case i.xJ:return{viewType:2,viewParameter:43};case i.kq:return{viewType:210,viewParameter:void 0};case i.DO:return{viewType:4,viewParameter:void 0};case i.gM:return{viewType:409,viewParameter:3397};case i.SL:return{viewType:1,viewParameter:3372};default:return{viewType:void 0,viewParameter:void 0}}}},50571:function(e,t,n){n.d(t,{FK:()=>o,Mp:()=>l,dO:()=>s,e$:()=>c,hy:()=>u,z5:()=>d});var i=n(175860),r=n(865043);let a=e=>e[e.length-1],o=({subscriptionId:e,endpoint:t})=>e||a(t.split("/")),s=(e,t)=>(0,r.tj)(e,{...t});function l(e){let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),i=window.atob(n),r=new Uint8Array(i.length);for(let e=0;e<i.length;e+=1)r[e]=i.charCodeAt(e);return r}let c=e=>e._('Sorry! Something went wrong on our end.', 'RequestDataUI.Toast.unknownFailure', 'Toast message for unsuccessfully requesting data'),u=e=>e._('Chrome users can activate browser notifications when push is turned on', 'notification_settings.permissions.chrome_browser_enabling.description', 'Notify users they can enable chrome browser notifications if push notifications are on'),d=(e,t)=>{switch(t){case i.b.PUSH:return e._('You won\'t get any more push notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all push notifications except important updates, account settings and privacy');case i.b.EMAIL:return e._('You won\'t get any more email notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all email notifications except important updates, account settings and privacy');case i.b.NEWS:return e._('You won\'t get any more in-app notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all in-app notifications except important updates, account settings and privacy');case i.b.WEB_PUSH:return e._('You won\'t get any more web push notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all web push notifications except important updates, account settings and privacy');default:return e._('You won\'t get any more notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all notifications except important updates, account settings and privacy')}}},175860:function(e,t,n){n.d(t,{b:()=>i});let i={PUSH:"push",EMAIL:"email",NEWS:"news",WEB_PUSH:"web_push"}},178253:function(e,t,n){n.d(t,{i:()=>r,x:()=>a});var i=n(424868);let r=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function a({apiErrorCode:e,onShowMessage:t,onPassCodeRequired:n,onPassCodeSkipConfirmation:r}){e&&(({[i.RR]:t,[i.mX]:n,[i.q6]:r})[e]||t)()}},437578:function(e,t,n){n.d(t,{Z:()=>r});var i=n(27399);let r=e=>i.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},779108:function(e,t,n){n.d(t,{I:()=>u,L:()=>s,Z:()=>p,mO:()=>l,qK:()=>d});var i=n(27399),r=n(681698),a=n(391887);let o=async(e,t)=>{let n=(await (0,r.Z)({url:`/v3/ppm/advertiser_kpis/${t}/spend/${e}`})).resource_response.data||{};return n&&Object.keys(n).length>0?n:{}},s=async e=>{let t=(await (0,r.Z)({url:`/v3/ppm/advertiser_kpis/${e}/ever_spend/`})).resource_response.data||null;t&&Object.keys(t).length>0&&"0"===t[e]&&(0,a.eP)(e)},l=async(e,t)=>{let n=await o(e,t);n&&Object.keys(n).length>0&&(0,a.M7)(n,e)},c=async e=>{let t=(await (0,r.Z)({url:`/v3/ppm/advertiser_kpis/${e}/catalog/`})).resource_response.data||{};return t&&Object.keys(t).length>0?t:{}},u=async e=>{let t=await c(e);t&&Object.keys(t).length>0&&(0,a.F8)(t,e)},d=async()=>1===((await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED"}).callGet()).resource_response.data||null),p=async()=>{let e=(await i.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED",value:1}).callCreate()).resource_response;return!!e&&Object.keys(e).length>0}},849232:function(e,t,n){n.d(t,{kf:()=>f,l5:()=>h,of:()=>p,xC:()=>m,yz:()=>_});var i=n(667294),r=n(213491),a=n(504644),o=n(893957),s=n(986523),l=n(767415),c=n(785893);let{Provider:u,useMaybeHook:d}=(0,r.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[n,r]=(0,i.useState)(null),s=t||{pwaType:"unknown",twaType:null},d=s.pwaType;(0,o.Z)(()=>{let e=(0,a.FB)(window)||"unknown";r(e),d!==e&&(0,l.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:d,clientPwaType:e,conflict:"unknown"!==d&&"unknown"!==e}})});let p="unknown"===d&&n?n:d,{twaType:_}=s,h=(0,i.useMemo)(()=>({pwaType:p,twaType:_}),[p,_]);return(0,c.jsx)(u,{value:h,children:e})},_=()=>{let e=d();return e?.pwaType??"unknown"},h=()=>{let e=d();return e?.twaType??null},m=()=>"android-twa"===_(),f=()=>{let e=_(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},517186:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),r=n(616550),a=n(947862);function o({children:e,scrollOn:t="animationFrame",disableForHashLinks:n}){let{action:o}=(0,r.k6)(),{hash:s,key:l,pathname:c}=(0,r.TH)(),u=(0,i.useRef)(l),d=(0,i.useRef)(c),p=(0,i.useRef)(!0),_=(0,i.useRef)({}),{shouldMaintainHomefeed:h,lastHFScrollPosition:m}=(0,a.Z)();return l!==u.current&&"PUSH"===o&&(_.current[u.current]=[window.scrollX,window.scrollY]),u.current=l,(0,i.useEffect)(()=>{window.history.scrollRestoration="manual"},[]),(0,i.useEffect)(()=>{let e=!p.current;p.current=!1;let i=n&&c===d.current&&!!s;if(d.current=c,!e||i)return;let r=()=>{h?window.scrollTo(...m):"PUSH"===o||"REPLACE"===o?window.scrollTo(0,0):Object.hasOwnProperty.call(_.current,l)?window.scrollTo(..._.current[l]):window.scrollTo(0,0)};"timeout"===t?setTimeout(r,0):requestAnimationFrame(r)},[o,l]),i.Children.only(e)}},180483:function(e,t,n){n.d(t,{Z:()=>a});var i=n(460575);let r=/\{\{\s*(\w+)\s*\}\}/g,a=(e,t)=>(0,i.Z)(r,e,t)},274220:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},460575:function(e,t,n){n.d(t,{Z:()=>i});let i=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},696749:function(e,t,n){n.d(t,{Z:()=>a});var i=n(180483),r=n(274220);let a=(e,t)=>{let n={};return Object.keys(t).forEach(e=>{n[e]=t[e]?(0,r.Z)(t[e].toString()):""}),(0,i.Z)(e,n)}},680589:function(e,t,n){n.d(t,{ZP:()=>r,mP:()=>i});let i="…";function r(e,t=80,n=i,a=!1){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||a)o=e.substring(0,t);else{let n=e.lastIndexOf(" ",t);o=e.substring(0,n)}return(o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+n}},175584:function(e,t,n){n.d(t,{Z:()=>o});var i=n(774838);let r={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};var a=n(462867);function o(){let e=(0,i.B)(),t=(0,a.Z)(),n=t.isAuth?t.country:e.country;if(void 0===e||void 0===e.locale)return!1;let o=e.locale.substring(0,2);return!!r[o]?.includes(n)}},327569:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},366863:function(e,t,n){n.d(t,{Z:()=>r});var i=n(667294);let r=e=>{let t=(0,i.useRef)(null);return(0,i.useEffect)(()=>{t.current=e},[e]),t.current}},387535:function(e,t,n){n.d(t,{Z:()=>i});function i(e){return{type:"UPDATE_VIEWER_IS_PROFILE_OWNER_OR_PROFILE_MANAGER",payload:e}}},498539:function(e,t,n){n.d(t,{Z:()=>i});let i=({businessAccess:e})=>e??{}},396083:function(e,t,n){n.d(t,{A6:()=>o,A9:()=>x,AJ:()=>v,BO:()=>N,Eb:()=>V,Eq:()=>R,F$:()=>r,GF:()=>W,G_:()=>C,H:()=>er,HJ:()=>g,Ht:()=>I,Hv:()=>d,Io:()=>f,Iu:()=>B,Iv:()=>ea,Ix:()=>q,KW:()=>K,LN:()=>A,LZ:()=>O,Mj:()=>c,Mr:()=>s,NM:()=>i,Pc:()=>$,RX:()=>h,TL:()=>S,Tw:()=>M,Uf:()=>m,VI:()=>X,ZA:()=>Q,ZH:()=>L,Zg:()=>G,_7:()=>w,bH:()=>Z,bn:()=>j,c:()=>u,dt:()=>T,eE:()=>l,eZ:()=>U,g:()=>z,gN:()=>ee,he:()=>P,iE:()=>y,iQ:()=>D,jP:()=>F,kG:()=>b,kR:()=>p,kS:()=>J,lT:()=>et,nM:()=>k,oq:()=>_,oz:()=>H,rl:()=>Y,sC:()=>E,wt:()=>ei,xA:()=>a,y6:()=>en});let i="/product-catalogs/",r="/business/catalogs/",a="/business/catalogs/overview/",o="/business/catalogs/data-sources/",s="/business/catalogs/product-groups/",l="/business/catalogs/diagnostics/",c="/business/catalogs/diagnosticsv2",u="/business/catalogs/trends",d="/business/catalogs/listings/",p="/business/catalogs/products/",_="/business/catalogs/pins/",h="/business/catalogs/bulk/",m="/business/catalogs/add-items/",f="/business/catalogs/promotions/",g="/business/catalogs/promotions/history",v="/business/catalogs/:catalog_id/data-sources/feed-debugger/",b="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",w="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/detail",y="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/",S="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/detail",E="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",x="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/",P="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",I="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/alert/:event_type_id",A="/business/catalogs/:catalog_id/data-sources/",O="/business/catalogs/:catalog_id/data-sources/?tab=SUPPLEMENTAL_DATASOURCE",T="/business/catalogs/:catalog_id/data-sources/api/detail",k="/business/catalogs/:catalog_id/data-sources/regions/",C="/business/catalogs/:catalog_id/data-sources/stores/",N="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/",R="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",Z="/business/catalogs/:catalog_id/product-groups/create/",j="/business/catalogs/:catalog_id/product-groups/:product_group_id/",L="/business/catalogs/:catalog_id/product-groups/bulk/",U="/business/catalogs/:catalog_id/product-groups/",M="/business/website-content-manager/",D="/business/catalogs/:catalog_id/listings/",G="/business/catalogs/:catalog_id/products/",H="/business/catalogs/:catalog_id/diagnostics/",B="/business/catalogs/:catalog_id/diagnosticsv2/",z="/business/catalogs/:catalog_id/trends/",F="/business/catalogs/:catalog_id/pins/",V="/business/catalogs/:catalog_id/bulk/",W="/business/catalogs/:catalog_id/add-items/",$=[o,A],q=[s,U],Y=[l,H],K=[c,B],J=[u,N],Q=[u,z],X=[d,D],ee=[p,G],et=[_,F],en=[h,V],ei=[m,W],er="/business/catalogs/product-listings/",ea=[er,"/business/catalogs/:catalog_id/product-listings/"]},131990:function(e,t,n){n.d(t,{Z:()=>r});var i=n(616550);function r(){let{catalog_id:e,feed_profile_id:t,workflow_id:n,product_group_id:r,event_type_id:a,supplemental_feed_profile_id:o}=(0,i.UO)();return{catalogId:e,feedProfileId:t,workflowId:n,productGroupId:r,eventTypeId:a,supplementalFeedProfileId:o}}},190914:function(e,t,n){n.d(t,{K:()=>v,r:()=>b});var i=n(667294),r=n(213491),a=n(661376),o=n(462867),s=n(739258),l=n(888226),c=n(640200);let u=e=>{let t={};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},d=(e,t)=>{let n=[];for(let i in e)i!==t&&n.push({id:i,...u(e[i])});let i=n.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),r=new Map;for(let e of i)r.set(e.id,e);return r},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},h=({dispatch:e,isEnabled:t,state:n})=>{let{orbacVisibility:r,disableProfileChanger:a,headerVisible:o}=n,s=(0,i.useCallback)(n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})},[t,e]);return{changeProfile:s,toggleORBACVisibility:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:n??!r})},[t,e,r]),toggleDisableProfileChanger:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:n??!a})},[t,e,a]),toggleHeaderVisibility:(0,i.useCallback)(n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:n??!o})},[t,e,o])}},m=e=>{let[t,n]=(0,i.useReducer)(_,p),r=h({dispatch:n,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:o}=t;return(0,i.useEffect)(()=>{let e=(0,l.q)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,i.useEffect)(()=>{let e=(0,l.q)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,i.useEffect)(()=>{(0,l.N)("orbacVisibility",o)},[o]),(0,i.useEffect)(()=>{(0,l.N)("orbacActiveProfile",a)},[a]),{state:t,actions:r,receiveProfiles:(0,i.useCallback)((e,t)=>{n({type:"LOAD_PROFILES",payload:d(e,t)})},[n])}};var f=n(785893);let{Provider:g,useMaybeHook:v}=(0,r.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{let t,n=(0,o.Z)(),r=!!(n.isAuth&&n.isPartner),{state:l,actions:c,receiveProfiles:u}=m(r),{activeProfile:d,headerVisible:p,profiles:_=[]}=l,h=_?Array.from(_.values()):[],v=(0,s.Z)(h),b=!!n.isAuth&&h.length>0&&v,w=n.isAuth?n.id:"",y=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:E,toggleDisableProfileChanger:x,toggleHeaderVisibility:P}=c;(0,i.useEffect)(()=>{if(r){if("string"==typeof v)return void S(v);d||S(w)}},[v,w,r,S,d]),(0,i.useEffect)(()=>{r&&(b&&!p&&P(!0),!b&&p&&P(!1))},[P,b,r,p,_]);let{data:I}=(0,a.Z)(r?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),A=I?.profiles;n&&n.isAuth&&l.activeProfile===n.id?t={id:n.id,permissions:["OWNER"],user:{username:y,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:d&&l.profiles&&(t=l.profiles.get(d)),(0,i.useEffect)(()=>{A&&u(A,w)},[u,A,w]);let O=l.profiles?Array.from(l.profiles.values()):[];return(0,f.jsx)(g,{value:{profiles:O,headerVisible:l.headerVisible,activeProfile:t,changeProfile:S,toggleORBACVisibility:E,toggleDisableProfileChanger:x,toggleHeaderVisibility:P},children:e})}},200619:function(e,t,n){n.d(t,{Z:()=>o});var i=n(613567),r=n(190914),a=n(739258);let o=()=>{let{checkExperiment:e}=(0,i.F)(),t=(0,r.K)(),{activeProfile:n}=t||{},o=(0,a.Z)(t?.profiles||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return s&&!o?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({})}},739258:function(e,t,n){n.d(t,{Z:()=>s});var i=n(616550),r=n(173874),a=n(462867),o=n(228612);let s=e=>{let t=(0,i.TH)(),n=(0,a.Z)(),s=(0,o.S6)(),l=(0,i.$B)("/:username"),c=l?.params?.username,u=(0,i.$B)("/pin/:id"),d=!!u?.params?.id&&s(u.params.id)?.pinner?.id;if((0,r.ej)(t))return!1;if((0,r.RU)(t)||(0,r.mY)(t))return!0;let p=e.concat(n.isAuth?{user:{username:n.username},id:n.id}:{}).find(e=>{let{user:t={},id:n}=e||{},{username:i}=t;return(!!i&&!!c||!!d&&!!n)&&(i===c||d===n)});return!!p&&p.id}},601871:function(e,t,n){n.d(t,{D3:()=>d,DX:()=>c,Fk:()=>i,KY:()=>p,Ms:()=>r,N1:()=>_,_P:()=>l,gJ:()=>a,lJ:()=>s,nl:()=>o,q6:()=>u});let i=(e,t)=>{let n=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(n=t.user.businessName),n},r=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>{let n=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(n=t.user.imgUrl),n},o=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",l=(e,t,n)=>n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:e.advertiser?.merchant_id,c=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,u=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),d=(e,t,n)=>!!(u(e,t,n)||e&&e.isAuth&&t===e.id),p=(e,t,n)=>d(e,t&&t.owner&&t.owner.id||"",n);function _(e,t,n){return d(e,t?t.id:"",n)}},918985:function(e,t,n){n.d(t,{T:()=>r,k:()=>i});let i={ADS_MANAGER:"ADS_MANAGER",AUTOMATED_CAMPAIGN:"AUTOMATED_CAMPAIGN"},r=e=>Object.values(i).includes(e)},383702:function(e,t,n){n.d(t,{ZP:()=>o});var i=n(430037),r=n(127396);class a extends r.ZP{constructor(e){super({config:e,logContextEvent:e=>a.contextLogger?.logContextEvent(e),requestContext:(0,i.Z)()})}}let o=a},994193:function(e,t,n){n.d(t,{t:()=>l,u:()=>s});var i=n(383702),r=n(767415);let a=()=>{let e=new i.ZP;return{delete:async(t,n,i)=>{await e.delete(t,n,i)},post:async(t,n,i)=>await e.postJSON(t,n||{},i),put:async(t,n,i)=>await e.putJSON(t,n||{},i),patch:async(t,n,i)=>await e.patchJSON(t,n||{},i),get:async(t,n,i)=>await e.get(t,n||{},i)}},o=()=>{let e=new i.ZP({useCache:!0});return{post:async(t,n,i,r)=>await e.postJSON(t,n||{},i,!1,r),get:async(t,n,i,r)=>await e.get(t,n||{},i,r)}},s=()=>({latency:(e,t,n)=>{(0,r.LY)(`sterling.ads_api_client.latency.${e}`,t,{sampleRate:.1,tags:n||{}})},attempt:(e,t)=>{(0,r.nP)(`sterling.ads_api_client.attempt.${e}`,{sampleRate:1,tags:t||{}})},success:(e,t)=>{(0,r.nP)(`sterling.ads_api_client.success.${e}`,{sampleRate:1,tags:t||{}})},failure:(e,t)=>{(0,r.nP)(`sterling.ads_api_client.failure.${e}`,{sampleRate:1,tags:t||{}})}}),l=()=>({api:a(),cachedApi:o(),statsLog:s()})},109563:function(e,t,n){function i(e){return null==e}function r(e){return!i(e)}n.d(t,{G:()=>r,k:()=>i})},363815:function(e,t,n){n.d(t,{I9:()=>l,OY:()=>u,ZP:()=>s,tb:()=>c});var i=n(4533),r=n(36796),a=n(34550),o=n(496883);function s(e){return!(!e.match(o.CU)||(0,r.Z)(e)||(0,r.z)(e,"yahoo")||(0,r.z)(e,"hotmail"))}let l=()=>{a.ZP.setItem(i.Z4,!0)},c=()=>{a.ZP.setItem(i.Z4,!1)};function u(e){let t=e.isAuth&&e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected,n=e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected,i=e.isAuth&&e.hasPassword;return t&&!n&&!i}},522365:function(e,t,n){let i;n.r(t),n.d(t,{default:()=>ao});var r,a=n(667294),o=n(613567),s=n(34550),l=n(418282),c=n(45762),u=n(796757),d=n(212830),p=n(883119),_=n(331716),h=n(739405),m=n(462867),f=n(581722),g=n(616550),v=n(27399),b=n(26581),w=n(99643),y=n(907565),S=n(933442),E=n(343669),x=n(777719),P=n(124617),I=n(9065),A=n(785893);let O=(0,I.Z)(()=>n.e("34093").then(n.bind(n,771350)),void 0,e=>771350,"LimitedLoginModalCommon");function T(){return(0,A.jsx)(O,{fallback:(0,A.jsx)(p.xu,{})})}var k=n(470205),C=n(230201),N=n(382802),R=n(465784),Z=n(138596);function j(){let{logContextEvent:e}=(0,C.v)(),t=(0,Z.ZP)(),[n,i]=(0,a.useState)(),[r,o]=(0,a.useState)(),[s,l]=(0,a.useState)();(0,a.useEffect)(()=>{let n=t._('Sorry! Something went wrong on our end.', ' - ', ' -- '),r=t._('Something went wrong', ' - ', ' -- ');return N.Z.setShowHtmlErrorCallback((t=n,a,s=r)=>{t===n&&s===r&&e({event_type:13,component:9,view_type:17,view_parameter:3237});let c=t.replace(/&#x27;/g,"'").replace(/&#39;/g,"'");i(a),o(s||""),l(c)}),()=>{N.Z.setShowHtmlErrorCallback(()=>{})}},[e,i,o,l,t]);let c=()=>{"function"==typeof n&&n(),i(null),o(null),l(null)};return s?(0,A.jsx)(R.ZP,{accessibilityModalLabel:t._('An error occurred', ' - ', ' -- '),footer:(0,A.jsx)(p.kC,{alignItems:"stretch",justifyContent:"end",children:(0,A.jsx)(p.zx,{color:"red",onClick:c,text:t._('Okay', ' - ', ' -- ')})}),heading:r,onDismiss:c,size:"sm",children:(0,A.jsx)(p.xu,{"data-test-id":"error-modal",margin:5,children:(0,A.jsx)(p.xv,{children:s})})}):null}var L=n(521367),U=n(609252),M=n(173874),D=n(143699),G=n(64606),H=n(774838);let B="web.com.pinterest.www";var z=n(890678),F=n(825605),V=n(730448),W=n(708722),$=n(575820),q=n(893957),Y=n(396083);function K({isPartner:e,location:t}){return e&&(t.pathname.includes(Y.NM)||t.pathname.includes(Y.F$))}var J=n(566497),Q=n(363815),X=n(241879),ee=n(680405),et=n(386385),en=n(732012);class ei extends a.Component{constructor(...e){var t,n,i;super(...e),n={mounted:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;let e=this.props.i18n._(`Oh no! Pinterest doesn't work unless you <a style="text-decoration: underline;
      color: #fff" href="http://enable-javascript.com/" target="_blank"
      rel="noopener noreferrer nofollow">turn on JavaScript.</a>`, 'Nag to tell users Javascript is disabled and the site is broken without it', 'Nag to tell users Javascript is disabled and the site is broken without it');return(0,A.jsx)("noscript",{children:(0,A.jsx)(en.Z,{message:e},"noscriptNag")})}}function er(e){let t=(0,Z.ZP)();return(0,A.jsx)(ei,{...e,i18n:t})}let ea=(0,a.lazy)(()=>n.e("6107").then(n.bind(n,660291))),eo=(0,a.lazy)(()=>Promise.resolve().then(n.bind(n,843439))),es=(0,a.lazy)(()=>n.e("45076").then(n.bind(n,190818))),el=(0,a.lazy)(()=>n.e("26281").then(n.bind(n,713334)));class ec extends a.Component{constructor(e,t){var n,i,r;super(e,t),n="removeNag",i=e=>{this.setState(t=>({nags:t.nags.filter(t=>t!==e)}))},(n="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(n,"string"))?r:r+"")in this?Object.defineProperty(this,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[n]=i;let a=[...this.props.nags||[]];this.state={nags:a}}componentDidUpdate(){U.Z.updateObstructions()}render(){let{experience:e}=this.props;if(e?.experience_id===502597)return(0,A.jsx)(L.a3,{eligibleTypes:[13],placementId:30,children:({complete:e})=>(0,A.jsx)(k.Z,{name:"SafeSuspense_Nags_CookieConsentBanner",children:(0,A.jsx)(F.Z,{children:(0,A.jsx)(eo,{handleComplete:e,isNag:!0})})})});let{nags:t}=this.state,n=!!(e&&500711===e.experience_id);return(0,A.jsxs)("div",{className:"Nags","data-test-id":"nags-container",id:et.OZ,children:[(0,A.jsx)(er,{}),(0,A.jsx)(L.a3,{eligibleTypes:n?[13]:[2],placementId:30,children:({complete:e,dismiss:t,experience:i})=>(0,A.jsx)(k.Z,{name:"SafeSuspense_Nags_HeroNag",children:(0,A.jsx)(F.Z,{children:n?(0,A.jsx)(es,{complete:e,dismiss:t,experience:i}):(0,A.jsx)(ea,{complete:e,dismiss:t,experience:i})})})}),!e&&t[0]?(0,A.jsx)(k.Z,{name:"SafeSuspense_Nags_NonExperienceNags",children:(0,A.jsx)(F.Z,{children:(0,A.jsx)(el,{nag:t[0],removeNag:this.removeNag})})}):null]})}}function eu(e){let{experience:t}=(0,L.Ow)(30);return(0,A.jsx)(ec,{...e,experience:t})}var ed=n(373696);let ep=(0,I.Z)(()=>n.e("64253").then(n.bind(n,29882)),void 0,e=>29882,"ProPartnerHeaderDesktop"),e_=(0,I.Z)(()=>n.e("97955").then(n.bind(n,248541)),void 0,e=>248541,"SosAdminHeaderDesktop"),eh=(0,I.Z)(()=>Promise.all([n.e("55900"),n.e("52877")]).then(n.bind(n,771091)),void 0,e=>771091,"AuthDesktopHeader"),em=e=>e.isSos?(0,A.jsxs)(p.xu,{children:[(0,A.jsx)(e_,{currentSite:e.currentSite}),(0,A.jsx)(ep,{...e})]}):(0,A.jsx)(ep,{...e});function ef({isBPMPage:e,isShoppingCatalogs:t,isVMPStatusPage:n,viewer:i}){let r=(0,g.TH)(),a=(0,f.v9)(({experiences:e})=>e),o=i.isAuth&&i.isPartner,{currentSite:s}=(0,ed.wF)(),l=9===(a[11]||{}).type?null:(0,A.jsx)(eu,{experience:a[30],nags:i.nags||[]}),c=r.search&&(0,$.mB)(r.search).advertiserId,{is_sterling_on_steroids:u}=(0,ee.u)(),d=X.Li;return o&&u&&(d=X.Li+X.qJ),(0,A.jsx)(p.xu,{"data-test-id":`header-${o?"PartnerHeader":"Header"}`,children:(()=>{if(o)if(t||n&&c||e)return(0,A.jsx)(p.xu,{"data-test-id":"pro-partner-header",height:d,children:(0,A.jsx)(em,{currentSite:s,isShoppingCatalogs:t,isSos:u,suppressSearchBox:!0,totalHeaderHeight:d})});else return(0,A.jsx)(p.xu,{"data-test-id":"pro-partner-header",height:d,children:(0,A.jsx)(em,{currentSite:s,isSos:u,nags:l,totalHeaderHeight:d})});return(0,A.jsx)(eh,{fallback:(0,A.jsx)(p.xu,{height:et.cI,width:"100%"}),nags:l,viewer:i})})()})}var eg=n(74972),ev=n(505758),eb=n(943893),ew=n(508634),ey=n(271875),eS=n(82109),eE=n(817468);let ex=(0,I.Z)(()=>n.e("44942").then(n.bind(n,836634)),{ssr:!1},e=>836634,void 0),eP=()=>{let e=(0,m.Z)(),t=(0,g.TH)(),n=!!e.isAuth&&e.isPartner,i=K({isPartner:n,location:t})||(0,M.rk)(t)||(0,M.bb)(t),r=(0,M.O7)(t)||(0,M.RU)(t)&&n,a=(0,z.Z)({name:"UserSettingsResource"});return(0,A.jsx)(p.xu,{"data-test-id":"footer",children:(0,A.jsx)(eE.Z,{name:"SafeSuspense_DesktopApp_Footer",children:(0,A.jsx)(ex,{hideQuestionMarkButton:i,isPartner:n,settingsDataRef:a,showInsiteFeedback:r})})})};var eI=n(488661),eA=n(864206),eO=n(49254),eT=n(186485);function ek({children:e}){let[t,n]=(0,a.useState)(null),[i,r]=(0,a.useState)(!1),o=(0,a.useMemo)(()=>({logoButtonRef:t,setLogoButtonRef:n,isTooltipOnLogoButtonShown:i,toggleTooltipOnLogoButton:r}),[t,i]);return(0,A.jsx)(eT.e,{value:o,children:e})}var eC=n(439405),eN=n(36776),eR=n(167912),eZ=n(216956),ej=n(779108),eL=n(554092),eU=n(247387),eM=n(738014),eD=n(218504);let eG=(e,t,n)=>{setTimeout(()=>{t?e(t):e()},n||300)},eH=void 0!==r?r:r=n(955168);function eB(){let{unauthId:e,country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:r}=(0,H.B)(),{checkExperiment:s}=(0,o.F)(),l=(0,m.Z)(),c=eU.nBl.includes(r),u=eU.PRI.includes(r),d=(0,eR.useLazyLoadQuery)(eH,{}),p=d.v3GetThirdPartyTrackingSettingsQuery?.data,[_,h]=(0,a.useState)(p&&p.sendPixel&&!u),[g,v]=(0,a.useState)(p&&p.sendEventsToFacebook&&!u),b=l.isAuth?l.id:null,w=b||"",y=(0,f.I0)(),[S,E]=(0,a.useState)(!1),x="undefined"!=typeof window&&!!window.navigator&&!!window.navigator.globalPrivacyControl&&window.navigator.globalPrivacyControl;return(0,a.useEffect)(()=>{let e=!1,a=e=>{y((0,eD._L)({field:"personalize_from_offsite_browsing",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eL.i.SETTINGS,userId:w})),y((0,eD._L)({field:"ads_customize_from_conversion",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eL.i.SETTINGS,userId:w})),y((0,eD._L)({field:"third_party_marketing_tracking_enabled",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eL.i.SETTINGS,userId:w})),y((0,eD._L)({field:"ccpa_opted_out",value:!e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eL.i.SETTINGS,userId:w})),y((0,eD._L)({field:"third_party_ads_personalization",value:e,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:eL.i.SETTINGS,userId:w}))};if(async function(){if(x&&c)try{let t=await (0,ej.qK)();e||t||(await (0,ej.Z)(),await a(!1),h(!1),v(!1))}catch{}e||E(!0)}(),S&&_){let e=s("ppm_p_gate").anyEnabled;eG(eM.jO,{pixelBlocked:e}),(0,eZ.$)({country:t,countryFromHostName:n,countryFromIp:i,regionFromIp:r})&&eG(eM.Kv,{id:"flashtalking-d-ses",eventName:"Desktop"})}return()=>{e=!0}},[s,t,n,i,r,x,S,e,b,c,w,_,y]),(0,a.useEffect)(()=>{S&&g&&eG(eM.Um)},[t,n,i,g,S]),null}var ez=n(661376);function eF(){let e=(0,a.useRef)(0),t=(0,a.useRef)(null),n=(0,ez.Z)({name:"NewsHubBadgeResource",noCache:!0,headers:{"X-Pinterest-AppState":"background"}}),i=(0,ez.Z)({name:"ConversationsResource",noCache:!0}),{conversations:{unread:r}}=(0,ey.Z)();return(0,a.useEffect)(()=>(!function i(){t.current&&clearTimeout(t.current),n.refresh(),t.current=setTimeout(i,2e3+e.current),e.current=Math.min(2*(e.current||5e3),9e5)}(),function(){t.current&&clearTimeout(t.current)}),[]),(0,a.useEffect)(()=>i.refresh(),[r]),null}var eV=n(104999),eW=n(4533),e$=n(236269),eq=n(681698),eY=n(126296),eK=n(573074),eJ=n(50571),eQ=n(767415);let eX=(e,t,n,i)=>{let r=(0,eJ.FK)(e),a={subscription_endpoint:e.endpoint,subscription_info:JSON.stringify(e)};(0,eq.Z)({url:`/v3/users/devices/web/${r}/`,method:"PUT",data:a}),(0,eJ.dO)(`web.notifications_upsell.${(0,eY.Z)(t)}.subscribed`,n),(0,eQ.nP)("web.push_upsell.allowed",{sampleRate:1,tags:{web_push_exp_group:n.experimentName}});let o=(0,eK.Z)(t);i({component:13123,element:10355,event_type:102,view_type:o.viewType,view_parameter:o.viewParameter,aux_data:{experiment_name:n.experimentName,experiment_group:n.experimentGroup}})},e0=(e,t,n)=>{(0,eJ.dO)(`web.notifications_upsell.${(0,eY.Z)(e)}.denied`,t),(0,eQ.nP)("web.push_upsell.denied",{sampleRate:1,tags:{web_push_exp_group:t.experimentName}});let i=(0,eK.Z)(e);n({component:13123,element:14371,event_type:102,view_type:i.viewType,view_parameter:i.viewParameter,aux_data:{experiment_name:t.experimentName,experiment_group:t.experimentGroup}})};async function e1(e,t,n,r){let a="undefined"!=typeof navigator?navigator.serviceWorker:null,o="Notification"in window&&"default"!==Notification.permission;if(o)return;let l=s.ZP.getItem(eW.X_);if(l){let e=parseInt(l,10);if(Date.now()-e<2592e6)return}try{let e=await a?.register("/sw.js");if(!e?.showNotification)return}catch(e){return}if(a&&a.ready&&_.t&&!o){let o;t({event_type:13,view_type:4015,component:13123,aux_data:{experiment_name:n,experiment_group:r}});let l={experimentName:n||"noExperiment",experimentGroup:r||"noGroup",...{browser:i?.getState().session.browser,version:Math.floor(parseInt(i?.getState().session.browserVersion,10))}};(0,eJ.dO)(`web.notifications_upsell.${(0,eY.Z)(e)}.viewed`,l);try{let e=await fetch("/getWebPushKey"),{key:t}=await e.json();o=t}catch(e){(0,eQ.nP)("web.push_upsell.getWebPushKey.err",{sampleRate:1,tags:{errMessage:(0,e$.Z)(e,"message")}});return}let c={userVisibleOnly:!0,applicationServerKey:(0,eJ.Mp)(o)};try{let n=await a.ready,i=await n.pushManager.subscribe(c);if(!i)throw Error();eX(i,e,l,t)}catch(n){(0,eQ.nP)("web.push_upsell.serviceWorkerSubscribe.err",{sampleRate:1,tags:{errMessage:(0,e$.Z)(n,"message"),web_push_exp_group:r}}),"denied"===Notification.permission?e0(e,l,t):"default"===Notification.permission&&s.ZP.setItem(eW.X_,Date.now().toString())}}}function e3({experimentName:e="",experimentGroup:t=""}){let n=(0,g.TH)(),i=(0,eV.Z)();return(0,a.useEffect)(()=>{e1(n,i,e,t)},[n,i,e,t]),null}var e2=n(430583),e6=n(229103),e8=n(228612);let e7=(0,a.createContext)(!1);var e4=n(862893),e9=n(500602);let e5=new p.H3([e9.mT]);function te(){let{appUI:{showTypeaheadOverlay:e}}=(0,eg.I)();return e?(0,A.jsx)(p.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},left:!0,position:"fixed",right:!0,top:!0,zIndex:e5}):null}var tt=n(985543),tn=n(363061),ti=n(680616);function tr({anchor:e,dropDownId:t,isIdeaPinRenamingEnabled:n,onDismiss:i,zIndex:r}){let a=(0,Z.ZP)(),o=(0,eV.Z)(),s=a._('Create Pin', 'header.createOptionsMenu.pinOption', 'Create pin option'),l=a._('Create collage', 'header.createOptionsMenu.collageOption', 'Create collage option'),c=e=>{o(ed.$L[e]),i()};return(0,A.jsxs)(p.Lt,{anchor:e,disableMobileUI:!0,headerContent:(0,A.jsx)(p.X6,{align:"start",id:"create-options-header",size:"400",children:a._('Create', 'header.createOptionsMenu.title', 'Create flyout')}),id:t,idealDirection:"right",isWithinFixedContainer:!1,onDismiss:i,zIndex:r,children:[(0,A.jsxs)(p.Lt.Link,{href:(0,tn.Z)(n),onClick:()=>c("createPin"),option:{label:s,value:s},children:[(0,A.jsx)(p.xu,{color:"secondary",padding:4,rounding:4,children:(0,A.jsx)(p.JO,{accessibilityLabel:s,color:"dark",icon:"pin",size:28})}),(0,A.jsxs)(p.xu,{marginStart:3,children:[(0,A.jsx)(p.xv,{align:"start",color:"dark",size:"300",children:a._('Pin', 'header.createOptionsMenu.pinOption', 'Pin creates option')}),(0,A.jsx)(p.xv,{align:"start",color:"subtle",size:"200",children:a._('Post your photos or videos and add links, stickers, effects and more', 'header.createOptionsMenu.pinOption.description', 'Pin create option')})]})]}),(0,A.jsxs)(p.Lt.Link,{href:ti.ZP,onClick:()=>c("createCollage"),option:{label:l,value:l},children:[(0,A.jsx)(p.xu,{color:"secondary",padding:4,rounding:4,children:(0,A.jsx)(p.JO,{accessibilityLabel:l,color:"dark",icon:"collage",size:28})}),(0,A.jsxs)(p.xu,{marginStart:3,children:[(0,A.jsx)(p.xv,{align:"start",color:"dark",size:"300",children:a._('Collage', 'header.createOptionsMenu.collageOption', 'Collage create option')}),(0,A.jsx)(p.xv,{align:"start",color:"subtle",size:"200",children:a._('Put together a style, goal or vibe that sparks your imagination and create something new', 'header.createOptionsMenu.collageOption.description', 'Collage create option description')})]})]})]})}var ta=n(899111),to=n(12930),ts=n(59111),tl=n(179),tc=n(746319),tu=n(113116),td=n(534222),tp=n(959646),t_=n(841353),th=n(787598),tm=n(681631),tf=n(940589);function tg(e){let{preload:t,navigate:n}=(0,tf.G)(),{onClick:i,onMouseEnter:r,route:a,shouldPrefetchOnHover:o,...s}=e;return(0,A.jsx)(tm.Td,{href:(0,g.Gn)(a.kind,a.routeParams),onClick:e=>{try{i?.(e)}catch{}n(a)},onMouseEnter:()=>{try{r?.()}catch{}(o??!0)&&t(a)},...s})}var tv=n(424733),tb=n(626487);let tw={selectedNav:void 0,isPanelOpen:e=>!1,updatePanelState:(e,t)=>{},togglePanelState:e=>{}},ty=(0,a.createContext)(tw);function tS({children:e,isIdeaPinRenamingEnabled:t}){let{pathname:n}=(0,g.TH)(),i=(0,m.Z)(),r=(0,tv.Z)({username:i.isAuth?i.username:void 0,isIdeaPinRenamingEnabled:t}),o=(0,tb.Z)({pathname:n,iconRoutes:r})||void 0,[s,l]=(0,a.useState)({news:!1,conversations:!1,settings:!1,create:!1,categories:!1}),[c,u]=(0,a.useState)(!1),d=(0,a.useCallback)((e,t)=>{l(n=>(t||n[e]===t||(u(!0),setTimeout(()=>{u(!1)},125)),{...n,[e]:t}))},[]),p=(0,a.useCallback)(e=>{d(e,!s[e])},[s,d]),_=(0,a.useCallback)(e=>s[e],[s]),h=Object.values(s).some(e=>e)||c?void 0:o,f=(0,a.useMemo)(()=>({selectedNav:h,isPanelOpen:_,updatePanelState:d,togglePanelState:p}),[h,_,d,p]);return(0,A.jsx)(ty.Provider,{value:f,children:e})}function tE(){return(0,a.useContext)(ty)||tw}function tx({children:e,justifyContent:t,height:n}){return(0,A.jsx)(p.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{gap:`${e9.df}px`}},direction:"column",display:"flex",height:n,justifyContent:t,children:e})}function tP({children:e,dataTestId:t,position:n}){return(0,A.jsx)(p.xu,{"data-test-id":t,position:n,children:e})}var tI=n(306902),tA=n(543380);let tO=function({onClick:e}){let t=(0,tI.Z)(),n=(0,Z.ZP)(),i="pinterest-logo-home-button";return(0,A.jsxs)(a.Fragment,{children:[!t&&(0,A.jsx)(ts.Z,{unsafeCSS:`
          /* Target the Pinterest logo home button */
          [data-test-id="${i}"] a[aria-label="Home"], [data-test-id="${i}"] a[aria-label="Home"] > div {
            border-radius: ${e9.Dk}px !important;
          }
        `}),(0,A.jsx)(tP,{dataTestId:i,children:(0,A.jsx)(tA.Z,{defaultPaddingBasedOnSize:!0,onClick:e,size:e9.yg,tabIndex:null,tooltip:{text:n._('Home', 'verticalNav.homeButton.section', 'tooltip text for home button in nav bar'),idealDirection:e9.Mh,zIndex:e9.BO}})})]})};function tT({children:e,showTypeaheadOverlay:t}){return(0,A.jsx)(p.xu,{alignItems:"center",as:"nav",color:"default",dangerouslySetInlineStyle:{__style:{borderRight:`1px solid ${e9.bd}`}},direction:"column",display:"flex",height:"100vh",id:e9.Lc,overflow:"auto",position:"fixed",top:!0,width:e9.Qf,zIndex:t?e9.mT:e9.pS,children:(0,A.jsx)(p.xu,{height:"100%",paddingY:4,children:e})})}let tk=({currentSite:e,isTodayTabEligible:t,isIdeaPinRenamingEnabled:n,onMouseDownHomefeedPrefetch:i,onNavigateToHomefeedMousedownPrefetch:r,siteParametersProviderValue:s})=>{let l=(0,m.Z)(),c=(0,L.oS)(ed.nu),u=(0,tc.Z)()(!0),{checkExperiment:d}=(0,o.F)(),_=(0,Z.ZP)(),h=(0,g.k6)(),f=(0,eV.Z)(),{selectedNav:v,updatePanelState:b,togglePanelState:w,isPanelOpen:y}=tE(),S=(0,a.useRef)(null),E=(0,a.useRef)(null),x="VerticalNav-MoreOptions-Flyout",P="VerticalNav-CreationOptions-Flyout",I=y("settings"),{appUI:{showTypeaheadOverlay:O}}=(0,eg.I)(),T=/\/(pin|collage)-creation-tool/.test(h.location.pathname),k=y("create"),C=d("hfp_dweb_topic_nav").anyEnabled,N=(0,th._)();return(0,A.jsx)(td.F,{value:s,children:(0,A.jsx)(tT,{showTypeaheadOverlay:O,children:(0,A.jsxs)(tx,{height:"100%",justifyContent:"between",children:[(0,A.jsxs)(tx,{children:[(0,A.jsx)(tO,{onClick:()=>(0,eQ.nP)(ed.P8.PINTEREST_LOGO)}),(0,A.jsx)(tP,{children:(0,A.jsx)(tm.Td,{accessibilityLabel:_._('Home', 'verticalNav.homeButton.section', 'tooltip text for home button in vertical nav bar'),dataTestId:"home-tab",href:"/",iconName:"home",onClick:()=>{(0,eQ.nP)(ed.P8.HOME),r()},onMouseDown:i,selected:"home"===v})}),C?(0,A.jsx)(tP,{position:"relative",children:(0,A.jsx)(tm.Qj,{accessibilityControls:"ideas-flyout",accessibilityLabel:_._('Explore', 'verticalNav.exploreButton.section', 'tooltip text for explore button in vertical nav bar'),dataTestId:"today-tab",href:"/ideas/",iconName:"today",onClick:()=>{(0,eQ.nP)(ed.P8.TODAY),f(ed.$L.today)},selected:"ideas"===v,variant:"enabled_long"===d("hfp_dweb_topic_nav").group?"long":"short"})}):null,t&&!C?(0,A.jsxs)(tP,{position:"relative",children:[(0,A.jsx)(tg,{accessibilityLabel:_._('Explore', 'verticalNav.exploreButton.section', 'tooltip text for explore button in vertical nav bar'),dataTestId:"today-tab",iconName:"today",onClick:()=>{(0,eQ.nP)(ed.P8.TODAY),c.completeExperience(ed.nu,ed.wo),f(ed.$L.today)},route:{kind:"/today/",routeParams:{}},selected:"today"===v,shouldPrefetchOnHover:N.shouldPrefetchOnHover}),(0,A.jsx)(L.a3,{eligibleIds:[ed.wo],placementId:ed.nu,children:(0,A.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{top:"10px",right:"8px",pointerEvents:"none"}},position:"absolute",children:(0,A.jsx)(p.z$,{accessibilityLabel:_._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications')})})})]}):null,(0,A.jsxs)(tP,{children:[(0,A.jsx)(tm.Td,{ref:E,accessibilityLabel:_._('Create', 'verticalNav.createButton.section', 'tooltip text for create button in nav bar'),dataTestId:"create-tab",href:u?void 0:(0,tn.Z)(n),iconName:"create",onClick:()=>{(0,eQ.nP)(ed.P8.CREATE),u?w("create"):f(ed.$L.createPin)},selected:T||k}),(0,A.jsx)(ts.Z,{unsafeCSS:`
              #${P} [role="menuitem"] > div {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              div:has(> #${P}) {
                left: ${e9.qM.anchorOffset} !important;
              }
              #${P} {
                max-width: ${e9.GJ}px !important;
                width: ${e9.GJ}px !important;
              }
              div:has(> #create-options-header) {
                align-self: start;
              }
        `}),k&&(0,A.jsx)(tr,{anchor:E.current,dropDownId:P,isIdeaPinRenamingEnabled:n,onDismiss:()=>{b("create",!1)},zIndex:e9.m6})]}),(0,A.jsx)(tP,{children:(0,A.jsx)(tu.Z,{onPanelChange:e=>{b("news",e),e&&(0,eQ.nP)(ed.P8.NEWS)},tooltipText:_._('Updates', 'verticalNav.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications')})}),l.isAuth&&l.should_show_messaging?(0,A.jsx)(tP,{children:(0,A.jsx)(tp.Z,{onPanelChange:e=>{b("conversations",e),e&&(0,eQ.nP)(ed.P8.CONVERSATIONS)}})}):null]}),(0,A.jsxs)(tP,{children:[(0,A.jsx)(tm.Td,{ref:S,accessibilityControls:x,accessibilityLabel:_._('More options', 'verticalNav.moreOptionsButton.tooltip', 'Tooltip text for icon button to open more options/settings menu'),accessibilityPopupRole:"menu",dataTestId:"vertical-nav-more-options-button",iconName:"moreOptions",onClick:()=>{I||(0,eQ.nP)(ed.P8.MORE_OPTIONS),w("settings")},selected:I}),(0,A.jsx)(ts.Z,{unsafeCSS:`
              /* Subtitle text tied to the Dropdown.Section */
              #${x} [aria-label] > [role="presentation"] {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              /* Adjust spacing for each highlightable menu item */
              #${x} [role="menuitem"] > div {
                padding: ${e9.qM.menuItemPadding} !important;
              }
              div:has(> #${x}) {
                left: ${e9.qM.anchorOffset} !important;
              }
              #${x} {
                max-width: ${e9.GJ}px !important;
                width: ${e9.GJ}px !important;
              }
        `}),(0,A.jsx)(tl.T,{children:(0,A.jsx)(t_.j,{children:I?(0,A.jsx)(ta.Z,{anchor:S.current,dropdownId:x,idealDirection:e9.dg,isWwwSite:(0,to.YG)(e),onDismiss:()=>{b("settings",!1)},showAccountSwitcher:!1,showMoreOptions:!0,zIndex:e9.m6}):null})})]})]})})})},tC=()=>{let e=(0,ed.wF)();return(0,A.jsx)(tS,{isIdeaPinRenamingEnabled:e.isIdeaPinRenamingEnabled,children:(0,A.jsx)(tk,{...e})})};var tN=n(217616),tR=n(74195);let tZ=(0,I.Z)(()=>n.e("1557").then(n.bind(n,5862)),{ssr:!1},e=>5862,"BrowserExtensionUpsellModal"),tj=(0,I.Z)(()=>Promise.all([n.e("6608"),n.e("70597")]).then(n.bind(n,144719)),{ssr:!1},e=>144719,void 0),tL=(0,I.Z)(()=>Promise.all([n.e("72893"),n.e("71710")]).then(n.bind(n,710390)),{ssr:!1},e=>710390,void 0),tU=(0,I.Z)(()=>n.e("83576").then(n.bind(n,825163)),{ssr:!1},e=>825163,"WindowsPWACommon"),tM=(0,I.Z)(()=>n.e("48259").then(n.bind(n,624463)),void 0,e=>624463,"app-www-Authentication-PersonalizedLoginFlyout"),tD=(0,I.Z)(()=>Promise.all([n.e("17078"),n.e("3768"),n.e("72396"),n.e("46396")]).then(n.bind(n,779754)),void 0,e=>779754,"FullHeightInboxDesktop"),tG=(0,I.Z)(()=>Promise.all([n.e("70402"),n.e("57425")]).then(n.bind(n,734440)),void 0,e=>734440,"AuthDesktopCSSImports"),tH=({isPartner:e,location:t})=>e&&t.pathname.includes(ev.GW),tB=({isPartner:e,location:t})=>e&&t.pathname.includes(eb.GW),tz=()=>{let e=(0,e8.AF)(),t=(0,g.TH)(),n=(0,g.LX)(t.pathname,{path:"/pin/:id",exact:!0}),i=n&&n.params.id||null,r=i&&((e[i]||{}).images||{})["474x"];return r?{url:r.url,width:r.width,height:r.height}:null};function tF({children:e}){let{appUI:{viewportSize:t},setIsAutoplay:n,setViewportSize:i}=(0,eg.I)(),{dismiss:r,reportData:o}=(0,tt.f)(),{loginForMore:s}=(0,eN.H)(),l=(0,a.useRef)(null),{enabled:c}=(0,tN.Z)(),u=(0,tR.Z)(),d=(0,m.Z)(),[_,h]=(0,a.useState)(!1),I=!!d.isAuth&&d.isPartner,O=!!d.isAuth&&d.isLimitedLogin,C=d.isAuth&&!d.isLimitedLogin,N=d.isAuth?d.username:"",R=(0,g.k6)(),Z=(0,g.TH)(),Y=(0,H.B)(),{pathname:X}=Z,ee=l.current,en=!((0,M.jC)(Z)||(0,M.x7)(Z))&&C,ei=(0,$.mB)(Z.search),{conversation_id:er,tab:ea}=ei,{conversations:{showConversationsDropdown:eo},conversationOpen:es,dropdownOpen:el}=(0,ey.Z)(),ec=d.isAuth&&!d.isLimitedLogin&&(0,D.Z)(Z),eu=(0,f.I0)(),ed=tz(),{userAgent:{browserName:ep}}=Y,e_=(0,f.v9)(e=>e.pinbuilder&&e.pinbuilder.pinDraftIdUploadStatusMap||{});(0,q.Z)(()=>{function e(e){Object.keys(e_||{}).length>0&&e.preventDefault()}return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),(0,q.Z)(()=>{if(window.safari&&window.safari.pushNotification&&d.isAuth)try{let e=window.safari.pushNotification.permission(B);if("default"===e.permission){let e=d.push_package_user_id;window.safari.pushNotification.requestPermission("https://"+window.location.hostname+"/_/_/push",B,{uid:e},()=>{})}}catch(e){}}),(0,a.useEffect)(()=>{x.Z.extensionReady(ep).then(x.Z.initBrowserExtension)},[ep]),(0,q.Z)(()=>{setTimeout(()=>{n(!0)},300)}),(0,a.useEffect)(()=>{O||(er&&es(er),"inbox"===ea&&el())},[er,ea,es,el,O]);let eh=(0,e2.b)(Z);(0,a.useEffect)(()=>(ee instanceof HTMLElement&&U.Z.addObstruction("top",ee),()=>{ee instanceof HTMLElement&&U.Z.removeObstruction("top",ee)}),[ee]);let[em,ev]=(0,a.useState)(!!s?.visible||!O),eb=(0,V.Z)(()=>{let e="lg";window&&window.innerWidth<1056&&(e=window.innerWidth<680?"sm":"md"),t!==e&&(0,a.startTransition)(()=>i(e))},200);return(0,q.Z)(()=>(window.addEventListener("resize",eb),eb(),()=>{window.removeEventListener("resize",eb)})),(0,a.useEffect)(()=>{h(X!==`/${N}/`)},[X,N]),(0,a.useEffect)(()=>{v.Z.create("BoardsResource",{page_size:1,privacy_filter:"all",sort:"last_pinned_to",username:N}).callGet().then(e=>{let{resource_response:t}=e||{},n=(t.data||[])[0];n&&n.id&&n.name&&eu((0,e6.p)(n.id,n.name,n.url))})},[eu,N]),(0,z.Z)(_?{name:"UserResource",options:{field_set_key:"profile",username:N}}:null),(0,z.Z)(_?{name:"UserMetadataResource",options:{user:{id:N}}}:null),(0,A.jsxs)(e7.Provider,{value:!!ei.social_debug,children:[(0,A.jsx)(tG,{}),(0,A.jsx)(J.Z,{children:(0,A.jsx)(ew.Z,{children:(0,A.jsx)(e4.Z,{children:(0,A.jsx)(G.T,{children:(0,A.jsx)(eS.N,{children:(0,A.jsx)(w.b,{children:(0,A.jsx)(S.p,{children:(0,A.jsx)(y.d,{children:(0,A.jsxs)(P.c4,{value:ed,children:["undefined"!=typeof window&&window.Windows&&(0,A.jsx)(k.Z,{name:"SafeSuspense_DesktopApp_WindowsPWA",children:(0,A.jsx)(tU,{onActivated:e=>{R.push(e)}})}),!s?.visible&&d.isAuth&&d.isLimitedLogin&&!(0,M.Xn)(Z)&&!(0,M.OK)(Z)&&!(0,M.FO)(Z)&&!(0,M.re)(Z)&&(0,A.jsx)(tM,{attributionLabel:Z.state?.attributionLabel,fallback:(0,A.jsx)(p.xu,{}),shouldHideFlyout:em,triggerModal:()=>{s&&s.setVisible(!0),ev(!0)},viewer:d}),(0,A.jsx)(eC.Hv,{children:(0,A.jsx)(ek,{children:(0,A.jsx)(eI.i3,{children:(0,A.jsx)(eA.Z,{children:(0,A.jsxs)(p.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1,paddingTop:1}},minWidth:320,children:[(0,A.jsxs)(p.xu,{role:"banner",children:[(0,A.jsx)(W.Z,{}),(0,A.jsxs)(p.xu,{ref:l,dangerouslySetInlineStyle:{__style:{left:u}},"data-test-id":"header",id:et.WZ,position:"fixed",right:!0,top:!0,zIndex:new p.Ry(et.fe),children:[s?.visible&&!(0,M.re)(Z)||O&&Z.pathname.includes("/repin/")?(0,A.jsx)(T,{}):null,eh&&d.isAuth&&(0,A.jsx)(k.Z,{name:"AuthDesktopHeader",type:"critical",children:(0,A.jsx)(ef,{isBPMPage:tH({isPartner:I,location:Z}),isShoppingCatalogs:K({isPartner:I,location:Z}),isVMPStatusPage:tB({isPartner:I,location:Z}),viewer:d})}),en&&(0,A.jsx)(eF,{})]})]}),c?(0,A.jsx)(tC,{}):null,(0,A.jsxs)("div",{className:"appContent",role:"main",children:[(0,A.jsx)(eO.c,{children:t=>(0,A.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:eh?t:0,paddingLeft:u}},children:(0,A.jsxs)("div",{className:"mainContainer",children:[e,C&&(0,Q.OY)(d)&&(0,A.jsx)(k.Z,{name:"PostLogin_AlternativeAuthCollection",children:(0,A.jsx)(tj,{})}),(0,A.jsx)(L.O9,{placementId:1000421}),d.isAuth&&"/"===Z.pathname&&!x.Z.isExtensionInstalled()&&(0,E.i7)(ep)&&(0,A.jsx)(L.a3,{eligibleIds:[506046],placementId:11,children:({complete:e,dismiss:t,view:n})=>(0,A.jsx)(k.Z,{name:"AuthDesktopAppShell_BrowserExtensionUpsellModal",children:(0,A.jsx)(tZ,{handleComplete:e,handleDismiss:t,handleView:n})})}),(0,A.jsx)(te,{})]})})}),eo&&!O&&(0,A.jsx)(tD,{"data-test-id":"full-height-inbox"})]}),(0,A.jsx)(eP,{})]})})})})}),I&&(0,A.jsx)(b.Z,{}),(0,A.jsx)(j,{}),ec&&(0,A.jsx)(k.Z,{name:"DesktopApp_WebPushUpsell",children:(0,A.jsx)(F.Z,{children:(0,A.jsx)(e3,{})})}),(0,A.jsx)(k.Z,{name:"DesktopApp_MarketingPixel",children:(0,A.jsx)(eB,{})}),o&&(0,A.jsx)(p.xu,{"data-test-id":"report-pin",children:(0,A.jsx)(k.Z,{name:"SafeSuspense_DesktopApp_ReportContent",children:(0,A.jsx)(tL,{data:o,dismiss:r})})})]})})})})})})})})})]})}var tV=n(797502),tW=n(15881),t$=n(358136),tq=n(498895);let tY=()=>{l.ZP.setItem(tW.EZ,"OPEN_UNAUTH")},tK=()=>(0,tq.a)()||"OPEN_UNAUTH"===l.ZP.getItem(tW.EZ);var tJ=n(481889),tQ=n(20717);function tX(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let t0=(0,I.Z)(()=>n.e("92786").then(n.bind(n,928446)),{fallback:(0,A.jsx)(p.xu,{})},e=>928446,"app-packages-desktopLoginModal-UnauthHybridBannerSignupModal");class t1 extends a.Component{constructor(...e){super(...e),tX(this,"state",{scrollSessionCount:0,shouldShowBanner:!1,bannerViewed:!1,bannerDismissed:!1}),tX(this,"setShouldShowBanner",e=>this.setState({shouldShowBanner:e})),tX(this,"onScrollHybridBanner",e=>{let{isSafari:t,trackConversionUpsell:n,checkExperiment:i}=this.props;if(i("dweb_upsell_manager_mvp_2").anyEnabled){let i=tK();c.Z.emitEvent("onScrollHybridBanner",{evt:e,isSafari:t,trackConversionUpsell:n,isInOpenModalExperience:i,UnauthHybridBannerClassComponent:this});return}let r=0,a=e&&e.target instanceof Document?e.target:null;if(a&&a.documentElement&&a.documentElement.scrollTop>0?r=a.documentElement.scrollTop:a&&a.body&&a.body.scrollTop>0&&(r=a.body.scrollTop),r<64)this.state.shouldShowBanner&&!this.state.bannerDismissed&&(n({element:13893,eventType:10243}),this.state.bannerDismissed=!0),this.setShouldShowBanner(!1);else if(r<4e3){let e=this.state.shouldShowBanner;this.setState(e=>({shouldShowBanner:tK()||t||3!==e.scrollSessionCount,scrollSessionCount:Math.ceil(r/800)}),()=>{e||!this.state.shouldShowBanner||this.state.bannerViewed||(n({eventType:14688,element:13319,component:14479,upsellReason:"scroll_down"}),this.state.bannerViewed=!0)})}else!l.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&!tK()&&t&&e&&e.preventDefault()}),tX(this,"onScrollHybridBannerThrottled",(0,V.Z)(this.onScrollHybridBanner,10))}componentDidMount(){window.addEventListener("scroll",this.onScrollHybridBannerThrottled)}componentWillUnmount(){window.removeEventListener("scroll",this.onScrollHybridBannerThrottled)}render(){let{inviter:e,setHasDismissedBottomRightUpsell:t,checkExperiment:n,showScrollDownUpsell:i,showSocialPopoverUpsell:r,showSocialReplyBannerUpsell:a}=this.props,{shouldShowBanner:o}=this.state,s=(r||o&&i&&n("dweb_upsell_manager_redux").anyEnabled||o)&&!a;return(0,A.jsx)(p.xu,{children:(0,A.jsx)(t0,{inviter:e,setHasDismissedBottomRightUpsell:t,shouldShowBanner:s})})}}let t3=e=>{let{isBot:t}=(0,H.B)(),{logContextEvent:n}=(0,C.v)(),{userAgent:{browserName:i}}=(0,H.B)(),{trackConversionUpsell:r}=(0,tJ.Z)(),{checkExperiment:a}=(0,o.F)(),s=(0,f.v9)(e=>e.upsell.showScrollDownUpsell),l=(0,g.TH)().state||{},c=(0,tQ.cO)(),u=c?.data?.popoverData,d=u?.expGroup||"",p=!!(d.startsWith("enabled_popover")||l.isSocialPinToProfile),_="enabled_banner_reply"===d;return t?null:(0,A.jsx)(t1,{...e,checkExperiment:a,isSafari:(0,E.G6)(i),logContextEvent:n,showScrollDownUpsell:s,showSocialPopoverUpsell:p,showSocialReplyBannerUpsell:_,trackConversionUpsell:r})};var t2=n(986523);let t6=(0,I.Z)(()=>Promise.all([n.e("28507"),n.e("45565")]).then(n.bind(n,646301)),void 0,e=>646301,"app-packages-desktopLoginModal-SignupUpsellModal"),t8=["passwordReset","passwordUserName","topic","flashlight","todayTab","todayArticleFeed","todayArticleInterestFeed","ideasHub","ideasRoot","invited","pinBookmarklet","shoppingRoot","shoppingCategory","videosRoot","videosCategory"];function t7({hideDesktopSignupModal:e,inviter:t,pageType:n,signupModalState:i,shouldShowSignupWelcomeLoading:r,setShouldShowSignupWelcomeLoading:o}){let s=(0,t2.Z)(),c=(0,g.TH)(),[u,d]=(0,a.useState)(l.ZP.getItem(tW.EA)??!1);(0,a.useEffect)(()=>{l.ZP.setItem(tW.EA,u)},[u]);let _=!s&&!(({pageType:e,location:t})=>t8.includes(e)||(0,M.Ni)(t)||(0,M.C$)(t)||(0,M.Xn)(t)||"/invited/"===t.pathname||t.pathname.startsWith("/about/"))({location:c,pageType:n});return(0,A.jsxs)(a.Fragment,{children:[_&&!u&&(0,A.jsx)(t3,{inviter:t,setHasDismissedBottomRightUpsell:d}),i.modal.isShown&&(0,A.jsx)(F.Z,{children:(0,A.jsx)(t6,{displayProps:i.modal.displayProps,hideDesktopSignupModal:e,inviter:t,pageType:n,setShouldShowSignupWelcomeLoading:o})}),r&&(0,A.jsx)(p.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:new p.Ry(100),children:(0,A.jsx)(t$.Z,{})})]})}var t4=n(756219),t9=n(818244),t5=n(505633),ne=n(746868);let nt=(e,t)=>(0,eQ.nP)(`pinner_conversion.upsell.dweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t}),nn=(e,t)=>{switch(t.type){case"dismiss":return{...e,modal:{isShown:!1}};case"show":return{...e,modal:{isShown:!0,displayProps:t.displayProps}};default:return e}},ni=()=>(0,a.useReducer)(nn,{modal:{isShown:!1}}),nr=604800,na=(e,t=nr)=>{let n=(0,s.M0)().getItem(e);return n&&Date.now()-parseInt(n,10)>1e3*t},no=(e=nr)=>{let t=(0,s.M0)().getItem(eW.TO);return na(eW.On,e)||!t?0:parseInt(t,10)||0},ns=(e=nr)=>{let t=no(),n=(0,s.M0)();if(na(eW.On,e)||!t)try{n.setItem(eW.TO,1),n.setItem(eW.On,Date.now())}catch(e){console.error(e)}else try{n.setItem(eW.TO,t+1)}catch(e){console.error(e)}};var nl=n(331506),nc=n(865043),nu=n(736328),nd=n(413211),np=n(925201);let n_=e=>{switch(e){case"todayArticleFeed":return{eligible:!0,container:"todayArticleFeed"};case"todayTab":return{eligible:!0,container:"todayTab"};default:return{eligible:!1}}},nh=({pageType:e})=>{let[t,n]=ni(),i=(0,f.I0)(),{loginForMore:r}=(0,eN.H)(),u=(0,g.k6)(),p=(0,nu.Z)(),{viewType:_,viewParameter:h}=(0,ne.SU)(),{trackConversionUpsellForContext:m}=(0,tJ.A)(),{unauthUserStateDispatch:v}=(0,d.R)(),{checkExperiment:b}=(0,o.F)(),w=b("dweb_upsell_manager_mvp_2"),y=b("dweb_upsell_manager_redux"),S=({shouldDoSideEffects:t})=>{if(w.anyEnabled){let i=n_(e).eligible;c.Z.emitEvent("hideDesktopSignupModal",{shouldDoSideEffects:t,loginForMore:r,isEligibilityLoginForMore:i,dispatchSignupModalAction:n,logDesktopSignupModalEvent:nt});return}t&&r&&n_(e).eligible&&r.setVisible(!1),n({type:"dismiss"}),nt("dispatch_dismiss",{shouldDoSideEffects:t}),y.anyEnabled&&i((0,nd.C5)())},E=e=>{if(w.anyEnabled)return void c.Z.emitEvent("showDesktopSignupModal",{displayProps:e,trackInteraction:p,viewType:_,viewParameter:h,trackConversionUpsellForContext:m,logDesktopSignupModalEvent:nt,dispatchSignupModalAction:n});n({type:"show",displayProps:e});let{attributionLabel:t,signupFlow:i,reason:r}=e;p({action:"trigger",item:i.type.includes("signup")?"signup-modal":"login-modal"}),m({viewType:_,viewParameter:h,eventType:14688,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[r]||13322,component:"login"===i.type?14212:14214,upsellReason:t}),nt("dispatch_show",{attributionLabel:t,modalType:i.type,reason:r})},x=(e,t)=>E({signupFlow:{type:"login"},attributionLabel:t,container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}),P=!!r?.visible,I=(0,a.useRef)(P);return(0,a.useEffect)(()=>{if(P!==I.current){I.current=P;let t=n_(e);t.eligible&&(P?x(t.container,"loginForMoreIsVisible"):S({shouldDoSideEffects:!0}))}}),(0,a.useEffect)(()=>{(0,nc.My)(`unauth_web.unauth_page_wrapper.${e}.mounted.is_mobile_false`),"p100"===(0,$.mB)(window.location.search).utm_source&&tY()},[]),{hideDesktopSignupModal:S,pinImageClickHandler:({event:e,pinId:t,seoUrl:n,linkTarget:r})=>{if(e&&e.preventDefault(),y.anyEnabled){tK()||i((0,nd.Li)(t,n??void 0));let e=(0,np.Z)((0,nl.bN)({pinId:t,seoUrl:n}),{});if("duploClientNav"===r)u.push(e);else{let t=window.open(e,"_blank");t?.focus()}S({shouldDoSideEffects:!1});return}if(w.anyEnabled){let e=!1;if(tK()||c.Z.emitEvent("pinView",{pinId:t,seoUrl:n,history:u,linkTarget:r,onUpsellTriggerCallback:()=>{e=!0}}),!e){let e=(0,nl.bN)({pinId:t,seoUrl:n});if("fullPageLoad"===r)return void(0,t5.Z)(e,!1);if("duploClientNav"===r)u.push(e);else{let t=window.open(e,"_blank");t?.focus()}}return}let a=null;if(!tK()&&!b("dweb_unauth_nav_upsell_local_storage_deprecation").anyEnabled){let e=(0,s.M0)(),t=e.getItem(eW.cu)??0;t+1>=4&&!l.ZP.getItem("HAS_SEEN_LOGIN_MODAL")&&(l.ZP.setItem("HAS_SEEN_LOGIN_MODAL","true"),a={mt:"login"},(0,nc.My)("dweb.navigational.upsell.show")),e.setItem(eW.cu,t+1),v({type:"UPDATE"})}let o=(0,np.Z)((0,nl.bN)({pinId:t,seoUrl:n}),a||{});if("fullPageLoad"===r)return void(0,t5.Z)(o,!1);if("duploClientNav"===r)u.push(o);else{let e=window.open(o,"_blank");e?.focus()}S({shouldDoSideEffects:!1})},pinLinkClickHandler:()=>{if(ns(),tK())return;let e=no();y.anyEnabled?i((0,nd.tW)(e)):(2===e||e%5==0)&&x("hybrid_clickthrough","pinLinkClickHandler_tier1")},modalOpened:!!t.modal.isShown,showDesktopSignupModal:E,signupModalState:t,showGoogleOneTapTriggeredModal:e=>{switch(e.type){case"CLICK_LOGIN_BUTTON":E({signupFlow:{type:"login"},attributionLabel:"tap_googleOneTap_login",source:"login",container:"google_one_tap_modal",reason:"CLICK_LOGIN_OR_SIGNUP"});break;case"LOGIN_ERROR":E({signupFlow:{type:"login"},source:"login",reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_loginError"});break;case"MFA":E({signupFlow:{type:"loginMfa",creds:{google_open_id_token:e.mfaGoogleOpenId}},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_mfa"});break;case"GDPR_REQUIRES_AGE":E({signupFlow:{type:"socialSignupWithAge",registrationCredentials:e.socialRegistrationCredentials},reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap_googleOneTap_gdprRequiresAge"})}},trackConversionUpsellForContext:m}};var nm=n(40679),nf=n(923298),ng=n(366863);function nv(){return!function(){let e=(0,f.I0)(),{pinViewCount:t,navigationalModalViewed:n,showSaveModal:i,pinId:r,attributionLabel:o,clickCloseUp:s,clickContextMenuSaveButton:l,clickContextMenuDownloadButton:c,clickFollowButton:u,followIsIdeaPin:d,followDesktopOptions:p,clickCloseUpContextMenuSaveButton:_,clickCloseUpContextMenuDownloadButton:h,clickFollowingButton:m,clickFollowersButton:g,clickCommentComposerUpsell:v,clickPinLinkUpsell:b,clickPinLinkCount:w,clickRelatedPinOpenLinkUpsell:y,uniqueNavigationalPagesSeen:S,navigationalPagesUpsellSeen:E,navigationalContainerPage:x}=(0,f.v9)(e=>e.upsell),P=(0,nf.Z)(),I=(0,t9.g)()?.showDesktopSignupModal,A=(0,ng.Z)(n);(0,a.useEffect)(()=>{I&&t>3&&!A&&!E&&(I({signupFlow:{type:"login"},attributionLabel:"navigation_1",container:"closeup",reason:"UPSELL_LOGIN_OR_SIGNUP"}),e((0,nd.mM)()))},[t,e,A,E,I]);let O=(0,ng.Z)(i);(0,a.useEffect)(()=>{!O&&i&&(P({attributionLabel:o??"",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"save"},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:r}),e((0,nd.Yc)("showSaveModal")))},[O,i,r,o,P,e]);let T=(0,ng.Z)(s);(0,a.useEffect)(()=>{!T&&s&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),e((0,nd.Yc)("clickCloseUp")))},[T,s,P,e]);let k=(0,ng.Z)(l);(0,a.useEffect)(()=>{!k&&l&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_action_bar_ellipsis_save_button",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:r??""}}}),e((0,nd.Yc)("clickContextMenuSaveButton")))},[k,r,l,P,e]);let C=(0,ng.Z)(_);(0,a.useEffect)(()=>{!C&&_&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${o}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:r??""}}}),e((0,nd.Yc)("clickCloseUpContextMenuSaveButton")))},[C,r,o,_,P,e]);let N=(0,ng.Z)(h);(0,a.useEffect)(()=>{!N&&h&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${o}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:r??""}}}),e((0,nd.Yc)("clickCloseUpContextMenuDownloadButton")))},[N,r,o,h,P,e]);let R=(0,ng.Z)(c);(0,a.useEffect)(()=>{!R&&c&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_action_bar_ellipsis_download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:r??""}}}),e((0,nd.Yc)("clickContextMenuDownloadButton")))},[R,r,c,P,e]);let Z=(0,ng.Z)(u);(0,a.useEffect)(()=>{!Z&&u&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:d?"click_idea_pin_follow":"click_follow",desktopOptions:p?{modalType:"signup",modalOptions:{source:p.source,container:p.container}}:void 0}),e((0,nd.Yc)("clickFollowButton")))},[Z,u,d,p,P,e]);let j=(0,ng.Z)(m);(0,a.useEffect)(()=>{!j&&m&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_following"}),e((0,nd.Yc)("clickFollowingButton")))},[j,m,P,e]);let L=(0,ng.Z)(g);(0,a.useEffect)(()=>{!L&&g&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_followers"}),e((0,nd.Yc)("clickFollowersButton")))},[L,g,P,e]);let U=(0,ng.Z)(v);(0,a.useEffect)(()=>{!U&&v&&(P({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}}),e((0,nd.Yc)("clickCommentComposerUpsell")))},[U,v,P,e]);let M=(0,ng.Z)(w);(0,a.useEffect)(()=>{let t=w||0;I&&b&&t!==M&&(2===t||t%5==0)&&(I({signupFlow:{type:"login"},attributionLabel:"pinLinkClickHandler_tier1",container:"hybrid_clickthrough",reason:"UPSELL_LOGIN_OR_SIGNUP"}),e((0,nd.Yc)("clickPinLinkUpsell")))},[M,w,b,I,e]);let D=(0,ng.Z)(y);(0,a.useEffect)(()=>{!D&&y&&(P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}}),e((0,nd.Yc)("clickRelatedPinOpenLinkUpsell")))},[D,y,P,e]),(0,a.useEffect)(()=>{I&&!E&&S.length>3&&!n&&(I({signupFlow:{type:"login"},attributionLabel:`navigation_${x}`,container:x,reason:"UPSELL_LOGIN_OR_SIGNUP"}),e((0,nd.KP)()))},[E,S,x,e,I,n])}(),null}var nb=n(214879),nw=n(213491);let{Provider:ny,useHook:nS}=(0,nw.Z)("NativeAppInstalled");function nE({children:e}){let[t,n]=(0,a.useState)(!1),[i,r]=(0,a.useState)(!1),o=(0,a.useCallback)(e=>{n(e)},[]),s=(0,a.useCallback)(e=>{r(e)},[]);(0,a.useEffect)(()=>{!async function(){let e=await (0,nb.Z)();r(!0),e.length>0&&n(!0)}()},[]);let l=(0,a.useMemo)(()=>({isNativeAppInstalled:t,setIsNativeAppInstalledVal:o,isCheckComplete:i,setIsCheckCompleteVal:s}),[t,o,i,s]);return(0,A.jsx)(ny,{value:l,children:e})}var nx=n(250459),nP=n(874288),nI=n(248481),nA=n(818906),nO=n(411657);function nT({children:e}){let t,{isAuth:n}=(0,m.Z)(),{isBot:i}=(0,H.B)(),r=(0,g.TH)(),s=(0,g.$B)(),[l,c]=(0,a.useState)((0,M.uM)(r)?{isStoryPin:"unknown"}:null);(0,a.useEffect)(()=>{c((0,M.uM)(r)?{isStoryPin:"unknown"}:null)},[r]);let u=(0,a.useCallback)(e=>c({isStoryPin:e}),[]),{userAgent:d,userAgentPlatform:p}=(0,f.v9)(({session:e})=>({userAgent:e.userAgent,userAgentPlatform:e.userAgentPlatform}),f.wU),_=(0,nP.Z)()||(0,nI.Rp)({isBot:i,platform:p,userAgent:d}),{checkExperiment:h}=(0,o.F)(),[v,b]=(0,a.useState)(!1),[w,y]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[x,P]=(0,a.useState)(!1),I=(0,nA.Z)();return n||(t={appInstallBannerIsEnabled:_&&((0,M.uM)(r)||(0,M.am)(r)||(0,M.$Y)(r)||(0,M.E0)(r)||(0,M.Zz)(r)||(0,M.dr)(r)||(0,M.tZ)(r)||(0,M.Q0)(r)||(0,M.f1)(r)||(0,M.OX)(r)||(0,M.gT)(r)||(0,M.bW)(r)||(0,M.En)(r)||(0,M.wg)(r)||"/unauth-profile"===s.path||"/:username"===s.path||"/:username/:slug/:section_slug"===s.path||(0,M.Xn)(r)||("/:username/_created"===s.path||"/:username/_saved"===s.path)&&"enabled_add_tabs"===h("pcons_header_on_created_and_saved_tab").group),hasScrolledPastMainContent:v,setHasScrolledPastMainContent:b,hasDraggedDrawerToFullScreen:w,setHasDraggedDrawerToFullScreen:y,pinPageGlobalContext:l,onPinTypeLoad:u,shouldShowLearningUpsell:S,setShouldShowLearningUpsell:E,shouldShowHomepageAppUpsellSheet:x,setShouldShowHomepageAppUpsellSheet:P,unauthSavedPinsStore:I}),(0,A.jsx)(nO.D,{value:t,children:e})}var nk=n(116980),nC=n(443643),nN=n(497491),nR=n(866729);function nZ({left:e=0,transition:t}){let n=(0,h.ZP)(),i=(0,nR.Z)(),r=(0,nN.Z)();if(!i)return null;let a="desktop"===n?nC.$:nC.J,o="phone"===n?nk.SB:nk.Pw;return r?(0,A.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{left:e,transition:t}},height:o,position:"fixed",right:!0,zIndex:a}):"desktop"===n?(0,A.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{left:e,transition:t}},height:o,right:!0}):(0,A.jsx)(p.Le,{top:0,zIndex:a,children:(0,A.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{left:e,transition:t}},height:o,right:!0})})}var nj=n(43295),nL=n(698330),nU=n(357966);let nM=function(){let[e,t]=(0,a.useState)(!1),n=(0,a.useRef)(null),i=(0,nU.Ns)(()=>{let e=n.current;e&&!Number.isNaN(e.scrollTop)&&t(e.scrollTop>0)},100);return{showHeaderShadow:e,scrollerRef:n,handleScrollShadow:i}},{Provider:nD,useHook:nG}=(0,nw.Z)("VerticalNavFullSizePopover"),nH=({children:e})=>{let{scrollerRef:t,showHeaderShadow:n,handleScrollShadow:i}=nM(),r=(0,a.useMemo)(()=>({showHeaderShadow:n,scrollerRef:t,handleScrollShadow:i}),[t,n,i]);return(0,A.jsx)(nD,{value:r,children:e})},nB=({children:e})=>(0,A.jsx)(p.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:e}),nz=({title:e})=>{let{showHeaderShadow:t}=nG();return(0,A.jsx)(p.xu,{alignItems:"center",borderStyle:t?"raisedBottomShadow":void 0,display:"flex",flex:"none",padding:4,children:(0,A.jsx)(p.X6,{accessibilityLevel:1,size:"400",children:e})})},nF=({children:e})=>(0,A.jsx)(p.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"16px"}},flex:"grow",height:"100%",children:e}),nV=({children:e})=>{let{scrollerRef:t,handleScrollShadow:n}=nG();return(0,A.jsx)(p.xu,{ref:t,height:"100%",onScroll:n,overflow:"auto",children:e})},nW=function({accessibilityLabel:e,anchor:t,onDismiss:n,popoverId:i,children:r}){let a=(0,tR.Z)();return t?(0,A.jsx)(nH,{children:(0,A.jsx)(p.mh,{zIndex:e9.Mf,children:(0,A.jsx)(p.J2,{accessibilityLabel:e,anchor:t,color:"white",coordinates:{top:e9.zz,bottom:e9.zz,start:a+e9.L7},disablePortal:!0,forceDirection:!0,id:i,idealDirection:e9.dg,onDismiss:n,position:"fixed",size:e9.GJ,children:(0,A.jsx)(p.xu,{height:"100%",width:e9.GJ,children:r})})})}):null};function n$({accessibilityLabel:e,anchor:t,onDismiss:n,popoverId:i,children:r,bottom:a,position:o}){let s=(0,tR.Z)();return t?(0,A.jsx)(p.mh,{zIndex:e9.Mf,children:(0,A.jsx)(p.J2,{accessibilityLabel:e,anchor:t,color:"white",coordinates:"fixed"===o?{start:s+e9.L7,bottom:a}:void 0,disablePortal:!0,forceDirection:!0,id:i,idealDirection:e9.dg,onDismiss:n,position:o,size:e9.GJ,children:(0,A.jsx)(p.xu,{width:e9.GJ,children:r})})}):null}var nq=n(477314);let nY=({isCategoriesEnabled:e})=>{let t=(0,Z.ZP)(),{selectedNav:n,togglePanelState:i,isPanelOpen:r,updatePanelState:o}=tE(),{appUI:{showTypeaheadOverlay:s}}=(0,eg.I)(),{country:l,isAuthenticated:c}=(0,H.B)(),u=c||"JP"!==l?t._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'):t._('Explore ideas', 'unauth.header.tabs.ideas.jp', 'label for jp ideas hub'),d=(0,a.useRef)(null),_=(0,a.useRef)(null),h="VerticalNav-MoreOptions-Flyout",m=r("settings"),f=r("categories"),g=(0,nL.Z)(),[v,b]=(0,a.useState)(!1),[w,y]=(0,a.useState)(!1),{trackPinterestLogoClick:S,trackIdeasTabClick:E,trackShoppingClick:x,trackSettingsClick:P,trackCategoriesClick:I}=(0,nq.Z)();return(0,A.jsxs)(tT,{showTypeaheadOverlay:s,children:[(0,A.jsxs)(tx,{height:"100%",justifyContent:"between",children:[(0,A.jsxs)(tx,{children:[(0,A.jsx)(tO,{onClick:S}),(0,A.jsx)(tP,{children:(0,A.jsx)(tm.Td,{accessibilityLabel:u,dataTestId:"ideas-tab",href:"/ideas",iconName:"today",onClick:E,selected:"ideas"===n})}),g?(0,A.jsx)(tP,{children:(0,A.jsx)(tm.Td,{accessibilityLabel:t._('Shop', 'unauth.header.tabs.shop', 'label for the shopping hub tab'),dataTestId:"shopping-tab",href:"/shopping",iconName:"shopping",onClick:x,selected:"shopping"===n})}):null,e?(0,A.jsx)(tP,{children:(0,A.jsx)(tm.Td,{ref:_,accessibilityLabel:t._('Categories', 'verticalNav.categoriesButton.label', 'Tooltip text and accessibility label for categories button'),dataTestId:"categories-tab",iconName:"categories",onClick:()=>{i("categories"),y(e=>!e),I()},selected:f})}):null]}),(0,A.jsx)(tm.Td,{ref:d,accessibilityControls:h,accessibilityLabel:t._('More options', 'verticalNav.moreOptionsButton.tooltip', 'Tooltip text for icon button to open more options/settings menu'),accessibilityPopupRole:"menu",dataTestId:"vertical-nav-more-options-button",iconName:"moreOptions",onClick:()=>{i("settings"),b(e=>!e),P()},selected:m})]}),v?(0,A.jsx)(k.Z,{name:"SafeSuspense_UnauthVerticalNav_UnauthSettingFlyout",children:(0,A.jsx)(n$,{anchor:d.current,bottom:e9.zz,onDismiss:()=>{o("settings",!1),b(!1)},popoverId:h,position:"fixed",children:(0,A.jsx)(nj.Z,{displayLocation:"vertical-nav"})})}):null,w?(0,A.jsx)(nW,{accessibilityLabel:t._('Categories Popover', 'verticalNav.categoriesPopover.label', 'accessibility label for categories popover'),anchor:_.current,onDismiss:()=>{o("categories",!1),y(!1)},popoverId:"VerticalNav-Categories-Flyout",children:(0,A.jsxs)(nB,{children:[(0,A.jsx)(nz,{title:t._('Category', 'verticalNav.categoriesPopover.title', 'title for categories popover')}),(0,A.jsx)(nF,{children:(0,A.jsx)(nV,{children:Array.from({length:25}).map((e,t)=>(0,A.jsx)(p.xu,{padding:6,children:(0,A.jsxs)(p.xv,{children:["Category ",t+1]})},t))})})]})}):null]})},nK=({isCategoriesEnabled:e=!1})=>(0,A.jsx)(tS,{isIdeaPinRenamingEnabled:!0,children:(0,A.jsx)(nY,{isCategoriesEnabled:e})});var nJ=n(889162);let nQ=(0,I.Z)(()=>Promise.all([n.e("29215"),n.e("55900"),n.e("23900")]).then(n.bind(n,901641)),void 0,e=>901641,"app-www-PageWrapper-UnauthPageWrapperHeader"),nX=(0,I.Z)(()=>n.e("41222").then(n.bind(n,690338)),void 0,e=>690338,"app-www-PageWrapper-UnauthPageWrapperFooter");function n0({children:e,showDesktopSignupModal:t}){let{enabled:n}=(0,nJ.Z)(),i=(0,tR.Z)();return(0,A.jsx)(nT,{children:(0,A.jsxs)(a.Fragment,{children:[(0,A.jsxs)(p.xu,{role:"banner",children:[(0,A.jsx)(W.Z,{}),(0,A.jsx)(nQ,{fallback:(0,A.jsx)(nZ,{left:i,transition:e9.rB}),showDesktopSignupModal:t})]}),n?(0,A.jsx)(nK,{}):null,(0,A.jsxs)(p.xu,{dangerouslySetInlineStyle:n?{__style:{paddingLeft:i}}:void 0,id:"mweb-unauth-container",role:"main",children:[e,(0,A.jsx)(te,{})]}),(0,A.jsx)(nX,{})]})})}var n1=n(758594);let n3=nm.Z+tV.ZP,n2=({children:e})=>{let t=(0,nx.Z)(),{hideDesktopSignupModal:n,pinImageClickHandler:i,pinLinkClickHandler:r,showDesktopSignupModal:o,signupModalState:s,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}=nh({pageType:t}),u=(0,tQ.cO)(),[d,p]=(0,a.useState)(!1),_=(0,a.useMemo)(()=>({isModalShown:s.modal.isShown,showDesktopSignupModal:o,pinImageClickHandler:i,pinLinkClickHandler:r,showGoogleOneTapTriggeredModal:l,trackConversionUpsellForContext:c}),[s.modal.isShown,o,i,r,l,c]),{setIsAutoplay:h}=(0,eg.I)();return(0,q.Z)(()=>{let e=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,nc.tj)("web.unauth.locale_data",{tz:e})}),(0,q.Z)(()=>{setTimeout(()=>{h(!0)},300)}),(0,A.jsxs)(t9.t,{value:_,children:[(0,A.jsx)(n0,{showDesktopSignupModal:o,children:e}),(0,A.jsx)(t7,{hideDesktopSignupModal:n,inviter:u?.data?.inviter||void 0,pageType:t,setShouldShowSignupWelcomeLoading:p,shouldShowSignupWelcomeLoading:d,signupModalState:s}),(0,A.jsx)(nv,{})]})};function n6({children:e}){return(0,A.jsx)(G.T,{children:(0,A.jsx)(eS.N,{children:(0,A.jsx)(nE,{children:(0,A.jsx)(tQ.xM,{children:(0,A.jsx)(n1.Z,{metricName:"PageWrapper",children:(0,A.jsxs)(p.xu,{children:[(0,A.jsx)(ts.Z,{unsafeCSS:n3}),(0,A.jsx)(t4.Z,{children:(0,A.jsx)(n2,{children:e})})]})})})})})})}var n8=n(95664),n7=n(375181),n4=n(31725),n9=n(538937),n5=n(805146),ie=n(390588);let it=e=>window.addEventListener("appinstalled",()=>{(0,nc.My)("mweb.homescreen_install.installed"),e({event_type:13,view_type:170,component:13126,element:10802})}),ii=(e,t)=>{try{(0,nc.My)("mweb.homescreen_install.shown"),t({event_type:13,view_type:170,component:13126}),e.userChoice.then(e=>{(0,nc.My)(`mweb.homescreen_install.${e.outcome}`),t({view_type:170,component:13126,element:"dismissed"===e.outcome?10359:10360,event_type:102})})}catch(e){window.console.error(e)}},ir=(e,t)=>{let{userAgent:{browserName:n,browserVersion:i},isAuthenticated:r}=e,a=parseInt(i,10),o=!!n&&n.includes("Chrome");window.addEventListener("beforeinstallprompt",e=>r&&o&&a<=67?(ii(e,t),!0):(e.preventDefault(),!1))};var ia=n(843716),io=n(233550),is=n(888226);let il=(e,t)=>{(0,s.M0)().setItem(eW.cX,{version:t,data:e})},ic=()=>{try{let e=(0,s.M0)().getItem(eW.cX);return e&&{version:e.version,state:e.data}}catch{return null}};var iu=n(138482),id=n(722832);let ip=e=>(0,M.uM)(e)?{name:"pin",viewType:3}:(0,M.am)(e)?{name:"board",viewType:5}:(0,iu.Z)(e)?{name:"profile",viewType:215}:null,i_=e=>e<=10?e.toString():e<=20?"[11,20]":e<=50?"[21,50]":e<=100?"[51,100]":"101+",ih=e=>e?(0,M.bo)(e)&&"today"||(0,M.am)(e)&&"board"||(0,M.C$)(e)&&"home"||(0,M.dr)(e)&&"ideas"||(0,M.gT)(e)&&"ideas-root"||(0,M.Xn)(e)&&"login"||(0,M.uM)(e)&&"pin"||(0,iu.Z)(e)&&"profile"||(0,M.En)(e)&&"search"||"other":"unknown",im=(e,t,n,i,r)=>{let{unauthID:a}=n.sessionContext,o="SHOW_MOBILE_SIGNUP_MODAL"===e.type&&e.options.navigationTriggeredUpsell?e.options.navigationTriggeredUpsell.newLocation:null,s=o?ip(o):null,l=s?.viewType||n.currentPageViewType||132;if("SHOW_MOBILE_SIGNUP_MODAL"===e.type&&n.modal.isShown){let{trigger:{attributionLabel:t,reason:i}}=n.modal.displayProps;(0,id.Z)("dispatch_show",{reason:i,attributionLabel:t,oldPage:e.options.navigationTriggeredUpsell?ih(e.options.navigationTriggeredUpsell.oldLocation):"NOT_APPLICABLE",timesShownForSessionCount:i_(n.timesShownForSessionCount)})}else if("DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown){let{attributionLabel:e,reason:n}=t.modal.displayProps.trigger;(0,id.Z)("dispatch_dismiss",{reason:n,attributionLabel:e})}if(!t.modal.isShown&&n.modal.isShown){let{attributionLabel:t}=n.modal.displayProps.trigger,o=t.replace(/\./g,"_");i({event_type:13,element:12403,component:13858,view_type:l,aux_data:{unauth_id:a}}),"SHOW_MOBILE_SIGNUP_MODAL"===e.type?((0,nc.NC)(`show_dismissible_mobile_signup_modal_${e.type}_${o}`),r({viewType:l,eventType:14688,component:14216,element:{UPSELL_LOGIN_OR_SIGNUP:13319,ACTION_REQUIRES_LOGIN_OR_SIGNUP:13320,CLICK_LOGIN_OR_SIGNUP:13321}[e.options.reason]||13322,upsellReason:o})):(0,nc.NC)(`show_dismissible_mobile_signup_modal_${e.type}`)}else"DISMISS_MOBILE_SIGNUP_MODAL"===e.type&&t.modal.isShown&&!n.modal.isShown&&(i({event_type:123,component:13858,view_type:l,aux_data:{unauth_id:a}}),(0,nc.NC)("dismiss_mobile_signup_modal"))};var ig=n(658375);let iv=Object.freeze(["CO","ID"]),ib=e=>iv.includes(e),iw=e=>!!(0,n8.dh)(e)&&((0,is.q)("msmrsfiiab",void 0)||((0,eQ.nP)("mobile_signup_modal.rules.suppress_for_instagram_in_app_browser"),(0,is.N)("msmrsfiiab","1")),!0),iy=({isUnauthSharingModalsShown:e,modalHasShown:t,sessionContext:{country:n,userAgent:i}})=>e||t&&ib(n)||(0,ig.P)()||iw(i),iS=(e,t)=>{switch(t.type){case"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT":return{...e,upsellEligibleNavigationCount:e.upsellEligibleNavigationCount+1};case"DISMISS_MOBILE_SIGNUP_MODAL":return{...e,modal:{isShown:!1}};case"UPDATE_SESSION_CONTEXT":return{...e,sessionContext:t.sessionContext};case"UPDATE_CURRENT_PAGE_VIEW_TYPE":return{...e,currentPageViewType:t.currentPageViewType};case"RESTORE_FROM_LOCAL_STORAGE":{let{upsellEligibleNavigationCount:n}=t;return{...e,upsellEligibleNavigationCount:n??e.upsellEligibleNavigationCount}}case"SHOW_MOBILE_SIGNUP_MODAL":return{...e,lastShownTime:t.now,timesShownForSessionCount:e.timesShownForSessionCount+1,scrollControllerHasDisplayed:e.scrollControllerHasDisplayed,modal:{isShown:!0,displayProps:{headingType:t.options.headingType,trigger:{attributionLabel:t.options.attributionLabel,reason:t.options.reason},allowCloseOnOutsideClick:t.options.allowCloseOnOutsideClick},pinId:t.options.pinId||null}};case"HIDE_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!1};case"SHOW_UNAUTH_SHARING_MODALS":return{...e,isUnauthSharingModalsShown:!0};default:return e}};function iE({children:e,referrer:t}){let{country:n,unauthId:i,userAgent:{raw:r}}=(0,H.B)(),{viewType:o}=(0,ne.SU)(),s=(0,ia.an)(t),l=(0,eV.Z)(),{trackConversionUpsellForContext:c}=(0,tJ.A)(),[u,d]=(0,a.useReducer)(iS,{modal:{isShown:!1},scrollControllerHasDisplayed:!1,upsellEligibleNavigationCount:0,isUnauthSharingModalsShown:!1,lastShownTime:null,timesShownForSessionCount:0,sessionContext:{country:n,referrer:s,unauthID:i,userAgent:r},currentPageViewType:o});(0,a.useEffect)(()=>{d({type:"UPDATE_SESSION_CONTEXT",sessionContext:{country:n,referrer:s,unauthID:i,userAgent:r}})},[n,s,i,r]),(0,a.useEffect)(()=>{d({type:"UPDATE_CURRENT_PAGE_VIEW_TYPE",currentPageViewType:o})},[o]);let p=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!p.current){p.current=!0;let e=ic(),t=e&&"v1"===e.version?e.state:null;if(t){let{upsellEligibleNavigationCount:e}=t;d({type:"RESTORE_FROM_LOCAL_STORAGE",upsellEligibleNavigationCount:e})}}},[]);let{scrollControllerHasDisplayed:_,upsellEligibleNavigationCount:h}=u;(0,a.useEffect)(()=>{p.current&&il({upsellEligibleNavigationCount:h},"v1")},[h]);let m=(0,a.useCallback)(()=>{let e={type:"DISMISS_MOBILE_SIGNUP_MODAL"},t=iS(u,e);im(e,u,t,l,c),d(e)},[l,u,c]),f=(0,a.useCallback)(()=>d({type:"HIDE_UNAUTH_SHARING_MODALS"}),[]),g=(0,a.useCallback)(e=>{let t={type:"SHOW_MOBILE_SIGNUP_MODAL",now:Date.now(),options:e},n=iS(u,t);im(t,u,n,l,c),d(t)},[l,u,c]),v=(0,a.useCallback)(()=>d({type:"SHOW_UNAUTH_SHARING_MODALS"}),[]),b=(0,a.useCallback)(()=>!u.modal.isShown&&!iy({isUnauthSharingModalsShown:u.isUnauthSharingModalsShown,sessionContext:u.sessionContext,modalHasShown:!!u.lastShownTime}),[u.modal.isShown,u.isUnauthSharingModalsShown,u.sessionContext,u.lastShownTime]),w=(0,a.useCallback)(()=>d({type:"INCREMENT_UPSELL_ELIGIBLE_NAVIGATION_COUNT"}),[]),y=(0,a.useMemo)(()=>({modal:u.modal,dismissMobileSignupModal:m,hideUnauthSharingModals:f,showMobileSignupModal:g,showUnauthSharingModals:v,upsellIsEnabledGlobally:b,incrementUpsellEligibleNavigationCount:w,scrollControllerHasDisplayed:_,upsellEligibleNavigationCount:h,trackConversionUpsellForContext:c}),[u.modal,m,f,g,v,b,w,_,h,c]);return(0,A.jsx)(io.r,{value:y,children:e})}var ix=n(451503),iP=n(157498);let iI=(0,I.Z)(()=>Promise.all([n.e("29215"),n.e("14803")]).then(n.bind(n,143842)),void 0,e=>143842,"app-www-PageWrapper-AuthMobileHeader"),iA=(0,I.Z)(()=>Promise.all([n.e("6608"),n.e("29215"),n.e("6150")]).then(n.bind(n,972114)),void 0,e=>972114,"app-www-PageWrapper-AuthPageWrapperFooter"),iO=(0,I.Z)(()=>Promise.all([n.e("29215"),n.e("55900"),n.e("23900")]).then(n.bind(n,901641)),void 0,e=>901641,"app-www-PageWrapper-UnauthPageWrapperHeader"),iT=(0,I.Z)(()=>n.e("41222").then(n.bind(n,690338)),void 0,e=>690338,"app-www-PageWrapper-UnauthPageWrapperFooter"),ik=(0,I.Z)(()=>n.e("52700").then(n.bind(n,139194)),void 0,e=>139194,"app-www-NavFooter-NavFooter"),iC=({isAuthenticated:e,location:t,hasNux:n,hasEmailUpdate:i,shouldHideNavFooter:r,viewingUsername:a,experimentsClient:o,isAndroidUnauthExperience:s})=>a&&(0,M.J)(t,a)||t.pathname.endsWith("/organize/repin/")||t.pathname.endsWith("/profile-about/")||t.pathname.startsWith("/about/")||t.pathname.startsWith("/convert-business")||t.pathname.startsWith("/convert-personal")||t.pathname.startsWith("/close-account")||t.pathname.startsWith("/switch_account")||t.pathname.startsWith("/add-account")||t.pathname.startsWith("/request-data")||t.pathname.match(/pin\/.+\/repin/)||t.hash===`#${n5.v}`||t.pathname.startsWith("/board/create/")||"/inbox/compose/"===t.pathname||t.pathname.startsWith("/parental-passcode")||"/search/me/"===t.pathname||"/search/people/"===t.pathname||t.pathname.startsWith("/today-articles")||t.pathname.startsWith("/oauth")||(0,M.C$)(t)&&(n||i||!e)||(0,M.Xn)(t)||(0,M.gf)(t)||(0,M.re)(t)||(0,M.FO)(t)||(0,M.pV)(t)||(0,M.jC)(t)||(0,M.XE)(t)||(0,M.Fy)(t)||(0,M.AX)(t)||(0,M.pD)(t)||(0,M.Ui)(t)||(0,M.KY)(t)||(0,M.Ni)(t)||(0,M.b0)(t)||(0,M.mP)(t)||(0,M.bW)(t)||(0,M.dt)(t)||(0,M.e)(t,o)||s||r,iN=()=>{let e=(0,z.Z)({name:"UserSettingsResource"});return(0,A.jsx)(iA,{userSettingsResourceRef:e})},iR=7*n7.F4,iZ=({isAuth:e,children:t})=>{let n=(0,g.TH)(),{checkExperiment:i}=(0,o.F)(),r=nS(),s=(0,n9.n)(),c=(0,iP.Tt)(),{userAgent:u}=(0,f.v9)(e=>e.session),[d,_]=(0,a.useState)(!0),h="true"===l.ZP.getItem(tW.m5);return(0,a.useEffect)(()=>{let{invite_code:t,utm_source:a}=(0,$.mB)(n.search);if(e&&!(0,n8.ry)(u)&&r.isCheckComplete&&!r.isNativeAppInstalled&&(0,nI.kp)((0,n4.Z)(c?.created_at),iR)&&("email"===a||a===String(31))&&!((0,M.ej)(n)||(0,M.C$)(n)||(0,M.q_)(n))&&(s.setShowReferredAppUpsellVal(!0),""===s.uiType&&(s.setAppUpsellTypeVal("auth-email-referred"),s.setUiTypeVal("full"))),!(0,n8.ry)(u)&&r.isCheckComplete&&!r.isNativeAppInstalled&&(0,nI.kp)((0,n4.Z)(c?.created_at),iR)&&t){let t="enabled_social"===i("mweb_on_land_full_page_signup_upsell").group,n=i("mweb_social_q2_upper_bound").anyEnabled;t||n||(s.setShowReferredAppUpsellVal(!0),""===s.uiType&&(s.setAppUpsellTypeVal(e?"auth-social-referred":"unauth-social-referred"),s.setUiTypeVal("bottom")))}},[i,c,e,r.isCheckComplete,r.isNativeAppInstalled,n,s,u]),(0,a.useEffect)(()=>{if((0,n8.ry)(u)&&d){let t="enabled_social"===i("mweb_on_land_full_page_signup_upsell").group,n=i("mweb_social_q2_upper_bound").anyEnabled;t||n||(_(!1),s.setShowReferredAppUpsellVal(!0),""===s.uiType&&(s.setAppUpsellTypeVal(e?"auth-social-iab":"unauth-social-iab"),s.setUiTypeVal("bottom")))}},[i,c,e,s,d,u]),(0,A.jsx)(n1.Z,{metricName:"PageWrapper",children:(0,A.jsxs)(p.xu,{color:"default",minHeight:"100vh",role:"main",children:[!h&&(e?(0,A.jsx)(iI,{}):(0,A.jsx)(iO,{fallback:(0,A.jsx)(nZ,{})})),(0,A.jsx)(p.xu,{id:e?"":"mweb-unauth-container",children:t}),e?(0,A.jsx)(iN,{}):(0,A.jsx)(iT,{})]})})};function ij({children:e}){let t=(0,g.TH)(),{isAuth:n,username:i}=(0,m.Z)(),{referrerFromCookie:r,isAuthenticated:s,isBot:c}=(0,H.B)(),{setIsAutoplay:u}=(0,eg.I)(),{checkExperiment:d}=(0,o.F)(),_=(0,o.F)(),{setIsNavFooterHiddenAfterScroll:h}=(0,ix.U)(),v=(0,f.I0)(),b=(0,H.B)(),w=(0,eV.Z)();(0,q.Z)(()=>{ir(b,w),it(w)});let y=(0,f.v9)(e=>e.experiences[40001]?.experience_id===500681),S=d("mweb_delay_renux_for_resurrected_user",{dangerouslySkipActivation:!0}).group||"",E=d("mweb_scroll_based_renux",{dangerouslySkipActivation:!0}).group||"",x=(0,f.v9)(({experiences:e})=>!S&&!E||S.includes("control")||E.includes("control")?[40002,500450].includes(e[40001]?.experience_id??0):[40002].includes(e[40001]?.experience_id??0)),P=(0,f.v9)(e=>e.session.shouldHideNavBar);(0,a.useEffect)(()=>{!t||c||(0,M.uM)(t)||h(!1)},[c,t,v,h]),(0,q.Z)(()=>{setTimeout(()=>{u(!0)},300)});let{userAgent:I}=(0,f.v9)(e=>e.session),O=new URLSearchParams(t.search),T="true"===l.ZP.getItem(tW.m5);"true"===O.get("ppm-unauth-android-experience")&&!T&&(0,n8.xX)(I)&&(l.ZP.setItem(tW.m5,"true"),T=!0);let k=!iC({isAuthenticated:s,location:t,hasNux:x,hasEmailUpdate:y,shouldHideNavFooter:P,viewingUsername:i,experimentsClient:_,isAndroidUnauthExperience:T}),C={__style:{...k?{paddingBottom:68}:{}}};return(0,A.jsx)(p.xu,{dangerouslySetInlineStyle:C,children:(0,A.jsx)(nT,{children:(0,A.jsx)(iE,{referrer:r,children:(0,A.jsx)(n9.P,{children:(0,A.jsx)(nE,{children:(0,A.jsx)(ie.Z,{graphqlRef:null,children:(0,A.jsxs)(tQ.xM,{children:[k?(0,A.jsx)(p.xu,{as:"nav",children:(0,A.jsx)(ik,{})}):null,(0,A.jsx)(iZ,{isAuth:n,children:e})]})})})})})})})}function iL({children:e}){let{isAuth:t}=(0,m.Z)(),n=(0,h.HG)();return((0,_.Z)(),n&&t)?(0,A.jsx)(p.xu,{minHeight:"100vh",children:(0,A.jsx)(tF,{children:e})}):n&&!t?(0,A.jsx)(n6,{children:e}):(0,A.jsx)(ij,{children:e})}var iU=n(691825),iM=n(500559),iD=n(935013),iG=n(11442);async function iH(){let{default:e}=await n.e("71010").then(n.bind(n,565936)),t=Date.now(),i=await e.load(),r=await i.get(),a=Date.now();(0,eQ.LY)("fingerprint.time",a-t,{sampleRate:1});let{components:o}=r;for(let e in o){let{duration:t}=o[e];(0,eQ.LY)("fingerprint.componentDuration",t,{sampleRate:.1,tags:{component:e}})}return r.visitorId}var iB=n(800213),iz=n(204807),iF=n(33259),iV=n(167336),iW=n(922808),i$=n(849232),iq=n(517186),iY=n(716042),iK=n(415316),iJ=n(967515),iQ=n(168584),iX=n(753977),i0=n(281213),i1=n(8933),i3=n(989882),i2=n(264267),i6=n(211405),i8=n(954934);class i7 extends a.Component{constructor(e){super(e),this.state={bannerStatus:this.props.isOffline?"offline":"hidden"}}getSnapshotBeforeUpdate(e){let{isOffline:t}=this.props,{isOffline:n}=e;return n!==t&&(this.setState({bannerStatus:t?"offline":"backOnline"}),t||setTimeout(()=>{this.props.isOffline?this.setState({bannerStatus:"offline"}):this.setState({bannerStatus:"hidden"})},2e3)),null}componentDidUpdate(){}render(){let{bannerStatus:e}=this.state;return"hidden"!==e&&(0,A.jsx)(p.Le,{top:0,zIndex:new p.Ry(20),children:(0,A.jsx)(p.xu,{alignItems:"center",color:"backOnline"===e?"successBase":"secondary",display:"flex",flex:"grow",height:"100%",justifyContent:"center",padding:3,children:(0,A.jsxs)(p.xv,{align:"center",color:"backOnline"===e?"inverse":"default",size:"200",weight:"bold",children:[(0,A.jsx)(p.xu,{display:"inlineBlock",marginBottom:-1,marginEnd:1,marginStart:1,children:(0,A.jsx)(p.JO,{accessibilityLabel:e?this.props.i18n._('online', 'online icon label', 'online label'):this.props.i18n._('offline', 'offline icon label', 'offline icon label'),color:"backOnline"===e?"inverse":"default",dangerouslySetSvgPath:{__path:"backOnline"===e?i8.Z:i6.Z}})}),"backOnline"===e?this.props.i18n._('You\'re back online!', 'back online message', 'back online message'):this.props.i18n._('You\'re offline! Check your internet connection.', 'not online message', 'not online message')]})})})}}let i4=function(e){let t=(0,Z.ZP)();return(0,A.jsx)(i7,{...e,i18n:t})};var i9=n(484125);function i5(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class re extends a.Component{constructor(...e){super(...e),i5(this,"handleBeforeInstallPrompt",e=>{this.installPromptEvent=e}),i5(this,"beforeInstallPromptGetter",()=>this.installPromptEvent),i5(this,"installPromptEvent",null)}componentDidMount(){window.addEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}componentWillUnmount(){window.removeEventListener("beforeinstallprompt",this.handleBeforeInstallPrompt)}render(){return(0,A.jsx)(i9.Z.Provider,{value:this.beforeInstallPromptGetter,children:this.props.children})}}var rt=n(616870),rn=n(307618),ri=n(470131),rr=n(485158);function ra({children:e}){let[t,n]=(0,a.useState)(""),[i,r]=(0,ri.YD)({threshold:0}),[o,s]=(0,a.useState)(!1),l=(0,a.useMemo)(()=>({currentPin:t,hasClickedMoreLikeThisButton:o,moreLikeThisButtonRef:i,moreLikeThisButtonInView:r,setCurrentPin:n,setHasClickedMoreLikeThisButton:s}),[t,o,i,r,n,s]);return(0,A.jsx)(rr.j,{value:l,children:e})}var ro=n(301527);function rs(){let e=(0,Z.ZP)();return window.navigator.cookieEnabled?null:(0,A.jsx)(p.xu,{margin:2,children:(0,A.jsx)(p.ci,{iconAccessibilityLabel:"Error",message:e._('Please enable cookies and try again', 'Message informing users to enable cookies', 'Message informing users to enable cookies'),title:e._('Oh no! Pinterest doesn\'t work unless you enable cookies.', 'Toast that displays when a user has cookies disabled', 'Toast that displays when a user has cookies disabled'),type:"error"})})}var rl=n(906449),rc=n(447926);let ru="_epik_localstore";function rd(){let e=(0,m.Z)(),t=(0,H.B)(),{country:n}=t,i=t.countryFromIp,{countryFromHostName:r}=t,o=new Set(rl.Z),s=o.has(n)||o.has(i)||o.has(r),{allow_analytic_cookies:l,allow_personalization_cookies:c,epik:u,isAuth:d}=e.isAuth?e:{};return(0,a.useEffect)(()=>{if(d){if(s&&!(l&&c))(0,rc.L_)(ru);else if(u){var e;e=new Date().getTime()+n7.N1,(0,rc.Nh)(ru,JSON.stringify({value:u,expiry:e}))}}},[d,u,s,l,c]),null}var rp=n(138729),r_=n(63805),rh=n(970414),rm=n(504644),rf=n(496807),rg=n(464180),rv=n(308686),rb=n(615695),rw=n(92242),ry=n(359496),rS=n(846277);let rE=()=>{let e=(0,ry.Z)();return(0,a.useCallback)((t,n)=>e(t,{loggingOptions:n}),[e])};function rx({children:e}){let{country:t,isAuthenticated:n,userAgent:{browserName:i,platform:r}}=(0,H.B)(),o=(0,h.ZP)(),{id:s}=(0,m.Z)(),{loggedOutUserInfo:l}=(0,f.v9)(({session:e})=>({loggedOutUserInfo:e.loggedOutUserInfo}),f.wU),c=(0,f.v9)(({users:e})=>e[s]),u=(0,a.useMemo)(()=>c&&(0,rS.xT)(c)?{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!c.connected_to_facebook,connectedToGoogle:!!c.connected_to_google,email:c.email??"",firstName:c.first_name??"",hasPassword:!!c.has_password,imageUrl:c.image_xlarge_url??null}}:n?{type:"AUTH",info:null}:{type:"UNAUTH",info:l&&l.email&&l.first_name?{connectedToFacebook:!!l.connected_to_facebook,connectedToGoogle:!!l.connected_to_google,email:l.email,firstName:l.first_name,hasPassword:!!l.has_password,imageUrl:l.medium_image_url??null}:null},[n,l,c]),d=rE(),p="mobile"===o||"tablet"===o,_=(0,a.useMemo)(()=>({getDeviceAppTypeString:()=>`${p?"mobile":"desktop"}.${t}.${r}.${i||"unknown"}`.replace(/ /g,"_"),register:d,viewer:u}),[i,t,p,d,r,u]);return(0,A.jsx)(P.I7,{value:_,children:e})}var rP=n(278277),rI=n(538800),rA=n(174170);let rO=e=>{let t=Date.now(),n=(0,s.M0)().getItem(eW.RS);n=n?parseInt(n,10):null;let i="unknown";if(n){let e=(t-n)/36e5;0===e?i="0":e>0&&e<=6?i="0-6":e>6&&e<=12?i="6-12":e>12&&e<=24?i="12-24":e>24&&e<=48?i="24-48":e>48&&e<=72?i="48-72":e>72&&(i="72+")}return{elapsedTimeBucket:i,firstDelayTime:n,maxStalenessReached:n&&t-n>36e5*e}};var rT=n(490515),rk=n(872003),rC=n(39722),rN=n(300899),rR=n(15874),rZ=n(187580),rj=n(167021),rL=n(285676),rU=n(924279),rM=n(500912),rD=n(562400),rG=n(400289);let rH=e=>"phone"===e?"sm":"tablet"===e?"md":"lg",rB=e=>e<768?"sm":e<1024?"md":"lg";function rz({children:e}){let{isTablet:t,isMobile:n}=(0,H.B)().userAgent,[i,r]=(0,a.useState)(rH(t?"tablet":n?"phone":"desktop")),o=()=>r(rB(window.innerWidth)),s=(0,a.useCallback)((0,rD.Z)(o,200),[]);return(0,a.useEffect)(()=>(o(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}),[]),(0,A.jsx)(rG.I,{value:i,children:e})}var rF=n(485633),rV=n(812680);let rW={selectedStelaItem:null};function r$(e=rW,t){return"STELA_SELECT"===t.type?{...e,selectedStelaItem:t.payload.selectedStelaItem}:e}let{Provider:rq}=(0,nw.Z)("Stela");function rY({children:e}){let[t,n]=(0,a.useReducer)(r$,rW),i=(0,a.useCallback)(({selectedStelaItem:e})=>{n({type:"STELA_SELECT",payload:{selectedStelaItem:e}})},[]),r=(0,a.useMemo)(()=>({stela:t,selectStela:i}),[t,i]);return(0,A.jsx)(rq,{value:r,children:e})}var rK=n(883097),rJ=n(378199),rQ=n(529312);let rX="https://ct.pinterest.com/ct.html";function r0(e,t){let n=new Date,i={value:t,expiry:t?n.getTime()+n7.N1:null};e.contentWindow.postMessage({key:"_epik_localstore",value:JSON.stringify(i)},rX)}function r1(){let e=(0,a.useRef)(null),t=(0,m.Z)(),n=(0,H.B)(),{country:i}=n,r=n.countryFromIp,{countryFromHostName:o}=n,s=new Set(rl.Z),l=s.has(i)||s.has(r)||s.has(o),{allow_analytic_cookies:c,allow_personalization_cookies:u,epik:d,isAuth:p}=t.isAuth?t:{},_=e.current;return(0,a.useEffect)(()=>{_&&p&&_ instanceof HTMLIFrameElement&&_.contentWindow&&((!l||c&&u)&&d?r0(_,d):r0(_,null))},[t,c,u,d,p,l,_]),(0,A.jsx)("iframe",{ref:e,"aria-hidden":"true",id:"epik_localstore",src:rX,style:{display:"none"},title:"iframe to send EPIK"})}var r3=n(420711),r2=n(973625),r6=n(989304);function r8({children:e}){let t=(0,m.Z)(),{enabled:n}=(0,r2.Z)(),i=n?e9.Qf:0,r=(0,a.useMemo)(()=>({width:i}),[i]);return t.isAuth?(0,A.jsx)(r6.E,{value:r,children:(0,A.jsx)(r3.t,{children:e})}):(0,A.jsx)(r6.E,{value:r,children:e})}var r7=n(178355),r4=n(810752),r9=n(413073);let r5=(0,I.Z)(()=>n.e("93563").then(n.bind(n,360191)),{ssr:!1},e=>360191,"twaPinterestLite"),ae=["utm_pai","utm_source","invite_code"],at=({isMobile:e,isTablet:t,window:n,trackRegisterAction:i})=>{try{let r="desktop";e?r="mobile":t&&(r="tablet");let a="no_preference",o="no_preference",s="no_preference",l="no_preference";n.matchMedia&&(n.matchMedia("(prefers-color-scheme: dark)").matches?a="dark":n.matchMedia("(prefers-color-scheme: light)").matches&&(a="light"),n.matchMedia("(prefers-reduced-motion: reduce)")&&(o="reduced"),n.matchMedia("(prefers-reduced-data: reduce)")&&(s="reduced"),n.matchMedia("(prefers-contrast: more)")?l="more":n.matchMedia("(prefers-contrast: less)")&&(l="less")),i("accessibility_preferences.success",{prefersColorScheme:a,uiDevice:r,prefersReducedMotion:o,prefersContrast:l,prefersReducedData:s})}catch{i("accessibility_preferences.error")}};function an({children:e,pwaContext:t}){let n=(0,h.ZP)(),i=(0,g.TH)(),{username:r,isPartner:l}=(0,m.Z)(),c=(0,r9.U)(),u=(0,H.B)(),{appTypeDetailed:p,isAuthenticated:_,isBot:v,stage:b,userAgent:{isMobile:w,isTablet:y}}=u,S=!w&&!y,E=_&&S,x=(0,C.v)(),P=(0,nu.Z)(),I=(0,i$.l5)(),{unauthUserStateDispatch:O}=(0,d.R)(),T=(0,a.useRef)(i),N=(0,a.useRef)(_),Z=(0,f.I0)(),{checkExperiment:j}=(0,o.F)(),D=(0,f.v9)(({session:e})=>e.isCachedRender),G=(0,f.v9)(({users:e})=>{let t=Object.keys(e).find(t=>void 0!==e[t].login_state);return!!t&&(0,rS.xT)(e[t])}),B=j("aid_exp_move_custom_shortcuts_context_provider").anyEnabled&&_&&l?iD.r:a.Fragment,{path:z}=(0,g.$B)(),F=(0,a.useRef)(!1);F.current||(rL.Tw.preload(),F.current=!0);let V=(0,h.ZP)();(0,a.useEffect)(()=>{"desktop"===V?R.bN.preload():R.p4.preload()},[V]),function(){let e=(0,f.v9)(({session:e})=>e.isPWA),t=(0,i$.yz)(),n=(0,i$.l5)(),i=(0,rg.Z)(),r=(0,h.HG)(),a=(0,f.v9)(e=>e.session.isAuthenticated)&&r,o=(0,C.v)();(0,q.Z)(()=>{if(e){let e=t??"unknown",i="unknown"===e?(0,rm.FB)(window)??"unknown":e;o.logContextEvent({view_type:170,view_parameter:(0,rm.Kj)(i,n??"unknown")||void 0,component:13162,event_type:102,aux_data:{pwa_type:i}})}rh.Z.onSessionResume(()=>{a||(0,iG.Z)(),U.Z.resume()}).onSessionPause(e=>{U.Z.pause(),i?.unregisterApp(!0,{type:"PageVisibility.onSessionResume.unregisterApp",pauseReason:e}),"blur"!==e&&(o.flushContextEvents(),(0,rf.Z)()||(0,rv.Qi)())})})}();let W=(0,a.useRef)(!0),[Y,K]=(0,a.useState)(!navigator.onLine),[J]=(0,a.useState)((0,$.mB)(i.search).invite_code||null),{activateActivationHoldoutExperiments:Q}=function(){let{checkExperiment:e}=(0,o.F)(),t=(0,m.Z)().isAuth;return{activateActivationHoldoutExperiments:(0,a.useCallback)(()=>{e("pinner_conversion_team_holdout_2024_h2")},[e]),userIsEligibleForShippedActivationExperiment:(n,i)=>!t||"h1"===i||"holdout"!==e("pinner_conversion_team_holdout_2024_h2").group}}(),{activateUnauthHoldoutExperiments:X}=function(){let{checkExperiment:e}=(0,o.F)();return{activateUnauthHoldoutExperiments:(0,a.useCallback)(()=>{e("lop_holdout_unauth_id_h2_2024")},[e]),userIsEligibleForShippedLOPExperiment:()=>"holdout"!==e("lop_holdout_unauth_id_h2_2024").group}}();(0,a.useEffect)(()=>{let e=t=>{"offline"===t.type?(K(!0),window.addEventListener("online",e)):(K(!1),window.removeEventListener("online",e))};return window.addEventListener("offline",e),()=>{window.removeEventListener("offline",e)}},[]),(0,a.useEffect)(()=>{c&&E&&(c.preload?.((0,r4.ke)("index.js")),c.preload?.((0,r4.ke)("pin/[id].js")),c.preload?.((0,r4.ke)("search/[scope].js")),c.preload?.((0,r4.ke)("[username].js")))},[c,E]),(0,a.useEffect)(()=>{_&&Q()},[_,Q]),(0,a.useEffect)(()=>{_||X()},[X,_]),(0,a.useEffect)(()=>{G||setTimeout(async()=>{try{let e=await iH();(0,eq.Z)({url:"/v3/spam/fingerprints/",method:"POST",data:{fingerprint:e}})}catch(e){(0,eQ.nP)("webapp.generateClientFingerprint.failure",{sampleRate:1})}},300)},[G]),(0,a.useEffect)(()=>{(0,iz.ZP)({pageType:w||y||!_?"duplo":"web",requestContext:u,route:z})},[]),function({appType:e,isAuthDesktop:t,isBot:n,newVersionAvailable:i,stage:r}){let l=(0,g.TH)(),c=(0,a.useRef)(l),u=(0,a.useRef)(!1),d=(0,rA.Z)(),{checkExperiment:p}=(0,o.F)(),_=(0,s.M0)(),{anyEnabled:h,group:m}=p("web_optimized_page_refresh");(0,a.useEffect)(()=>{if(i&&!u.current){let t=!!window.navigator.connection&&["slow-2g","2g","3g"].includes(window.navigator.connection.effectiveType),n=parseInt(m.split("enabled_")[1]||"",10);if(window.Cypress)u.current=!1;else if(t||h&&!Number.isNaN(n)){let{maxStalenessReached:i,firstDelayTime:r,elapsedTimeBucket:a}=rO(t?24:n);i?(_.removeItem(eW.RS),(0,eQ.nP)("web_skip_hard_refresh_max_stale",{sampleRate:.1,tags:{appType:e,appVersion:d,connectionType:window.navigator.connection?.effectiveType||"unknown",elapsedTimeBucket:a,experimentGroup:m||"unknown"}}),u.current=!0):((0,eQ.nP)("web_skip_hard_refresh",{sampleRate:.1,tags:{appType:e,appVersion:d,connectionType:window.navigator.connection?.effectiveType||"unknown",elapsedTimeBucket:a,experimentGroup:m||"unknown"}}),r||_.setItem(eW.RS,Date.now()),u.current=!1)}else u.current=!0}}),(0,a.useEffect)(()=>{c.current!==l&&"latest.pinterest.com"!==window.location.hostname&&((0,rI.Z)({deviceType:t?"desktop":"mobile",eventType:u.current?"refresh":"skipped_refresh",eventName:u.current?"react_hardReloadOnRouteChange":"react_hardReloadOnRouteChange_skipped",stage:r,currVersion:d,isBot:n,appType:e,optimizedPageRefreshExperimentGroup:m||"unknown"}),u.current&&window.location.reload(!0)),c.current=l},[l])}({appType:p,isAuthDesktop:E,isBot:v,newVersionAvailable:iM.Z.isNewVersionRequired(),stage:b}),(0,a.useEffect)(()=>{D&&(async()=>{(0,eQ.nP)("webapp.UnifiedWWWApp.fetchState",{sampleRate:1,tags:{appTypeDetailed:p,isAuthenticated:_,isBot:v,isCachedRender:D,isDesktop:S,handler:(0,r7.H)()}});let e=new URLSearchParams({source_url:window.location.pathname}),t=await window.fetch("/_/_/state?"+e.toString(),{method:"GET",mode:"same-origin",keepalive:!0}),n=await t.json();Z({type:"REPLACE_STATE",payload:n}),Z({type:"FETCH_EXPERIENCES",payload:n.experiences})})()},[Z,D]);{let e=document.getElementById("shell-loader");e instanceof HTMLElement&&document.body?.removeChild&&document.body.removeChild(e)}(0,a.useEffect)(()=>{if(!E){let e=setInterval(()=>x.flushContextEvents(),1e4);return()=>{clearInterval(e)}}},[x,E]),(0,a.useEffect)(()=>{_&&!S&&_!==N.current&&(0,iY.Fv)(),(!N.current&&_||T.current!==i&&T.current.pathname.startsWith("/email/subscription"))&&(0,iG.Z)(),N.current=_},[_,S,i]),(0,a.useEffect)(()=>{let e={type:"SET_LANDING_PAGE_TYPE",payload:i?(0,M.bo)(i)?"today":(0,M.dr)(i)?"ideas":r&&(0,M.dZ)(i,r)?"own_section":r&&(0,M.J)(i,r)?"own_board":(0,M.OJ)(i)?"section":(0,M.am)(i)?"board":(0,M.L6)(i)?"closeup":(0,M.C$)(i)?"home":(0,iu.Z)(i)?"profile":(0,M.En)(i)?"search":(0,M.$V)(i)?"topic":"":""},t=i!==T.current;(t||W.current)&&Z(e),!_&&(t||W.current)&&((0,rJ.Z4)(i.pathname,e.payload),O({type:"UPDATE"})),W.current&&(W.current=!1),T.current=i},[Z,_,i,O,r,W]),(0,a.useEffect)(()=>{if(W.current){let e=new URLSearchParams(i.search);if(_)(0,iB.Z)();else{let t=(0,ia.an)(""),n=t?new URL(t).hostname:"",i=new URLSearchParams;for(let t of ae)e.has(t)&&i.set(t,e.get(t)||"");let r=i.toString();(n||r)&&(0,rP.C)(`${n}${r?"?"+r:""}`)}}},[i,_]),(0,q.Z)(()=>{at({isAuthenticated:_,isMobile:w,isTablet:y,window,trackRegisterAction:nc.My})}),(0,a.useEffect)(()=>{(0,nc.tj)(`mweb.${_?"auth":"unauth"}.window_size`,{width:void 0!==window.screen&&window.screen.width,height:void 0!==window.screen&&window.screen.height})},[_]),(0,a.useEffect)(()=>{let e=(e,t)=>{(0,nc.tj)(`mweb.connection_status_${e}`,{downlink:t.downlink,downlinkMax:t.downlinkMax,effectiveType:t.effectiveType,rtt:t.rtt,saveData:t.saveData,type:t.type,isAuth:_})},t=t=>{t&&t.currentTarget&&e("change",t.currentTarget)};if(window.navigator&&window.navigator.connection){let{connection:n}=window.navigator;e("initial",n),n.addEventListener("change",t)}return()=>{if(window.navigator&&window.navigator.connection){let{connection:e}=window.navigator;e.removeEventListener("change",t)}}},[_]);let{isAuthenticated:ee}=(0,H.B)(),et=(0,h.HG)();return(0,a.useEffect)(()=>{if(!ee)return;let e=et?rb.f$:rb.wQ,t=async t=>{let n=await (0,eq.Z)({url:"/v3/sessions/verify/",method:"PUT",data:{recaptcha_token:t}});(0,eQ.nP)("recaptcha_auth.done",{sampleRate:1,tags:{action:e,resp_code:n.status}})},n=()=>(0,rb.rY)(t,()=>{},e);"requestIdleCallback"in window?setTimeout(()=>{requestIdleCallback(n,{timeout:rb.oH-rb.OA})},rb.OA):setTimeout(n,rb.OA)},[ee,et]),(0,a.useEffect)(()=>{(0,iV.RD)(e=>(0,nc.My)(e),E?"web":"mweb")},[E]),(0,a.useEffect)(()=>{let e=()=>(0,nc.qJ)(E?"auth_web_funnel":"mweb_funnel");return window.addEventListener("pagehide",e),window.addEventListener("beforeunload",e),()=>{window.removeEventListener("pagehide",e),window.removeEventListener("beforeunload",e)}},[E]),(0,a.useEffect)(()=>{let e=()=>{setTimeout(()=>{window.dispatchEvent(new Event("resize")),(0,eQ.nP)("webapp.UnifiedWWWApp.triggerResize",{sampleRate:1,tags:{handler:(0,r7.H)()}})},1e3),P({action:"trigger",item:window.innerHeight<window.innerWidth?"landscape-to-portrait":"portrait-to-landscape"})};return window.addEventListener("orientationchange",e),()=>{window.removeEventListener("orientationchange",e)}},[P]),(0,A.jsx)(k.Z,{name:"WWWRoot",children:(0,A.jsx)(iW.Z,{children:(0,A.jsx)(iU.Z,{children:(0,A.jsx)(rZ.Z,{children:(0,A.jsx)(B,{children:(0,A.jsx)(r8,{children:(0,A.jsx)(iX.Z,{children:(0,A.jsxs)(i3.Z,{children:[(0,A.jsx)(re,{children:(0,A.jsx)(rw.H,{children:(0,A.jsx)(rF.l,{children:(0,A.jsx)(rV.l,{children:(0,A.jsx)(rK.US,{children:(0,A.jsx)(rY,{children:(0,A.jsx)(rT.C,{children:(0,A.jsx)(rR.t7,{children:(0,A.jsx)(i0.W,{children:(0,A.jsx)(i1.q,{children:(0,A.jsx)(iJ.Wr,{children:(0,A.jsx)(i2.pb,{children:(0,A.jsx)(i$.of,{initialContext:t,children:(0,A.jsx)(r_.fr,{children:(0,A.jsx)(ro.p,{children:(0,A.jsx)(rQ.w,{children:(0,A.jsx)(rt.X,{children:(0,A.jsx)(rk.vo,{children:(0,A.jsx)(rj.T,{children:(0,A.jsx)(ix.m,{children:(0,A.jsx)(ra,{children:(0,A.jsx)(rz,{children:(0,A.jsx)(iq.Z,{scrollOn:_&&"desktop"===n?"timeout":"animationFrame",children:(0,A.jsx)(rx,{children:(0,A.jsx)(rn.w,{children:(0,A.jsx)(iF.A,{children:(0,A.jsx)(rM.Q,{children:(0,A.jsxs)(iK.o$,{value:J,children:[(0,A.jsx)(i4,{isOffline:Y}),(0,A.jsx)(rs,{}),_&&(0,A.jsx)(L.Uv,{}),(0,A.jsx)(rp.Z,{children:(0,A.jsx)(rN.W,{children:(0,A.jsx)(rC.B,{children:(0,A.jsx)(rU.f,{children:e})})})}),I&&"unknown"!==I&&(0,A.jsx)(k.Z,{name:"SafeSuspense_MobileApp_TwaPinterestLite",children:(0,A.jsx)(r5,{})}),(0,A.jsx)(rd,{}),(0,A.jsx)(r1,{})]})})})})})})})})})})})})})})})})})})})})})})})})})})})}),(0,A.jsx)(iQ.Z,{})]})})})})})})})})}var ai=n(242370),ar=n(177433);let aa=(0,I.Z)(()=>Promise.all([n.e("22843"),n.e("54787")]).then(n.bind(n,262825)),{ssr:!1},e=>262825,"InternalCommandBar");function ao({children:e,context:t,copytuneExperiments:n,inContextTranslation:i,initialReduxState:r,pwaContext:p,requestContext:_,resourceCreator:h,traceLoggerData:m,store:f}){let{isAuthenticated:g,countryFromHostName:v,countryFromIp:b,regionFromIp:w,isInternalIP:y}=_,S=(0,ar.MM)(),{group:E}=(0,ai.DB)();(0,s.CS)({countryFromHostName:v||"",countryFromIp:b||"",regionFromIp:w||"",isAuthenticated:g}),(0,l.QT)({countryFromHostName:v||"",countryFromIp:b||"",regionFromIp:w||"",isAuthenticated:g});let{checkExperiment:x}=(0,o.F)();return c.Z.initExperiment(x),(0,a.useEffect)(()=>{(0,eQ.LY)("www.appWrapper.initialLoad",performance.now(),{tags:{earlyHydrationGroup:E,handler:S,isAuthenticated:g,isMobile:_.userAgent.isMobile||_.userAgent.isTablet}})},[]),(0,A.jsx)(u.Z,{context:t,copytuneExperiments:n,inContextTranslation:i,reduxStore:f,requestContext:_,resourceCreator:h,serverState:r,traceLoggerData:m,children:(0,A.jsx)(d.M,{initialState:{isAuthenticated:g,countryFromHostName:v,countryFromIp:b,regionFromIp:w},children:(0,A.jsxs)(an,{pwaContext:p,children:[(0,A.jsx)(iL,{children:e}),y?(0,A.jsx)(aa,{}):null]})})})}},505758:function(e,t,n){n.d(t,{FT:()=>p,GW:()=>c,HW:()=>d,PX:()=>f,V3:()=>u,Wo:()=>_,XA:()=>I,bJ:()=>h,cZ:()=>E,dF:()=>S,f6:()=>P,jY:()=>A,k:()=>b,kV:()=>w,nP:()=>y,nY:()=>g,pg:()=>x,qc:()=>m,tR:()=>v});var i=n(865575),r=n(17929),a=n(680589),o=n(247387),s=n(925201),l=n(145626);let c="/branded-pins",u={PENDING:"PENDING",APPROVED:"APPROVED",DENIED:"DENIED"},d=(0,r.Z)({REQUESTED:0,APPROVED:1,REJECTED:2}),p=e=>{let t;switch(e){case u.PENDING:t=d.REQUESTED;break;case u.APPROVED:t=d.APPROVED;break;case u.DENIED:t=d.REJECTED;break;default:t=d.REQUESTED}return t},_={APPROVED:"APPROVED",REJECTED:"REJECTED",ERROR:"ERROR"},h=(e,t,n)=>{let i,r={[_.APPROVED]:{icon:"workflow-status-ok",displayText:e._('Approved', 'brandedContentPinCard.footer.approvedIcon', 'Branded Pin card status text on bizhub widget'),color:"success"},[_.REJECTED]:{icon:"workflow-status-problem",displayText:e._('Denied', 'brandedContentPinCard.footer.deniedIcon', 'Branded Pin card status text on bizhub widget'),color:"error"},[_.ERROR]:{icon:"workflow-status-problem",displayText:e._('Try again', 'brandedContentPinCard.footer.errorIcon', 'Branded Pin card status text on bizhub widget'),color:"error"}};return 1===n&&(i=r.APPROVED),2===n&&(i=r.REJECTED),!0===t&&(i=r.ERROR),i},m=e=>{let t;return e===_.APPROVED?t=1:e===_.REJECTED&&(t=2),t},f=(e,t)=>(0,a.ZP)(e,t,"…",!0),g=`${l.C0}/branded-pins/`,v=(e,t)=>{let n=i.Z.create({entity:"campaign"});return e&&t?(0,s.Z)(o.auO+"/advertiser/"+e+n,{pinId:t,from:"bpm"}):o.auO},b={ERROR_APPROVING:"ERROR_APPROVING",ERROR_REJECTING:"ERROR_REJECTING",ERROR_DEFAULT:"ERROR_DEFAULT"},w=302,y=420,S=254,E=142,x=173,P=12,I=35,A=9},186485:function(e,t,n){n.d(t,{e:()=>i,p:()=>r});let{Provider:i,useHook:r}=(0,n(213491).Z)("headerButtonContext")},543380:function(e,t,n){n.d(t,{Z:()=>c});var i=n(883119),r=n(104999),a=n(138596),o=n(145626),s=n(462867),l=n(785893);function c({isWwwSite:e=!0,onClick:t,url:n,size:c,defaultPaddingBasedOnSize:u,tooltip:d,onMouseDown:p,tabIndex:_=-1}){let h=(0,a.ZP)(),m=(0,s.Z)(),f=(0,r.Z)(),g=e?"/":o.C0;m.partner&&(g=e?"/":o.Ag);let v=e&&n?n:g;return(0,l.jsx)(i.xu,{onMouseDown:p,children:(0,l.jsx)(i.I_,{accessibilityLabel:h._('Home', 'header.homeButton.section', 'accessibility label for home button in nav bar'),href:v,icon:"pinterest",iconColor:"brandPrimary",onClick:()=>{f({component:8,element:244,event_type:101}),t&&t()},padding:u?void 0:3,size:c||"xl",tabIndex:null===_?void 0:_,tooltip:d})})}},424733:function(e,t,n){n.d(t,{Z:()=>i});let i=({username:e,isIdeaPinRenamingEnabled:t})=>({bag:"shop_pins",explore:"discover",home:"/",profile:e,search:"search",today:"today",create:t?"pin-creation-tool":"idea-pin-builder",ideas:"ideas",shopping:"shopping"})},626487:function(e,t,n){n.d(t,{Z:()=>i});let i=({pathname:e,iconRoutes:t})=>{if("/"===e||""===e)return"home";let n=e.split("/",2)[1];if(n&&t){for(let e of Object.keys(t))if(n===t[e])return e}return null}},92242:function(e,t,n){n.d(t,{H:()=>c,N:()=>l});var i=n(667294),r=n(213491),a=n(57887),o=n(785893);let{Provider:s,useHook:l}=(0,r.Z)("LastSavedTo");function c({children:e}){let[t,n]=(0,i.useState)();(0,a.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;n(t)}});let r=(0,i.useCallback)(e=>{let i=t?t.filter(t=>t.id!==e.id):[];n([e,...i])},[t]),l=(0,i.useMemo)(()=>({lastSavedTo:t,saveToBoard:r}),[t,r]);return(0,o.jsx)(s,{value:l,children:e})}},497491:function(e,t,n){n.d(t,{Z:()=>o});var i=n(616550),r=n(173874),a=n(739405);function o(){let e=(0,i.TH)();return"desktop"===(0,a.ZP)()?(0,r.mP)(e)||(0,r.hd)(e):(0,r.mP)(e)}},866729:function(e,t,n){n.d(t,{Z:()=>_});var i=n(616550),r=n(663952),a=n(173874),o=n(739405),s=n(95664),l=n(774838),c=n(575820),u=n(411657);let d=()=>{let e=(0,i.TH)(),t=(0,u.a)(),{userAgent:{raw:n}}=(0,l.B)();if(!t)return!1;let{appInstallBannerIsEnabled:r,pinPageGlobalContext:a}=t,o=!!(0,c.mB)(e.search).invite_code;return r&&!(0,s.$K)(n)&&!(a?.isStoryPin===!0&&o)},p=e=>e.pathname.includes("_created")||e.pathname.includes("boards")&&!(0,a.En)(e)||e.pathname.includes("_saved");function _(){let e=(0,o.ZP)(),t=(0,i.TH)(),n=(0,r.q)(),s=d();return"phone"===e?s&&!p(t)&&!n:"tablet"===e?!(0,a.En)(t)&&!(0,a.Xn)(t):!((0,a.Ni)(t)||(0,a.Xn)(t)||(0,a.XQ)(t))}},228612:function(e,t,n){n.d(t,{AF:()=>s,H0:()=>l,S6:()=>c,_S:()=>u});var i=n(581722),r=n(213491),a=n(785893);let{Provider:o,useHook:s,useMaybeHook:l}=(0,r.Z)("Pins");function c(){let e=s();return t=>e[t]}function u({children:e}){let t=(0,i.v9)(({pins:e})=>e,i.wU);return(0,a.jsx)(o,{value:t,children:e})}},373696:function(e,t,n){n.d(t,{$L:()=>m,P8:()=>f,nu:()=>_,ye:()=>g,wo:()=>p,wF:()=>h});var i=n(667294),r=n(611649),a=n(581722),o=n(894870),s=n(661376),l=n(767415);let c=()=>{let[e,t]=(0,i.useState)(!1),n=(0,a.v9)(({feeds:e})=>e?.homefeed),r=(0,i.useRef)(!1),c=(0,o.q)(),{isFetching:u}=(0,s.Z)(e&&!n?c():null);return(0,i.useEffect)(()=>{u&&((0,l.nP)("web.performance.homefeed.mousedownPrefetch.prefetch"),r.current=!0)},[u]),{onMouseDown:(0,i.useCallback)(()=>t(!0),[]),onNavigateToHomefeed:(0,i.useCallback)(()=>{r.current&&((0,l.nP)("web.performance.homefeed.mousedownPrefetch.navigateAfterPrefetch"),r.current=!1)},[])}};var u=n(175584),d=n(739405);let p=505586,_=1000109;function h(){let e=(0,r.Z)(!0),{onMouseDown:t,onNavigateToHomefeed:n}=c(),a=(0,u.Z)(),o="desktop"===(0,d.ZP)()?"DESKTOP":"MOBILE",s=(0,i.useMemo)(()=>({currentSite:o}),[o]);return(0,i.useMemo)(()=>({currentSite:o,isIdeaPinRenamingEnabled:e,isTodayTabEligible:a,onMouseDownHomefeedPrefetch:t,onNavigateToHomefeedMousedownPrefetch:n,siteParametersProviderValue:s}),[o,e,a,t,n,s])}let m={today:{component:8,element:11674,event_type:101},createPin:{component:8,element:12969,event_type:101},createCollage:{component:8,element:13844,event_type:101}},f={PINTEREST_LOGO:"web.vertical_nav.pinterest_logo.click",HOME:"web.vertical_nav.home.click",TODAY:"web.vertical_nav.today.click",CREATE:"web.vertical_nav.create.click",NEWS:"web.vertical_nav.news.click",CONVERSATIONS:"web.vertical_nav.conversations.click",AVATAR:"web.vertical_nav.avatar.click",ACCOUNT_SWITCHER:"web.vertical_nav.account_switcher.click",MORE_OPTIONS_OPT_OUT:"web.vertical_nav.more_options.opt_out",MORE_OPTIONS:"web.vertical_nav.more_options.click"},g={PINTEREST_LOGO:"web.header.pinterest_logo.click",EXTERNAL_BUTTON_QUERY_PINTEREST_LOGO:"web.header.external_button_query.pinterest_logo.click",SSO_PAGE_PINTEREST_LOGO:"web.header.sso_page.pinterest_logo.click",UNSUBSCRIBE_PAGE_PINTEREST_LOGO:"web.header.unsubscribe_page.pinterest_logo.click",HOME_TAB:"web.header.home_tab.click",TODAY_TAB:"web.header.today.click",CREATE_TAB:"web.header.create.click",HOME_BUTTON_COLLAPSED_TAB:"web.header.home_button_collapsed_tab.click",TODAY_TAB_COLLAPSED_TAB:"web.header.today_tab_collapsed_tab.click",CREATE_TAB_COLLAPSED_TAB:"web.header.create_tab_collapsed_tab.click",NEWS:"web.header.news.click",CONVERSATIONS:"web.header.conversations.click",AVATAR:"web.header.avatar.click",EXTERNAL_BUTTON_QUERY_AVATAR:"web.header.external_button_query.avatar.click",UNSUBSCRIBE_PAGE_AVATAR:"web.header.unsubscribe_page.avatar.click",ACCOUNT_OPTIONS:"web.header.account_options.click",EXTERNAL_BUTTON_QUERY_ACCOUNT_OPTIONS:"web.header.external_button_query.account_options.click"}},477314:function(e,t,n){n.d(t,{Z:()=>o});var i=n(667294),r=n(736328),a=n(889162);let o=function(){let{enabled:e,experimentGroup:t}=(0,a.Z)(),n=e?"unauth-vertical-nav":"unauth-header",o=(0,r.Z)(),s=(0,i.useMemo)(()=>({verticalNavExperimentGroup:t}),[t]);return{trackPinterestLogoClick:()=>o({action:"click",item:"pinterest-logo",within:n,tags:s}),trackIdeasTabClick:()=>o({action:"click",item:"site-map-ideas",within:n,tags:s}),trackShoppingClick:()=>o({action:"click",item:"root-nav-shopping",within:n,tags:s}),trackSettingsClick:()=>o({action:"click",item:"setting-button",within:n,tags:s}),trackCategoriesClick:()=>o({action:"click",item:"categories-button",within:n,tags:s}),trackNavDropdownTodayClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-today",within:n,tags:s}),trackNavDropdownVideosClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-videos",within:n,tags:s}),trackNavDropdownIdeasClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-ideas",within:n,tags:s}),trackNavDropdownShoppingClick:()=>o({action:"click",item:"nav-bar-hub-dropdown-shopping",within:n,tags:s})}}},538937:function(e,t,n){n.d(t,{P:()=>l,n:()=>s});var i=n(667294),r=n(213491),a=n(785893);let{Provider:o,useHook:s}=(0,r.Z)("ShowReferredAppUpsell");function l({children:e}){let[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1),[l,c]=(0,i.useState)("other"),[u,d]=(0,i.useState)(""),p=(0,i.useCallback)(e=>{n(e)},[]),_=(0,i.useCallback)(e=>{s(e)},[]),h=(0,i.useCallback)(e=>{c(e)},[]),m=(0,i.useCallback)(e=>{d(e)},[]),f=(0,i.useMemo)(()=>({showReferredAppUpsell:t,setShowReferredAppUpsellVal:p,isInlineUpsell:r,setIsInlineUpsellVal:_,appUpsellType:l,setAppUpsellTypeVal:h,uiType:u,setUiTypeVal:m}),[t,p,r,_,l,h,u,m]);return(0,a.jsx)(o,{value:f,children:e})}},616870:function(e,t,n){n.d(t,{X:()=>l,m:()=>s});var i=n(667294),r=n(213491),a=n(785893);let{Provider:o,useHook:s}=(0,r.Z)("Session");function l({children:e}){let[t,n]=(0,i.useState)(void 0),r=(0,i.useMemo)(()=>({unauthBoardInvite:t,setUnauthBoardInvite:n}),[t]);return(0,a.jsx)(o,{value:r,children:e})}},307618:function(e,t,n){n.d(t,{w:()=>l,z:()=>s});var i=n(667294),r=n(213491),a=n(785893);let{Provider:o,useMaybeHook:s}=(0,r.Z)("CloseupPreviewContext");function l({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),r=(0,i.useMemo)(()=>({setData:(e,t)=>n(n=>({...n,[e]:t})),getData:e=>t[e]}),[t]);return(0,a.jsx)(o,{value:r,children:e})}},301527:function(e,t,n){n.d(t,{C:()=>s,p:()=>l});var i=n(667294),r=n(213491),a=n(785893);let{Provider:o,useHook:s}=(0,r.Z)("Session");function l({children:e}){let[t,n]=(0,i.useState)(void 0),r=(0,i.useCallback)(()=>n(void 0),[]),s=(0,i.useMemo)(()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:r}),[t,r]);return(0,a.jsx)(o,{value:s,children:e})}},82109:function(e,t,n){n.d(t,{A:()=>s,N:()=>l});var i=n(667294),r=n(213491),a=n(785893);let{Provider:o,useHook:s}=(0,r.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){let[n,r]=(0,i.useState)(t),s=(0,i.useMemo)(()=>({searchContext:n,updateSearchContext:r}),[n,r]);return(0,a.jsx)(o,{value:s,children:e})}},250459:function(e,t,n){n.d(t,{Z:()=>a});var i=n(616550);let r=Object.freeze({"/:username":"profile","/:username/:slug/:section_slug":"board","/:username/:slug":"board","/csrf_error":"csrfError","/email_verification_error":"emailVerificationError","/email/remove":"emailRemove","/email/subscription":"emailSubscription","/ideas":"ideasRoot","/ideas/:interest/:id":"ideasHub","/invited":"invited","/password/reset":"passwordReset","/pin/:id":"pin","/pin/:id/feedback":"pinFeedBack","/pin/:id/sent":"pinFeedBack","/pin/:id/visual-search":"flashlight","/pin/create/:method":"pinBookmarklet","/pw/:username":"resetPasswordUsername","/panic/":"panic","/search/:scope":"search","/shopping":"shoppingRoot","/shopping/:category/:id":"shoppingCategory","/today":"todayTab","/today/:term/:title/:articleId":"todayArticleFeed","/today/popular/:interest/:interestId":"todayArticleInterestFeed","/tv":"LiveSessionEvent","/tv/:pin_id":"liveSessionCloseup","/unlink":"unlinkAccount","/videos":"videosRoot","/videos/:category/:id":"videosCategory"}),a=()=>{let{path:e}=(0,i.$B)();return r[e]||"unknown"}},818906:function(e,t,n){n.d(t,{$:()=>l,Z:()=>d});var i=n(4533),r=n(15881),a=n(613567),o=n(34550),s=n(418282);let l=2,c=e=>e?.pins??[],u=e=>e.length?{pins:e}:null,d=()=>{let e=(0,o.M0)(),t=c(e.accessAllowed?e.getItem(i.s1):s.ZP.getItem(r.w3)),n=t=>e.accessAllowed?e.setItem(i.s1,u(t)):s.ZP.setItem(r.w3,u(t)),d=l,{checkExperiment:p}=(0,a.F)(),_=()=>{let e=p("mweb_block_unauth_save").group;if(e.startsWith("enabled")){let[,t]=e.split("_");d=Number(t)}return t.length<d};return{pins:t,save:e=>{_()&&n(t.filter(({id:t})=>t!==e.id).concat([e]))},unsave:e=>n(t.filter(({id:t})=>t!==e)),isSaved:e=>t.some(({id:t})=>t===e),clear:()=>n([]),canSaveMore:_}}},722832:function(e,t,n){n.d(t,{Z:()=>r});var i=n(767415);let r=(e,t)=>(0,i.nP)(`pinner_conversion.upsell.mweb_signup_modal.${e}`,{flushImmediate:!0,sampleRate:1,tags:t})},658375:function(e,t,n){n.d(t,{C:()=>l,P:()=>s});var i=n(15881),r=n(173874),a=n(418282),o=n(767415);let s=()=>!!(0,a.Nl)().getItem(i.Ih),l=e=>{(0,r.LM)(e)&&!s()&&((0,a.Nl)().setItem(i.Ih,"1"),(0,o.nP)("mobile_signup_modal.rules.suppress_for_discover_article",{flushImmediate:!0,sampleRate:1}))}},39722:function(e,t,n){n.d(t,{B:()=>c,g:()=>l});var i=n(667294),r=n(616550),a=n(213491),o=n(785893);let{Provider:s,useMaybeHook:l}=(0,a.Z)("NotifDetailRepinContext");function c({children:e}){let[t,n]=(0,i.useState)(Object.freeze({})),[a,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(!1),d=(0,r.TH)(),p=(0,i.useMemo)(()=>{let e=/^\/pin\/\d+\/repin\/?$/,i=/^\/news_hub\/\d+\/?$/;return{isSaved:e=>!!t[e],save:e=>{c&&n(t=>({...t,[e]:!0}))},reset:()=>{let t=window?.location.pathname||"";i.test(t)||e.test(t)||(n(Object.freeze({})),l(!1),u(!1))},isInNewsHubQuickSaveExpAndNewsHubPage:()=>{let e=d.pathname||"";return i.test(e)&&a},inNewsHubQuickSaveExp:a,setInNotifDetailPage:u,setInNewsHubQuickSaveExp:l}},[t,a,c,d]);return(0,o.jsx)(s,{value:p,children:e})}},15874:function(e,t,n){n.d(t,{RG:()=>m,o6:()=>h,t7:()=>_});var i=n(667294),r=n(616550),a=n(213491),o=n(575820),s=n(17658),l=n(575387),c=n(785893);let u=()=>n.e("91219").then(n.bind(n,799815)),{Provider:d,useHook:p}=(0,a.Z)("SkinToneFilter");function _({children:e}){let[t,n]=(0,s.Z)(u,l.Z),a=(0,r.TH)();(0,i.useEffect)(()=>{let e;if(((0,o.mB)(a.search)||{}).q){let t=a.pathname.split("/");e=t.length>2?t[2]:"pins"}e||n({type:"RESET_SKIN_TONE_QUERY_USES"})},[n,a]);let p=(0,i.useMemo)(()=>({dispatch:n,skinToneFilters:t}),[n,t]);return(0,c.jsx)(d,{value:p,children:e})}function h(){let{dispatch:e}=p();return(0,i.useMemo)(()=>({updateShowSkinToneFilters:t=>{e({type:"UPDATE_SHOW_SKIN_TONE_FILTERS",payload:{showSkinToneFilters:t}})},updateSkinToneFilterQueryUses:t=>{e({type:"UPDATE_SKIN_TONE_FILTER_QUERY_USES",payload:{newQuery:t}})},viewedOwnProfile:()=>e({type:"RESET_SKIN_TONE_QUERY_USES"})}),[e])}function m(){let{skinToneFilters:e}=p();return e}},575387:function(e,t,n){n.d(t,{Z:()=>i});let i={skinToneQueryUses:{numQueryUses:0,lastQuery:""},showSkinToneFilters:!1}},229103:function(e,t,n){n.d(t,{p:()=>i});let i=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},218504:function(e,t,n){n.d(t,{Cp:()=>h,GT:()=>c,V6:()=>s,W2:()=>u,W6:()=>m,_L:()=>_,fm:()=>l});var i=n(27399),r=n(178253),a=n(437578),o=n(233597);function s(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}let l=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),c=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}}),u=(e,t,n)=>i=>{i({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},d=(e,t,n)=>i=>{i({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},p=e=>{let t=e.split(" ");return{first_name:t[0],last_name:t[1]}},_=({field:e,value:t,passcode:n,onSettingSavedHn:a,showErrorHn:s,surfaceTag:l,userId:c,passcodeSkipAcknowledged:_=!1,otp:h,onFinallyHn:m})=>async(f,g)=>{let v=g().users[c],b={user_id:c,surface_tag:l};if("full_name"===e)if(v.is_partner)b.business_name=t;else{let e=p(t);b.first_name=e.first_name,b.last_name=e.last_name||""}else b[e]=t;n&&(b.passcode=n),r.i.includes(e)&&null!=_&&(b.user_confirm_skip_passcode=_),h&&(b.otp=h);try{let n=await i.Z.create("UserSettingsResource",b).callUpdate();if("email"===e&&n?.resource_response.data?.email_changing_to)return void s({email_changing_to:n.resource_response.data.email_changing_to});if("profile_image_url"===e)f((0,o.b)("UserResource",{options:b}));else if("full_name"===e)if(v.is_partner)f(u(c,"first_name",t));else{let e=p(t);f(u(c,"first_name",e.first_name)),f(u(c,"last_name",e.last_name))}f(v.is_partner&&("account_type"===e||"contact_name"===e)?d(c,e,t):u(c,e,t)),a()}catch(e){s(e)}finally{m?.()}},h=(e,t,n,i,r,o,s)=>()=>{(0,a.Z)({new:t,new_confirm:n,old:e,passcode:i,recaptcha_v3_token:r}).then(o,s)},m=(e,t,n,r,a,o)=>s=>{s(u(e,`${t}.${n}`,r));let l={},c="EmailSettingsResource";void 0!==a?(l={section:t,option:n,value:r,od:a.od,user_id:a.user_id},c="UnsubEmailSettingsResource"):l={section:t,option:n,value:r},i.Z.create(c,l).callUpdate().then(o).catch(()=>s(u(e,`${t}.${n}`,!r)))}},812680:function(e,t,n){n.d(t,{$:()=>p,l:()=>_});var i=n(667294),r=n(27399),a=n(213491),o=n(739405),s=n(893957),l=n(462867),c=n(767415),u=n(785893);let{Provider:d,useHook:p}=(0,a.Z)("ShareSuggestions");function _({children:e}){let[t,n]=(0,i.useState)(void 0),a=(0,l.Z)(),p=!(0,o.HG)()&&!a.isLimitedLogin&&a.isAuth&&a.should_show_messaging;(0,s.Z)(()=>{let e=async()=>{let e=r.Z.create("ShareSuggestionsResource",{suggestion_type:"share",hide_group_conversations:!1});try{let t=(await e.callGet()).resource_response.data;n(t)}catch(e){(0,c.nP)("mweb_share_menu_load_suggestions.fail.share",{sampleRate:1})}};p&&!t&&e()});let _=(0,i.useCallback)(()=>{n(void 0)},[]),h=(0,i.useCallback)(e=>{n(e)},[]),m=(0,i.useMemo)(()=>({cachedShareSuggestions:t,clearCachedShareSuggestions:_,updateCachedShareSuggestions:h}),[t,_,h]);return(0,u.jsx)(d,{value:m,children:e})}},787598:function(e,t,n){n.d(t,{Z:()=>r,_:()=>a});var i=n(613567);function r(e){let t=e("entrypoints_today_page_prefetch");switch(t.group){case"prefetch_all":return{shouldPrefetchOnNavigation:!0,shouldPrefetchOnHover:!0};case"prefetch_only_navigation":return{shouldPrefetchOnNavigation:!0,shouldPrefetchOnHover:!1};case"control":return{shouldPrefetchOnNavigation:!1,shouldPrefetchOnHover:!1};default:return{shouldPrefetchOnNavigation:t.anyEnabled,shouldPrefetchOnHover:t.anyEnabled}}}function a(){let{checkExperiment:e}=(0,i.F)();return r(e)}},721750:function(e,t,n){n.d(t,{Z:()=>i});let i=(0,n(667294).createContext)(void 0)},758594:function(e,t,n){n.d(t,{Z:()=>a});var i=n(667294),r=n(721750);function a({children:e,metricName:t}){return(0,i.useContext)(r.Z),e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/53013-0002d5d75f0951e5.mjs.map