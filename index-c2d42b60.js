function fe(){import("data:text/javascript,")}const B=function(){const t=document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),W=function(e){return"https://cdn.myshopline.com/t/layout/plugin/2025022110153333/sales-notice-plugin/"+e},P={},S=function(t,n,r){return!n||n.length===0?t():Promise.all(n.map(i=>{if(i=W(i),i in P)return;P[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${l}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":B,o||(s.as="script",s.crossOrigin=""),s.href=i,document.head.appendChild(s),o)return new Promise((v,p)=>{s.addEventListener("load",v),s.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t())};function _(e){return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(e)}function V(e,t){if(_(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N(e){var t=V(e,"string");return _(t)=="symbol"?t:t+""}function u(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(r){u(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function D(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function K(e){return!!(Array.isArray(e)&&e.length>0)}function F(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function G(e,t){if(e==null)return{};var n,r,i=F(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var $=["baseURL"],L=function(){function e(){j(this,e),u(this,"_callbacks",void 0),u(this,"_errorCallbacks",void 0),this._callbacks=[],this._errorCallbacks=[]}return D(e,[{key:"use",value:function(n,r){typeof n=="function"&&this._callbacks.push(n),typeof r=="function"&&this._errorCallbacks.push(r)}}]),e}();function X(e){if(e&&_(e)==="object"){var t=[];return Object.keys(e).forEach(function(n){t.push("".concat(n,"=").concat(encodeURIComponent(e[n])))}),t.join("&")}return e}var x=function(t,n){var r=t.indexOf("?")>=0?"&":"?";return n?"".concat(t).concat(r).concat(X(n)):t},q=function(){function e(t){var n=this;j(this,e),u(this,"_interceptorRequest",void 0),u(this,"_interceptorResponse",void 0),u(this,"_baseOptions",void 0),u(this,"_baseURL",void 0),u(this,"_getUrl",function(l){return"".concat(n._baseURL||"").concat(l)}),this._interceptorRequest=new L,this._interceptorResponse=new L;var r=t||{},i=r.baseURL,o=G(r,$);this._baseURL=i||"",this._baseOptions=o}return D(e,[{key:"interceptors",get:function(){return{request:{use:this._interceptorRequest.use.bind(this._interceptorRequest)},response:{use:this._interceptorResponse.use.bind(this._interceptorResponse)}}}},{key:"_fetch",value:function(n){var r,i,o,l,s,v=this,p=null,d=null,T=(r=(i=n==null?void 0:n.timeout)!==null&&i!==void 0?i:(o=this._baseOptions)===null||o===void 0?void 0:o.timeout)!==null&&r!==void 0?r:0,y=T>0;y&&(p=new AbortController,d=setTimeout(function(){return p.abort()},T));var h=a(a(a({},this._baseOptions),n),{},{headers:a({"content-type":"application/json"},n.headers),body:JSON.stringify((n==null?void 0:n.data)||n.body),credentials:"include",signal:y?p.signal:void 0});(l=this._interceptorRequest._callbacks)===null||l===void 0||l.forEach(function(b){h=b(h)});var U=(s=h)===null||s===void 0?void 0:s.path,k=this._getUrl(x(U,h.params));return new Promise(function(b,R){fetch(k,h).then(function(O){var f;d&&clearTimeout(d);var c=O;(f=v._interceptorResponse)===null||f===void 0||f._callbacks.forEach(function(M){c=M(c)}),c.status!==200&&R(c.json());var g=c.json();b(g)}).catch(function(O){var f;d&&clearTimeout(d);var c=O;(f=v._interceptorResponse._errorCallbacks)===null||f===void 0||f.forEach(function(g){c=g(c)}),R(c)})})}},{key:"get",value:function(n,r){return this._fetch(a(a({path:n},r),{},{method:"GET"}))}},{key:"post",value:function(n,r){return this._fetch(a(a({path:n},r),{},{method:"POST"}))}}]),e}(),H=function(t){return new q(t)};const J=H,z=()=>{window.magpieBridge||(window.magpieBridge={})},Q=()=>{var e,t;return(t=(e=window==null?void 0:window.Shopline)==null?void 0:e.uri)==null?void 0:t.alias};function Y(){var t;return((t=window.Shopline)==null?void 0:t.themeTypeVersion)>=2.1}function Z(){var t;const e=(t=window.Shopline)==null?void 0:t.themeTypeVersion;return e>=3&&e<4}function ee(){return Y()}z();var I=function(t){return t===void 0?ee()?960:750:t},te=function(t){var n=I(t),r=document.body.clientWidth||document.documentElement.clientWidth;return r<=n},ne=function(t){var n=I(t);return window.self!==window.top&&window.innerWidth<=n},m=function(t){var n=I(t);return te(n)||ne(n)},re=function(){var t,n=(t=window.Shopline)===null||t===void 0?void 0:t.uri;if((n==null?void 0:n.alias)==="Page"||(n==null?void 0:n.alias)==="Policy"){var r;return Z()?(r=n.params)===null||r===void 0?void 0:r.pageId:n.customPageId}return""};const ie=J({baseURL:""}),oe=e=>ie.get("/api/bff/sale-plugin/front/notice-board/get",{params:e});var E=(e=>(e.WEBSITE="WEBSITE",e.MOBILE="MOBILE",e))(E||{}),se=(e=>(e.TOP="TOP",e.TOP_FIXED="TOP_FIXED",e.BOTTOM_FIXED="BOTTOM_FIXED",e))(se||{}),ce=(e=>(e.TEXT_NOTICE_BOARD="TEXT_NOTICE_BOARD",e.COUNT_DOWN_NOTICE_BOARD="COUNT_DOWN_NOTICE_BOARD",e.DISCOUNT_CODE_NOTICE_BOARD="DISCOUNT_CODE_NOTICE_BOARD",e.FESTIVAL_NOTICE_BOARD="FESTIVAL_NOTICE_BOARD",e))(ce||{}),ae=(e=>(e.CLICK_WHOLE="CLICK_WHOLE",e.CLICK_BUTTON="CLICK_BUTTON",e))(ae||{}),ue=(e=>(e.NONE="NONE",e.PRESET_PAGE="PRESET_PAGE",e.CUSTOMER_PAGE="CUSTOMER_PAGE",e.OUT_LINK="OUT_LINK",e))(ue||{});function w(e){window.Shopline?S(()=>import("./simpleBootstrap-chunk-c5089eae.js"),["simpleBootstrap-chunk-c5089eae.js","App-chunk-ec6eee93.js","assets/App.a0f9ad38" + (document.dir === 'rtl' ?'-rtl':'') +".css"]).then(({default:t})=>{const{mount:n}=t;typeof n=="function"&&n(e)}):S(()=>import("./bootstrap-chunk-2eddca56.js"),["bootstrap-chunk-2eddca56.js","App-chunk-ec6eee93.js","assets/App.a0f9ad38" + (document.dir === 'rtl' ?'-rtl':'') +".css"]).then(({default:t})=>{const{mount:n}=t;typeof n=="function"&&n(e)})}function le(){if(window.Shopline){const e=re(),t=e||Q(),n=m();oe({supportPlatform:n?E.MOBILE:E.WEBSITE,effectivePage:t}).then(r=>{var i;r.code==="SUCCESS"&&r.data&&K((i=r.data)==null?void 0:i.noticeBoardList)&&w({options:{salesNoticeInfo:{...r.data,isMobile:m(750),isPreview:!1}}})})}else if(window.__SALES_MARKETING_PREVIEW_DATA__){const{previewData:e={},queryParams:t={}}=window.__SALES_MARKETING_PREVIEW_DATA__||{},n=(t==null?void 0:t.previewType)==="pc"||(t==null?void 0:t.previewType)==="mobile"?(t==null?void 0:t.previewType)==="mobile":m(750),r=(t==null?void 0:t.language)||"en";w({options:{salesNoticeInfo:{...e,previewSlotId:"sales-notice-plugin-slot",isMobile:n,isPreview:!0,language:r}}})}else w()}le();export{se as D,ae as J,ue as L,ce as N,G as _,fe as __vite_legacy_guard,re as a,ee as b,Z as c,u as d,Q as g,K as i};
