webpackJsonp([23,1],{0:function(e,t,i){i(1540),e.exports=i(1569)},249:function(e,t,i){"use strict";!function(){}("f735");var n=i(3),r=i(130),o=i(192),s=i(240),a=i(136),l=i(238),c=i(214),u=(i(132),i(250)),h=i(251),d=i(182),p=i(273),g=i(275),m=i(617),f=new m("body"),v=i(213),b=c.extend({name:"PostForm",viewOptionKeys:["showPhotoBooth","supportImageSearch","minFullWidthSize","isModal","popoverContainer","dragEvents","redirectTo","reblogActionContext","closeLabel","disableNavigation","disablePhotoFromUrl"],initialize:function(e){e=n.extend({dragEvents:f,autoFetch:!0},e),this.user=e.user||d(),this.post=e.post||new h,this.uploads=new p,this._preloadAvatars(),this.postForm=new g(n.extend(n.pick(e,this.viewOptionKeys),{user:this.user,post:this.post,uploads:this.uploads,model:this.post})),this.fastCompose=!!e.fastCompose,e.autoFetch&&(this.postFetch=this.fetchPostData(this.post))},_preloadAvatars:function(e){e||(e=this.user.channels.pluck("avatar_url")),n.forEach(e,function(e){var t=new Image;t.src=u(e)(128)})},fetchPostData:function(e){if(this.postFetch)return this.postFetch;e||(e=this.post);var t=this.user;return o.promise(function(i,r){e.has("lookupData")?e.fetch(e.get("lookupData")).then(function(){e.unset("lookupData"),t&&"html"===t.get("defaultEditorType")&&"edit"===e.get("mode")&&"rich"===e.get("editorType")&&e.set("editorType","html"),i(e)},function(e){if(403===e.status){var t;if(!n.isEmpty(e.responseJSON)&&!n.isEmpty(e.responseJSON.errors)){var i=e.responseJSON.errors;i[0]&&i[0].code&&8012===i[0].code&&i[0].detail&&(t=i[0].detail)}r({reason:"blocked",message:t})}else r()}):i(e)})},addEventListeners:function(){this.listenTo(a,"DOMEventor:keydown:escape",function(){this.isEnabled()&&a.trigger("postForms:close")}),this.listenTo(this.postForm,"all",function(){this.trigger.apply(this,arguments)}),this.listenToOnce(this.postForm,"postForms:changePostType",this.reloadPostForm)},_logInteraction:function(e){var t={action:e,tumblelog:this.post.get("tumblelog"),mode:this.post.get("mode"),postType:this.post.get("type"),editorType:this.post.get("editorType")};a.trigger("postform-interaction:"+e,{loggingData:t})},enable:function(){this.postForm.set("enabled",!0)},disable:function(){this.postForm.set("enabled",!1)},isEnabled:function(){return this.postForm.get("enabled")||!1},getRect:function(){return this.postForm.getRect()},isRendered:function(){return this.postForm.isRendered()},whenRendered:function(e){return null==e&&(e=!this.isRendered()),o.promise(n.bind(function(t,i){e?(this.listenToOnce(this,"ready",function(){t(this)}),this.listenToOnce(this,"reject",function(){i()}),this.render()):t(this)},this))},_render:function(){this._logInteraction("open-postform");var e=this.whenEvent(this.postForm,"media:ready");return this.postForm.render(),this.initialPostState=this.postForm.post.toJSON(),this.postForm.set("initialPostState",this.initialPostState),this.addEventListeners(),this.postForm.get("useMediaReady")?e.then(n.bind(function(){this.trigger("ready")},this)):this.trigger("ready"),delete this.postFetch,this},_reject:function(e){e&&e.reason&&"blocked"===e.reason&&(e.message?v.alert(e.message):v.alert(r("This post cannot be reblogged."))),this.trigger("reject")},render:function(){return this.fetchPostData(this.post).then(n.bind(this._render,this),n.bind(this._reject,this))},teardown:function(){return this.stopListening(),this},remove:function(){this.stopListening(),this.postForm.remove()},reloadPostForm:function(e){e=e||{};var t=l([function(){return this.postForm.animateHide(200)},function(){this.postForm.teardown();var t={lookupData:this.post.getLookupData(),tumblelog:this.post.get("tumblelog"),mode:this.post.get("mode"),loggingData:this.post.loggingData};n.extend(t,e.postParams||{}),this.post=this.postForm.post=this.postForm.model=new h(t),this.render()},function(){n.isFunction(e.afterReload)&&e.afterReload.call(this,this.postForm)}],this);return t}});s.applyTo(b.prototype),e.exports=b},275:function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=i(3),o=i(8),s=i(192),a=i(235).animate,l=i(238),c=i(220),u=i(130),h=i(219),d=i(136),p=i(276),g=i(277),m=i(230),f=i(278),v=i(280),b=i(286),w=i(291),y=i(319),_=i(320),k=i(324),x=i(334),A=i(335),C=i(337),E=i(339),S=i(351),T=i(416),F=i(616),L=h.extend({className:"post-form",defaults:{useMediaReady:!1,showFooter:!0,hideControlsLine:!1,enabled:!0,locked:!1,saving:!1,hasRichTextTutorial:!1,hasInlineControlsTutorial:!1,hasImageSearchTutorial:!1,showRichTextTutorial:!1,showInlineControlsTutorial:!1,showImageSearchTutorial:!1,disablePhotoFromUrl:!1,closeLabel:null,blockContentEditing:!1,blockContentEditingLabel:null},events:{"click [data-js-clickableClose]":"_onClickClose","click [data-js-clickableSave]":"_onClickSave","mousedown [data-js-clickableClose]":"cancelEditorBlur","mousedown [data-js-clickableSave]":"cancelEditorBlur",keydown:"_onKeyDown"},mixins:[p,g,m],template:F,_setup:function(){this.defaults.closeLabel=u("Close"),this.defaults.blockContentEditingLabel=u("Uh-oh! Looks like this post uses the new format. Please toggle the new editor to edit this post.")},initialize:function(e){this.options=e=r.extend({},e),r.extend(this.attributes,r.pick(e,r.keys(this.defaults))),r.extend(this,r.pick(e,"post","user","uploads","dragEvents")),r.extend(this.attributes,r.pick(this.post.attributes,["mode"])),this.__onBeforeUnload=r.bind(this._onBeforeUnload,this)},_targetHandlesDrag:function(e){var t=o(e);return!r.isEmpty(t.closest(".editable-photoset"))||(!r.isEmpty(t.closest(".media-dropzone"))||(!r.isEmpty(t.closest("input"))||!r.isEmpty(t.closest('[contenteditable="true"]'))))},_onDragOver:function(e){this._targetHandlesDrag(e.target)&&!r.isEmpty(e.originalEvent.dataTransfer.files)&&(e.originalEvent.dataTransfer.dropEffect="copy"),e.preventDefault()},_onDrop:function(e){this._targetHandlesDrag(e.target)||e.preventDefault()},_onModelChange:function(){this.model.get("carouselDisplay")||this.subViews.errorBar.hideErrorBar()},_onChangeHideControlsLine:function(e,t){this.$el.toggleClass("no-controls-line",t)},_onChangeShowFooter:function(e,t){this.isRendered()&&(t?this.js$("footer").css({display:"block",opacity:1}):this.js$("footer").css({display:"none",opacity:0}))},_onChangeEnabled:function(e,t){t?this.$el.removeClass("no-pointer-events"):this.$el.addClass("no-pointer-events")},_onChangeLocked:function(e,t){t?this.$$(".post-form--guard").addClass("visible"):this.$$(".post-form--guard").removeClass("visible")},_onClickClose:function(e){this.options.redirectTo?(o(window).off("beforeunload",this.__onBeforeUnload),window.location=this.options.redirectTo):(this.resumeEditorBlur(),d.trigger("postForms:close"))},_onClickSave:function(e){this.resumeEditorBlur(r.bind(this.save,this))},_onTypeSwitch:function(e,t){this.post.set("type",e),this.trigger("postForms:changePostType",t)},_getCurrentRichTextEditor:function(){if(this.postTypeForm)return this.postTypeForm.getRichTextEditor()},_getEditorType:function(){return this.model.get("editorType")||"rich"},_sendTutorialReadFlag:function(){o.ajax({url:"/svc/post/set_seen_rte",type:"POST",withFormKey:!0})},_setHasTutorialStates:function(){var e=r.contains(["text","photo","audio","video","link"],this.post.get("type"));this.set("hasRichTextTutorial",e&&this.user.get("hasRichTextTutorial")),this.set("hasInlineControlsTutorial",e&&this.user.get("hasInlineControlsTutorial")),this.set("hasImageSearchTutorial",e&&this.user.get("hasImageSearchTutorial"))},_setShowRichTextTutorialState:function(){this.set("showRichTextTutorial",this.get("hasRichTextTutorial")&&"rich"===this._getEditorType()&&this.get("showFooter"))},_setShowInlineControlsTutorialState:function(){this.set("showInlineControlsTutorial",this.get("hasInlineControlsTutorial")&&"rich"===this._getEditorType()&&!this.get("hasRichTextTutorial"))},_setShowImageSearchTutorialState:function(){this.set("showImageSearchTutorial",this.get("hasImageSearchTutorial")&&"rich"===this._getEditorType()&&this.get("showFooter"))},_onChangeHasRichTextTutorial:function(e,t){this.$el.toggleClass("has-richtext-tutorial",t)},_onChangeShowRichTextTutorial:function(e,t){this.$el.toggleClass("show-richtext-tutorial",t),t&&this.user.get("hasRichTextTutorial")&&(this._sendTutorialReadFlag(),this.user.set("hasRichTextTutorial",!1))},_onRichTextTutorialRemoved:function(e){var t,i=function(e){this.set("hasRichTextTutorial",!1),this.$el.removeClass("closing-richtext-tutorial")};this.stopListening(e),this.stopListening(this,"change:showFooter",this._setShowRichTextTutorialState),this.stopListening(this.model,"change:editorType",this._setShowRichTextTutorialState),this.options.isModal?r.defer(function(){c.animation(this.$el,i.bind(this)),this.$el.addClass("closing-richtext-tutorial")}.bind(this)):i.call(this),t=this._getCurrentRichTextEditor(),t&&t.focus(),this.set("showRichTextTutorial",!1)},_onInlineControlsTutorialHide:function(e){this.stopListening(e),this.stopListening(this,"change:hasRichTextTutorial",this._setShowInlineControlsTutorialState),this.stopListening(this.model,"change:editorType",this._setShowInlineControlsTutorialState),this.user.set("hasInlineControlsTutorial",!1),e.remove()},_onImageSearchTutorialHide:function(e){this.stopListening(e),this.stopListening(this.model,"change:editorType",this._setShowImageSearchTutorialState),this.user.set("hasImageSearchTutorial",!1),this._sendTutorialReadFlag(),e.remove()},_onChangeShowInlineControlsTutorial:function(e,t){var i=this._getCurrentRichTextEditor(),n=this.options.supportImageSearch,r=n?"animate-inline-controls-tutorial":"animate-inline-controls-tutorial-original",o=u(n?"Click the plus sign to insert photos, videos, reaction GIFs, horizontal lines, or read-more links.":"Click the plus sign to insert photos, videos, horizontal lines, or read-more links.");t&&i?(this.inlineControlsTutorial=new E({richTextEditor:i,animationClass:r,animationShowDelay:"text"===this.post.get("type")?500:750,title:u("But wait, there's more"),content:o}),this.listenToOnce(this.inlineControlsTutorial,"hide",this._onInlineControlsTutorialHide)):this.inlineControlsTutorial&&(this.inlineControlsTutorial.remove(),this.inlineControlsTutorial=null)},_onChangeShowImageSearchTutorial:function(e,t){var i=this._getCurrentRichTextEditor();t&&i?(this.imageSearchTutorial=new E({richTextEditor:i,animationClass:"animate-image-search-tutorial",animationShowDelay:"text"===this.post.get("type")?500:750,title:u("GIF your words"),content:u("Hit this button. Type a word. Pick a GIF. Express thyself."),buttonLabel:u("Dare thee try it?")}),this.listenToOnce(this.imageSearchTutorial,{hide:this._onImageSearchTutorialHide,dismiss:function(){i.openImageSearch()}})):this.imageSearchTutorial&&(this.imageSearchTutorial.remove(),this.imageSearchTutorial=null)},_createContentStatsSupport:function(){this.contentStatsSupport&&this.contentStatsSupport.remove(),this.contentStatsSupport=new S({model:this.model,editor:this._getCurrentRichTextEditor()})},getRect:function(){var e=this.$el.css("display");this.$el.css("display","block");var t=this.$el.offset(),i={};return i.offsetTop=t.top,i.offsetLeft=t.left,i.offsetHeight=this.$el.outerHeight(),i.offsetWidth=this.$el.outerWidth(),this.$el.css("display",e),i},measureHeight:function(){if(!this.isRendered())return null;var e=this.$el.css("display");this.$el.css("display","block");var t=this.$el.outerHeight();return this.$el.css("display",e),t},animateShow:function(e,t){e||(e=0),t||(t=0),e||this.js$("container-outer").css("opacity",1);var i=[a(this.js$("container-outer"),{opacity:[1,0]},{duration:e}),a(this.js$("container-inner"),{translateY:[0,10]},{duration:e,delay:t,complete:function(e){o(e).removeAttr("style")}})];return this.options.isModal&&i.push(a(this.js$("margin"),{opacity:[1,0]},{duration:e})),this.avatar&&this.avatar.updateViewState(),s.all(i)},animateHide:function(e,t){e||(e=0),t||(t=0),e||this.js$("container-outer").css("opacity",0),!this.options.isModal&&this.avatar&&this.avatar.resetAvatar();var i=[];return this.js$("container-outer").length&&this.js$("container-inner").length&&(i.push(a(this.js$("container-outer"),{opacity:[0,1]},{duration:e})),i.push(a(this.js$("container-inner"),{translateY:[10,0]},{duration:e,delay:t}))),this.options.isModal&&this.js$("margin").length&&i.push(a(this.js$("margin"),{opacity:[0,1]},{duration:e})),s.all(i)},forceHidden:function(){return this.js$("container-outer").css("opacity",0),this.options.isModal&&this.js$("margin").css("opacity",0),a(this.js$("container-inner"),{translateY:[10,10]},{duration:0}),this},save:function(e){if(!this.get("saving")||e){var t;d.trigger("postForms:saving"),this.subViews.errorBar.hideErrorBar();var i=l([function(){!1===this.model.isValid()},function(){this.set({enabled:!1,locked:!0,saving:!0})},function(){},function(){try{this.model.set("contentStats",this.contentStatsSupport.getStats())}catch(e){}return t=this.model.save(this.options)},function(){this.set({enabled:!1,locked:!0,saving:!1,saved:!0})}],this).then(r.bind(function(e){if(e=e.filter(function(e){return e}),e.length&&(e=e[0]),r.isEmpty(e)&&(e.errors="There was a problem saving your post. Please try again later."),r.isEmpty(e.errors)){if(this.options.redirectTo)o(window).off("beforeunload",this.__onBeforeUnload),window.location=this.options.redirectTo;else if(d.trigger("postForms:saved",{},t),"reblog"===this.model.get("mode")){var i=this.model.get("reblog_id"),s=window.Tumblr.Posts.find({id:i});if(s){s.updateReblogControl();var a=r.get(t.responseJSON,"post_context_page","dashboard");d.trigger("post:reblog:set",{model:s,toastOptions:{avatar:this.avatar.get("avatarUrl"),fromTumblelogName:this.post.get("tumblelog"),type:"dashboard"===a?"selfReblog":a}})}}}else{r.isString(e.errors)&&(e.errors=[e.errors]);var l=[];for(var c in e.errors)"object"===n(e.errors[c])&&"string"==typeof e.errors[c].message?l.push(r.escape(e.errors[c].message)):l.push(r.escape(e.errors[c]));this.set({enabled:!0,locked:!1,saving:!1,saved:!1});var u=l.join("<br>");this.subViews.errorBar.showErrorBar(u),d.trigger("postForms:error")}},this));return i.catch(r.bind(function(e){this.set({enabled:!0,locked:!1,saving:!1,saved:!1}),d.trigger("postForms:error")},this)),i}},createSubViews:function(){this.set("blockContentEditing",this.post.get("block_content_editing"));var e,t=["showPhotoBooth","supportImageSearch","minFullWidthSize","popoverContainer","dragEvents"],i=r.extend({user:this.user,post:this.post,uploads:this.uploads,model:this.model},r.pick(this.options,t),this.attributes),n=this.post.get("tumblelog");this.avatar=this.subViews.avatar=new f(r.extend(this.options.isModal?{}:{determineViewState:!1,showSubavatar:this.user.getChannel(n).get("show_author_avatar"),avatarUrl:this.user.getChannel(n).get("avatar_url")},i)),this.tumblelogSelect=this.subViews.tumblelogSelect=new v(i),this.postSettings=this.subViews.postSettings=new b(i),this.tagEditor=this.subViews.tagEditor=new w(i),this.editorButtons=this.subViews.editorButtons=new y(i),this.socialButtons=this.subViews.socialButtons=new _(i),this.savePostButton=this.subViews.savePostButton=new k(i),this.uploadIndicator=this.subViews.uploadingIndicator=new A(i),e=r.extend({},i,{tagEditor:this.tagEditor,parent:this}),this.postTypeForm=this.subViews.postTypeForm=T(e),this.set("useMediaReady",this.postTypeForm.get("hasMediaView")),this.listenTo(this.postTypeForm,"media:ready",function(){var e=r.toArray(arguments);e.unshift("media:ready"),this.trigger.apply(this,e)}),this.set("hideControlsLine",this.postTypeForm.get("hideControlsLine")),this.listenTo(this.postTypeForm,"change:hideControlsLine",function(e,t){this.set("hideControlsLine",t)}),this.postTypeForm.has("showCaption")&&(this.set("showFooter",this.postTypeForm.get("showCaption")),this.listenTo(this.postTypeForm,"change:showCaption",function(e,t){this.set("showFooter",t)})),this.listenTo(d,"postForms:tumblelogSelectDropdown:open",function(){this.trigger("checkScrollSize"),this.trigger("pauseScrollHelper")}),this.listenTo(d,"postForms:tumblelogSelectDropdown:close",function(){this.trigger("checkScrollSize",!0),this.trigger("resumeScrollHelper")}),this.listenTo(this.savePostButton,"dropdown:intent",this.cancelEditorBlur),this.post.allowsTypeSwitch()&&this.listenTo(this.postTypeForm,"switchPostType",this._onTypeSwitch),this.subViews.errorBar=new x,this._setHasTutorialStates(),this._setShowRichTextTutorialState(),this._setShowInlineControlsTutorialState(),this._setShowImageSearchTutorialState(),this.get("hasRichTextTutorial")&&(this.richTextEditorTutorial=this.subViews.richTextEditorTutorial=new C,this.listenToOnce(this.richTextEditorTutorial,"removed",this._onRichTextTutorialRemoved),this.listenTo(this,"change:showFooter",this._setShowRichTextTutorialState),this.listenTo(this.model,"change:editorType",this._setShowRichTextTutorialState)),this.get("hasInlineControlsTutorial")&&(this.listenTo(this,"change:hasRichTextTutorial",this._setShowInlineControlsTutorialState),this.listenTo(this.model,"change:editorType",this._setShowInlineControlsTutorialState)),this.get("hasImageSearchTutorial")&&(this.listenTo(this,"change:showFooter",this._setShowImageSearchTutorialState),this.listenTo(this.model,"change:editorType",this._setShowImageSearchTutorialState))},addStateListeners:function(){this.listenTo(this,"change:hideControlsLine",this._onChangeHideControlsLine),this.listenTo(this,"change:showFooter",this._onChangeShowFooter),this.listenTo(this,"change:enabled",this._onChangeEnabled),this.listenTo(this,"change:locked",this._onChangeLocked),this.listenTo(this.model,"change",this._onModelChange),this.listenTo(this.dragEvents,"dragover",this._onDragOver),this.listenTo(this.dragEvents,"drop",this._onDrop),this.listenTo(this.tagEditor,"postForms:focusOnNextEditor",this.focusOnNextEditor),this.listenTo(this,"change:showRichTextTutorial",this._onChangeShowRichTextTutorial),this.listenTo(this,"change:hasRichTextTutorial",this._onChangeHasRichTextTutorial),this.listenTo(this,"change:showInlineControlsTutorial",this._onChangeShowInlineControlsTutorial),this.listenTo(this,"change:showImageSearchTutorial",this._onChangeShowImageSearchTutorial)},serialize:function(){return this.toJSON()},beforeRender:function(){this.dragEvents.start(),this.createSubViews(),this.addStateListeners(),o(window).on("beforeunload",this.__onBeforeUnload)},render:function(){return this.$el.html(this.template(this.serialize())),this.attachSubViews(),this.post.get("type")&&this.$el.addClass("post-form--"+this.post.get("type")),this.user.get("hasGifSearchVariation")&&this.$el.addClass("gif-search-variation"),this},afterRender:function(){this.$el.toggleClass("no-controls-line",this.get("hideControlsLine")),this.get("showFooter")||this.js$("footer").css({display:"none",opacity:0}),this.renderSubViews(),this._onChangeHasRichTextTutorial(this,this.get("hasRichTextTutorial")),this._onChangeShowRichTextTutorial(this,this.get("showRichTextTutorial")),this._onChangeShowInlineControlsTutorial(this,this.get("showInlineControlsTutorial")),this._onChangeShowImageSearchTutorial(this,this.get("showImageSearchTutorial")),this._createContentStatsSupport()},teardown:function(){return this.dragEvents.stop(),this.stopListening(),this.contentStatsSupport&&this.contentStatsSupport.remove(),this.inlineControlsTutorial&&this.inlineControlsTutorial.remove(),o(window).off("beforeunload",this.__onBeforeUnload),this},remove:function(){return this.teardown(),h.prototype.remove.apply(this,arguments)},_onKeyDown:function(e){this.focusOnNextEditor(e),this.keyboardSave(e)},focusOnNextEditor:function(e){if(9===e.keyCode){var t=this.$el.find(".editor[contenteditable]:visible, .post-form--close, .post-form--save-button .create_post_button:enabled"),i=o.inArray(e.target,t);if(i!==-1){e.preventDefault();var n=(i+(e.shiftKey?-1:1))%t.length;n<0&&(n+=t.length),o(t[n]).focus()}}},keyboardSave:function(e){var t=/Mac/.test(navigator.platform)?e.metaKey:e.ctrlKey;13===e.keyCode&&t&&this.post.isValid()&&(e.preventDefault(),e.stopPropagation(),this.save())},_onBeforeUnload:function(){if(this.model.deepHasChanged(this.get("initialPostState"))){var e=u("Sure you want to leave this page without saving? Your post will be discarded.");return"edit"===this.model.get("mode")&&(e=u("Sure you want to leave this page without saving? All your edits will be lost.")),e}},cancelEditorBlur:function(){var e=this._getCurrentRichTextEditor();e&&e.cancelBlur()},resumeEditorBlur:function(e){var t=this._getCurrentRichTextEditor();t&&r.isFunction(t.resumeBlur)?t.resumeBlur(e):r.isFunction(e)&&e()}});e.exports=L},278:function(e,t,i){"use strict";var n=i(3),r=i(192),o=i(235).animate,s=i(238),a=i(241),l=i(219),c=i(250),u=i(276),h=i(277),d=i(230),p=i(182),g=i(279),m=l.extend({className:"post-form--avatar",mixins:[u,h,d],template:g,defaultOptions:{size:128,determineViewState:!0},defaults:{flipQueued:!1,showSubavatar:!1,avatarUrl:""},initialize:function(e){if(this.options=e=n.extend({},this.defaultOptions,e),this.user=e.user||p(),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),e.post&&(this.post=e.post,this.tumblelog=e.tumblelog||this.user.getChannel(this.post.get("tumblelog")),this.listenTo(this.post,"change:tumblelog",this._onChangePostTumblelog)),!this.tumblelog)throw new Error("AvatarView requires a Tumblelog model!");this.options.determineViewState?this.updateViewState():this.get("avatarUrl")||this.set("avatarUrl",this.tumblelog.get("avatar_url")),this.listenTo(this,"change:showSubavatar",this._onChangeShowSubavatar),this.listenTo(this,"change:avatarUrl",this._onChangeAvatarUrl)},_onChangeShowSubavatar:function(e,t){t?this.showSubavatar():this.hideSubavatar()},_onChangeAvatarUrl:function(e,t){return this.queueFlipAvatar()},updateViewState:function(){this.set({showSubavatar:this.tumblelog.get("show_author_avatar"),avatarUrl:this.tumblelog.get("avatar_url")})},_onChangePostTumblelog:function(e,t){this.tumblelog=this.user.getChannel(t),this.updateViewState()},showSubavatar:function(e,t){return null!=e||(e=a(150)),null!=t||(t=a(300)),o(this.$$(".primary-avatar"),{scale:1},{display:"block",duration:e,delay:t,easing:[.25,1.5,.75,1]})},hideSubavatar:function(e,t){return null!=e||(e=a(100)),null!=t||(t=0),o(this.$$(".primary-avatar"),{scale:0},{display:"none",duration:e,delay:t,easing:[0,0,.6,1]})},queueFlipAvatar:function(e,t){if(this._avatarFlipping)return void this.set("flipQueued",!0);var i=this.flipAvatar();i.then(n.bind(function(){this.get("flipQueued")&&(this.set("flipQueued",!1),this.flipAvatar())},this))},flipAvatar:function(e,t){null!=e||(e=a(300)),null!=t||(t=a(50));var i=c(this.get("avatarUrl"),this.options.size),n=this.tumblelog.get("name"),l=this.tumblelog.get("blog_url"),u=this.$$(".channel-avatar"),h=u.clone();return this._avatarFlipping=!0,s([function(){return h.children(".avatar-link").css("background-image","url("+i+")").attr("href",l),h.children(".avatar-image").attr({src:i,alt:n}),o(h,{rotateY:[180,180]},{duration:0}).then(function(){h.insertAfter(u)})},function(){return r.join(o(u,{rotateY:[180,0]},{duration:e}),o(h,{rotateY:[360,180]},{duration:e}))},function(){return u.remove(),this.$$.remove(".channel-avatar"),o(h,{rotateY:[0,0]},{duration:0})},function(){this._avatarFlipping=!1}],this)},resetAvatar:function(){return this.set(n.defaults(n.pick(this.options,["showSubavatar","avatarUrl"]),n.pick(this.attributes,["showSubavatar","avatarUrl"]))),this},serialize:function(){return n.extend(this.toJSON(),{avatarUrl:c(this.get("avatarUrl"),this.options.size),subavatarUrl:c(this.user.getChannel().get("avatar_url"),this.options.size),primary:this.user.getChannel().toJSON(),channel:this.tumblelog.toJSON()})},render:function(){return this.$el.html(this.template(this.serialize())),this.get("showSubavatar")||(this.$$(".primary-avatar").css("display","none"),this.hideSubavatar(0)),this}});e.exports=m},279:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="channel-avatar avatar-container"><a class="avatar-link" href="'+__e(channel.blog_url)+'" target="_blank" title="'+(null==(__t=channel.directory_safe_title)?"":__t)+'" style="background-image: url(\''+__e(avatarUrl)+'\')"><img class="avatar-image" src="'+__e(avatarUrl)+'" alt="'+__e(channel.name)+'"></a></div><div class="primary-avatar avatar-container"><a class="avatar-link" href="'+__e(primary.url)+'" target="_blank" title="'+(null==(__t=primary.directory_safe_title)?"":__t)+'" style="background-image: url(\''+__e(subavatarUrl)+'\')"><img class="avatar-image" src="'+__e(subavatarUrl)+'" alt="'+__e(primary.name)+'"></a></div>';return __p}.toString()).apply(void 0,_values(_imports))},280:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(277),l=i(281),c=i(282),u=r.extend({defaults:{modeRequiresDropdown:!0},events:{"click [data-js-clickableTumblelogLabel]":"toggleTumblelogSelectDropdown"},mixins:[o,s,a],template:l,initialize:function(e){this.options=e||{},this.user=e.user,this.listenTo(this.model,"change:tumblelog",this.adjustLabel),this.set("modeRequiresDropdown","edit"!==this.model.get("mode"))},render:function(){return this.$el.html(this.template({post:this.model})),this.adjustLabel(),this.createDropdown(),this},createDropdown:function(){var e=n.extend(this.options,{shift:{x:0,y:10},identifier:"postForms:tumblelogSelectDropdown"});this.get("modeRequiresDropdown")&&(this.tumblelogSelectDropdown=new c(e),this.tumblelogSelectDropdown.setPinnedTarget(this.js$("tumblelogSelectPin")))},toggleTumblelogSelectDropdown:function(){this.get("modeRequiresDropdown")&&(this.tumblelogSelectDropdown.isOrWasRecentlyRendered()||this.tumblelogSelectDropdown.render())},adjustLabel:function(){var e,t;this.user&&this.model&&(e=this.model.get("tumblelog"),t=this.user.getChannel(e),this.js$("tumblelogLabel").text(t?t.getDisplayName():e))}});e.exports=u},281:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<button class="tumblelog-select '+__e("edit"===post.get("mode")?"inactive":"")+'" data-js-clickabletumbleloglabel><span class="caption" data-js-tumbleloglabel></span> ',"edit"!==post.get("mode")&&(__p+=' <span class="dropdown icon_arrow_carrot_down" data-js-tumblelogselectpin></span> '),__p+=" ",("reblog"===post.get("mode")||"edit"===post.get("mode")&&post.get("reblog_name"))&&(__p+=' <span class="reblog_source"><i class="reblog-icon"></i> <span class="reblog_name">'+__e(post.get("reblog_name"))+"</span></span> "),__p+=" </button>";return __p}.toString()).apply(void 0,_values(_imports))},282:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(136),s=i(250),a=i(230),l=i(276),c=i(277),u=i(283),h=i(182),d=i(285),p=r.extend({className:"popover--tumblelog-select-dropdown",events:{"click [data-js-tumblelogChoice]":"selectBlog"},mixins:[a,l,c,u],template:d,defaultOptions:{size:128},defaults:{tumblelog:!1},initialize:function(e){this.options=e=n.extend({},this.defaultOptions,e),this.user=e.user||h(),n.extend(this.attributes,n.pick(e,n.keys(this.defaults)))},render:function(){return this.delegateEvents(),this.$el.html(this.template({model:this.model,channels:this.getUserChannels()})),o.trigger("postForms:dismissListener:suspend"),this},teardown:function(){return this.$el.remove(),o.trigger("postForms:dismissListener:resume"),this},getUserChannels:function(){return this.user.channels.map(function(e){return n.extend({avatarUrl:s(e.get("avatar_url"),this.options.size),displayName:e.getDisplayName()},e.toJSON())},this)},selectBlog:function(e){var t=this.$(e.currentTarget).index();this.model.set("tumblelog",this.user.channels.at(t).get("name")),this.teardown()}});e.exports=p},285:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="pop-menu"><ul class="inner select-right"> ',_.forEach(channels,function(e){__p+=' <li class="item-option '+__e(e.name===model.get("tumblelog")?"select":"")+'" data-js-tumblelogchoice><img class="ts-avatar" src="'+__e(e.avatarUrl)+'" alt="'+__e(e.name)+'"><div class="ts-info"><p class="ts-name">'+__e(e.displayName)+'</p><p class="ts-title">'+(null==(__t=e.directory_safe_title)?"":__t)+"</p></div></li> "}),__p+=" </ul></div>";return __p}.toString()).apply(void 0,_values(_imports))},286:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(276),s=i(277),a=i(287),l=i(288),c=r.extend({className:"post-form--post-settings-button",events:{"click [data-js-clickablePostSettingsCog]":"togglePostSettingsDropdown"},mixins:[o,s],template:a,initialize:function(e){e=n.extend({},e,{shift:{x:0,y:10},identifier:"postForms:postSettingsDropdown"}),this.postSettingsDropdown=new l(e)},render:function(){return this.$el.html(this.template()),this.postSettingsDropdown.setPinnedTarget(this.js$("postSettingsCog")),this},togglePostSettingsDropdown:function(e){this.postSettingsDropdown.isOrWasRecentlyRendered()||this.postSettingsDropdown.render()}});e.exports=c},287:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<button class="post-settings" data-js-clickablepostsettingscog><span class="dropdown settings-icon" data-js-postsettingscog></span></button>';return __p}.toString()).apply(void 0,_values(_imports))},288:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(130),s=i(136),a=i(180),l=i(213),c=i(230),u=i(277),h=i(276),d=i(283),p=i(289),g=i(290),m=r.extend({className:"popover--post-settings-dropdown",defaults:{textFields:["customUrl","sourceUrl","postDate","redirectUrlPrimary","redirectUrlIOS","redirectUrlAndroid"],checkboxFields:["allowPhotoReplies","membersOnlyPost","carouselPost","flagOwnPost","canBeLiked","canBeReblogged","enableCTA","enableRedirectUrls","tspSkipLightbox"],selectFields:["editorType","ctaTextCode"]},mixins:[c,u,h,d,p],template:g,initialize:function(e){this.options=e=n.extend({},e),n.extend(this,n.pick(e,["post","user","uploads"]))},render:function(){return this.isSinglePhotoPost=!(!this.post.photos||1!==this.post.photos.length),this.$el.html(this.template(this.serialize())),this.setupTextInputFields(),this.setupCheckboxInputFields(),this.setupSelectFields(),this.delegateEvents(),s.trigger("postForms:dismissListener:suspend"),this.model.get("enableCTA")||this.$(".cta-controls",this.$el).hide(),this.model.get("enableRedirectUrls")||this.$(".redirecturls-controls",this.$el).hide(),this.isSinglePhotoPost||this.js$("enableRedirectUrls").prop("disabled",!0),this},teardown:function(){return this.$el.remove(),s.trigger("postForms:dismissListener:resume"),this},serialize:function(){var e=this.model.get("tumblelog"),t=this.user.get("primary"),i=this.user.getChannel(e);return n.extend({showEditorSelection:"chat"!==this.post.get("type"),allowMembersOnlyPost:a.bool("labs_experiment_inside_blogs"),allowFlagOwnPost:!1,showCarouselOption:"photo"===this.post.get("type")&&a.bool("enable_carousel_ad_display")&&!this.model.isReblog(),canDisbleLikes:a.bool("can_disable_likes"),canDisbleReblogs:a.bool("can_disable_reblogs"),showTspClickThroughToggle:a.bool("show_tsp_click_through_toggle"),hasPremPart:a.bool("has_prem_part")&&t===e,
isBlogAdult:i.get("is_adult")},this.model.toJSON())},setupTextInputFields:function(){n.each(this.get("textFields"),function(e){var t=this["$"+e]=this.js$(e);return"sourceUrl"===e&&this.model.isReblog()?void t.attr("readonly",!0):(t.on("input",n.bind(function(){this.model.set(t.attr("name"),t.val())},this)),void t.on("keydown",n.bind(function(e){var t=e.which||e.keyCode;13===t&&this.teardown()},this)))},this)},setupCheckboxInputFields:function(){n.each(this.get("checkboxFields"),function(e){var t=this["$"+e]=this.js$(e),i=t.attr("name"),r=!!this.model.get(i);t.prop("checked",r),t.on("change",n.bind(function(){var r="_onChange"+n.camelCase("-"+e);n.isFunction(this[r])?this[r]():this.model.set(i,t.prop("checked")),"_onChangeflagOwnPost"===r&&s.trigger("Kraken:safeMode:PFNSFW",{loggingData:{enabled:this.model.get(i)}})},this))},this)},setupSelectFields:function(){n.each(this.get("selectFields"),function(e){var t=this["$"+e]=this.js$(e),i=t.attr("name");this.setUpSelector(t),t.children('[value="'+this.model.get(i)+'"]').attr("selected",!0),t.trigger("change"),t.on("change",n.bind(function(){var r="_onChange"+n.camelCase("-"+e);n.isFunction(this[r])?this[r]():this.model.set(i,t.val())},this))},this)},setupInputListeners:function(){var e=this.get("checkboxFields");n.each(this.get("inputSelectorNames"),function(t){var i=this["$"+t];i.on("change",n.bind(function(){var n=e.indexOf(t)!==-1?i.prop("checked"):i.val();this.model.set(i.attr("name"),n)},this))},this)},_onChangeEditorType:function(){var e=this.model.get("editorType"),t=this.js$("editorType").val();if(!e)return void this.model.set("editorType",this.user.get("defaultEditorType")||"rich");if(e!==t)if("rich"!==e&&"rich"===t&&this.model.get("htmlEdited")){var i={text:o("%1$sGoing back to normal?%2$sYou might lose any code that doesn't get along with our text editor.%3$s","<h3>","</h3><small>","</small>"),keycommand_maintain:!0};l.confirm(i,n.bind(function(){this.js$("editorType").blur(),this.model.set({htmlEdited:!1,editorType:t}),this._delayedClose()},this))}else n.defer(n.bind(function(){this.model.set("editorType",t)},this)),this._delayedClose()},_onChangecarouselPost:function(){var e=this.js$("carouselPost").is(":checked");this.model.set("carouselDisplay",e),this.js$("enableRedirectUrls").prop("checked",e||this.model.get("enableCTA")),this._onChangeenableRedirectUrls()},_onChangeenableCta:function(){var e=this.js$("enableCTA").is(":checked");this.model.set("enableCTA",e),this.$(".cta-controls",this.$el).css("display",e?"":"none");var t=this.js$("enableRedirectUrls");this.isSinglePhotoPost?(e&&!t.is(":checked")&&t.trigger("click"),t.prop("disabled",e)):(t.prop("checked",e||this.model.get("carouselDisplay")),this._onChangeenableRedirectUrls())},_onChangeenableRedirectUrls:function(){var e=this.js$("enableRedirectUrls").is(":checked");this.model.set("enableRedirectUrls",e),this.$(".redirecturls-controls",this.$el).css("display",e?"":"none")},_delayedClose:function(e){n.isNumber(e)||(e=50),n.delay(n.bind(function(){this.teardown()},this),e)}});e.exports=m},289:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(187),s=new o({setUpSelector:function(e){e.on("change",r.bind(this.__select_change,this))},__select_change:function(e){var t=n(e.currentTarget);this.__update_select(t)},__update_select:function(e){var t=e.siblings("label");t.text(e.find(":selected").text())}});e.exports=s},290:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="pop-menu"><div class="inner"><div class="form-horizontal"><div class="form-group"><div class="group-label"><label for="customUrl_input">'+__e(__("Custom URL"))+'</label></div><div class="group-content"><div class="adjacent-content"><label for="customUrl_input" class="prefix" data-js-customurllabel>/post/123/</label><input name="customUrl" id="customUrl_input" class="field crystal" type="text" autocomplete="off" data-js-customurl value="'+__e(customUrl)+'"></div></div></div><div class="form-group"><div class="group-label"><label for="sourceUrl_input">'+__e(__("Content source"))+'</label></div><div class="group-content"><input id="sourceUrl_input" name="sourceUrl" class="field crystal" type="text" placeholder="https://..." autocomplete="off" data-js-sourceurl value="'+__e(sourceUrl)+'"></div></div><div class="form-group"><div class="group-label"><label for="postDate_input">'+__e(__("Post date"))+'</label></div><div class="group-content"><input id="postDate_input" name="postDate" class="field crystal" type="text" placeholder="'+__e(__("Now"))+'" autocomplete="off" data-js-postdate value="'+__e(postDate)+'"></div></div> ',allowMembersOnlyPost&&(__p+=' <div class="form-group"><div class="group-label">'+__e(__("Members only"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="members_only" id="membersOnlyPost" type="checkbox" data-js-membersonlypost> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="membersOnlyPost">'+__e(__("Visible to blog members only"))+"</label></div></div></div> "),__p+=" ",allowFlagOwnPost&&!isBlogAdult&&(__p+=' <div class="form-group"><div class="group-label">'+__e(__("Filtering"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="owner_flagged_nsfw" id="flagOwnPost" type="checkbox" data-js-flagownpost> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="flagOwnPost">'+__e(__("Mark as sensitive"))+'</label><p class="help_text">'+__e(__("Hide it from people in Safe Mode"))+"</p></div></div></div> "),__p+=" ",showEditorSelection&&(__p+=' <div class="form-group"><div class="group-label">'+__e(__("Text editor"))+'</div><div class="group-content"><div class="flat_select field row"><select name="editorType" id="editorType" data-js-editortype><option value="rich">'+__e(__("Rich text"))+'</option><option value="html">'+__e(__("HTML"))+'</option><option value="markdown">'+__e(__("Markdown"))+'</option></select><label for="editorType" class="current_selection">'+__e(__("Rich text"))+'</label><i class="icon"></i></div></div></div> '),__p+=" ",hasPremPart&&(__p+=' <div class="form-group"><div class="group-label group-section">Advertiser Controls</div><div class="group-content"></div></div> ',showCarouselOption&&(__p+=' <div class="form-group"><div class="group-label">'+__e(__("Carousel"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="carouselDisplay" id="carouselPost" type="checkbox" data-js-carouselpost> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="carouselPost">'+__e(__("Display as carousel"))+"</label></div></div></div> "),__p+='<div class="form-group"><div class="group-label">'+__e(__("Call to Action"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="enableCTA" id="enableCTA" type="checkbox" data-js-enablecta> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="enableCTA">'+__e(__("Display a CTA"))+'</label></div></div></div><div class="form-group cta-controls"><div class="group-label">&nbsp;&nbsp;'+__e(__("CTA Text"))+'</div><div class="group-content"><div class="flat_select field row"><select name="ctaTextCode" id="ctaTextCode" data-js-ctatextcode><option value="0">Learn more</option><option value="1">Contact us</option><option value="2">Shop now</option><option value="3">Sign up</option><option value="4">Watch more</option><option value="5">Subscribe</option><option value="6">Book now</option><option value="7">Apply now</option><option value="8">Get quote</option><option value="9">Donate now</option><option value="10">Click to Begin</option><option value="15">Watch now</option><option value="19">Listen now</option><option value="23">Get tickets</option><option value="24">En Savoir Plus</option><option value="25">Download now</option><option value="26">Install now</option><option value="27">Ver MÃ¡s</option><option value="28">Watch the Promo</option><option value="29">Follow the Blog</option><option value="30">See More</option></select><label for="ctaTextCode" class="current_selection">Learn more</label><i class="icon"></i></div></div></div> ',showTspClickThroughToggle&&(__p+=' <div class="form-group cta-controls"><div class="group-label">&nbsp;&nbsp;'+__e(__("Lightbox"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="tspSkipLightbox" id="tspSkipLightbox" type="checkbox" data-js-tspskiplightbox> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="tspSkipLightbox">'+__e(__("Skip the lightbox"))+"</label></div></div></div> "),__p+=' <div class="form-group"><div class="group-label">'+__e(__("CTA URLs"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="enableRedirectUrls" id="enableRedirectUrls" type="checkbox" data-js-enableredirecturls> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="enableRedirectUrls">'+__e(__("Set a redirect for clicks"))+'</label></div></div></div><div class="form-group redirecturls-controls"><div class="group-label"><label for="redirectUrlPrimary_input">&nbsp;&nbsp;'+__e(__("Primary URL"))+'</label></div><div class="group-content"><input id="redirectUrlPrimary_input" name="redirectUrlPrimary" class="field crystal" type="text" placeholder="https://..." autocomplete="off" data-js-redirecturlprimary value="'+__e(redirectUrlPrimary)+'"></div></div><div class="form-group redirecturls-controls"><div class="group-label"><label for="redirectUrlIOS_input">&nbsp;&nbsp;'+__e(__("iOS URL"))+'</label></div><div class="group-content"><input id="redirectUrlIOS_input" name="redirectUrlIOS" class="field crystal" type="text" placeholder="https://..." autocomplete="off" data-js-redirecturlios value="'+__e(redirectUrlIOS)+'"></div></div><div class="form-group redirecturls-controls"><div class="group-label"><label for="redirectUrlAndroid_input">&nbsp;&nbsp;'+__e(__("Android URL"))+'</label></div><div class="group-content"><input id="redirectUrlAndroid_input" name="redirectUrlAndroid" class="field crystal" type="text" placeholder="https://..." autocomplete="off" data-js-redirecturlandroid value="'+__e(redirectUrlAndroid)+'"></div></div> ',canDisbleLikes&&(__p+=' <div class="form-group"><div class="group-label">'+__e(__("Allow likes"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="canBeLiked" id="canBeLiked" type="checkbox" data-js-canbeliked> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="canBeLiked">'+__e(__("Allow likes"))+"</label></div></div></div> "),__p+=" ",canDisbleReblogs&&(__p+=' <div class="form-group"><div class="group-label">'+__e(__("Allow reblogs"))+'</div><div class="group-content"><div class="checkbox field row"><label class="binary_switch"><input name="canBeReblogged" id="canBeReblogged" type="checkbox" data-js-canbereblogged> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><label for="canBeReblogged">'+__e(__("Allow reblogs"))+"</label></div></div></div> "),__p+=" "),__p+="</div></div></div>";return __p}.toString()).apply(void 0,_values(_imports))},291:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=i(130),a=i(230),l=i(276),c=i(277),u=i(292),h=i(313),d=i(316),p=i(317),g=i(318),m=o.extend({className:"post-form--tag-editor",defaults:{maxTagLength:140,suggestMinLength:2,showSuggestPopover:!1,editorHistory:[],sortableTags:null,currentlySelectedTags:[],tagEntryPlaceholder:".tag-input-wrapper .editor-plaintext",currentTag:null},mixins:[a,l,c],template:p,events:{click:"focusOnTagEditor"},initialize:function(e){this.options=e=n.pick(e,"post","user","model"),n.extend(this,n.pick(e,"post","user")),this.placeholder=s("#tags")},addTagProperties:function(e,t){this.listenTo(e,"toggleTagSelection",this.toggleTagSelection),this.listenTo(e,"addHoverStyle",this.addHoverStyle),this.listenTo(e,"removeHoverStyle",this.removeHoverStyle),e.el.draggable=!0,this.subViews["tagLabel_"+t]=e,this.tagLabelViews.push(e)},createSubViews:function(){var e=n.extend({placeholder:!(this.model.get("tags").length>0)&&this.placeholder,name:"tagInput",forceSingleLine:!0,onClientEvent:n.bind(this.handleInputKeys,this),ariaLabel:s("Post tags")},this.options),t={post:this.post,user:this.user,shift:{x:0,y:15},identifier:"postForms:tagSuggest"};this.tagInput=this.subViews.tagInputField=new u(e),this.tagSuggest=new h(t),this.tagLabelViews=[],n.forEach(this.post.get("tags"),function(e){var t=new g({label:e});this.addTagProperties(t,e)},this),this.makeTagsSortable()},attachSubViews:function(e){return this.attachSubView(this.tagInput,"tagInputField"),n.forEach(this.tagLabelViews,function(e){this.js$("tagInputFieldWrapper").before(e.$el)},this),this},beforeRender:function(){this.createSubViews(),this.addTagEditorListeners()},render:function(){return this.$el.html(this.template()),this.attachSubViews(),this},afterRender:function(){this.renderSubViews(),this.tagSuggest.setPinnedTarget(this.js$("tagInputGhost")),r(this.tagInput.editor.element).on("blur",n.bind(this.submitTag,this))},teardown:function(){return this.stopListening(),this.tagLabelViews=[],this.set("sortableTags",null),this.set("currentlySelectedTags",[]),this},makeTagsSortable:function(){this.set("sortableTags",new d({el:this.el,itemSelector:".tag-label",dropInParent:!0,afterDragEnd:n.bind(this.saveTagOrder,this),transparentPlaceholder:!0,scrollable:!1})).on("dragstart",this.selectCurrentTag,this)},selectCurrentTag:function(e){this.set("currentlySelectedTags",[]),this.$(".tag-label").removeClass("selected"),this.set("currentTag",this.$(".sortable-dragging").text())},getTagOrder:function(){return n.map(this.$(".tag-label"),function(e){return r(e).text()})},setTagOrder:function(e){e||(e=this.getTagOrder()),n.forEach(this.tagLabelViews,function(e){this.stopListening(e)},this),this.removeTags(),this.removePlaceholder();for(var t=0;t<e.length;t++)this.addTag(e[t]);this.post.set("tags",e)},saveTagOrder:function(){if(this.post.get("tags").length<=1)return!1;var e=this.getTagOrder();return n.isEqual(e,this.post.get("tags"))||this.setTagOrder(e),!0},addTagEditorListeners:function(){this.listenTo(this.model,"change:tagInput",this.handleTagInput),this.listenTo(this.tagInput,"tagInput:submitTag",this.submitTag),this.listenTo(this.tagSuggest,"tagSuggest:submitTag",this.submitTag),this.listenTo(this.tagInput,"tagInput:backspace",this.handleBackspace),this.tagSuggest.listenTo(this,"tagEditor:fetchSuggestions",this.tagSuggest.fetchSuggestions),this.tagSuggest.listenTo(this.tagInput,"tagInput:cycleUp",this.tagSuggest.cycleUp),this.tagSuggest.listenTo(this.tagInput,"tagInput:cycleDown",this.tagSuggest.cycleDown),this.tagSuggest.listenTo(this.tagInput,"tagInput:dismissSuggestions",this.tagSuggest.dismiss)},handleInputKeys:function(e){var t,i=["keyup","keydown","keypress"],n={keydown:{38:"tagInput:cycleUp",40:"tagInput:cycleDown",8:"tagInput:backspace",9:"tagInput:submitTag",13:"tagInput:submitTag"},keypress:{44:"tagInput:submitTag"}};if(i.indexOf(e.type)!==-1)if(e=e||window.event,t=e.which||e.keyCode,"keydown"===e.type||"keypress"===e.type)if(t in n[e.type]){this.tagInput.trigger(n[e.type][t],e);var r=/Mac/.test(navigator.platform)?e.metaKey:e.ctrlKey;8===t||13===t&&r||(e.preventDefault(),e.stopImmediatePropagation())}else this.tagInput.getEditorValue().length>=this.get("maxTagLength")&&(e.preventDefault(),e.stopImmediatePropagation());else if(t in n.keypress||t in n.keydown&&8!==t)return!1},handleTagInput:function(e,t){var i=t&&t.length>=this.get("suggestMinLength");i?this.trigger("tagEditor:fetchSuggestions",t,this._postTags()):this.tagInput.trigger("tagInput:dismissSuggestions"),this.js$("tagInputGhost").text(t)},handleBackspace:function(){if(0===this.tagInput.getEditorValue().length){var e=this.get("currentlySelectedTags");e.length>0?(n.forEach(e,function(e){this.removeTag(e)},this),this.set("currentlySelectedTags",[]),this.$(this.get("tagEntryPlaceholder")).removeClass("tiny-width")):this._postTags().length&&this.removeTag()}},submitTag:function(e){if(e&&"blur"===e.type){if(this._postTags().length||this.tagInput.editor.setPlaceholder(this.placeholder),this.tagSuggest.get("interactive"))return}else this.tagInput.editor.setPlaceholder(!1);var t=this.tagSuggest.get("interactive")?this.tagSuggest.getCycledTag():this.tagInput.getEditorValue();if(""===t)return void this.trigger("postForms:focusOnNextEditor",e);t=t.toString().replace(/[,#]/g,""),t.match(/<.*>/)&&(t=t.replace(/[<>]/g,function(e){return n.escape(e)}));var i=t.match(/"/g),r=i?i.length:0;if(r%2===1){var o=t.lastIndexOf('"');t=t.replace(/"/g,function(e,t){return t===o?'"':""})}else r>0&&(t=t.replace(/"/g,""));t=t.trim().substr(0,this.get("maxTagLength")),this.clearInput();var s=this.addTag(t);if(s){var a=!!e&&(e.which||e.keyCode);if(a===!1||"focusout"!==e.type&&(9!==a||!e.shiftKey))return this.tagInput.focus(),!1}},addTag:function(e){if(e&&!n.contains(this._postTags(!0),e.toLowerCase())){this.post.get("tags").push(e);var t=new g({label:e});return this.addTagProperties(t,e),this.js$("tagInputFieldWrapper").before(t.render().$el),this.removePlaceholder(),!0}return!1},removeTag:function(e){if(e||(e=n.last(this.post.get("tags"))),!e)return!1;var t=n.without(this._postTags(),e);n.isEmpty(t)&&(this.setPlaceholder(this.placeholder),this.tagInput.editor.setPlaceholder(this.placeholder)),this.model.set("tags",t);var i=this.subViews["tagLabel_"+e];return i&&(i.remove(),this.subViews["tagLabel_"+e]=null,n.remove(this.tagLabelViews,function(e){return i===e})),!0},removeTags:function(){n.each(this.model.get("tags"),function(e){this.removeTag(e)},this),this.setPlaceholder(this.placeholder)},clearInput:function(){this.tagInput.trigger("tagInput:dismissSuggestions"),this.tagInput.setEditorValue("")},removePlaceholder:function(){this.setPlaceholder(null),this.$(this.get("tagEntryPlaceholder")).addClass("tiny-width")},setPlaceholder:function(e){this.tagInput.editor.setPlaceholder(e),this.$(this.get("tagEntryPlaceholder")).removeClass("tiny-width")},_postTags:function(e){return e?n.map(this.model.get("tags"),function(e){return e.toLowerCase()}):n.clone(this.model.get("tags"))},focusOnTagEditor:function(e){this.subViews.tagInputField.focus()},toggleTagSelection:function(e){var t=r(e.target),i=r(e.target).text(),n=this.get("currentlySelectedTags"),o=n.indexOf(i),s=/Mac/.test(navigator.platform)?e.metaKey:e.ctrlKey;s?o<0?(n.push(i),this.set("currentlySelectedTags",n),t.addClass("selected")):(n.splice(o,1),this.set("currentlySelectedTags",n),t.removeClass("selected"),t.removeClass("hover-style")):o<0||n.length>1?(this.set("currentlySelectedTags",[i]),this.$(".tag-label").removeClass("selected"),t.addClass("selected")):(this.unselectAllTags(),t.removeClass("hover-style"))},addHoverStyle:function(e){this.get("currentTag")&&e.label!==this.get("currentTag")||this.$(e.eventTarget).addClass("hover-style")},removeHoverStyle:function(e){this.$(".tag-label").removeClass("hover-style"),this.set("currentTag",null)},unselectAllTags:function(e){this.set("currentlySelectedTags",[]),this.$(".tag-label").removeClass("selected")}});e.exports=m},313:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=i(136),a=i(314),l=i(230),c=i(276),u=i(283),h=i(277),d=i(315),p=o.extend({className:"popover--tag-suggest",defaults:{currentKeyedChoice:-1,currentMousedChoice:-1,interactive:!1,numSuggestions:0,suggestPending:!1,lastResults:{}},mixins:[l,c,h,u],template:d,initialize:function(e){this.model=new a(e),this.post=e.post,this.listenTo(this.model,"error",this._fetchSuggestionsError),this.listenTo(this,"change:lastResults",this.preRender)},preRender:function(e,t){var i=n.reduce(t.results,function(e,t){return e+(n.isArray(t)?t.length:0)},0);this.set({currentKeyedChoice:-1,interactive:!1});var r=this.get("suggestPending");i>0&&r!==!1&&this.post.get("tags").indexOf(r)===-1&&this.render()},render:function(){return this.$el.html(this.template(this.get("lastResults"))),s.trigger("postForms:dismissListener:suspend"),this},afterRender:function(){this.$tagSuggestWrapper=this.js$("tagSuggestWrapper"),r(".item-option",this.$el).on("click",n.bind(this.selectCurrentCycledChoice,this)),r(".item-option",this.$el).on("mouseover",n.bind(this.handleMouseOver,this)),this.$el.on("mouseout",n.bind(this.handleMouseOut,this))},teardown:function(){return this.$el.remove(),s.trigger("postForms:dismissListener:resume"),this},cycleUp:function(){this._cycle(-1)},cycleDown:function(){this._cycle(1)},_cycle:function(e){var t=this.get("currentKeyedChoice"),i=this.get("currentMousedChoice"),r=n.isNumber(i)&&i!==-1,o=r?i:t,s=(o+e)%this.get("numSuggestions");this.get("numSuggestions")&&(this.set({currentKeyedChoice:s>=0?s:-1,currentMousedChoice:-1}),this.styleMenuItems(),this.set("interactive",this.get("currentKeyedChoice")>=0))},getCycledTag:function(){return r(".item-option.cycled",this.$el).data("tag")},selectCurrentCycledChoice:function(e){this.set("interactive",!0),r(e.currentTarget).addClass("cycled"),this.trigger("tagSuggest:submitTag")},styleMenuItems:function(e){var t,i=e&&"mouseout"!==e.type,o=this.get("currentKeyedChoice");n.each(r(".item-option",this.$el),function(n,s){i?r(n).toggleClass("cycled",e.currentTarget===n):(r(n).toggleClass("cycled",s===o),s===o&&(t=r(n)))},this),i||o===-1||this.cycleScroll(t)},cycleScroll:function(e){var t=parseInt(e.position().top,10),i=t+parseInt(e.height(),10),n=parseInt(e.outerHeight(),10),r=parseInt(this.$tagSuggestWrapper.height(),10),o=parseInt(this.$tagSuggestWrapper.scrollTop(),10);i>r?this.$tagSuggestWrapper.scrollTop(o+n):t<0&&this.$tagSuggestWrapper.scrollTop(t+o)},handleMouseOver:function(e){this.styleMenuItems(e),this.set({interactive:!0,currentMousedChoice:r(e.currentTarget).index(".item-option")})},handleMouseOut:function(e){this.styleMenuItems(e),this.set({interactive:this.get("currentKeyedChoice")!==-1,currentMousedChoice:-1})},fetchSuggestions:n.debounce(function(e,t){var i={query:e,success:n.bind(this.renderQueryResults,this),existing:t};this.set("suggestPending",e),this.model.fetch(i)},100),_fetchSuggestionsError:n.noop,renderQueryResults:function(e,t,i){var n=this.finalResultsFilter(e.attributes.tagSuggestions,i.existing);this.set("numSuggestions",n.userTags.length+n.suggestions.length),this._rendered&&this.teardown(),this.set("lastResults",{results:n,queryRegex:new RegExp(this.model._escapeRegex(i.query),"i")})},finalResultsFilter:function(e,t){return n.mapValues(e,function(e){return n.difference(e,t)})},dismiss:function(){this.teardown(),this.set({interactive:!1,suggestPending:!1,lastResults:{}})}});e.exports=p},314:function(e,t,i){"use strict";var n=i(3),r=i(185),o=r.extend({defaults:{fetchOptions:{url:"/svc/tag_suggest",withFormKey:!0},suggestCache:{},queryHistory:[],maxCacheSize:20,maxSuggests:5,tagSuggestions:{}},initialize:function(e){if(("user"in e&&"post"in e)==!1)throw new Error("Tag Suggestions must be provided user and post models.")},fetch:function(e){return"query"in e&&"success"in e&&n.isFunction(e.success)||console.error("TagSuggestion must be provided a query and a success callback."),n.extend(e,this.get("fetchOptions")),e.query in this.get("suggestCache")?(this.set("tagSuggestions",this.get("suggestCache")[e.query]),e.success.call(this,this,"suggestCache",e)):(e.data={q:e.query},r.prototype.fetch.call(this,e))},parse:function(e,t){var i=this.get("user"),n=this.get("post").get("tumblelog"),r={suggestions:"tags"in e?e.tags:[],userTags:n?i.getChannelProperty(n,"tags"):[]};return r.userTags||(r.userTags=[]),r=this._processQueryResults(r,t),this._cacheQueryResults(r,t),{tagSuggestions:r}},_processQueryResults:function(e,t){var i=new RegExp(this._escapeRegex(t.query),"i");return e.suggestions=n.compact(n.map(e.suggestions,function(e){return e.tag})).slice(0,this.get("maxSuggests")),e.userTags=n.compact(n.filter(e.userTags,function(e){return i.test(e)})).slice(0,this.get("maxSuggests")),e},_cacheQueryResults:function(e,t){var i=n.clone(this.get("suggestCache")),r=n.clone(this.get("queryHistory"));i[t.query]=e,r.push(t.query),n.size(i)>this.get("maxCacheSize")&&(delete i[r[0]],r.shift()),this.set("suggestCache",i),this.set("queryHistory",r)},_escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}});e.exports=o},315:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="pop-menu"><div class="inner select-center"><div class="item-option-wrapper" data-js-tagsuggestwrapper> ',_.each(results.userTags,function(e){__p+=" ";var t=_.escape(e).replace(queryRegex,"<u>$&</u>");__p+=' <div class="item-option user-tags" data-tag="'+(null==(__t=_.escape(e))?"":__t)+'"><span class="tag-suggest-tag"> '+(null==(__t=t)?"":__t)+" </span></div> "}),__p+=' <div class="header-item">'+__e(__("Popular"))+"</div> ",_.each(results.suggestions,function(e){__p+=" ";var t=_.escape(e).replace(queryRegex,"<u>$&</u>");__p+=' <div class="item-option suggest-tags" data-tag="'+(null==(__t=_.escape(e))?"":__t)+'"><span class="tag-suggest-tag"> '+(null==(__t=t)?"":__t)+" </span></div> "}),__p+=" </div></div></div>";return __p}.toString()).apply(void 0,_values(_imports))},317:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="tag-input-wrapper" data-js-taginputfieldwrapper><div data-subview="tagInputField"></div><div class="ghost" data-js-taginputghost></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},318:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(277),l=r.extend({className:"tag-label",defaults:{label:""},mixins:[o,s,a],events:{click:"toggleTagSelection",mouseover:"hoveredTag",mouseout:"unhoveredTag"},tagName:"span",initialize:function(e){e=n.extend({},e),this.set(n.pick(e,n.keys(this.defaults)))},render:function(){return this.$el.text(this.get("label")),this},toggleTagSelection:function(e){this.trigger("toggleTagSelection",e)},hoveredTag:function(e){this.trigger("addHoverStyle",{label:this.get("label"),eventTarget:e.target})},unhoveredTag:function(e){this.trigger("removeHoverStyle",e)}});e.exports=l},319:function(e,t,i){"use strict";var n=i(219),r=i(276),o=i(277),s=n.extend({mixins:[r,o],initialize:function(){},render:function(){return this}});e.exports=s},320:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(276),s=i(277),a=i(230),l=i(321),c=i(322),u=r.extend({className:"post-forms--social-buttons",events:{"click [data-js-shareIcon]":"_onClickShareIcon","mouseenter [data-js-twitterIcon]":"_onMouseEnterTwitterIcon"},mixins:[o,s,a],services:["twitter"],template:l,defaults:{twitter:!1,twitterOn:!1},initialize:function(e){this.options=e=n.extend({},e,{shift:{x:90,y:10},identifier:"postForms:tweetDropdown"}),n.extend(this,n.pick(e,"post","user","uploads","dragEvents")),this.updateStateFromPost(),this.shouldShowSocialIcons()||this.set({twitter:!1}),this.updatePostFromState()},_onClickShareIcon:function(e){e.preventDefault();var t=this.$(e.currentTarget),i=t.parent(),n=i.data("service"),r=this.post.get("tumblelog"),o=this.user.getChannel(r);switch(n){case"twitter":o.set("twitter_send_posts",!this.get("twitterOn")),this.post.set("send_to_twitter",!this.get("twitterOn")),this.toggleTweetDropdown(this.post.get("send_to_twitter"))}},_onMouseEnterTwitterIcon:function(e){this.get("twitterOn")&&(e.preventDefault(),this.toggleTweetDropdown(!0))},_onChangeTumblelog:function(){this.teardown(),this.updateStateFromPost(),this.updatePostFromState(),this.render()},_onChangePostState:function(){"private"===this.post.get("pseudoState")&&this.post.changed.is_private?(this.lastSettings=n.pick(this.attributes,"twitter"),this.set({twitter:!1})):this.set(this.lastSettings)},shouldShowSocialIcons:function(){return"new"===this.post.get("mode")||"reblog"===this.post.get("mode")||"published"!==this.post.get("state")&&"private"!==this.post.get("state")},updateStateFromPost:function(){var e=this.post.get("tumblelog"),t=this.user.getChannel(e),i=t.get("can_send_to_twitter");this.shouldShowSocialIcons()||(i=!1);var r=this.post.get("send_to_twitter");"edit"!==this.post.get("mode")&&(r=t.get("twitter_send_posts")),this.set({twitter:i,twitterOn:!!r}),this.lastSettings=n.pick(this.attributes,"twitter")},updatePostFromState:function(){this.post.set({send_to_twitter:this.get("twitterOn")})},toggleTweetDropdown:function(e){e?!1===this.tweetDropdown.isRendered()&&this.tweetDropdown.render():this.tweetDropdown.teardown()},serialize:function(){return this.toJSON()},beforeRender:function(){this.tweetDropdown=new c(this.options),this.listenTo(this.post,"change:send_to_twitter",function(e,t){this.set("twitterOn",!!t)}),this.listenTo(this,"change:twitterOn",function(e,t){this.js$("twitter").toggleClass("hidden",!this.get("twitter")).toggleClass("checked",t)})},render:function(){return this.$el.html(this.template(this.toJSON())),this.tweetDropdown.setPinnedTarget(this.js$("tweetDropdownPin")),this},afterRender:function(){this.listenTo(this.post,"change:state",this._onChangePostState),this.listenTo(this.post,"change:tumblelog",this._onChangeTumblelog),this.listenTo(this.post,"change:send_to_twitter",function(e,t){t||this.post.unset("customTweet")})},teardown:function(){return this.stopListening(),this.tweetDropdown.teardown(),this}});e.exports=u},321:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<ul class="social-buttons"><li data-js-twitter data-service="twitter" data-js-tweetdropdownpin class="social-button twitter '+__e(twitter?"":"hidden")+" "+__e(twitterOn?"checked":"")+'"><label class="social-button--label social-button--twitter" data-js-shareicon data-js-twittericon></label></li></ul>';return __p}.toString()).apply(void 0,_values(_imports))},322:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(136),s=i(230),a=i(276),l=i(277),c=i(283),u=i(323),h=i(254).truncateLongStrings,d=r.extend({className:"popover--tweet-dropdown",defaults:{focused:!1},events:{"input [data-js-customTweet]":"_onCustomTweetInput","keyup [data-js-customTweet]":"_onCustomTweetInput","change [data-js-customTweet]":"_onCustomTweetInput","click [data-js-dismissTweet]":"_onClickDismissTweet",keydown:"_onKeyDown"},mixins:[s,a,l,c],template:u,_onCustomTweetInput:function(){var e=n.trim(this.js$("customTweet").val());this.model.set("customTweet",e),this.truncateTweet()},_onClickDismissTweet:function(){this.teardown()},_onKeyDown:function(e){27===e.keyCode&&(e.stopPropagation(),this.teardown())},_onChangePost:function(){n.isString(this.model.get("customTweet"))||this.js$("customTweet").val(this.model.getTweetText()),this.updateTweetLengthCount()},updateTweetLengthCount:function(){var e=this.model.getTweetTextLength();this.js$("tweetRemaining").text(280-e)},truncateTweet:function(){
var e=this.js$("customTweet"),t=e.get(0),i=e.val(),n=i;if(!(this.model.getTweetTextLength(i)<=280)){var r=this.model.shortUrlLength,o=i.match(/\[URL\]/gi),s=!0;if(o&&1===o.length){var a=i.toLowerCase().indexOf("[url]");a<280-r-1?(i=h(i,280-r+5),s=!1):a&&(i=h(i.split(/\[URL\]/i).join(""),280-r-1)+" [URL]")}else i=h(i,280);if(this.model.set("customTweet",i),n!==i){var l=t.selectionEnd||0,c=e.scrollTop();if(s){var u=i.toLowerCase().lastIndexOf("â¦ [url]");u<0&&(u=i.toLowerCase().lastIndexOf("â¦[url]")),u<0&&(u=i.toLowerCase().lastIndexOf(" [url]")),u<0&&(u=i.toLowerCase().lastIndexOf("[url]")),u>=0&&l>u&&(l=u)}if(l=Math.max(0,Math.min(l,i.length)),e.val(i).focus(),t.setSelectionRange)t.setSelectionRange(l,l);else if(t.createRange){var d=t.createRange();d.setStart("character",l),d.setEnd("character",l),d.select()}e.scrollTop(c)}}},setCaret:function(e){var t=this.js$("customTweet"),i=t.get(0),n=t.val(),r=n.toLowerCase().lastIndexOf(" [url]");if(r<0&&(r=n.toLowerCase().lastIndexOf("[url]"),e&&r>=0&&(n=n.slice(0,r)+" "+n.slice(r),this.js$("customTweet").val(n))),r<0&&(r=n.length),t.focus(),i.setSelectionRange)i.setSelectionRange(r,r);else if(i.createRange){var o=i.createRange();o.setStart("character",r),o.setEnd("character",r),o.select()}},serialize:function(){return n.extend({tweetText:this.model.getTweetText(),tweetRemaining:280-this.model.getTweetTextLength()},this.toJSON())},afterRender:function(){this.listenTo(this.model,"change",this._onChangePost),n.defer(n.bind(function(){this.setCaret(!0)},this))},render:function(){return this.delegateEvents(),this.$el.html(this.template(this.serialize())),this.model.get("customTweet")&&this.js$("customTweet").val(this.model.get("customTweet")),o.trigger("postForms:dismissListener:suspend"),this},teardown:function(){return""===this.model.get("customTweet")&&this.model.set("send_to_twitter",!1),this.remove(),o.trigger("postForms:dismissListener:resume"),this}});e.exports=d},323:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div data-js-tweetpopover><div class="tweet-container"><textarea aria-label="'+__e(__("Custom tweet"))+'" data-js-customtweet class="tweet-textarea">'+__e(tweetText)+'</textarea><div data-js-tweetremaining class="tweet-remaining">'+__e(tweetRemaining)+'</div></div><button data-js-dismisstweet type="button" class="tweet-dismiss-button">'+__e(__("Done"))+"</button></div>";return __p}.toString()).apply(void 0,_values(_imports))},324:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(130),s=i(136),a=i(230),l=i(276),c=i(277),u=i(325),h=i(326),d=i(331),p=r.extend({className:"post-form--save-button",events:{"click [data-js-clickableSaveDropdown]":"toggleSavePostDropdown","mousedown [data-js-clickableSaveDropdown]":"savePostDropdownIntent"},mixins:[a,l,c],template:u,initialize:function(e){this.options=e=n.extend({shift:{x:0,y:10},identifier:"postForms:savePostDropdown"},e),n.extend(this,n.pick(e,"post","user","uploads")),this.savePostDropdown=new h(e),this.set("initialPostPseudoState",this.post.get("pseudoState"))},checkCanPost:function(){this.set("canPost",this.post.isValid()&&!this.uploads.anyUploading())},checkIsActive:function(){this.set("isActive",this.get("canPost")&&!this.savePostDropdown.isRendered())},setStateForContext:function(){if("new"===this.post.get("mode")){var e=this.post.getContextPage();"drafts"===e?this.savePostDropdown.setOptionDraft():"queue"===e&&this.savePostDropdown.setOptionQueue()}},render:function(){return this.$el.html(this.template()),this.loader=this.subViews.loader=new d({variation:"centered small"}),this.savePostDropdown.setPinnedTarget(this.js$("clickableSaveDropdown")),this.attachSubViews(),this.loader.render(),this.setStateForContext(),this.checkCanPost(),this.checkIsActive(),this.set("buttonLabel",this.buttonLabelForPseudoState()),this.updateButtonLabel(),this.updateButtonEnabledState(),this},afterRender:function(){this.listenTo(this.post,"change validate",this.checkCanPost),this.listenTo(this.uploads,"change:uploading",this.checkCanPost),this.listenTo(this.savePostDropdown,"open close",this.checkIsActive),this.listenTo(this.post,"change:state",function(e,t){this.set("buttonLabel",this.buttonLabelForPseudoState(e.get("pseudoState")))}),this.listenTo(s,"postForms:saving",this.showLoader),this.listenTo(s,"postForms:error",this.hideLoader),this.listenTo(this,"change:canPost",this.checkIsActive),this.listenTo(this,"change:isActive",this.updateButtonEnabledState),this.listenTo(this,"change:buttonLabel",this.updateButtonLabel)},updateButtonEnabledState:function(e,t){!n.isUndefined(t)||(t=this.get("isActive")),this.js$("clickableSave").toggleClass("disabled",!t).prop("disabled",!t)},updateButtonLabel:function(e,t){t||(t=this.get("buttonLabel")),this.js$("clickableSave").text(t)},showLoader:function(){this.toggleLoader(!0)},hideLoader:function(){this.toggleLoader(!1)},toggleLoader:function(e){var t=!!e;this.$el.css({width:t?this.$el.width():"",height:t?this.$el.height():""}),this.loader.set("loading",t),this.js$("clickableSaveDropdown").toggle(!t),this.js$("clickableSave").toggle(!t)},buttonLabelForPseudoState:function(e,t,i){switch(e||(e=this.post.get("pseudoState")),t||(t=this.get("initialPostPseudoState")),i||(i=this.post.get("mode")),e){case"published":return o("reblog"===i?"Reblog":"edit"===i&&"published"===t?"Save":"Post");case"queued":return o("Queue");case"scheduled":return o("Schedule");case"draft":return o("Save draft");case"private":return o("edit"===i&&"private"===t?"Save":"Post privately");default:return o("Post")}},toggleSavePostDropdown:function(e){n.isBoolean(e)||(e=!this.savePostDropdown.isOrWasRecentlyRendered()),e?this.savePostDropdown.render():this.savePostDropdown.teardown()},savePostDropdownIntent:function(){this.trigger("dropdown:intent")}});e.exports=p},325:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="split-button" role="button"><div data-subview="loader"></div><button class="button-area create_post_button" data-js-clickablesave></button><div class="dropdown-area icon_arrow_carrot_down" data-js-clickablesavedropdown></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},326:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(219),s=i(130),a=i(136),l=i(230),c=i(276),u=i(277),h=i(283),d=i(327),p=i(329),g=i(330),m=o.extend({className:"popover--save-post-dropdown",events:{"click [data-js-preview]":"triggerPostPreview","click [data-js-publish]":"setOptionPublish","click [data-js-draft]":"setOptionDraft","click [data-js-private]":"setOptionPrivate","click [data-js-queue]":"setOptionQueue","click [data-js-schedule]":"setOptionSchedule","input [data-js-scheduleText]":"scheduleInputUpdated","keypress [data-js-scheduleText]":"checkScheduleComplete"},mixins:[l,c,u,h],postStateOptions:["published","queued","scheduled","draft","private"],template:g,initialize:function(e){this.user=e.user},render:function(){return this.delegateEvents(),this._updateViewAttributes(),this.$el.html(this.template(this.serialize())),this._updateViewElements(),a.trigger("postForms:dismissListener:suspend"),this},teardown:function(){return this.$el.remove(),a.trigger("postForms:dismissListener:resume"),this},serialize:function(){var e=r.extend({__:s},this.attributes);return e},_updateViewAttributes:function(){this.set({showPreview:this.model.canPreview(),state:this.model.get("pseudoState"),activeOptions:"edit"===this.model.get("mode")&&this.model.get("createdPost")?["published","private"]:this.postStateOptions})},_updateViewElements:function(){"scheduled"===this.model.get("state")?this.js$("scheduleText").val(this.model.get("publish_on")):n("[data-js-scheduleText]",this.$el).hide(),this.js$("preview").toggleClass("disabled",!this.model.isValid())},triggerPostPreview:function(){if(this.model.isValid()){var e=this._previewPost();e&&this.teardown()}},setOptionPublish:function(){this._unSchedule(),this.model.set({state:"published",is_private:!1}),this.teardown()},setOptionDraft:function(){this._unSchedule(),this.model.set("state","draft"),this.teardown()},setOptionPrivate:function(){this._unSchedule(),this.model.set({state:"private",is_private:!0}),this.teardown()},setOptionQueue:function(){this._unSchedule(),this.model.set("state","queued"),this.teardown()},setOptionSchedule:function(){if(!this.scheduling){this.scheduling=!0,this._selectOption(this.js$("schedule")),this.model.set("state","scheduled");var e=this.js$("scheduleText");if(!e.value){var t=e.attr("placeholder");e.val(t),this.model.set("publish_on",t)}this.js$("scheduleText").show()}},scheduleInputUpdated:function(e){this.model.set("publish_on",e.target.value)},checkScheduleComplete:function(e){13===e.which&&this.teardown()},_selectOption:function(e){this.js$("options").children().removeClass("selected"),e.addClass("selected")},_unSchedule:function(){this.scheduling=!1,this.model.set("publish_on","")},_previewPost:function(){var e=this.model.get("tumblelog"),t=this.user.getChannel(e).get("blog_url")+"post/preview",i=this.model.toJSON({url:"/svc/post/update",forServer:!0});if(i.preview_key=p.fetchForBlog(e),r.isEmpty(i.preview_key))return!1;var n=new d({action:t,inputs:i});return n.render().$("form").css({"pointer-events":"none",overflow:"hidden",position:"absolute",bottom:0,right:0,width:1,height:1,opacity:0}).appendTo("body").submit().remove(),!0}});e.exports=m},327:function(e,t,i){"use strict";var n=i(219),r=i(328),o=n.extend({template:r,initialize:function(e){this.options=e},render:function(){return this.$el.html(this.template(this.options)),this}});e.exports=o},328:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<form method="POST" target="_blank" action="'+__e(action)+'"> ',_.each(inputs,function(e,t){__p+=" ",__p+="boolean"==typeof e?' <input type="hidden" name="'+__e(t)+'" value="'+__e(e?"1":"0")+'"> ':' <input type="hidden" name="'+__e(t)+'" value="'+__e(e)+'"> ',__p+=" "}),__p+=" </form>";return __p}.toString()).apply(void 0,_values(_imports))},329:function(e,t,i){"use strict";var n=i(3),r=i(185),o=i(186),s=r.extend({url:"/svc/post/get_preview_key",defaults:{name:"",key:""},parse:function(e,t){var i=n.get(e,"response.blog_preview_key");return{key:i}}},{fetchForBlog:function(e){var t=new s({name:e});return t.fetch({async:!1,type:"POST",data:{name:t.get("name")}}),t.get("key")}});o.applyTo(s.prototype),e.exports=s},330:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="pop-menu"><ul class="inner select-left" data-js-options><li class="item-option '+__e("published"===state?"selected":"")+'" data-js-publish><span class="">'+__e(__("Post now"))+'</span></li><li class="item-option '+__e("queued"===state?"selected":"")+" "+__e(activeOptions.indexOf("queued")===-1?"hidden":"")+'" data-js-queue><span class="">'+__e(__("Add to queue"))+'</span></li><li class="item-option '+__e("draft"===state?"selected":"")+" "+__e(activeOptions.indexOf("draft")===-1?"hidden":"")+'" data-js-draft><span class="">'+__e(__("Save as draft"))+'</span></li><li class="item-option '+__e("private"===state?"selected":"")+'" data-js-private><span class="">'+__e(__("Post privately"))+'</span></li><li class="item-option '+__e("scheduled"===state?"selected":"")+" "+__e(activeOptions.indexOf("scheduled")===-1?"hidden":"")+'" data-js-schedule><span class="">'+__e(__("Schedule"))+'</span><br><input class="field square solid" type="text" autocomplete="off" placeholder="Next Tuesday, 10am" data-js-scheduletext></li> ',showPreview&&(__p+=' <li class="item-option full" data-js-preview><button class="tx-button">'+__e(__("Preview on blog"))+"</button></li> "),__p+=" </ul></div>";return __p}.toString()).apply(void 0,_values(_imports))},334:function(e,t,i){"use strict";var n=i(219),r=n.extend({className:"post-form--error-bar",showErrorBar:function(e){this.$el.html(e).slideDown()},hideErrorBar:function(){this.$el.hide()}});e.exports=r},335:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(277),l=i(336),c=i(331),u=r.extend({className:"post-form--uploading-indicator",mixins:[o,s,a],template:l,defaults:{isUploading:!0,isVisible:!0,delay:200},initialize:function(e){this.options=e=n.extend({},e),n.extend(this,n.pick(e,"post","user","uploads")),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),this.updateIsUploading(),this.set("isVisible",this.get("isUploading"))},_onChangeIsUploading:function(e,t){t?(clearTimeout(this._changeIsVisibleTimeout),this._changeIsVisibleTimeout=!1,this.set("isVisible",t)):this._changeIsVisibleTimeout||(this._changeIsVisibleTimeout=n.delay(n.bind(function(){this._changeIsVisibleTimeout=!1,this.set("isVisible",t)},this),this.get("delay")))},_onChangeIsVisible:function(e,t){this.loader.set("loading",t)},updateIsUploading:function(){this.set("isUploading",this.post.get("hasLoadingInlineImages")||this.uploads.anyUploading()||this.post.get("loading"))},serialize:function(){return this.toJSON()},beforeRender:function(){this.loader=this.subViews.loader=new c({variation:"small"}),this.listenTo(this.uploads,"change:uploading",this.updateIsUploading),this.listenTo(this.post,"change:loading",this.updateIsUploading),this.listenTo(this.post,"change:hasLoadingInlineImages",this.updateIsUploading),this.listenTo(this,"change:isUploading",this._onChangeIsUploading),this.listenTo(this,"change:isVisible",this._onChangeIsVisible)},render:function(){return this.$el.html(this.template(this.serialize())),this.updateIsUploading(),this.loader.set("loading",this.get("isVisible")),this.attachSubViews(),this}});e.exports=u},336:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div data-subview="loader"></div>';return __p}.toString()).apply(void 0,_values(_imports))},337:function(e,t,i){"use strict";var n=i(219),r=i(220).animation,o=i(338),s=n.extend({className:"post-form--richtext-editor-tutorial popover tutorial",template:o,events:{"click > button":"close"},remove:function(){return this.trigger("removed",this),n.prototype.remove.apply(this,arguments)},close:function(){r(this.$el,this.remove.bind(this)),this.trigger("closing",this),this.$el.addClass("closing")},render:function(){return this.$el.html(this.template(this.attributes)),this}});e.exports=s},338:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<h3 class="title">'+__e(__("Want to style your text?"))+'</h3><p class="content">'+__e(__("Just select it. You'll see."))+'</p><button class="blue ok_button tx-button" type="button">'+__e(__("I see"))+"</button>";return __p}.toString()).apply(void 0,_values(_imports))},339:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(214),s=i(340).FeatureHelpPopoverView,a=o.extend({name:"InlineControlsTutorial",initialize:function(e){this.options=e=r.extend({},e),this.editor=this.options.richTextEditor,this.popover=new s,this.animationShowDelay=r.isNumber(this.options.animationShowDelay)?this.options.animationShowDelay:500,this.animationHideDelay=r.isNumber(this.options.animationHideDelay)?this.options.animationHideDelay:500,this.animationClass=this.options.animationClass,this.config={name:"inline-controls",template:"standard",glass:!1,title:this.options.title,content:this.options.content,ok_text:this.options.buttonLabel,position:s.POSITION.BOTTOM|s.POSITION.LEFT},this.listenTo(this.editor,"controls:show",this._onInlineControlsShow)},show:function(){this.editor.toggleInlineControlsTray(!0),this.listenToOnce(this.editor,"controls:hide controls:embed:prompt controls:gif:prompt",this._onInlineControlsHide),this.listenToOnce(this.editor,"controls:close",this._onInlineControlsClose),this.listenToOnce(this.popover,"dismiss",this._onPopoverDismiss),this.popover.setHighlighted(n(".post-form .inline-controls .opener")),this.popover.show(this.config),this.animationClass&&setTimeout(r.bind(function(){n("body").addClass(this.animationClass)},this),this.animationShowDelay),this.editor.addElementToControlsCloseWhitelist(this.popover.getPopoverElement())},showWithDelay:function(){setTimeout(this.show.bind(this),this.animationShowDelay)},hide:function(){this.animationClass&&n("body").removeClass(this.animationClass),this.editor.removeElementFromControlsCloseWhitelist(this.popover.getPopoverElement()),this.stopListening(this.editor,"controls:hide controls:close controls:embed:prompt controls:gif:prompt"),this.stopListening(this.popover),this.popover.hide(),this.trigger("hide",this)},hideWithDelay:function(){setTimeout(this.hide.bind(this),this.animationHideDelay)},_onInlineControlsShow:function(){this.showWithDelay()},_onInlineControlsClose:function(){this.hideWithDelay()},_onInlineControlsHide:function(){this.hide()},_onPopoverDismiss:function(){this.trigger("dismiss")},remove:function(){this.hide(),o.prototype.remove.apply(this,arguments)}});e.exports=a},340:function(e,t,i){"use strict";e.exports={SharePopoverView:i(341),FeatureHelpPopoverView:i(349)}},349:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(219),s=i(136),a=i(181),l=i(220).transition,c=i(350),u={TOP:1,BOTTOM:2,LEFT:4,RIGHT:8,CENTER:16},h=o.extend({className:"tour_guide",template:c,events:{"click .glass":"_onHide","click .ok_button":"_onDismiss"},_onDismiss:function(e){this.trigger("dismiss"),this._onHide(e)},_onHide:function(e){this.config&&"external-link"!==this.config.template&&e.preventDefault(),this.hide(),this.trigger("hide")},_onScroll:function(e){r.get(this.config,"isFadeOnScroll",!0)&&(this.scrollPosition=e,this.isDim&&this.fadeGlass())},initialize:function(e){this.$body=n("body"),this.$highlighted=n(),this.$glass=n(),this.$popover=n(),this.isDim=!1,this.isOpen=!1,this.openScrollPosition=0,this.highlightedClass="",this.scrollPosition=a.rect(),this.listenTo(s,"DOMEventor:flatscroll",this._onScroll)},setHighlighted:function(e,t){this.$highlighted=e,this.highlightedClass=t},show:function(e){return this.config=e,this.$el.html(this.template(e)),this.$body.addClass("tour_guide_open").append(this.$el),this.isOpen=!0,this.config.pinnedTarget&&(this.$highlighted=n(this.config.pinnedTarget)),this.config.highlightedClass&&(this.highlightedClass=this.config.highlightedClass),this.config.glass&&(this.$el.addClass("dim"),this.isDim=!0),this.config.name&&this.$body.attr("data-help-popover",this.config.name),this.config.glass&&this.$highlighted.length&&this.$highlighted.addClass("tour_guide_element").addClass(this.highlightedClass),this.$highlighted.length?this.openScrollPosition=this.scrollPosition.windowScrollTop:this.openScrollPosition=this.scrollPosition.windowScrollTop+.5*this.scrollPosition.windowHeight,this.$glass=this.$(".glass"),this.$popover=this.$(".popover"),this.config.className&&this.$popover.addClass(this.config.className),this.delegateEvents(),this.positionPopover(),this},hide:function(){this.$el.addClass("removing"),this.$body.addClass("help-popover-removing"),l(this.$el,this.remove.bind(this))},remove:function(){this.undelegateEvents(),this.isDim=!1,this.isOpen=!1,this.config=null,this.$el.removeClass("dim removing").remove(),this.$body.removeClass("tour_guide_open help-popover-removing").removeAttr("data-help-popover"),this.$highlighted.length&&(this.$highlighted.off(".tour_guide_highlighted").removeClass("tour_guide_element").removeClass(this.highlightedClass),this.$highlighted=n(),this.highlightedClass=""),this.trigger("removed")},fadeGlass:function(){var e=(this.openScrollPosition-this.scrollPosition.windowScrollTop)/this.scrollPosition.windowHeight,t=e>0?1-e:e+1;return t<=0?(this.isDim=!1,this.hide(),void this.trigger("hide")):void this.$glass.css("opacity",t)},positionPopover:function(){if(this.$popover.length){var e=this.$popover.outerHeight(!0),t=this.$popover.outerWidth(!0);if(this.$highlighted.length){var i,r,o=this.config.position,s=this.$highlighted.offset(),a=this.$highlighted.outerWidth(),l=s.left,c=s.top,h=c-e<this.scrollPosition.windowScrollTop+80;if(o||(o=u.CENTER|h?u.BOTTOM:u.TOP),o&u.LEFT?(r=l,this.$popover.addClass("horizontal-left")):o&u.RIGHT?(r=l-t+a,this.$popover.addClass("horizontal-right")):(r=l-.5*(t-a),this.$popover.addClass("horizontal-center")),r<0&&(r=l),this.$popover.css("left",r),this.config.fixed_position)return this.$popover.css("position","fixed"),void(n("#site_notice").length&&this.$popover.css("margin-top","+="+n("#site_notice").outerHeight()+"px"));o&u.TOP?(i=c-e,this.$popover.addClass("vertical-top")):(i=c+this.$highlighted.outerHeight(),this.$popover.addClass("vertical-bottom")),this.$popover.css("top",i)}else this.$popover.addClass("centered").css({top:.5*this.scrollPosition.windowHeight-.5*e,left:.5*this.scrollPosition.windowWidth-.5*t})}},getPopoverElement:function(){if(this.$popover)return this.$popover.get(0)},getGlassElement:function(){return this.$glass}},{POSITION:u});e.exports=h},350:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"undefined"!=typeof template&&"standard"===template?(__p+=' <div class="popover tutorial '+__e(name)+'_step"> ',"undefined"!=typeof title&&(__p+=' <h3 class="title">'+__e(title)+"</h3> "),__p+=' <p class="content">'+__e(content)+"</p> ","undefined"!=typeof ok_text&&(__p+=' <button class="chrome blue ok_button" type="button">'+__e(ok_text)+"</button> "),__p+=" </div> "):"undefined"!=typeof template&&"appearance"===template?(__p+=' <div class="popover tutorial '+__e(name)+'_step"><div class="popover_inner"> ',"undefined"!=typeof title&&(__p+=' <h3 class="title">'+__e(title)+"</h3> "),__p+=' <p class="content">'+__e(content)+'</p></div><div class="appearance small" style="background-color:'+__e(appearance_data.global_theme_params.background_color)+"; color:"+__e(appearance_data.global_theme_params.background_color)+'"><div class="navigation"><a class="chrome edit_button" href="/settings/blog/'+__e(appearance_data.name)+'">'+__e(edit_text)+'</a></div><div class="header_image" style="background-image:url('+__e(appearance_data.global_theme_params.header_image_focused)+')"></div><div class="avatar '+__e(appearance_data.global_theme_params.avatar_shape)+'" style="background-image:url('+__e(appearance_data.avatar_url)+')"><img src="'+__e(appearance_data.avatar_url)+'" alt=""></div><div class="info" style="color:'+__e(appearance_data.global_theme_params.title_color)+'"> ',appearance_data.title&&(__p+=' <h1 class="title" style="font-weight:'+__e(appearance_data.global_theme_params.title_font_weight)+'">'+__e(appearance_data.title)+"</h1> "),__p+=" ",appearance_data.description&&(__p+=' <div class="description"><p class="description_inner">'+__e(appearance_data.description)+"</p></div> "),__p+=" </div></div></div> "):"undefined"!=typeof template&&"external-link"===template&&(__p+=' <div class="popover tutorial '+__e(name)+'"> ',"undefined"!=typeof title&&(__p+=' <h3 class="title">'+__e(title)+"</h3> "),__p+=' <p class="content">'+__e(content)+"</p> ","undefined"!=typeof ok_text&&"undefined"!=typeof link&&(__p+=' <a class="ok_button_link" href="'+__e(link)+'" target="_blank"><button class="chrome blue ok_button" type="button">'+__e(ok_text)+"</button> </a> "),__p+=" </div> "),__p+=' <div class="glass blue"></div>';return __p}.toString()).apply(void 0,_values(_imports))},351:function(e,t,i){"use strict";function n(e){var t=d.parseUrl(e);return t&&t.path?t.path.replace(/^\/([^\/]+)\/.*/i,"$1"):""}var r=i(3),o=i(8),s=i(214),a=i(352),l=i(353),c=i(355),u=new c({html:!0}),h=i(354),d=i(265),p=s.extend({name:"ContentStatsSupport",initialize:function(e){e=e||{},this.model=e.model,this.editor=e.editor,this.dateInitialized=new Date,this.mentionStats={},this.gifSearchStats={},this.editor&&this.editor.mentionSupport&&this.listenTo(this.editor.mentionSupport,"mention:set",this._onSetMention),this.editor&&this.editor.imageSearchSupport&&(this.listenTo(this.editor.imageSearchSupport,"gifSearch:query",this._onGifSearchQuery),this.listenTo(this.editor.imageSearchSupport,"gifSearch:accept",this._onGifSearchAccept)),this.contentStats=new a({htmlLength:function(e){return e.html().length},textLength:function(e){return e.text().length},textTools:{hr:"hr",h2:"h2",more:function(e){var t;return e&&(t=e.text())?t.match(/\[\[MORE\]\]/gi)||[]:[]},mentions:"a.tumblelog",sup:"sup",sub:"sub",small:"small",blockquote:"blockquote",pre:"pre",code:"code"},embeds:{selector:"figure.tmblr-embed, figure.tmblr-embed-placeholder",attribute:function(e){var t=e.attr("data-provider");return l.isValidEmbedServiceName(t)?t:"unknown"}},images:{selector:"img",attribute:function(e){var t;if(e&&e.attr("src")){if(t=e.attr("src").match(/.+[.](jpg|jpeg|png|gif)([?]|$)/i),t&&t.length>1)return t[1].toLowerCase()}else if(e&&""===e.attr("src"))return"empty";return"unknown"}},mentions:r.bind(this._getPurgedMentionStats,this),gifs:r.bind(this._getConsolidatedGifStats,this),gifSearch:r.bind(this._getGifSearchStats,this)})},_onSetMention:function(e,t){r.has(e,"name")&&r.has(t,"len")&&!r.has(this.mentionStats,e.name)&&(this.mentionStats[e.name]=t.len,this.mentionStats=this._getPurgedMentionStats(this._getWrappedContentDocument()))},_getPurgedMentionStats:function(e){return r.pick(this.mentionStats,r.map(e.find("a.tumblelog"),o.text))},_ensureGifSearchQueryEntry:function(e){return this.gifSearchStats[e]||(this.gifSearchStats[e]={added:[],searches:0}),this.gifSearchStats[e]},_onGifSearchQuery:function(e,t){var i=this._ensureGifSearchQueryEntry(e);i.searches++},_onGifSearchAccept:function(e,t,i){var r=this._ensureGifSearchQueryEntry(e);r.added.push(i+":"+n(t))},_getAttributionImages:function(e){return r.map(e.find("[data-tumblr-attribution]"),function(e){var t=o(e),i=t.find("img");return t.attr("data-tumblr-attribution")+":"+n(i.attr("src"))})},_getConsolidatedGifStats:function(e){var t=this._getAttributionImages(e),i={searches:0,added:0,kept:0};return r.forEach(this.gifSearchStats,function(e,n){i.searches+=e.searches,i.added+=e.added.length,i.kept+=r.intersection(t,e.added).length}),i},_getGifSearchStats:function(e){var t=this._getAttributionImages(e);return r.transform(this.gifSearchStats,function(e,i,n){r.forEach(i.added,function(i){r.contains(t,i)&&(e[i]=n)})},{})},_getContentNode:function(){var e="";return this.model&&this.model.editorField&&(e=this.model.getAttributeFromGeneric(this.model.editorField),"markdown"===this.model.get("editorType")&&(e=u.render(e))),h.nodeFromString(e)},_getWrappedContentDocument:function(){return o(this._getContentNode())},getStats:function(){var e={elapsed:parseInt((new Date-this.dateInitialized)/1e3,10)};return r.extend(e,this.contentStats.parse(this._getWrappedContentDocument())),e}});e.exports=p},352:function(e,t,i){"use strict";function n(e,t){return"function"==typeof t?t(e):e.find(t)}function r(e,t){return"function"==typeof t?t(e):e.attr(t)}function o(e,t){var i=n(e,t);return!l.isNumber(i)&&l.has(i,"length")?i.length:i}function s(e,t){var i=n(e,t.selector);return l.countBy(i,function(e){return r(c(e),t.attribute)})}function a(e,t){return l.isFunction(t)||l.isString(t)?o(e,t):l.has(t,"attribute")?s(e,t):null}var l=i(3),c=i(8),u=function(e){this.lookups=e||{}};u.prototype.parse=function(e){var t={},i=c(e),n=function e(t,n){l.each(t,function(t,r){var o=a(i,t);null!==o?n[r]=o:l.isObject(t)?(n[r]={},e(t,n[r])):n[r]=t})};return n(this.lookups,t),t},e.exports=u},355:function(e,t,i){"use strict";e.exports=i(356)},356:function(e,t,i){"use strict";function n(e,t,i){this.src=t,this.env=i,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function r(e,t){"string"!=typeof e&&(t=e,e="default"),this.inline=new c,this.block=new l,this.core=new a,this.renderer=new s,this.ruler=new u,this.options={},this.configure(h[e]),this.set(t||{})}var o=i(357).assign,s=i(359),a=i(361),l=i(379),c=i(394),u=i(362),h={default:i(413),full:i(414),commonmark:i(415)};r.prototype.set=function(e){o(this.options,e)},r.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(i){e.components[i].rules&&t[i].ruler.enable(e.components[i].rules,!0)})},r.prototype.use=function(e,t){return e(this,t),this},r.prototype.parse=function(e,t){var i=new n(this,e,t);return this.core.process(i),i.tokens},r.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},r.prototype.parseInline=function(e,t){var i=new n(this,e,t);return i.inlineMode=!0,this.core.process(i),i.tokens},r.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=r,e.exports.utils=i(357)},357:function(e,t,i){"use strict";function n(e){return Object.prototype.toString.call(e)}function r(e){return"[object String]"===n(e)}function o(e,t){return!!e&&g.call(e,t)}function s(e){var t=[].slice.call(arguments,1);return t.forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(i){e[i]=t[i]})}}),e}function a(e){return e.indexOf("\\")<0?e:e.replace(m,"$1")}function l(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function c(e){if(e>65535){e-=65536;var t=55296+(e>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}function u(e,t){var i=0;return o(b,t)?b[t]:35===t.charCodeAt(0)&&v.test(t)&&(i="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10),l(i))?c(i):e}function h(e){return e.indexOf("&")<0?e:e.replace(f,u)}function d(e){return _[e]}function p(e){return w.test(e)?e.replace(y,d):e}var g=Object.prototype.hasOwnProperty,m=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g,f=/&([a-z#][a-z0-9]{1,31});/gi,v=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,b=i(358),w=/[&<>"]/,y=/[&<>"]/g,_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};t.assign=s,t.isString=r,t.has=o,t.unescapeMd=a,t.isValidEntityCode=l,t.fromCodePoint=c,t.replaceEntities=h,t.escapeHtml=p},358:function(e,t){"use strict";e.exports={Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä",abreve:"Ä",ac:"â¾",acd:"â¿",acE:"â¾Ì³",Acirc:"Ã",acirc:"Ã¢",acute:"Â´",Acy:"Ð",acy:"Ð°",AElig:"Ã",aelig:"Ã¦",af:"â¡",Afr:"ð",afr:"ð",Agrave:"Ã",agrave:"Ã ",alefsym:"âµ",aleph:"âµ",Alpha:"Î",alpha:"Î±",Amacr:"Ä",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©",and:"â§",andand:"â©",andd:"â©",andslope:"â©",andv:"â©",ang:"â ",ange:"â¦¤",angle:"â ",angmsd:"â¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",
angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"â",angrtvb:"â¾",angrtvbd:"â¦",angsph:"â¢",angst:"Ã",angzarr:"â¼",Aogon:"Ä",aogon:"Ä",Aopf:"ð¸",aopf:"ð",ap:"â",apacir:"â©¯",apE:"â©°",ape:"â",apid:"â",apos:"'",ApplyFunction:"â¡",approx:"â",approxeq:"â",Aring:"Ã",aring:"Ã¥",Ascr:"ð",ascr:"ð¶",Assign:"â",ast:"*",asymp:"â",asympeq:"â",Atilde:"Ã",atilde:"Ã£",Auml:"Ã",auml:"Ã¤",awconint:"â³",awint:"â¨",backcong:"â",backepsilon:"Ï¶",backprime:"âµ",backsim:"â½",backsimeq:"â",Backslash:"â",Barv:"â«§",barvee:"â½",Barwed:"â",barwed:"â",barwedge:"â",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â",Bcy:"Ð",bcy:"Ð±",bdquo:"â",becaus:"âµ",Because:"âµ",because:"âµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â¬",Bernoullis:"â¬",Beta:"Î",beta:"Î²",beth:"â¶",between:"â¬",Bfr:"ð",bfr:"ð",bigcap:"â",bigcirc:"â¯",bigcup:"â",bigodot:"â¨",bigoplus:"â¨",bigotimes:"â¨",bigsqcup:"â¨",bigstar:"â",bigtriangledown:"â½",bigtriangleup:"â³",biguplus:"â¨",bigvee:"â",bigwedge:"â",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"âª",blacktriangle:"â´",blacktriangledown:"â¾",blacktriangleleft:"â",blacktriangleright:"â¸",blank:"â£",blk12:"â",blk14:"â",blk34:"â",block:"â",bne:"=â¥",bnequiv:"â¡â¥",bNot:"â«­",bnot:"â",Bopf:"ð¹",bopf:"ð",bot:"â¥",bottom:"â¥",bowtie:"â",boxbox:"â§",boxDL:"â",boxDl:"â",boxdL:"â",boxdl:"â",boxDR:"â",boxDr:"â",boxdR:"â",boxdr:"â",boxH:"â",boxh:"â",boxHD:"â¦",boxHd:"â¤",boxhD:"â¥",boxhd:"â¬",boxHU:"â©",boxHu:"â§",boxhU:"â¨",boxhu:"â´",boxminus:"â",boxplus:"â",boxtimes:"â ",boxUL:"â",boxUl:"â",boxuL:"â",boxul:"â",boxUR:"â",boxUr:"â",boxuR:"â",boxur:"â",boxV:"â",boxv:"â",boxVH:"â¬",boxVh:"â«",boxvH:"âª",boxvh:"â¼",boxVL:"â£",boxVl:"â¢",boxvL:"â¡",boxvl:"â¤",boxVR:"â ",boxVr:"â",boxvR:"â",boxvr:"â",bprime:"âµ",Breve:"Ë",breve:"Ë",brvbar:"Â¦",Bscr:"â¬",bscr:"ð·",bsemi:"â",bsim:"â½",bsime:"â",bsol:"\\",bsolb:"â§",bsolhsub:"â",bull:"â¢",bullet:"â¢",bump:"â",bumpE:"âª®",bumpe:"â",Bumpeq:"â",bumpeq:"â",Cacute:"Ä",cacute:"Ä",Cap:"â",cap:"â©",capand:"â©",capbrcup:"â©",capcap:"â©",capcup:"â©",capdot:"â©",CapitalDifferentialD:"â",caps:"â©ï¸",caret:"â",caron:"Ë",Cayleys:"â­",ccaps:"â©",Ccaron:"Ä",ccaron:"Ä",Ccedil:"Ã",ccedil:"Ã§",Ccirc:"Ä",ccirc:"Ä",Cconint:"â°",ccups:"â©",ccupssm:"â©",Cdot:"Ä",cdot:"Ä",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â­",cfr:"ð ",CHcy:"Ð§",chcy:"Ñ",check:"â",checkmark:"â",Chi:"Î§",chi:"Ï",cir:"â",circ:"Ë",circeq:"â",circlearrowleft:"âº",circlearrowright:"â»",circledast:"â",circledcirc:"â",circleddash:"â",CircleDot:"â",circledR:"Â®",circledS:"â",CircleMinus:"â",CirclePlus:"â",CircleTimes:"â",cirE:"â§",cire:"â",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§",ClockwiseContourIntegral:"â²",CloseCurlyDoubleQuote:"â",CloseCurlyQuote:"â",clubs:"â£",clubsuit:"â£",Colon:"â·",colon:":",Colone:"â©´",colone:"â",coloneq:"â",comma:",",commat:"@",comp:"â",compfn:"â",complement:"â",complexes:"â",cong:"â",congdot:"â©­",Congruent:"â¡",Conint:"â¯",conint:"â®",ContourIntegral:"â®",Copf:"â",copf:"ð",coprod:"â",Coproduct:"â",COPY:"Â©",copy:"Â©",copysr:"â",CounterClockwiseContourIntegral:"â³",crarr:"âµ",Cross:"â¨¯",cross:"â",Cscr:"ð",cscr:"ð¸",csub:"â«",csube:"â«",csup:"â«",csupe:"â«",ctdot:"â¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â",cuesc:"â",cularr:"â¶",cularrp:"â¤½",Cup:"â",cup:"âª",cupbrcap:"â©",CupCap:"â",cupcap:"â©",cupcup:"â©",cupdot:"â",cupor:"â©",cups:"âªï¸",curarr:"â·",curarrm:"â¤¼",curlyeqprec:"â",curlyeqsucc:"â",curlyvee:"â",curlywedge:"â",curren:"Â¤",curvearrowleft:"â¶",curvearrowright:"â·",cuvee:"â",cuwed:"â",cwconint:"â²",cwint:"â±",cylcty:"â­",Dagger:"â¡",dagger:"â ",daleth:"â¸",Darr:"â¡",dArr:"â",darr:"â",dash:"â",Dashv:"â«¤",dashv:"â£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ð",dcy:"Ð´",DD:"â",dd:"â",ddagger:"â¡",ddarr:"â",DDotrahd:"â¤",ddotseq:"â©·",deg:"Â°",Del:"â",Delta:"Î",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ð",dfr:"ð¡",dHar:"â¥¥",dharl:"â",dharr:"â",DiacriticalAcute:"Â´",DiacriticalDot:"Ë",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ë",diam:"â",Diamond:"â",diamond:"â",diamondsuit:"â¦",diams:"â¦",die:"Â¨",DifferentialD:"â",digamma:"Ï",disin:"â²",div:"Ã·",divide:"Ã·",divideontimes:"â",divonx:"â",DJcy:"Ð",djcy:"Ñ",dlcorn:"â",dlcrop:"â",dollar:"$",Dopf:"ð»",dopf:"ð",Dot:"Â¨",dot:"Ë",DotDot:"â",doteq:"â",doteqdot:"â",DotEqual:"â",dotminus:"â¸",dotplus:"â",dotsquare:"â¡",doublebarwedge:"â",DoubleContourIntegral:"â¯",DoubleDot:"Â¨",DoubleDownArrow:"â",DoubleLeftArrow:"â",DoubleLeftRightArrow:"â",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"â¸",DoubleLongLeftRightArrow:"âº",DoubleLongRightArrow:"â¹",DoubleRightArrow:"â",DoubleRightTee:"â¨",DoubleUpArrow:"â",DoubleUpDownArrow:"â",DoubleVerticalBar:"â¥",DownArrow:"â",Downarrow:"â",downarrow:"â",DownArrowBar:"â¤",DownArrowUpArrow:"âµ",DownBreve:"Ì",downdownarrows:"â",downharpoonleft:"â",downharpoonright:"â",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â½",DownLeftVectorBar:"â¥",DownRightTeeVector:"â¥",DownRightVector:"â",DownRightVectorBar:"â¥",DownTee:"â¤",DownTeeArrow:"â§",drbkarow:"â¤",drcorn:"â",drcrop:"â",Dscr:"ð",dscr:"ð¹",DScy:"Ð",dscy:"Ñ",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä",dtdot:"â±",dtri:"â¿",dtrif:"â¾",duarr:"âµ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ð",dzcy:"Ñ",dzigrarr:"â¿",Eacute:"Ã",eacute:"Ã©",easter:"â©®",Ecaron:"Ä",ecaron:"Ä",ecir:"â",Ecirc:"Ã",ecirc:"Ãª",ecolon:"â",Ecy:"Ð­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä",eDot:"â",edot:"Ä",ee:"â",efDot:"â",Efr:"ð",efr:"ð¢",eg:"âª",Egrave:"Ã",egrave:"Ã¨",egs:"âª",egsdot:"âª",el:"âª",Element:"â",elinters:"â§",ell:"â",els:"âª",elsdot:"âª",Emacr:"Ä",emacr:"Ä",empty:"â",emptyset:"â",EmptySmallSquare:"â»",emptyv:"â",EmptyVerySmallSquare:"â«",emsp:"â",emsp13:"â",emsp14:"â",ENG:"Å",eng:"Å",ensp:"â",Eogon:"Ä",eogon:"Ä",Eopf:"ð¼",eopf:"ð",epar:"â",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â",eqcolon:"â",eqsim:"â",eqslantgtr:"âª",eqslantless:"âª",Equal:"â©µ",equals:"=",EqualTilde:"â",equest:"â",Equilibrium:"â",equiv:"â¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â",Escr:"â°",escr:"â¯",esdot:"â",Esim:"â©³",esim:"â",Eta:"Î",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã",euml:"Ã«",euro:"â¬",excl:"!",exist:"â",Exists:"â",expectation:"â°",ExponentialE:"â",exponentiale:"â",fallingdotseq:"â",Fcy:"Ð¤",fcy:"Ñ",female:"â",ffilig:"ï¬",fflig:"ï¬",ffllig:"ï¬",Ffr:"ð",ffr:"ð£",filig:"ï¬",FilledSmallSquare:"â¼",FilledVerySmallSquare:"âª",fjlig:"fj",flat:"â­",fllig:"ï¬",fltns:"â±",fnof:"Æ",Fopf:"ð½",fopf:"ð",ForAll:"â",forall:"â",fork:"â",forkv:"â«",Fouriertrf:"â±",fpartint:"â¨",frac12:"Â½",frac13:"â",frac14:"Â¼",frac15:"â",frac16:"â",frac18:"â",frac23:"â",frac25:"â",frac34:"Â¾",frac35:"â",frac38:"â",frac45:"â",frac56:"â",frac58:"â",frac78:"â",frasl:"â",frown:"â¢",Fscr:"â±",fscr:"ð»",gacute:"Çµ",Gamma:"Î",gamma:"Î³",Gammad:"Ï",gammad:"Ï",gap:"âª",Gbreve:"Ä",gbreve:"Ä",Gcedil:"Ä¢",Gcirc:"Ä",gcirc:"Ä",Gcy:"Ð",gcy:"Ð³",Gdot:"Ä ",gdot:"Ä¡",gE:"â§",ge:"â¥",gEl:"âª",gel:"â",geq:"â¥",geqq:"â§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª",gesdoto:"âª",gesdotol:"âª",gesl:"âï¸",gesles:"âª",Gfr:"ð",gfr:"ð¤",Gg:"â",gg:"â«",ggg:"â",gimel:"â·",GJcy:"Ð",gjcy:"Ñ",gl:"â·",gla:"âª¥",glE:"âª",glj:"âª¤",gnap:"âª",gnapprox:"âª",gnE:"â©",gne:"âª",gneq:"âª",gneqq:"â©",gnsim:"â§",Gopf:"ð¾",gopf:"ð",grave:"`",GreaterEqual:"â¥",GreaterEqualLess:"â",GreaterFullEqual:"â§",GreaterGreater:"âª¢",GreaterLess:"â·",GreaterSlantEqual:"â©¾",GreaterTilde:"â³",Gscr:"ð¢",gscr:"â",gsim:"â³",gsime:"âª",gsiml:"âª",GT:">",Gt:"â«",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â",gtlPar:"â¦",gtquest:"â©¼",gtrapprox:"âª",gtrarr:"â¥¸",gtrdot:"â",gtreqless:"â",gtreqqless:"âª",gtrless:"â·",gtrsim:"â³",gvertneqq:"â©ï¸",gvnE:"â©ï¸",Hacek:"Ë",hairsp:"â",half:"Â½",hamilt:"â",HARDcy:"Ðª",hardcy:"Ñ",hArr:"â",harr:"â",harrcir:"â¥",harrw:"â­",Hat:"^",hbar:"â",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â¥",heartsuit:"â¥",hellip:"â¦",hercon:"â¹",Hfr:"â",hfr:"ð¥",HilbertSpace:"â",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â¿",homtht:"â»",hookleftarrow:"â©",hookrightarrow:"âª",Hopf:"â",hopf:"ð",horbar:"â",HorizontalLine:"â",Hscr:"â",hscr:"ð½",hslash:"â",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â",HumpEqual:"â",hybull:"â",hyphen:"â",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ð",icy:"Ð¸",Idot:"Ä°",IEcy:"Ð",iecy:"Ðµ",iexcl:"Â¡",iff:"â",Ifr:"â",ifr:"ð¦",Igrave:"Ã",igrave:"Ã¬",ii:"â",iiiint:"â¨",iiint:"â­",iinfin:"â§",iiota:"â©",IJlig:"Ä²",ijlig:"Ä³",Im:"â",Imacr:"Äª",imacr:"Ä«",image:"â",ImaginaryI:"â",imagline:"â",imagpart:"â",imath:"Ä±",imof:"â·",imped:"Æµ",Implies:"â",in:"â",incare:"â",infin:"â",infintie:"â§",inodot:"Ä±",Int:"â¬",int:"â«",intcal:"âº",integers:"â¤",Integral:"â«",intercal:"âº",Intersection:"â",intlarhk:"â¨",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ð",iocy:"Ñ",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ð",iopf:"ð",Iota:"Î",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â",iscr:"ð¾",isin:"â",isindot:"âµ",isinE:"â¹",isins:"â´",isinsv:"â³",isinv:"â",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ð",iukcy:"Ñ",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ð",jcy:"Ð¹",Jfr:"ð",jfr:"ð§",jmath:"È·",Jopf:"ð",jopf:"ð",Jscr:"ð¥",jscr:"ð¿",Jsercy:"Ð",jsercy:"Ñ",Jukcy:"Ð",jukcy:"Ñ",Kappa:"Î",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ð",kcy:"Ðº",Kfr:"ð",kfr:"ð¨",kgreen:"Ä¸",KHcy:"Ð¥",khcy:"Ñ",KJcy:"Ð",kjcy:"Ñ",Kopf:"ð",kopf:"ð",Kscr:"ð¦",kscr:"ð",lAarr:"â",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â",Lambda:"Î",lambda:"Î»",Lang:"âª",lang:"â¨",langd:"â¦",langle:"â¨",lap:"âª",Laplacetrf:"â",laquo:"Â«",Larr:"â",lArr:"â",larr:"â",larrb:"â¤",larrbfs:"â¤",larrfs:"â¤",larrhk:"â©",larrlp:"â«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â¢",lat:"âª«",lAtail:"â¤",latail:"â¤",late:"âª­",lates:"âª­ï¸",lBarr:"â¤",lbarr:"â¤",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"â",lcub:"{",Lcy:"Ð",lcy:"Ð»",ldca:"â¤¶",ldquo:"â",ldquor:"â",ldrdhar:"â¥§",ldrushar:"â¥",ldsh:"â²",lE:"â¦",le:"â¤",LeftAngleBracket:"â¨",LeftArrow:"â",Leftarrow:"â",leftarrow:"â",LeftArrowBar:"â¤",LeftArrowRightArrow:"â",leftarrowtail:"â¢",LeftCeiling:"â",LeftDoubleBracket:"â¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â",LeftDownVectorBar:"â¥",LeftFloor:"â",leftharpoondown:"â½",leftharpoonup:"â¼",leftleftarrows:"â",LeftRightArrow:"â",Leftrightarrow:"â",leftrightarrow:"â",leftrightarrows:"â",leftrightharpoons:"â",leftrightsquigarrow:"â­",LeftRightVector:"â¥",LeftTee:"â£",LeftTeeArrow:"â¤",LeftTeeVector:"â¥",leftthreetimes:"â",LeftTriangle:"â²",LeftTriangleBar:"â§",LeftTriangleEqual:"â´",LeftUpDownVector:"â¥",LeftUpTeeVector:"â¥ ",LeftUpVector:"â¿",LeftUpVectorBar:"â¥",LeftVector:"â¼",LeftVectorBar:"â¥",lEg:"âª",leg:"â",leq:"â¤",leqq:"â¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âª",lesg:"âï¸",lesges:"âª",lessapprox:"âª",lessdot:"â",lesseqgtr:"â",lesseqqgtr:"âª",LessEqualGreater:"â",LessFullEqual:"â¦",LessGreater:"â¶",lessgtr:"â¶",LessLess:"âª¡",lesssim:"â²",LessSlantEqual:"â©½",LessTilde:"â²",lfisht:"â¥¼",lfloor:"â",Lfr:"ð",lfr:"ð©",lg:"â¶",lgE:"âª",lHar:"â¥¢",lhard:"â½",lharu:"â¼",lharul:"â¥ª",lhblk:"â",LJcy:"Ð",ljcy:"Ñ",Ll:"â",ll:"âª",llarr:"â",llcorner:"â",Lleftarrow:"â",llhard:"â¥«",lltri:"âº",Lmidot:"Ä¿",lmidot:"Å",lmoust:"â°",lmoustache:"â°",lnap:"âª",lnapprox:"âª",lnE:"â¨",lne:"âª",lneq:"âª",lneqq:"â¨",lnsim:"â¦",loang:"â¬",loarr:"â½",lobrk:"â¦",LongLeftArrow:"âµ",Longleftarrow:"â¸",longleftarrow:"âµ",LongLeftRightArrow:"â·",Longleftrightarrow:"âº",longleftrightarrow:"â·",longmapsto:"â¼",LongRightArrow:"â¶",Longrightarrow:"â¹",longrightarrow:"â¶",looparrowleft:"â«",looparrowright:"â¬",lopar:"â¦",Lopf:"ð",lopf:"ð",loplus:"â¨­",lotimes:"â¨´",lowast:"â",lowbar:"_",LowerLeftArrow:"â",LowerRightArrow:"â",loz:"â",lozenge:"â",lozf:"â§«",lpar:"(",lparlt:"â¦",lrarr:"â",lrcorner:"â",lrhar:"â",lrhard:"â¥­",lrm:"â",lrtri:"â¿",lsaquo:"â¹",Lscr:"â",lscr:"ð",Lsh:"â°",lsh:"â°",lsim:"â²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â",lsquor:"â",Lstrok:"Å",lstrok:"Å",LT:"<",Lt:"âª",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â",lthree:"â",ltimes:"â",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â",ltrie:"â´",ltrif:"â",ltrPar:"â¦",lurdshar:"â¥",luruhar:"â¥¦",lvertneqq:"â¨ï¸",lvnE:"â¨ï¸",macr:"Â¯",male:"â",malt:"â ",maltese:"â ",Map:"â¤",map:"â¦",mapsto:"â¦",mapstodown:"â§",mapstoleft:"â¤",mapstoup:"â¥",marker:"â®",mcomma:"â¨©",Mcy:"Ð",mcy:"Ð¼",mdash:"â",mDDot:"âº",measuredangle:"â¡",MediumSpace:"â",Mellintrf:"â³",Mfr:"ð",mfr:"ðª",mho:"â§",micro:"Âµ",mid:"â£",midast:"*",midcir:"â«°",middot:"Â·",minus:"â",minusb:"â",minusd:"â¸",minusdu:"â¨ª",MinusPlus:"â",mlcp:"â«",mldr:"â¦",mnplus:"â",models:"â§",Mopf:"ð",mopf:"ð",mp:"â",Mscr:"â³",mscr:"ð",mstpos:"â¾",Mu:"Î",mu:"Î¼",multimap:"â¸",mumap:"â¸",nabla:"â",Nacute:"Å",nacute:"Å",nang:"â â",nap:"â",napE:"â©°Ì¸",napid:"âÌ¸",napos:"Å",napprox:"â",natur:"â®",natural:"â®",naturals:"â",nbsp:"Â ",nbump:"âÌ¸",nbumpe:"âÌ¸",ncap:"â©",Ncaron:"Å",ncaron:"Å",Ncedil:"Å",ncedil:"Å",ncong:"â",ncongdot:"â©­Ì¸",ncup:"â©",Ncy:"Ð",ncy:"Ð½",ndash:"â",ne:"â ",nearhk:"â¤¤",neArr:"â",nearr:"â",nearrow:"â",nedot:"âÌ¸",NegativeMediumSpace:"â",NegativeThickSpace:"â",NegativeThinSpace:"â",NegativeVeryThinSpace:"â",nequiv:"â¢",nesear:"â¤¨",nesim:"âÌ¸",NestedGreaterGreater:"â«",NestedLessLess:"âª",NewLine:"\n",nexist:"â",nexists:"â",Nfr:"ð",nfr:"ð«",ngE:"â§Ì¸",nge:"â±",ngeq:"â±",ngeqq:"â§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"âÌ¸",ngsim:"âµ",nGt:"â«â",ngt:"â¯",ngtr:"â¯",nGtv:"â«Ì¸",nhArr:"â",nharr:"â®",nhpar:"â«²",ni:"â",nis:"â¼",nisd:"âº",niv:"â",NJcy:"Ð",njcy:"Ñ",nlArr:"â",nlarr:"â",nldr:"â¥",nlE:"â¦Ì¸",nle:"â°",nLeftarrow:"â",nleftarrow:"â",nLeftrightarrow:"â",nleftrightarrow:"â®",nleq:"â°",nleqq:"â¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â®",nLl:"âÌ¸",nlsim:"â´",nLt:"âªâ",nlt:"â®",nltri:"âª",nltrie:"â¬",nLtv:"âªÌ¸",nmid:"â¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â",nopf:"ð",Not:"â«¬",not:"Â¬",NotCongruent:"â¢",NotCupCap:"â­",NotDoubleVerticalBar:"â¦",NotElement:"â",NotEqual:"â ",NotEqualTilde:"âÌ¸",NotExists:"â",NotGreater:"â¯",NotGreaterEqual:"â±",NotGreaterFullEqual:"â§Ì¸",NotGreaterGreater:"â«Ì¸",NotGreaterLess:"â¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"âµ",NotHumpDownHump:"âÌ¸",NotHumpEqual:"âÌ¸",notin:"â",notindot:"âµÌ¸",notinE:"â¹Ì¸",notinva:"â",notinvb:"â·",notinvc:"â¶",NotLeftTriangle:"âª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â¬",NotLess:"â®",NotLessEqual:"â°",NotLessGreater:"â¸",NotLessLess:"âªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"â",notniva:"â",notnivb:"â¾",notnivc:"â½",NotPrecedes:"â",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â ",NotReverseElement:"â",NotRightTriangle:"â«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â­",NotSquareSubset:"âÌ¸",NotSquareSubsetEqual:"â¢",NotSquareSuperset:"âÌ¸",NotSquareSupersetEqual:"â£",NotSubset:"ââ",NotSubsetEqual:"â",NotSucceeds:"â",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â¡",NotSucceedsTilde:"â¿Ì¸",NotSuperset:"ââ",NotSupersetEqual:"â",NotTilde:"â",NotTildeEqual:"â",NotTildeFullEqual:"â",NotTildeTilde:"â",NotVerticalBar:"â¤",npar:"â¦",nparallel:"â¦",nparsl:"â«½â¥",npart:"âÌ¸",npolint:"â¨",npr:"â",nprcue:"â ",npre:"âª¯Ì¸",nprec:"â",npreceq:"âª¯Ì¸",nrArr:"â",nrarr:"â",nrarrc:"â¤³Ì¸",nrarrw:"âÌ¸",nRightarrow:"â",nrightarrow:"â",nrtri:"â«",nrtrie:"â­",nsc:"â",nsccue:"â¡",nsce:"âª°Ì¸",Nscr:"ð©",nscr:"ð",nshortmid:"â¤",nshortparallel:"â¦",nsim:"â",nsime:"â",nsimeq:"â",nsmid:"â¤",nspar:"â¦",nsqsube:"â¢",nsqsupe:"â£",nsub:"â",nsubE:"â«Ì¸",nsube:"â",nsubset:"ââ",nsubseteq:"â",nsubseteqq:"â«Ì¸",nsucc:"â",nsucceq:"âª°Ì¸",nsup:"â",nsupE:"â«Ì¸",nsupe:"â",nsupset:"ââ",nsupseteq:"â",nsupseteqq:"â«Ì¸",ntgl:"â¹",Ntilde:"Ã",ntilde:"Ã±",ntlg:"â¸",ntriangleleft:"âª",ntrianglelefteq:"â¬",ntriangleright:"â«",ntrianglerighteq:"â­",Nu:"Î",nu:"Î½",num:"#",numero:"â",numsp:"â",nvap:"ââ",nVDash:"â¯",nVdash:"â®",nvDash:"â­",nvdash:"â¬",nvge:"â¥â",nvgt:">â",nvHarr:"â¤",nvinfin:"â§",nvlArr:"â¤",nvle:"â¤â",nvlt:"<â",nvltrie:"â´â",nvrArr:"â¤",nvrtrie:"âµâ",nvsim:"â¼â",nwarhk:"â¤£",nwArr:"â",nwarr:"â",nwarrow:"â",nwnear:"â¤§",Oacute:"Ã",oacute:"Ã³",oast:"â",ocir:"â",Ocirc:"Ã",ocirc:"Ã´",Ocy:"Ð",ocy:"Ð¾",odash:"â",Odblac:"Å",odblac:"Å",odiv:"â¨¸",odot:"â",odsold:"â¦¼",OElig:"Å",oelig:"Å",ofcir:"â¦¿",Ofr:"ð",ofr:"ð¬",ogon:"Ë",Ograve:"Ã",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"â®",olarr:"âº",olcir:"â¦¾",olcross:"â¦»",oline:"â¾",olt:"â§",Omacr:"Å",omacr:"Å",Omega:"Î©",omega:"Ï",Omicron:"Î",omicron:"Î¿",omid:"â¦¶",ominus:"â",Oopf:"ð",oopf:"ð ",opar:"â¦·",OpenCurlyDoubleQuote:"â",OpenCurlyQuote:"â",operp:"â¦¹",oplus:"â",Or:"â©",or:"â¨",orarr:"â»",ord:"â©",order:"â´",orderof:"â´",ordf:"Âª",ordm:"Âº",origof:"â¶",oror:"â©",orslope:"â©",orv:"â©",oS:"â",Oscr:"ðª",oscr:"â´",Oslash:"Ã",oslash:"Ã¸",osol:"â",Otilde:"Ã",otilde:"Ãµ",Otimes:"â¨·",otimes:"â",otimesas:"â¨¶",Ouml:"Ã",ouml:"Ã¶",ovbar:"â½",OverBar:"â¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"â",par:"â¥",para:"Â¶",parallel:"â¥",parsim:"â«³",parsl:"â«½",part:"â",PartialD:"â",Pcy:"Ð",pcy:"Ð¿",percnt:"%",period:".",permil:"â°",perp:"â¥",pertenk:"â±",Pfr:"ð",pfr:"ð­",Phi:"Î¦",phi:"Ï",phiv:"Ï",phmmat:"â³",phone:"â",Pi:"Î ",pi:"Ï",pitchfork:"â",piv:"Ï",planck:"â",planckh:"â",plankv:"â",plus:"+",plusacir:"â¨£",plusb:"â",pluscir:"â¨¢",plusdo:"â",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â",pointint:"â¨",Popf:"â",popf:"ð¡",pound:"Â£",Pr:"âª»",pr:"âº",prap:"âª·",prcue:"â¼",prE:"âª³",pre:"âª¯",prec:"âº",precapprox:"âª·",preccurlyeq:"â¼",Precedes:"âº",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â¼",PrecedesTilde:"â¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â¨",precsim:"â¾",Prime:"â³",prime:"â²",primes:"â",prnap:"âª¹",prnE:"âªµ",prnsim:"â¨",prod:"â",Product:"â",profalar:"â®",profline:"â",profsurf:"â",prop:"â",Proportion:"â·",Proportional:"â",propto:"â",prsim:"â¾",prurel:"â°",Pscr:"ð«",pscr:"ð",Psi:"Î¨",psi:"Ï",puncsp:"â",Qfr:"ð",qfr:"ð®",qint:"â¨",Qopf:"â",qopf:"ð¢",qprime:"â",Qscr:"ð¬",qscr:"ð",quaternions:"â",quatint:"â¨",quest:"?",questeq:"â",QUOT:'"',quot:'"',rAarr:"â",race:"â½Ì±",Racute:"Å",racute:"Å",radic:"â",raemptyv:"â¦³",Rang:"â«",rang:"â©",rangd:"â¦",range:"â¦¥",rangle:"â©",raquo:"Â»",Rarr:"â ",rArr:"â",rarr:"â",rarrap:"â¥µ",rarrb:"â¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"âª",rarrlp:"â¬",rarrpl:"â¥",rarrsim:"â¥´",Rarrtl:"â¤",rarrtl:"â£",rarrw:"â",rAtail:"â¤",ratail:"â¤",ratio:"â¶",rationals:"â",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å",rcaron:"Å",Rcedil:"Å",rcedil:"Å",rceil:"â",rcub:"}",Rcy:"Ð ",rcy:"Ñ",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â",rdquor:"â",rdsh:"â³",Re:"â",real:"â",realine:"â",realpart:"â",reals:"â",rect:"â­",REG:"Â®",reg:"Â®",ReverseElement:"â",ReverseEquilibrium:"â",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"â",Rfr:"â",rfr:"ð¯",rHar:"â¥¤",rhard:"â",rharu:"â",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"â©",RightArrow:"â",Rightarrow:"â",rightarrow:"â",RightArrowBar:"â¥",RightArrowLeftArrow:"â",rightarrowtail:"â£",RightCeiling:"â",RightDoubleBracket:"â§",RightDownTeeVector:"â¥",RightDownVector:"â",RightDownVectorBar:"â¥",RightFloor:"â",rightharpoondown:"â",rightharpoonup:"â",rightleftarrows:"â",rightleftharpoons:"â",rightrightarrows:"â",rightsquigarrow:"â",RightTee:"â¢",RightTeeArrow:"â¦",RightTeeVector:"â¥",rightthreetimes:"â",RightTriangle:"â³",RightTriangleBar:"â§",RightTriangleEqual:"âµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥",RightUpVector:"â¾",RightUpVectorBar:"â¥",RightVector:"â",RightVectorBar:"â¥",ring:"Ë",risingdotseq:"â",rlarr:"â",rlhar:"â",rlm:"â",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"â­",roarr:"â¾",robrk:"â§",ropar:"â¦",Ropf:"â",ropf:"ð£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦",rppolint:"â¨",rrarr:"â",Rrightarrow:"â",rsaquo:"âº",Rscr:"â",rscr:"ð",Rsh:"â±",rsh:"â±",rsqb:"]",rsquo:"â",rsquor:"â",rthree:"â",rtimes:"â",rtri:"â¹",rtrie:"âµ",rtrif:"â¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â",Sacute:"Å",sacute:"Å",sbquo:"â",Sc:"âª¼",sc:"â»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â½",scE:"âª´",sce:"âª°",Scedil:"Å",scedil:"Å",Scirc:"Å",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â©",scpolint:"â¨",scsim:"â¿",Scy:"Ð¡",scy:"Ñ",sdot:"â",sdotb:"â¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â",searr:"â",searrow:"â",sect:"Â§",semi:";",seswar:"â¤©",setminus:"â",setmn:"â",sext:"â¶",Sfr:"ð",sfr:"ð°",sfrown:"â¢",sharp:"â¯",SHCHcy:"Ð©",shchcy:"Ñ",SHcy:"Ð¨",shcy:"Ñ",ShortDownArrow:"â",ShortLeftArrow:"â",shortmid:"â£",shortparallel:"â¥",ShortRightArrow:"â",ShortUpArrow:"â",shy:"Â­",Sigma:"Î£",sigma:"Ï",sigmaf:"Ï",sigmav:"Ï",sim:"â¼",simdot:"â©ª",sime:"â",simeq:"â",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âª",simne:"â",simplus:"â¨¤",simrarr:"â¥²",slarr:"â",SmallCircle:"â",smallsetminus:"â",smashp:"â¨³",smeparsl:"â§¤",smid:"â£",smile:"â£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸",SOFTcy:"Ð¬",softcy:"Ñ",sol:"/",solb:"â§",solbar:"â¿",Sopf:"ð",sopf:"ð¤",spades:"â ",spadesuit:"â ",spar:"â¥",sqcap:"â",sqcaps:"âï¸",sqcup:"â",sqcups:"âï¸",Sqrt:"â",sqsub:"â",sqsube:"â",sqsubset:"â",sqsubseteq:"â",sqsup:"â",sqsupe:"â",sqsupset:"â",sqsupseteq:"â",squ:"â¡",Square:"â¡",square:"â¡",SquareIntersection:"â",SquareSubset:"â",SquareSubsetEqual:"â",SquareSuperset:"â",SquareSupersetEqual:"â",SquareUnion:"â",squarf:"âª",squf:"âª",srarr:"â",Sscr:"ð®",sscr:"ð",ssetmn:"â",ssmile:"â£",sstarf:"â",Star:"â",star:"â",starf:"â",straightepsilon:"Ïµ",straightphi:"Ï",strns:"Â¯",Sub:"â",sub:"â",subdot:"âª½",subE:"â«",sube:"â",subedot:"â«",submult:"â«",subnE:"â«",subne:"â",subplus:"âª¿",subrarr:"â¥¹",Subset:"â",subset:"â",subseteq:"â",subseteqq:"â«",SubsetEqual:"â",subsetneq:"â",subsetneqq:"â«",subsim:"â«",subsub:"â«",subsup:"â«",succ:"â»",succapprox:"âª¸",succcurlyeq:"â½",Succeeds:"â»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â½",SucceedsTilde:"â¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â©",succsim:"â¿",SuchThat:"â",Sum:"â",sum:"â",sung:"âª",Sup:"â",sup:"â",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«",supE:"â«",supe:"â",supedot:"â«",Superset:"â",SupersetEqual:"â",suphsol:"â",suphsub:"â«",suplarr:"â¥»",supmult:"â«",supnE:"â«",supne:"â",supplus:"â«",Supset:"â",supset:"â",supseteq:"â",supseteqq:"â«",supsetneq:"â",supsetneqq:"â«",supsim:"â«",supsub:"â«",supsup:"â«",swarhk:"â¤¦",swArr:"â",swarr:"â",swarrow:"â",swnwar:"â¤ª",szlig:"Ã",Tab:"\t",target:"â",Tau:"Î¤",tau:"Ï",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ð¢",tcy:"Ñ",tdot:"â",telrec:"â",Tfr:"ð",tfr:"ð±",there4:"â´",Therefore:"â´",therefore:"â´",Theta:"Î",theta:"Î¸",thetasym:"Ï",thetav:"Ï",thickapprox:"â",thicksim:"â¼",ThickSpace:"ââ",thinsp:"â",ThinSpace:"â",thkap:"â",thksim:"â¼",THORN:"Ã",thorn:"Ã¾",Tilde:"â¼",tilde:"Ë",TildeEqual:"â",TildeFullEqual:"â",TildeTilde:"â",times:"Ã",timesb:"â ",timesbar:"â¨±",timesd:"â¨°",tint:"â­",toea:"â¤¨",top:"â¤",topbot:"â¶",topcir:"â«±",Topf:"ð",topf:"ð¥",topfork:"â«",tosa:"â¤©",tprime:"â´",TRADE:"â¢",trade:"â¢",triangle:"âµ",triangledown:"â¿",triangleleft:"â",trianglelefteq:"â´",triangleq:"â",triangleright:"â¹",trianglerighteq:"âµ",tridot:"â¬",trie:"â",triminus:"â¨º",TripleDot:"â",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ð¯",tscr:"ð",TScy:"Ð¦",tscy:"Ñ",TSHcy:"Ð",tshcy:"Ñ",Tstrok:"Å¦",tstrok:"Å§",twixt:"â¬",twoheadleftarrow:"â",twoheadrightarrow:"â ",Uacute:"Ã",uacute:"Ãº",Uarr:"â",uArr:"â",uarr:"â",Uarrocir:"â¥",Ubrcy:"Ð",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã",ucirc:"Ã»",Ucy:"Ð£",ucy:"Ñ",udarr:"â",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ð",ufr:"ð²",Ugrave:"Ã",ugrave:"Ã¹",uHar:"â¥£",uharl:"â¿",uharr:"â¾",uhblk:"â",ulcorn:"â",ulcorner:"â",ulcrop:"â",ultri:"â¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"â",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â",UnionPlus:"â",Uogon:"Å²",uogon:"Å³",Uopf:"ð",uopf:"ð¦",UpArrow:"â",Uparrow:"â",uparrow:"â",UpArrowBar:"â¤",UpArrowDownArrow:"â",UpDownArrow:"â",Updownarrow:"â",updownarrow:"â",UpEquilibrium:"â¥®",upharpoonleft:"â¿",upharpoonright:"â¾",uplus:"â",UpperLeftArrow:"â",UpperRightArrow:"â",Upsi:"Ï",upsi:"Ï",upsih:"Ï",Upsilon:"Î¥",upsilon:"Ï",UpTee:"â¥",UpTeeArrow:"â¥",upuparrows:"â",urcorn:"â",urcorner:"â",urcrop:"â",Uring:"Å®",uring:"Å¯",urtri:"â¹",Uscr:"ð°",uscr:"ð",utdot:"â°",Utilde:"Å¨",utilde:"Å©",utri:"âµ",utrif:"â´",uuarr:"â",Uuml:"Ã",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"â",varphi:"Ï",varpi:"Ï",varpropto:"â",vArr:"â",varr:"â",varrho:"Ï±",varsigma:"Ï",varsubsetneq:"âï¸",varsubsetneqq:"â«ï¸",varsupsetneq:"âï¸",varsupsetneqq:"â«ï¸",vartheta:"Ï",vartriangleleft:"â²",vartriangleright:"â³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ð",vcy:"Ð²",VDash:"â«",Vdash:"â©",vDash:"â¨",vdash:"â¢",Vdashl:"â«¦",Vee:"â",vee:"â¨",veebar:"â»",veeeq:"â",vellip:"â®",Verbar:"â",verbar:"|",Vert:"â",vert:"|",VerticalBar:"â£",VerticalLine:"|",VerticalSeparator:"â",VerticalTilde:"â",VeryThinSpace:"â",Vfr:"ð",vfr:"ð³",vltri:"â²",vnsub:"ââ",vnsup:"ââ",Vopf:"ð",vopf:"ð§",vprop:"â",vrtri:"â³",Vscr:"ð±",vscr:"ð",vsubnE:"â«ï¸",vsubne:"âï¸",vsupnE:"â«ï¸",vsupne:"âï¸",Vvdash:"âª",vzigzag:"â¦",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©",Wedge:"â",wedge:"â§",wedgeq:"â",weierp:"â",Wfr:"ð",wfr:"ð´",Wopf:"ð",wopf:"ð¨",wp:"â",wr:"â",wreath:"â",Wscr:"ð²",wscr:"ð",xcap:"â",xcirc:"â¯",xcup:"â",xdtri:"â½",Xfr:"ð",xfr:"ðµ",xhArr:"âº",xharr:"â·",Xi:"Î",xi:"Î¾",xlArr:"â¸",xlarr:"âµ",xmap:"â¼",xnis:"â»",xodot:"â¨",Xopf:"ð",xopf:"ð©",xoplus:"â¨",xotime:"â¨",xrArr:"â¹",xrarr:"â¶",Xscr:"ð³",xscr:"ð",xsqcup:"â¨",xuplus:"â¨",xutri:"â³",xvee:"â",xwedge:"â",Yacute:"Ã",yacute:"Ã½",YAcy:"Ð¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ð«",ycy:"Ñ",yen:"Â¥",Yfr:"ð",yfr:"ð¶",YIcy:"Ð",yicy:"Ñ",Yopf:"ð",yopf:"ðª",Yscr:"ð´",yscr:"ð",YUcy:"Ð®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ð",zcy:"Ð·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â¨",ZeroWidthSpace:"â",Zeta:"Î",zeta:"Î¶",Zfr:"â¨",zfr:"ð·",ZHcy:"Ð",zhcy:"Ð¶",zigrarr:"â",Zopf:"â¤",zopf:"ð«",Zscr:"ðµ",zscr:"ð",zwj:"â",zwnj:"â"}},359:function(e,t,i){"use strict";function n(){this.rules=r.assign({},o),this.getBreak=o.getBreak}var r=i(357),o=i(360);e.exports=n,n.prototype.renderInline=function(e,t,i){for(var n=this.rules,r=e.length,o=0,s="";r--;)s+=n[e[o].type](e,o++,t,i,this);return s},n.prototype.render=function(e,t,i){for(var n=this.rules,r=e.length,o=-1,s="";++o<r;)s+="inline"===e[o].type?this.renderInline(e[o].children,t,i):n[e[o].type](e,o,t,i,this);return s}},360:function(e,t,i){"use strict";function n(e,t){return++t>=e.length-2?t:"paragraph_open"===e[t].type&&e[t].tight&&"inline"===e[t+1].type&&0===e[t+1].content.length&&"paragraph_close"===e[t+2].type&&e[t+2].tight?n(e,t+2):t}var r=i(357).has,o=i(357).unescapeMd,s=i(357).replaceEntities,a=i(357).escapeHtml,l={};l.blockquote_open=function(){return"<blockquote>\n"},l.blockquote_close=function(e,t){return"</blockquote>"+c(e,t)},l.code=function(e,t){return e[t].block?"<pre><code>"+a(e[t].content)+"</code></pre>"+c(e,t):"<code>"+a(e[t].content)+"</code>"},l.fence=function(e,t,i,n,l){var u,h,d,p=e[t],g="",m=i.langPrefix,f="";if(p.params){if(u=p.params.split(/\s+/g),h=u.join(" "),r(l.rules.fence_custom,u[0]))return l.rules.fence_custom[u[0]](e,t,i,n,l);f=a(s(o(h))),g=' class="'+m+f+'"'}return d=i.highlight?i.highlight.apply(i.highlight,[p.content].concat(u))||a(p.content):a(p.content),"<pre><code"+g+">"+d+"</code></pre>"+c(e,t)},l.fence_custom={},l.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},l.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},l.hr=function(e,t,i){return(i.xhtmlOut?"<hr />":"<hr>")+c(e,t)},l.bullet_list_open=function(){return"<ul>\n"},l.bullet_list_close=function(e,t){return"</ul>"+c(e,t)},l.list_item_open=function(){return"<li>"},l.list_item_close=function(){return"</li>\n"},l.ordered_list_open=function(e,t){var i=e[t],n=i.order>1?' start="'+i.order+'"':"";return"<ol"+n+">\n"},l.ordered_list_close=function(e,t){return"</ol>"+c(e,t)},l.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},l.paragraph_close=function(e,t){var i=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(i?c(e,t):"")},l.link_open=function(e,t,i){var n=e[t].title?' title="'+a(s(e[t].title))+'"':"",r=i.linkTarget?' target="'+i.linkTarget+'"':"";return'<a href="'+a(e[t].href)+'"'+n+r+">"},l.link_close=function(){return"</a>"},l.image=function(e,t,i){var n=' src="'+a(e[t].src)+'"',r=e[t].title?' title="'+a(s(e[t].title))+'"':"",l=' alt="'+(e[t].alt?a(s(o(e[t].alt))):"")+'"',c=i.xhtmlOut?" /":"";return"<img"+n+l+r+c+">"},l.table_open=function(){return"<table>\n"},l.table_close=function(){return"</table>\n"},l.thead_open=function(){return"<thead>\n"},l.thead_close=function(){return"</thead>\n"},l.tbody_open=function(){return"<tbody>\n"},l.tbody_close=function(){return"</tbody>\n"},l.tr_open=function(){return"<tr>"},l.tr_close=function(){return"</tr>\n"},l.th_open=function(e,t){var i=e[t];return"<th"+(i.align?' style="text-align:'+i.align+'"':"")+">"},l.th_close=function(){return"</th>"},l.td_open=function(e,t){var i=e[t];return"<td"+(i.align?' style="text-align:'+i.align+'"':"")+">"},l.td_close=function(){return"</td>"},l.strong_open=function(){return"<strong>"},l.strong_close=function(){return"</strong>"},l.em_open=function(){return"<em>"},l.em_close=function(){return"</em>"},l.del_open=function(){return"<del>"},l.del_close=function(){return"</del>"},l.ins_open=function(){return"<ins>"},l.ins_close=function(){return"</ins>"},l.mark_open=function(){return"<mark>"},l.mark_close=function(){return"</mark>"},l.sub=function(e,t){return"<sub>"+a(e[t].content)+"</sub>"},l.sup=function(e,t){return"<sup>"+a(e[t].content)+"</sup>"},l.hardbreak=function(e,t,i){return i.xhtmlOut?"<br />\n":"<br>\n"},l.softbreak=function(e,t,i){return i.breaks?i.xhtmlOut?"<br />\n":"<br>\n":"\n"},l.text=function(e,t){return a(e[t].content)},l.htmlblock=function(e,t){return e[t].content},l.htmltag=function(e,t){return e[t].content},l.abbr_open=function(e,t){return'<abbr title="'+a(s(e[t].title))+'">'},l.abbr_close=function(){return"</abbr>"},l.footnote_ref=function(e,t){var i=Number(e[t].id+1).toString(),n="fnref"+i;return e[t].subId>0&&(n+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+i+'" id="'+n+'">['+i+"]</a></sup>"},l.footnote_block_open=function(e,t,i){var n=i.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n';return n+'<section class="footnotes">\n<ol class="footnotes-list">\n'},l.footnote_block_close=function(){return"</ol>\n</section>\n"},l.footnote_open=function(e,t){var i=Number(e[t].id+1).toString();return'<li id="fn'+i+'"  class="footnote-item">'},l.footnote_close=function(){return"</li>\n"},l.footnote_anchor=function(e,t){var i=Number(e[t].id+1).toString(),n="fnref"+i;return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">â©</a>'},l.dl_open=function(){return"<dl>\n"},l.dt_open=function(){return"<dt>"},l.dd_open=function(){return"<dd>"},l.dl_close=function(){return"</dl>\n"},l.dt_close=function(){return"</dt>\n"},l.dd_close=function(){return"</dd>\n"};var c=l.getBreak=function(e,t){return t=n(e,t),t<e.length&&"list_item_close"===e[t].type?"":"\n"};e.exports=l},361:function(e,t,i){"use strict";function n(){this.options={},this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}var r=i(362),o=[["block",i(363)],["abbr",i(364)],["references",i(367)],["inline",i(372)],["footnote_tail",i(373)],["abbr2",i(374)],["replacements",i(375)],["smartquotes",i(376)],["linkify",i(377)]];n.prototype.process=function(e){var t,i,n;for(n=this.ruler.getRules(""),t=0,i=n.length;t<i;t++)n[t](e)},e.exports=n},362:function(e,t){"use strict";function i(){this.__rules__=[],this.__cache__=null}i.prototype.__find__=function(e){for(var t=this.__rules__.length,i=-1;t--;)if(this.__rules__[++i].name===e)return i;return-1},i.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(i){i.enabled&&(t&&i.alt.indexOf(t)<0||e.__cache__[t].push(i.fn))})})},i.prototype.at=function(e,t,i){var n=this.__find__(e),r=i||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=r.alt||[],this.__cache__=null},i.prototype.before=function(e,t,i,n){var r=this.__find__(e),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null},i.prototype.after=function(e,t,i,n){var r=this.__find__(e),o=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:i,alt:o.alt||[]}),this.__cache__=null},i.prototype.push=function(e,t,i){var n=i||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null},i.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach(function(e){e.enabled=!1}),e.forEach(function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0},this),this.__cache__=null},i.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1},this),this.__cache__=null},i.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=i},363:function(e,t){"use strict";e.exports=function(e){e.inlineMode?e.tokens.push({
type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}},364:function(e,t,i){"use strict";function n(e,t,i,n){var s,a,l,c,u,h;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(e.indexOf("]:")===-1)return-1;if(s=new r(e,t,i,n,[]),a=o(s,1),a<0||58!==e.charCodeAt(a+1))return-1;for(c=s.posMax,l=a+2;l<c&&10!==s.src.charCodeAt(l);l++);return u=e.slice(2,a),h=e.slice(a+2,l).trim(),0===h.length?-1:(n.abbreviations||(n.abbreviations={}),"undefined"==typeof n.abbreviations[":"+u]&&(n.abbreviations[":"+u]=h),l)}var r=i(365),o=i(366);e.exports=function(e){var t,i,r,o,s=e.tokens;if(!e.inlineMode)for(t=1,i=s.length-1;t<i;t++)if("paragraph_open"===s[t-1].type&&"inline"===s[t].type&&"paragraph_close"===s[t+1].type){for(r=s[t].content;r.length&&(o=n(r,e.inline,e.options,e.env),!(o<0));)r=r.slice(o).trim();s[t].content=r,r.length||(s[t-1].tight=!0,s[t+1].tight=!0)}}},365:function(e,t){"use strict";function i(e,t,i,n,r){this.src=e,this.env=n,this.options=i,this.parser=t,this.tokens=r,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}i.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},i.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},i.prototype.cacheSet=function(e,t){for(var i=this.cache.length;i<=e;i++)this.cache.push(0);this.cache[e]=t},i.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0},e.exports=i},366:function(e,t){"use strict";e.exports=function(e,t){var i,n,r,o=-1,s=e.posMax,a=e.pos,l=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,i=1;e.pos<s;){if(r=e.src.charCodeAt(e.pos),91===r)i++;else if(93===r&&(i--,0===i)){n=!0;break}e.parser.skipToken(e)}return n?(o=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=i-1,e.pos=a,e.isInLabel=l,o}},367:function(e,t,i){"use strict";function n(e,t,i,n){var c,u,h,d,p,g,m,f,v;if(91!==e.charCodeAt(0))return-1;if(e.indexOf("]:")===-1)return-1;if(c=new r(e,t,i,n,[]),u=o(c,0),u<0||58!==e.charCodeAt(u+1))return-1;for(d=c.posMax,h=u+2;h<d&&(p=c.src.charCodeAt(h),32===p||10===p);h++);if(!s(c,h))return-1;for(m=c.linkContent,h=c.pos,g=h,h+=1;h<d&&(p=c.src.charCodeAt(h),32===p||10===p);h++);for(h<d&&g!==h&&a(c,h)?(f=c.linkContent,h=c.pos):(f="",h=g);h<d&&32===c.src.charCodeAt(h);)h++;return h<d&&10!==c.src.charCodeAt(h)?-1:(v=l(e.slice(1,u)),"undefined"==typeof n.references[v]&&(n.references[v]={title:f,href:m}),h)}var r=i(365),o=i(366),s=i(368),a=i(370),l=i(371);e.exports=function(e){var t,i,r,o,s=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,i=s.length-1;t<i;t++)if("inline"===s[t].type&&"paragraph_open"===s[t-1].type&&"paragraph_close"===s[t+1].type){for(r=s[t].content;r.length&&(o=n(r,e.inline,e.options,e.env),!(o<0));)r=r.slice(o).trim();s[t].content=r,r.length||(s[t-1].tight=!0,s[t+1].tight=!0)}}},368:function(e,t,i){"use strict";var n=i(369),r=i(357).unescapeMd;e.exports=function(e,t){var i,o,s,a=t,l=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<l;){if(i=e.src.charCodeAt(t),10===i)return!1;if(62===i)return s=n(r(e.src.slice(a+1,t))),!!e.parser.validateLink(s)&&(e.pos=t+1,e.linkContent=s,!0);92===i&&t+1<l?t+=2:t++}return!1}for(o=0;t<l&&(i=e.src.charCodeAt(t),32!==i)&&!(i>8&&i<14);)if(92===i&&t+1<l)t+=2;else{if(40===i&&(o++,o>1))break;if(41===i&&(o--,o<0))break;t++}return a!==t&&(s=r(e.src.slice(a,t)),!!e.parser.validateLink(s)&&(e.linkContent=s,e.pos=t,!0))}},369:function(e,t,i){"use strict";var n=i(357).replaceEntities;e.exports=function(e){var t=n(e);try{t=decodeURI(t)}catch(e){}return encodeURI(t)}},370:function(e,t,i){"use strict";var n=i(357).unescapeMd;e.exports=function(e,t){var i,r=t,o=e.posMax,s=e.src.charCodeAt(t);if(34!==s&&39!==s&&40!==s)return!1;for(t++,40===s&&(s=41);t<o;){if(i=e.src.charCodeAt(t),i===s)return e.pos=t+1,e.linkContent=n(e.src.slice(r+1,t)),!0;92===i&&t+1<o?t+=2:t++}return!1}},371:function(e,t){"use strict";e.exports=function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}},372:function(e,t){"use strict";e.exports=function(e){var t,i,n,r=e.tokens;for(i=0,n=r.length;i<n;i++)t=r[i],"inline"===t.type&&e.inline.parse(t.content,e.options,e.env,t.children)}},373:function(e,t){"use strict";e.exports=function(e){var t,i,n,r,o,s,a,l,c,u=0,h=!1,d={};if(e.env.footnotes&&(e.tokens=e.tokens.filter(function(e){return"footnote_reference_open"===e.type?(h=!0,l=[],c=e.label,!1):"footnote_reference_close"===e.type?(h=!1,d[":"+c]=l,!1):(h&&l.push(e),!h)}),e.env.footnotes.list)){for(s=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),t=0,i=s.length;t<i;t++){for(e.tokens.push({type:"footnote_open",id:t,level:u++}),s[t].tokens?(a=[],a.push({type:"paragraph_open",tight:!1,level:u++}),a.push({type:"inline",content:"",level:u,children:s[t].tokens}),a.push({type:"paragraph_close",tight:!1,level:--u})):s[t].label&&(a=d[":"+s[t].label]),e.tokens=e.tokens.concat(a),o="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,r=s[t].count>0?s[t].count:1,n=0;n<r;n++)e.tokens.push({type:"footnote_anchor",id:t,subId:n,level:u});o&&e.tokens.push(o),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}},374:function(e,t){"use strict";function i(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var n=" \n()[]'\".,!?-";e.exports=function(e){var t,r,o,s,a,l,c,u,h,d,p,g,m=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(g="(^|["+n.split("").map(i).join("")+"])("+Object.keys(e.env.abbreviations).map(function(e){return e.substr(1)}).sort(function(e,t){return t.length-e.length}).map(i).join("|")+")($|["+n.split("").map(i).join("")+"])",e.env.abbrRegExp=new RegExp(g,"g")),d=e.env.abbrRegExp,r=0,o=m.length;r<o;r++)if("inline"===m[r].type)for(s=m[r].children,t=s.length-1;t>=0;t--)if(a=s[t],"text"===a.type){for(u=0,l=a.content,d.lastIndex=0,h=a.level,c=[];p=d.exec(l);)d.lastIndex>u&&c.push({type:"text",content:l.slice(u,p.index+p[1].length),level:h}),c.push({type:"abbr_open",title:e.env.abbreviations[":"+p[2]],level:h++}),c.push({type:"text",content:p[2],level:h}),c.push({type:"abbr_close",level:--h}),u=d.lastIndex-p[3].length;c.length&&(u<l.length&&c.push({type:"text",content:l.slice(u),level:h}),m[r].children=s=[].concat(s.slice(0,t),c,s.slice(t+1)))}}},375:function(e,t){"use strict";function i(e){return e.indexOf("(")<0?e:e.replace(r,function(e,t){return o[t.toLowerCase()]})}var n=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,r=/\((c|tm|r|p)\)/gi,o={c:"Â©",r:"Â®",p:"Â§",tm:"â¢"};e.exports=function(e){var t,r,o,s,a;if(e.options.typographer)for(a=e.tokens.length-1;a>=0;a--)if("inline"===e.tokens[a].type)for(s=e.tokens[a].children,t=s.length-1;t>=0;t--)r=s[t],"text"===r.type&&(o=r.content,o=i(o),n.test(o)&&(o=o.replace(/\+-/g,"Â±").replace(/\.{2,}/g,"â¦").replace(/([?!])â¦/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1â$2").replace(/(^|\s)--(\s|$)/gm,"$1â$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1â$2")),r.content=o)}},376:function(e,t){"use strict";function i(e,t){return!(t<0||t>=e.length)&&!s.test(e[t])}function n(e,t,i){return e.substr(0,t)+i+e.substr(t+1)}var r=/['"]/,o=/['"]/g,s=/[-\s()\[\]]/,a="â";e.exports=function(e){var t,s,l,c,u,h,d,p,g,m,f,v,b,w,y,_,k;if(e.options.typographer)for(k=[],y=e.tokens.length-1;y>=0;y--)if("inline"===e.tokens[y].type)for(_=e.tokens[y].children,k.length=0,t=0;t<_.length;t++)if(s=_[t],"text"===s.type&&!r.test(s.text)){for(d=_[t].level,b=k.length-1;b>=0&&!(k[b].level<=d);b--);k.length=b+1,l=s.content,u=0,h=l.length;e:for(;u<h&&(o.lastIndex=u,c=o.exec(l));)if(p=!i(l,c.index-1),u=c.index+1,w="'"===c[0],g=!i(l,u),g||p){if(f=!g,v=!p)for(b=k.length-1;b>=0&&(m=k[b],!(k[b].level<d));b--)if(m.single===w&&k[b].level===d){m=k[b],w?(_[m.token].content=n(_[m.token].content,m.pos,e.options.quotes[2]),s.content=n(s.content,c.index,e.options.quotes[3])):(_[m.token].content=n(_[m.token].content,m.pos,e.options.quotes[0]),s.content=n(s.content,c.index,e.options.quotes[1])),k.length=b;continue e}f?k.push({token:t,pos:c.index,single:w,level:d}):v&&w&&(s.content=n(s.content,c.index,a))}else w&&(s.content=n(s.content,c.index,a))}}},377:function(e,t,i){"use strict";function n(e){return/^<a[>\s]/i.test(e)}function r(e){return/^<\/a\s*>/i.test(e)}function o(){var e=[],t=new s({stripPrefix:!1,url:!0,email:!0,twitter:!1,replaceFn:function(t,i){switch(i.getType()){case"url":e.push({text:i.matchedText,url:i.getUrl()});break;case"email":e.push({text:i.matchedText,url:"mailto:"+i.getEmail().replace(/^mailto:/i,"")})}return!1}});return{links:e,autolinker:t}}var s=i(378),a=/www|@|\:\/\//;e.exports=function(e){var t,i,s,l,c,u,h,d,p,g,m,f,v,b=e.tokens,w=null;if(e.options.linkify)for(i=0,s=b.length;i<s;i++)if("inline"===b[i].type)for(l=b[i].children,m=0,t=l.length-1;t>=0;t--)if(c=l[t],"link_close"!==c.type){if("htmltag"===c.type&&(n(c.content)&&m>0&&m--,r(c.content)&&m++),!(m>0)&&"text"===c.type&&a.test(c.content)){if(w||(w=o(),f=w.links,v=w.autolinker),u=c.content,f.length=0,v.link(u),!f.length)continue;for(h=[],g=c.level,d=0;d<f.length;d++)e.inline.validateLink(f[d].url)&&(p=u.indexOf(f[d].text),p&&(g=g,h.push({type:"text",content:u.slice(0,p),level:g})),h.push({type:"link_open",href:f[d].url,title:"",level:g++}),h.push({type:"text",content:f[d].text,level:g}),h.push({type:"link_close",level:--g}),u=u.slice(p+f[d].text.length));u.length&&h.push({type:"text",content:u,level:g}),b[i].children=l=[].concat(l.slice(0,t),h,l.slice(t+1))}}else for(t--;l[t].level!==c.level&&"link_open"!==l[t].type;)t--}},378:function(e,t,i){var n,r;!function(i,o){n=[],r=function(){return i.Autolinker=o()}.apply(t,n),!(void 0!==r&&(e.exports=r))}(this,function(){/*!
	 * Autolinker.js
	 * 0.15.3
	 *
	 * Copyright(c) 2015 Gregory Jacobs <greg@greg-jacobs.com>
	 * MIT Licensed. http://www.opensource.org/licenses/mit-license.php
	 *
	 * https://github.com/gregjacobs/Autolinker.js
	 */
var e=function(t){e.Util.assign(this,t)};return e.prototype={constructor:e,urls:!0,email:!0,twitter:!0,newWindow:!0,stripPrefix:!0,truncate:void 0,className:"",htmlParser:void 0,matchParser:void 0,tagBuilder:void 0,link:function(e){for(var t=this.getHtmlParser(),i=t.parse(e),n=0,r=[],o=0,s=i.length;o<s;o++){var a=i[o],l=a.getType(),c=a.getText();if("element"===l)"a"===a.getTagName()&&(a.isClosing()?n=Math.max(n-1,0):n++),r.push(c);else if("entity"===l)r.push(c);else if(0===n){var u=this.linkifyStr(c);r.push(u)}else r.push(c)}return r.join("")},linkifyStr:function(e){return this.getMatchParser().replace(e,this.createMatchReturnVal,this)},createMatchReturnVal:function(t){var i;if(this.replaceFn&&(i=this.replaceFn.call(this,this,t)),"string"==typeof i)return i;if(i===!1)return t.getMatchedText();if(i instanceof e.HtmlTag)return i.toString();var n=this.getTagBuilder(),r=n.build(t);return r.toString()},getHtmlParser:function(){var t=this.htmlParser;return t||(t=this.htmlParser=new e.htmlParser.HtmlParser),t},getMatchParser:function(){var t=this.matchParser;return t||(t=this.matchParser=new e.matchParser.MatchParser({urls:this.urls,email:this.email,twitter:this.twitter,stripPrefix:this.stripPrefix})),t},getTagBuilder:function(){var t=this.tagBuilder;return t||(t=this.tagBuilder=new e.AnchorTagBuilder({newWindow:this.newWindow,truncate:this.truncate,className:this.className})),t}},e.link=function(t,i){var n=new e(i);return n.link(t)},e.match={},e.htmlParser={},e.matchParser={},e.Util={abstractMethod:function(){throw"abstract"},assign:function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},extend:function(t,i){var n=t.prototype,r=function(){};r.prototype=n;var o;o=i.hasOwnProperty("constructor")?i.constructor:function(){n.constructor.apply(this,arguments)};var s=o.prototype=new r;return s.constructor=o,s.superclass=n,delete i.constructor,e.Util.assign(s,i),o},ellipsis:function(e,t,i){return e.length>t&&(i=null==i?"..":i,e=e.substring(0,t-i.length)+i),e},indexOf:function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},splitAndCapture:function(e,t){if(!t.global)throw new Error("`splitRegex` must have the 'g' flag set");for(var i,n=[],r=0;i=t.exec(e);)n.push(e.substring(r,i.index)),n.push(i[0]),r=i.index+i[0].length;return n.push(e.substring(r)),n}},e.HtmlTag=e.Util.extend(Object,{whitespaceRegex:/\s+/,constructor:function(t){e.Util.assign(this,t),this.innerHtml=this.innerHtml||this.innerHTML},setTagName:function(e){return this.tagName=e,this},getTagName:function(){return this.tagName||""},setAttr:function(e,t){var i=this.getAttrs();return i[e]=t,this},getAttr:function(e){return this.getAttrs()[e]},setAttrs:function(t){var i=this.getAttrs();return e.Util.assign(i,t),this},getAttrs:function(){return this.attrs||(this.attrs={})},setClass:function(e){return this.setAttr("class",e)},addClass:function(t){for(var i,n=this.getClass(),r=this.whitespaceRegex,o=e.Util.indexOf,s=n?n.split(r):[],a=t.split(r);i=a.shift();)o(s,i)===-1&&s.push(i);return this.getAttrs().class=s.join(" "),this},removeClass:function(t){for(var i,n=this.getClass(),r=this.whitespaceRegex,o=e.Util.indexOf,s=n?n.split(r):[],a=t.split(r);s.length&&(i=a.shift());){var l=o(s,i);l!==-1&&s.splice(l,1)}return this.getAttrs().class=s.join(" "),this},getClass:function(){return this.getAttrs().class||""},hasClass:function(e){return(" "+this.getClass()+" ").indexOf(" "+e+" ")!==-1},setInnerHtml:function(e){return this.innerHtml=e,this},getInnerHtml:function(){return this.innerHtml||""},toString:function(){var e=this.getTagName(),t=this.buildAttrsStr();return t=t?" "+t:"",["<",e,t,">",this.getInnerHtml(),"</",e,">"].join("")},buildAttrsStr:function(){if(!this.attrs)return"";var e=this.getAttrs(),t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i+'="'+e[i]+'"');return t.join(" ")}}),e.AnchorTagBuilder=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},build:function(t){var i=new e.HtmlTag({tagName:"a",attrs:this.createAttrs(t.getType(),t.getAnchorHref()),innerHtml:this.processAnchorText(t.getAnchorText())});return i},createAttrs:function(e,t){var i={href:t},n=this.createCssClass(e);return n&&(i.class=n),this.newWindow&&(i.target="_blank"),i},createCssClass:function(e){var t=this.className;return t?t+" "+t+"-"+e:""},processAnchorText:function(e){return e=this.doTruncate(e)},doTruncate:function(t){return e.Util.ellipsis(t,this.truncate||Number.POSITIVE_INFINITY)}}),e.htmlParser.HtmlParser=e.Util.extend(Object,{htmlRegex:function(){var e=/[0-9a-zA-Z][0-9a-zA-Z:]*/,t=/[^\s\0"'>\/=\x01-\x1F\x7F]+/,i=/(?:"[^"]*?"|'[^']*?'|[^'"=<>`\s]+)/,n=t.source+"(?:\\s*=\\s*"+i.source+")?";return new RegExp(["(?:","<(!DOCTYPE)","(?:","\\s+","(?:",n,"|",i.source+")",")*",">",")","|","(?:","<(/)?","("+e.source+")","(?:","\\s+",n,")*","\\s*/?",">",")"].join(""),"gi")}(),htmlCharacterEntitiesRegex:/(&nbsp;|&#160;|&lt;|&#60;|&gt;|&#62;|&quot;|&#34;|&#39;)/gi,parse:function(e){for(var t,i,n=this.htmlRegex,r=0,o=[];null!==(t=n.exec(e));){var s=t[0],a=t[1]||t[3],l=!!t[2],c=e.substring(r,t.index);c&&(i=this.parseTextAndEntityNodes(c),o.push.apply(o,i)),o.push(this.createElementNode(s,a,l)),r=t.index+s.length}if(r<e.length){var u=e.substring(r);u&&(i=this.parseTextAndEntityNodes(u),o.push.apply(o,i))}return o},parseTextAndEntityNodes:function(t){for(var i=[],n=e.Util.splitAndCapture(t,this.htmlCharacterEntitiesRegex),r=0,o=n.length;r<o;r+=2){var s=n[r],a=n[r+1];s&&i.push(this.createTextNode(s)),a&&i.push(this.createEntityNode(a))}return i},createElementNode:function(t,i,n){return new e.htmlParser.ElementNode({text:t,tagName:i.toLowerCase(),closing:n})},createEntityNode:function(t){return new e.htmlParser.EntityNode({text:t})},createTextNode:function(t){return new e.htmlParser.TextNode({text:t})}}),e.htmlParser.HtmlNode=e.Util.extend(Object,{text:"",constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getText:function(){return this.text}}),e.htmlParser.ElementNode=e.Util.extend(e.htmlParser.HtmlNode,{tagName:"",closing:!1,getType:function(){return"element"},getTagName:function(){return this.tagName},isClosing:function(){return this.closing}}),e.htmlParser.EntityNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"entity"}}),e.htmlParser.TextNode=e.Util.extend(e.htmlParser.HtmlNode,{getType:function(){return"text"}}),e.matchParser.MatchParser=e.Util.extend(Object,{urls:!0,email:!0,twitter:!0,stripPrefix:!0,matcherRegex:function(){var e=/(^|[^\w])@(\w{1,15})/,t=/(?:[\-;:&=\+\$,\w\.]+@)/,i=/(?:[A-Za-z][-.+A-Za-z0-9]+:(?![A-Za-z][-.+A-Za-z0-9]+:\/\/)(?!\d+\/?)(?:\/\/)?)/,n=/(?:www\.)/,r=/[A-Za-z0-9\.\-]*[A-Za-z0-9\-]/,o=/\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b/,s=/[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]?!:,.;]*[\-A-Za-z0-9+&@#\/%=~_()|'$*\[\]]/;return new RegExp(["(",e.source,")","|","(",t.source,r.source,o.source,")","|","(","(?:","(",i.source,r.source,")","|","(?:","(.?//)?",n.source,r.source,")","|","(?:","(.?//)?",r.source,o.source,")",")","(?:"+s.source+")?",")"].join(""),"gi")}(),charBeforeProtocolRelMatchRegex:/^(.)?\/\//,constructor:function(t){e.Util.assign(this,t),this.matchValidator=new e.MatchValidator},replace:function(e,t,i){var n=this;return e.replace(this.matcherRegex,function(e,r,o,s,a,l,c,u,h){var d=n.processCandidateMatch(e,r,o,s,a,l,c,u,h);if(d){var p=t.call(i,d.match);return d.prefixStr+p+d.suffixStr}return e})},processCandidateMatch:function(t,i,n,r,o,s,a,l,c){var u,h=l||c,d="",p="";if(i&&!this.twitter||o&&!this.email||s&&!this.urls||!this.matchValidator.isValidMatch(s,a,h))return null;if(this.matchHasUnbalancedClosingParen(t)&&(t=t.substr(0,t.length-1),p=")"),o)u=new e.match.Email({matchedText:t,email:o});else if(i)n&&(d=n,t=t.slice(1)),u=new e.match.Twitter({matchedText:t,twitterHandle:r});else{if(h){var g=h.match(this.charBeforeProtocolRelMatchRegex)[1]||"";g&&(d=g,t=t.slice(1))}u=new e.match.Url({matchedText:t,url:t,protocolUrlMatch:!!a,protocolRelativeMatch:!!h,stripPrefix:this.stripPrefix})}return{prefixStr:d,suffixStr:p,match:u}},matchHasUnbalancedClosingParen:function(e){var t=e.charAt(e.length-1);if(")"===t){var i=e.match(/\(/g),n=e.match(/\)/g),r=i&&i.length||0,o=n&&n.length||0;if(r<o)return!0}return!1}}),e.MatchValidator=e.Util.extend(Object,{invalidProtocolRelMatchRegex:/^[\w]\/\//,hasFullProtocolRegex:/^[A-Za-z][-.+A-Za-z0-9]+:\/\//,uriSchemeRegex:/^[A-Za-z][-.+A-Za-z0-9]+:/,hasWordCharAfterProtocolRegex:/:[^\s]*?[A-Za-z]/,isValidMatch:function(e,t,i){return!(t&&!this.isValidUriScheme(t)||this.urlMatchDoesNotHaveProtocolOrDot(e,t)||this.urlMatchDoesNotHaveAtLeastOneWordChar(e,t)||this.isInvalidProtocolRelativeMatch(i))},isValidUriScheme:function(e){var t=e.match(this.uriSchemeRegex)[0].toLowerCase();return"javascript:"!==t&&"vbscript:"!==t},urlMatchDoesNotHaveProtocolOrDot:function(e,t){return!(!e||t&&this.hasFullProtocolRegex.test(t)||e.indexOf(".")!==-1)},urlMatchDoesNotHaveAtLeastOneWordChar:function(e,t){return!(!e||!t)&&!this.hasWordCharAfterProtocolRegex.test(e)},isInvalidProtocolRelativeMatch:function(e){return!!e&&this.invalidProtocolRelMatchRegex.test(e)}}),e.match.Match=e.Util.extend(Object,{constructor:function(t){e.Util.assign(this,t)},getType:e.Util.abstractMethod,getMatchedText:function(){return this.matchedText},getAnchorHref:e.Util.abstractMethod,getAnchorText:e.Util.abstractMethod}),e.match.Email=e.Util.extend(e.match.Match,{getType:function(){return"email"},getEmail:function(){return this.email},getAnchorHref:function(){return"mailto:"+this.email},getAnchorText:function(){return this.email}}),e.match.Twitter=e.Util.extend(e.match.Match,{getType:function(){return"twitter"},getTwitterHandle:function(){return this.twitterHandle},getAnchorHref:function(){return"https://twitter.com/"+this.twitterHandle},getAnchorText:function(){return"@"+this.twitterHandle}}),e.match.Url=e.Util.extend(e.match.Match,{urlPrefixRegex:/^(https?:\/\/)?(www\.)?/i,protocolRelativeRegex:/^\/\//,protocolPrepended:!1,getType:function(){return"url"},getUrl:function(){var e=this.url;return this.protocolRelativeMatch||this.protocolUrlMatch||this.protocolPrepended||(e=this.url="http://"+e,this.protocolPrepended=!0),e},getAnchorHref:function(){var e=this.getUrl();return e.replace(/&amp;/g,"&")},getAnchorText:function(){var e=this.getUrl();return this.protocolRelativeMatch&&(e=this.stripProtocolRelativePrefix(e)),this.stripPrefix&&(e=this.stripUrlPrefix(e)),e=this.removeTrailingSlash(e)},stripUrlPrefix:function(e){return e.replace(this.urlPrefixRegex,"")},stripProtocolRelativePrefix:function(e){return e.replace(this.protocolRelativeRegex,"")},removeTrailingSlash:function(e){return"/"===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}}),e})},379:function(e,t,i){"use strict";function n(){this.ruler=new r;for(var e=0;e<s.length;e++)this.ruler.push(s[e][0],s[e][1],{alt:(s[e][2]||[]).slice()})}var r=i(362),o=i(380),s=[["code",i(381)],["fences",i(382),["paragraph","blockquote","list"]],["blockquote",i(383),["paragraph","blockquote","list"]],["hr",i(384),["paragraph","blockquote","list"]],["list",i(385),["paragraph","blockquote"]],["footnote",i(386),["paragraph"]],["heading",i(387),["paragraph","blockquote"]],["lheading",i(388)],["htmlblock",i(389),["paragraph","blockquote"]],["table",i(391),["paragraph"]],["deflist",i(392),["paragraph"]],["paragraph",i(393)]];n.prototype.tokenize=function(e,t,i){for(var n,r,o=this.ruler.getRules(""),s=o.length,a=t,l=!1;a<i&&(e.line=a=e.skipEmptyLines(a),!(a>=i))&&!(e.tShift[a]<e.blkIndent);){for(r=0;r<s&&!(n=o[r](e,a,i,!1));r++);if(e.tight=!l,e.isEmpty(e.line-1)&&(l=!0),a=e.line,a<i&&e.isEmpty(a)){if(l=!0,a++,a<i&&"list"===e.parentType&&e.isEmpty(a))break;e.line=a}}};var a=/[\n\t]/g,l=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,c=/\u00a0/g;n.prototype.parse=function(e,t,i,n){var r,s=0,u=0;return e?(e=e.replace(c," "),e=e.replace(l,"\n"),e.indexOf("\t")>=0&&(e=e.replace(a,function(t,i){var n;return 10===e.charCodeAt(i)?(s=i+1,u=0,t):(n="    ".slice((i-s-u)%4),u=i-s+1,n)})),r=new o(e,this,t,i,n),void this.tokenize(r,r.line,r.lineMax)):[]},e.exports=n},380:function(e,t){"use strict";function i(e,t,i,n,r){var o,s,a,l,c,u,h;for(this.src=e,this.parser=t,this.options=i,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",s=this.src,u=0,h=!1,a=l=u=0,c=s.length;l<c;l++){if(o=s.charCodeAt(l),!h){if(32===o){u++;continue}h=!0}10!==o&&l!==c-1||(10!==o&&l++,this.bMarks.push(a),this.eMarks.push(l),this.tShift.push(u),h=!1,u=0,a=l+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},i.prototype.skipChars=function(e,t){for(var i=this.src.length;e<i&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,i){if(e<=i)return e;for(;e>i;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,i,n){var r,o,s,a,l,c=e;if(e>=t)return"";if(c+1===t)return o=this.bMarks[c]+Math.min(this.tShift[c],i),s=n?this.eMarks[c]+1:this.eMarks[c],this.src.slice(o,s);for(a=new Array(t-e),r=0;c<t;c++,r++)l=this.tShift[c],l>i&&(l=i),l<0&&(l=0),o=this.bMarks[c]+l,s=c+1<t||n?this.eMarks[c]+1:this.eMarks[c],a[r]=this.src.slice(o,s);return a.join("")},e.exports=i},381:function(e,t){"use strict";e.exports=function(e,t,i){var n,r;if(e.tShift[t]-e.blkIndent<4)return!1;for(r=n=t+1;n<i;)if(e.isEmpty(n))n++;else{if(!(e.tShift[n]-e.blkIndent>=4))break;n++,r=n}return e.line=n,e.tokens.push({type:"code",content:e.getLines(t,r,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}},382:function(e,t){"use strict";e.exports=function(e,t,i,n){var r,o,s,a,l,c=!1,u=e.bMarks[t]+e.tShift[t],h=e.eMarks[t];if(u+3>h)return!1;if(r=e.src.charCodeAt(u),126!==r&&96!==r)return!1;if(l=u,u=e.skipChars(u,r),o=u-l,o<3)return!1;if(s=e.src.slice(u,h).trim(),s.indexOf("`")>=0)return!1;if(n)return!0;for(a=t;(a++,!(a>=i))&&(u=l=e.bMarks[a]+e.tShift[a],h=e.eMarks[a],!(u<h&&e.tShift[a]<e.blkIndent));)if(e.src.charCodeAt(u)===r&&!(e.tShift[a]-e.blkIndent>=4||(u=e.skipChars(u,r),u-l<o||(u=e.skipSpaces(u),u<h)))){c=!0;break}return o=e.tShift[t],e.line=a+(c?1:0),e.tokens.push({type:"fence",params:s,content:e.getLines(t+1,a,o,!0),lines:[t,e.line],level:e.level}),!0}},383:function(e,t){"use strict";e.exports=function(e,t,i,n){var r,o,s,a,l,c,u,h,d,p,g,m=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(m>f)return!1;if(62!==e.src.charCodeAt(m++))return!1;if(e.level>=e.options.maxNesting)return!1;if(n)return!0;for(32===e.src.charCodeAt(m)&&m++,l=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=m,m=m<f?e.skipSpaces(m):m,o=m>=f,s=[e.tShift[t]],e.tShift[t]=m-e.bMarks[t],h=e.parser.ruler.getRules("blockquote"),r=t+1;r<i&&(m=e.bMarks[r]+e.tShift[r],f=e.eMarks[r],!(m>=f));r++)if(62!==e.src.charCodeAt(m++)){if(o)break;for(g=!1,d=0,p=h.length;d<p;d++)if(h[d](e,r,i,!0)){g=!0;break}if(g)break;a.push(e.bMarks[r]),s.push(e.tShift[r]),e.tShift[r]=-1337}else 32===e.src.charCodeAt(m)&&m++,a.push(e.bMarks[r]),e.bMarks[r]=m,m=m<f?e.skipSpaces(m):m,o=m>=f,s.push(e.tShift[r]),e.tShift[r]=m-e.bMarks[r];for(c=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[t,0],level:e.level++}),e.parser.tokenize(e,t,r),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=c,u[1]=e.line,d=0;d<s.length;d++)e.bMarks[d+t]=a[d],e.tShift[d+t]=s[d];return e.blkIndent=l,!0}},384:function(e,t){"use strict";e.exports=function(e,t,i,n){var r,o,s,a=e.bMarks[t],l=e.eMarks[t];if(a+=e.tShift[t],a>l)return!1;if(r=e.src.charCodeAt(a++),42!==r&&45!==r&&95!==r)return!1;for(o=1;a<l;){if(s=e.src.charCodeAt(a++),s!==r&&32!==s)return!1;s===r&&o++}return!(o<3)&&(!!n||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level}),!0))}},385:function(e,t){"use strict";function i(e,t){var i,n,r;return n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t],n>=r?-1:(i=e.src.charCodeAt(n++),42!==i&&45!==i&&43!==i?-1:n<r&&32!==e.src.charCodeAt(n)?-1:n)}function n(e,t){var i,n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];if(n+1>=r)return-1;if(i=e.src.charCodeAt(n++),i<48||i>57)return-1;for(;;){if(n>=r)return-1;if(i=e.src.charCodeAt(n++),!(i>=48&&i<=57)){if(41===i||46===i)break;return-1}}return n<r&&32!==e.src.charCodeAt(n)?-1:n}function r(e,t){var i,n,r=e.level+2;for(i=t+2,n=e.tokens.length-2;i<n;i++)e.tokens[i].level===r&&"paragraph_open"===e.tokens[i].type&&(e.tokens[i+2].tight=!0,e.tokens[i].tight=!0,i+=2)}e.exports=function(e,t,o,s){var a,l,c,u,h,d,p,g,m,f,v,b,w,y,_,k,x,A,C,E,S,T,F=!0;if((g=n(e,t))>=0)w=!0;else{if(!((g=i(e,t))>=0))return!1;w=!1}if(e.level>=e.options.maxNesting)return!1;if(b=e.src.charCodeAt(g-1),s)return!0;for(_=e.tokens.length,w?(p=e.bMarks[t]+e.tShift[t],v=Number(e.src.substr(p,g-p-1)),e.tokens.push({type:"ordered_list_open",order:v,lines:x=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:x=[t,0],level:e.level++}),a=t,k=!1,C=e.parser.ruler.getRules("list");!(!(a<o)||(y=e.skipSpaces(g),m=e.eMarks[a],f=y>=m?1:y-g,f>4&&(f=1),f<1&&(f=1),l=g-e.bMarks[a]+f,e.tokens.push({type:"list_item_open",lines:A=[t,0],level:e.level++}),u=e.blkIndent,h=e.tight,c=e.tShift[t],d=e.parentType,e.tShift[t]=y-e.bMarks[t],e.blkIndent=l,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,o,!0),e.tight&&!k||(F=!1),k=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=u,e.tShift[t]=c,e.tight=h,e.parentType=d,e.tokens.push({type:"list_item_close",level:--e.level}),a=t=e.line,A[1]=a,y=e.bMarks[t],a>=o)||e.isEmpty(a)||e.tShift[a]<e.blkIndent);){for(T=!1,E=0,S=C.length;E<S;E++)if(C[E](e,a,o,!0)){T=!0;break}if(T)break;if(w){if(g=n(e,a),g<0)break}else if(g=i(e,a),g<0)break;if(b!==e.src.charCodeAt(g-1))break}return e.tokens.push({type:w?"ordered_list_close":"bullet_list_close",level:--e.level}),x[1]=a,e.line=a,F&&r(e,_),!0}},386:function(e,t){"use strict";e.exports=function(e,t,i,n){var r,o,s,a,l,c=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(c+4>u)return!1;if(91!==e.src.charCodeAt(c))return!1;if(94!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(a=c+2;a<u;a++){if(32===e.src.charCodeAt(a))return!1;if(93===e.src.charCodeAt(a))break}return a!==c+2&&(!(a+1>=u||58!==e.src.charCodeAt(++a))&&(!!n||(a++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),l=e.src.slice(c+2,a-2),e.env.footnotes.refs[":"+l]=-1,e.tokens.push({type:"footnote_reference_open",label:l,level:e.level++}),r=e.bMarks[t],o=e.tShift[t],s=e.parentType,e.tShift[t]=e.skipSpaces(a)-a,e.bMarks[t]=a,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,i,!0),e.parentType=s,e.blkIndent-=4,e.tShift[t]=o,e.bMarks[t]=r,e.tokens.push({type:"footnote_reference_close",level:--e.level}),!0)))}},387:function(e,t){"use strict";e.exports=function(e,t,i,n){var r,o,s,a=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(a>=l)return!1;if(r=e.src.charCodeAt(a),35!==r||a>=l)return!1;for(o=1,r=e.src.charCodeAt(++a);35===r&&a<l&&o<=6;)o++,r=e.src.charCodeAt(++a);return!(o>6||a<l&&32!==r)&&(!!n||(l=e.skipCharsBack(l,32,a),s=e.skipCharsBack(l,35,a),s>a&&32===e.src.charCodeAt(s-1)&&(l=s),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:o,lines:[t,e.line],level:e.level}),a<l&&e.tokens.push({type:"inline",content:e.src.slice(a,l).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:o,level:e.level}),!0))}},388:function(e,t){"use strict";e.exports=function(e,t,i){var n,r,o,s=t+1;return!(s>=i)&&(!(e.tShift[s]<e.blkIndent)&&(!(e.tShift[s]-e.blkIndent>3)&&(r=e.bMarks[s]+e.tShift[s],o=e.eMarks[s],!(r>=o)&&(n=e.src.charCodeAt(r),(45===n||61===n)&&(r=e.skipChars(r,n),r=e.skipSpaces(r),!(r<o)&&(r=e.bMarks[t]+e.tShift[t],e.line=s+1,e.tokens.push({type:"heading_open",hLevel:61===n?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(r,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===n?1:2,level:e.level}),!0))))))}},389:function(e,t,i){"use strict";function n(e){var t=32|e;return t>=97&&t<=122}var r=i(390),o=/^<([a-zA-Z]{1,15})[\s\/>]/,s=/^<\/([a-zA-Z]{1,15})[\s>]/;e.exports=function(e,t,i,a){var l,c,u,h=e.bMarks[t],d=e.eMarks[t],p=e.tShift[t];if(h+=p,!e.options.html)return!1;if(p>3||h+2>=d)return!1;if(60!==e.src.charCodeAt(h))return!1;if(l=e.src.charCodeAt(h+1),33===l||63===l){if(a)return!0}else{if(47!==l&&!n(l))return!1;if(47===l){if(c=e.src.slice(h,d).match(s),!c)return!1}else if(c=e.src.slice(h,d).match(o),!c)return!1;if(r[c[1].toLowerCase()]!==!0)return!1;if(a)return!0}for(u=t+1;u<e.lineMax&&!e.isEmpty(u);)u++;return e.line=u,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,u,0,!0)}),!0}},390:function(e,t){"use strict";var i={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){i[e]=!0}),e.exports=i},391:function(e,t){"use strict";function i(e,t){var i=e.bMarks[t]+e.blkIndent,n=e.eMarks[t];return e.src.substr(i,n-i)}e.exports=function(e,t,n,r){var o,s,a,l,c,u,h,d,p,g,m;if(t+2>n)return!1;if(c=t+1,e.tShift[c]<e.blkIndent)return!1;if(a=e.bMarks[c]+e.tShift[c],a>=e.eMarks[c])return!1;if(o=e.src.charCodeAt(a),124!==o&&45!==o&&58!==o)return!1;if(s=i(e,t+1),!/^[-:| ]+$/.test(s))return!1;if(u=s.split("|"),u<=2)return!1;for(d=[],l=0;l<u.length;l++){if(p=u[l].trim(),!p){if(0===l||l===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?d.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?d.push("left"):d.push("")}if(s=i(e,t).trim(),s.indexOf("|")===-1)return!1;if(u=s.replace(/^\||\|$/g,"").split("|"),d.length!==u.length)return!1;if(r)return!0;for(e.tokens.push({type:"table_open",lines:g=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),l=0;l<u.length;l++)e.tokens.push({type:"th_open",align:d[l],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:u[l].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:m=[t+2,0],level:e.level++}),c=t+2;c<n&&!(e.tShift[c]<e.blkIndent)&&(s=i(e,c).trim(),s.indexOf("|")!==-1);c++){for(u=s.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),l=0;l<u.length;l++)e.tokens.push({type:"td_open",align:d[l],level:e.level++}),h=u[l].substring(124===u[l].charCodeAt(0)?1:0,124===u[l].charCodeAt(u[l].length-1)?u[l].length-1:u[l].length).trim(),e.tokens.push({type:"inline",content:h,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),g[1]=m[1]=c,e.line=c,!0}},392:function(e,t){"use strict";function i(e,t){var i,n,r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return r>=o?-1:(n=e.src.charCodeAt(r++),126!==n&&58!==n?-1:(i=e.skipSpaces(r),r===i?-1:i>=o?-1:i))}function n(e,t){var i,n,r=e.level+2;for(i=t+2,n=e.tokens.length-2;i<n;i++)e.tokens[i].level===r&&"paragraph_open"===e.tokens[i].type&&(e.tokens[i+2].tight=!0,e.tokens[i].tight=!0,i+=2)}e.exports=function(e,t,r,o){var s,a,l,c,u,h,d,p,g,m,f,v,b,w;if(o)return!(e.ddIndent<0)&&i(e,t)>=0;if(d=t+1,e.isEmpty(d)&&++d>r)return!1;if(e.tShift[d]<e.blkIndent)return!1;if(s=i(e,d),s<0)return!1;if(e.level>=e.options.maxNesting)return!1;h=e.tokens.length,e.tokens.push({type:"dl_open",lines:u=[t,0],level:e.level++}),l=t,a=d;e:for(;;){for(w=!0,b=!1,e.tokens.push({type:"dt_open",lines:[l,l],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(l,l+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[l,l],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:c=[d,0],level:e.level++}),v=e.tight,g=e.ddIndent,p=e.blkIndent,f=e.tShift[a],m=e.parentType,e.blkIndent=e.ddIndent=e.tShift[a]+2,e.tShift[a]=s-e.bMarks[a],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,a,r,!0),e.tight&&!b||(w=!1),b=e.line-a>1&&e.isEmpty(e.line-1),e.tShift[a]=f,e.tight=v,e.parentType=m,e.blkIndent=p,e.ddIndent=g,e.tokens.push({type:"dd_close",level:--e.level}),c[1]=d=e.line,d>=r)break e;if(e.tShift[d]<e.blkIndent)break e;if(s=i(e,d),s<0)break;a=d}if(d>=r)break;if(l=d,e.isEmpty(l))break;if(e.tShift[l]<e.blkIndent)break;if(a=l+1,a>=r)break;if(e.isEmpty(a)&&a++,a>=r)break;if(e.tShift[a]<e.blkIndent)break;if(s=i(e,a),s<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),u[1]=d,e.line=d,w&&n(e,h),!0}},393:function(e,t){"use strict";e.exports=function(e,t){var i,n,r,o,s,a,l=t+1;if(i=e.lineMax,l<i&&!e.isEmpty(l))for(a=e.parser.ruler.getRules("paragraph");l<i&&!e.isEmpty(l);l++)if(!(e.tShift[l]-e.blkIndent>3)){for(r=!1,o=0,s=a.length;o<s;o++)if(a[o](e,l,i,!0)){r=!0;break}if(r)break}return n=e.getLines(t,l,e.blkIndent,!1).trim(),e.line=l,n.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:n,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}},394:function(e,t,i){"use strict";function n(){this.ruler=new o;for(var e=0;e<l.length;e++)this.ruler.push(l[e][0],l[e][1]);this.validateLink=r}function r(e){var t=["vbscript","javascript","file","data"],i=e.trim().toLowerCase();return i=a.replaceEntities(i),i.indexOf(":")===-1||t.indexOf(i.split(":")[0])===-1}var o=i(362),s=i(365),a=i(357),l=[["text",i(395)],["newline",i(396)],["escape",i(397)],["backticks",i(398)],["del",i(399)],["ins",i(400)],["mark",i(401)],["emphasis",i(402)],["sub",i(403)],["sup",i(404)],["links",i(405)],["footnote_inline",i(406)],["footnote_ref",i(407)],["autolink",i(408)],["htmltag",i(410)],["entity",i(412)]];n.prototype.skipToken=function(e){var t,i,n=this.ruler.getRules(""),r=n.length,o=e.pos;if((i=e.cacheGet(o))>0)return void(e.pos=i);for(t=0;t<r;t++)if(n[t](e,!0))return void e.cacheSet(o,e.pos);e.pos++,e.cacheSet(o,e.pos)},n.prototype.tokenize=function(e){for(var t,i,n=this.ruler.getRules(""),r=n.length,o=e.posMax;e.pos<o;){for(i=0;i<r&&!(t=n[i](e,!1));i++);if(t){if(e.pos>=o)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},n.prototype.parse=function(e,t,i,n){var r=new s(e,this,t,i,n);this.tokenize(r)},e.exports=n},395:function(e,t){"use strict";function i(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}e.exports=function(e,t){for(var n=e.pos;n<e.posMax&&!i(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}},396:function(e,t){"use strict";e.exports=function(e,t){var i,n,r=e.pos;if(10!==e.src.charCodeAt(r))return!1;if(i=e.pending.length-1,n=e.posMax,!t)if(i>=0&&32===e.pending.charCodeAt(i))if(i>=1&&32===e.pending.charCodeAt(i-1)){for(var o=i-2;o>=0;o--)if(32!==e.pending.charCodeAt(o)){e.pending=e.pending.substring(0,o+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(r++;r<n&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}},397:function(e,t){"use strict";for(var i=[],n=0;n<256;n++)i.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){i[e.charCodeAt(0)]=1}),e.exports=function(e,t){var n,r=e.pos,o=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(r++,r<o){if(n=e.src.charCodeAt(r),n<256&&0!==i[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){for(t||e.push({type:"hardbreak",level:e.level}),r++;r<o&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}},398:function(e,t){"use strict";e.exports=function(e,t){var i,n,r,o,s,a=e.pos,l=e.src.charCodeAt(a);if(96!==l)return!1;for(i=a,a++,n=e.posMax;a<n&&96===e.src.charCodeAt(a);)a++;for(r=e.src.slice(i,a),o=s=a;(o=e.src.indexOf("`",s))!==-1;){for(s=o+1;s<n&&96===e.src.charCodeAt(s);)s++;if(s-o===r.length)return t||e.push({type:"code",content:e.src.slice(a,o).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=s,!0}return t||(e.pending+=r),e.pos+=r.length,!0}},399:function(e,t){"use strict";e.exports=function(e,t){var i,n,r,o,s,a=e.posMax,l=e.pos;if(126!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=a)return!1;if(126!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(o=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),126===o)return!1;if(126===s)return!1;if(32===s||10===s)return!1;for(n=l+2;n<a&&126===e.src.charCodeAt(n);)n++;if(n>l+3)return e.pos+=n-l,t||(e.pending+=e.src.slice(l,n)),!0;for(e.pos=l+2,r=1;e.pos+1<a;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(o=e.src.charCodeAt(e.pos-1),s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1,126!==s&&126!==o&&(32!==o&&10!==o?r--:32!==s&&10!==s&&r++,r<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=l,!1)}},400:function(e,t){"use strict";e.exports=function(e,t){var i,n,r,o,s,a=e.posMax,l=e.pos;if(43!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=a)return!1;if(43!==e.src.charCodeAt(l+1))return!1;
if(e.level>=e.options.maxNesting)return!1;if(o=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),43===o)return!1;if(43===s)return!1;if(32===s||10===s)return!1;for(n=l+2;n<a&&43===e.src.charCodeAt(n);)n++;if(n!==l+2)return e.pos+=n-l,t||(e.pending+=e.src.slice(l,n)),!0;for(e.pos=l+2,r=1;e.pos+1<a;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(o=e.src.charCodeAt(e.pos-1),s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1,43!==s&&43!==o&&(32!==o&&10!==o?r--:32!==s&&10!==s&&r++,r<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=l,!1)}},401:function(e,t){"use strict";e.exports=function(e,t){var i,n,r,o,s,a=e.posMax,l=e.pos;if(61!==e.src.charCodeAt(l))return!1;if(t)return!1;if(l+4>=a)return!1;if(61!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(o=l>0?e.src.charCodeAt(l-1):-1,s=e.src.charCodeAt(l+2),61===o)return!1;if(61===s)return!1;if(32===s||10===s)return!1;for(n=l+2;n<a&&61===e.src.charCodeAt(n);)n++;if(n!==l+2)return e.pos+=n-l,t||(e.pending+=e.src.slice(l,n)),!0;for(e.pos=l+2,r=1;e.pos+1<a;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(o=e.src.charCodeAt(e.pos-1),s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1,61!==s&&61!==o&&(32!==o&&10!==o?r--:32!==s&&10!==s&&r++,r<=0))){i=!0;break}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=l+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=l,!1)}},402:function(e,t){"use strict";function i(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function n(e,t){var n,r,o,s=t,a=!0,l=!0,c=e.posMax,u=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;s<c&&e.src.charCodeAt(s)===u;)s++;return s>=c&&(a=!1),o=s-t,o>=4?a=l=!1:(r=s<c?e.src.charCodeAt(s):-1,32!==r&&10!==r||(a=!1),32!==n&&10!==n||(l=!1),95===u&&(i(n)&&(a=!1),i(r)&&(l=!1))),{can_open:a,can_close:l,delims:o}}e.exports=function(e,t){var i,r,o,s,a,l,c,u=e.posMax,h=e.pos,d=e.src.charCodeAt(h);if(95!==d&&42!==d)return!1;if(t)return!1;if(c=n(e,h),i=c.delims,!c.can_open)return e.pos+=i,t||(e.pending+=e.src.slice(h,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=h+i,l=[i];e.pos<u;)if(e.src.charCodeAt(e.pos)!==d)e.parser.skipToken(e);else{if(c=n(e,e.pos),r=c.delims,c.can_close){for(s=l.pop(),a=r;s!==a;){if(a<s){l.push(s-a);break}if(a-=s,0===l.length)break;e.pos+=s,s=l.pop()}if(0===l.length){i=s,o=!0;break}e.pos+=r;continue}c.can_open&&l.push(r),e.pos+=r}return o?(e.posMax=e.pos,e.pos=h+i,t||(2!==i&&3!==i||e.push({type:"strong_open",level:e.level++}),1!==i&&3!==i||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==i&&3!==i||e.push({type:"em_close",level:--e.level}),2!==i&&3!==i||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+i,e.posMax=u,!0):(e.pos=h,!1)}},403:function(e,t){"use strict";var i=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;e.exports=function(e,t){var n,r,o=e.posMax,s=e.pos;if(126!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=o)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=s+1;e.pos<o;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&s+1!==e.pos?(r=e.src.slice(s+1,e.pos),r.match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,t||e.push({type:"sub",level:e.level,content:r.replace(i,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)):(e.pos=s,!1)}},404:function(e,t){"use strict";var i=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;e.exports=function(e,t){var n,r,o=e.posMax,s=e.pos;if(94!==e.src.charCodeAt(s))return!1;if(t)return!1;if(s+2>=o)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=s+1;e.pos<o;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&s+1!==e.pos?(r=e.src.slice(s+1,e.pos),r.match(/(^|[^\\])(\\\\)*\s/)?(e.pos=s,!1):(e.posMax=e.pos,e.pos=s+1,t||e.push({type:"sup",level:e.level,content:r.replace(i,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0)):(e.pos=s,!1)}},405:function(e,t,i){"use strict";var n=i(366),r=i(368),o=i(370),s=i(371);e.exports=function(e,t){var i,a,l,c,u,h,d,p,g=!1,m=e.pos,f=e.posMax,v=e.pos,b=e.src.charCodeAt(v);if(33===b&&(g=!0,b=e.src.charCodeAt(++v)),91!==b)return!1;if(e.level>=e.options.maxNesting)return!1;if(i=v+1,a=n(e,v),a<0)return!1;if(h=a+1,h<f&&40===e.src.charCodeAt(h)){for(h++;h<f&&(p=e.src.charCodeAt(h),32===p||10===p);h++);if(h>=f)return!1;for(v=h,r(e,h)?(c=e.linkContent,h=e.pos):c="",v=h;h<f&&(p=e.src.charCodeAt(h),32===p||10===p);h++);if(h<f&&v!==h&&o(e,h))for(u=e.linkContent,h=e.pos;h<f&&(p=e.src.charCodeAt(h),32===p||10===p);h++);else u="";if(h>=f||41!==e.src.charCodeAt(h))return e.pos=m,!1;h++}else{if(e.linkLevel>0)return!1;for(;h<f&&(p=e.src.charCodeAt(h),32===p||10===p);h++);if(h<f&&91===e.src.charCodeAt(h)&&(v=h+1,h=n(e,h),h>=0?l=e.src.slice(v,h++):h=v-1),l||("undefined"==typeof l&&(h=a+1),l=e.src.slice(i,a)),d=e.env.references[s(l)],!d)return e.pos=m,!1;c=d.href,u=d.title}return t||(e.pos=i,e.posMax=a,g?e.push({type:"image",src:c,title:u,alt:e.src.substr(i,a-i),level:e.level}):(e.push({type:"link_open",href:c,title:u,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=h,e.posMax=f,!0}},406:function(e,t,i){"use strict";var n=i(366);e.exports=function(e,t){var i,r,o,s,a=e.posMax,l=e.pos;return!(l+2>=a)&&(94===e.src.charCodeAt(l)&&(91===e.src.charCodeAt(l+1)&&(!(e.level>=e.options.maxNesting)&&(i=l+2,r=n(e,l+1),!(r<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),o=e.env.footnotes.list.length,e.pos=i,e.posMax=r,e.push({type:"footnote_ref",id:o,level:e.level}),e.linkLevel++,s=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[o]={tokens:e.tokens.splice(s)},e.linkLevel--),e.pos=r+1,e.posMax=a,!0)))))}},407:function(e,t){"use strict";e.exports=function(e,t){var i,n,r,o,s=e.posMax,a=e.pos;if(a+3>s)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(a))return!1;if(94!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(n=a+2;n<s;n++){if(32===e.src.charCodeAt(n))return!1;if(10===e.src.charCodeAt(n))return!1;if(93===e.src.charCodeAt(n))break}return n!==a+2&&(!(n>=s)&&(n++,i=e.src.slice(a+2,n-1),"undefined"!=typeof e.env.footnotes.refs[":"+i]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+i]<0?(r=e.env.footnotes.list.length,e.env.footnotes.list[r]={label:i,count:0},e.env.footnotes.refs[":"+i]=r):r=e.env.footnotes.refs[":"+i],o=e.env.footnotes.list[r].count,e.env.footnotes.list[r].count++,e.push({type:"footnote_ref",id:r,subId:o,level:e.level})),e.pos=n,e.posMax=s,!0)))}},408:function(e,t,i){"use strict";var n=i(409),r=i(369),o=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,s=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;e.exports=function(e,t){var i,a,l,c,u,h=e.pos;return 60===e.src.charCodeAt(h)&&(i=e.src.slice(h),!(i.indexOf(">")<0)&&((a=i.match(s))?!(n.indexOf(a[1].toLowerCase())<0)&&(c=a[0].slice(1,-1),u=r(c),!!e.parser.validateLink(c)&&(t||(e.push({type:"link_open",href:u,level:e.level}),e.push({type:"text",content:c,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=a[0].length,!0)):(l=i.match(o),!!l&&(c=l[0].slice(1,-1),u=r("mailto:"+c),!!e.parser.validateLink(u)&&(t||(e.push({type:"link_open",href:u,level:e.level}),e.push({type:"text",content:c,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=l[0].length,!0)))))}},409:function(e,t){"use strict";e.exports=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"]},410:function(e,t,i){"use strict";function n(e){var t=32|e;return t>=97&&t<=122}var r=i(411).HTML_TAG_RE;e.exports=function(e,t){var i,o,s,a=e.pos;return!!e.options.html&&(s=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=s)&&(i=e.src.charCodeAt(a+1),!(33!==i&&63!==i&&47!==i&&!n(i))&&(!!(o=e.src.slice(a).match(r))&&(t||e.push({type:"htmltag",content:e.src.slice(a,a+o[0].length),level:e.level}),e.pos+=o[0].length,!0))))}},411:function(e,t){"use strict";function i(e,t){return e=e.source,t=t||"",function i(n,r){return n?(r=r.source||r,e=e.replace(n,r),i):new RegExp(e,t)}}var n=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,r=/[^"'=<>`\x00-\x20]+/,o=/'[^']*'/,s=/"[^"]*"/,a=i(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",r)("single_quoted",o)("double_quoted",s)(),l=i(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",n)("attr_value",a)(),c=i(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",l)(),u=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,h=/<!--([^-]+|[-][^-]+)*-->/,d=/<[?].*?[?]>/,p=/<![A-Z]+\s+[^>]*>/,g=/<!\[CDATA\[([^\]]+|\][^\]]|\]\][^>])*\]\]>/,m=i(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",c)("close_tag",u)("comment",h)("processing",d)("declaration",p)("cdata",g)();e.exports.HTML_TAG_RE=m},412:function(e,t,i){"use strict";var n=i(358),r=i(357).has,o=i(357).isValidEntityCode,s=i(357).fromCodePoint,a=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,l=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var i,c,u,h=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(h))return!1;if(h+1<d)if(i=e.src.charCodeAt(h+1),35===i){if(u=e.src.slice(h).match(a))return t||(c="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=s(o(c)?c:65533)),e.pos+=u[0].length,!0}else if(u=e.src.slice(h).match(l),u&&r(n,u[1]))return t||(e.pending+=n[u[1]]),e.pos+=u[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},413:function(e,t){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","linkify","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}}},414:function(e,t){"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}}},415:function(e,t){"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,linkTarget:"",typographer:!1,quotes:"ââââ",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}},416:function(e,t,i){"use strict";var n=i(3),r={text:i(417),photo:i(532),link:i(578),quote:i(581),chat:i(583),audio:i(585),video:i(603),note:i(612)},o=i(417),s=function(e){var t,i;return n.isPlainObject(e)?t=e.model:(t=e,e={model:t}),new(i=r[t.get("type")]||o)(e)};e.exports=s},417:function(e,t,i){"use strict";var n=i(3),r=i(130),o=i(418),s=i(292),a=i(419),l=i(452),c=i(531),u=o.extend({events:{},template:c,createSubViews:function(){var e=this.subViewOptions(),t=this.post.isReblog(),i=n.extend({className:"title-field",name:"title",placeholder:r("Title"),ariaLabel:r("Post title"),smartQuotesEnabled:!0,disableEdit:t},e),o=n.extend({className:"caption-field",name:"body",placeholder:r("Your text here"),ariaLabel:r("Post body"),openImageSearchOnLoad:"gif"===this.post.get("type")},e),c=n.extend({isRemovable:!0,origType:this.post.get("type")},e);t&&"text"===this.post.get("type")?this.title=this.subViews.title=null:this.title=this.subViews.title=new s(i),this.body=this.subViews.body=new l(o),t&&(this.reblogTree=this.subViews.reblogTree=new a(c)),this.registerTitleKeyboardShortcut(this.title)},afterRender:function(){this.renderSubViews(),this.delayedFocus(this.body)},getRichTextEditor:function(){return this.body}});e.exports=u},418:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(277),l=i(136),c=n.template(""),u=r.extend({template:c,mixins:[o,s,a],defaults:{hasMediaView:!1,hideControlsLine:!1},defaultOptions:{supportImageSearch:!1,minFullWidthSize:300},initialize:function(e){if(this.options=e=n.extend({},this.defaultOptions,e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),!e.post)throw new Error("PostFormView requires a Post model!");if(!e.user)throw new Error("PostFormView requires a User model");n.extend(this,n.pick(e,["post","user","uploads"])),n.isFunction(this.afterInitialize)&&this.afterInitialize.apply(this,arguments)},createSubViews:function(){},subViewOptions:function(){return n.extend({},n.pick(this.options,"supportImageSearch","minFullWidthSize","dragEvents"),n.pick(this,"model","uploads","user","post"))},addStateListeners:function(){},getRichTextEditor:function(){},serialize:function(){return n.extend({canEditMedia:this.post.canEditMedia()},this.post.toJSON(),this.toJSON())},teardown:function(){return this.stopListening(),this.$el.empty(),this},beforeRender:function(){this.createSubViews(),this.addStateListeners()},render:function(){return this.$el.html(this.template(this.serialize())),this.attachSubViews(),this},registerTitleKeyboardShortcut:function(e){var t=/Mac/.test(navigator.platform)?"meta":"ctrl";return this.listenTo(l,"DOMEventor:keydown:"+t+"+shift+1",function(){e.focus()}),e},delayedFocus:function(e,t,i){"undefined"!=typeof i||(i=!0),"number"==typeof t||(t=200),n.delay(n.bind(function(){e.focus(i),i&&e.setCursorToEnd()},this),t||0)},getMinFullWidthSize:function(){return this.options.minFullWidthSize}});e.exports=u},419:function(e,t,i){"use strict";var n=i(3),r=i(277),o=i(130),s=i(226),a=i(420),l=i(421),c=i(422),u=i(425),h=i(426),d=i(449),p=i(451),g=s.extend({template:p,defaults:{isRemovable:!1,originalReblogItem:!1},mixins:[r],events:{"click .btn-toggle-reblog":"toggleRemoveReblogTree","mouseenter .reblog-trail-post-content":"_onMouseEnter","mouseleave .reblog-trail-post-content":"_onMouseLeave"},initialize:function(e){this.options=n.merge({},this.defaults,e);var t=this._getReblogTrail(this.model);this.set("isRemovable",!n.get(t,"0.is_blogless_advertiser",!1));var i=!1;if(t&&(i=t.length&&t[0].is_original_entry,i?(this.reblogListCollection=new a(t.slice(1)),this.originalReblogItem=new l(t[0])):this.reblogListCollection=new a(t)),this.reblogListCollection){var r=!!this.reblogListCollection.length&&this.reblogListCollection.first().get("title"),s=this._getCurrentTitleMeta(this.model);this.originalReblogItem?this.originalReblogItemView=this.subviews.originalReblogItemView=new h({model:this.originalReblogItem,origTextPost:i&&"text"===this.model.get("type"),isFirstEntry:!0}):!r&&s&&(this.originalReblogItemView=this.subviews.originalReblogItemView=new d({model:new l(s)})),this.reblogCollectionView=this.subviews.reblogCollectionView=new u({collection:this.reblogListCollection,postType:this.model.get("type"),originalPostRemoved:null!==this.originalReblogItemView}),this.get("isRemovable")&&(this.removeButton=this.subviews.removeButton=new c({tooltip:o("Remove reblogs"),buttonClass:"btn-remove-trail btn-toggle-reblog"}),this.listenTo(this.removeButton,"mouseenter",this._onMouseEnterRemoveButton),this.listenTo(this.removeButton,"mouseleave",this._onMouseLeaveRemoveButton))}},_getReblogData:function(e){return JSON.parse(e.get("reblog_trail"))},_getReblogTrail:function(e){return n.get(this._getReblogData(e),"reblog_entries")},_getCurrentTitleMeta:function(e){return n.get(this._getReblogData(e),"current_title_meta")},getTemplateData:function(){return{isRemovable:this.get("isRemovable")}},toggleRemoveReblogTree:function(){var e=this.$$(".control-reblog-trail"),t=this.model.has("remove_reblog_tree")&&this.model.get("remove_reblog_tree");this.model.set("remove_reblog_tree",!t),e.toggleClass("removed",!t)},_onMouseEnter:function(){this.removeButton&&this.removeButton.setActive()},_onMouseLeave:function(){this.removeButton&&this.removeButton.setInactive()},_onMouseEnterRemoveButton:function(){this.reblogCollectionView.$el.addClass("fade")},_onMouseLeaveRemoveButton:function(){this.reblogCollectionView.$el.removeClass("fade")}});e.exports=g},420:function(e,t,i){"use strict";var n=i(190),r=i(421),o=n.extend({model:r});e.exports=o},421:function(e,t,i){"use strict";var n=i(185),r=n.extend({defaults:{pid:null,name:null,permalink:null,content:null,data_peepr:null}});e.exports=r},422:function(e,t,i){"use strict";var n=i(423);e.exports=n},423:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(277),l=i(424),c=r.extend({events:{click:"_onClick",mouseenter:"_onMouseEnter",mouseleave:"_onMouseLeave"},template:l,mixins:[o,s,a],defaults:{dataJsName:"removeButton",buttonClass:""},initialize:function(e){e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),this.onClick=e.onClick},serialize:function(){return this.toJSON()},render:function(){return this.$el.html(this.template(this.serialize())),this.get("dataJsName")&&this.$$(".remove-button").attr("data-js-"+this.get("dataJsName"),""),this},setActive:function(){this.$$(".remove-button").addClass("active")},setInactive:function(){this.$$(".remove-button").removeClass("active")},_onClick:function(){n.isFunction(this.onClick)?this.onClick(this):this.trigger("remove")},_onMouseEnter:function(){this.trigger("mouseenter")},_onMouseLeave:function(){this.trigger("mouseleave")}});e.exports=c},424:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="remove-button '+__e(buttonClass)+'"><span class="icon"></span></div>';return __p}.toString()).apply(void 0,_values(_imports))},425:function(e,t,i){"use strict";var n=i(3),r=i(226),o=i(426),s=r.extend({className:"reblog-list",initialize:function(e){this.options=n.merge({},this.defaults,e);var t=this.collection,i="text"===this.options.postType,r=this.options.originalPostRemoved||!1;t.each(function(e,t){var n=i&&e.get("is_original_entry");this.subviews["reblog-list-item-"+t]=new o({model:e,origTextPost:n,isFirstEntry:!r&&0===t})},this)},render:function(){return n.each(this.subviews,n.bind(function(e){this.$el.append(e.render().$el)},this)),this},teardown:function(){return n.each(this.subviews,function(e){e.remove()}),this}});e.exports=s},426:function(e,t,i){"use strict";var n=i(3),r=i(427),o=i(226),s=i(448),a=o.extend({className:"reblog-list-item",template:s,defaults:{},initialize:function(e){this.options=n.merge({},this.defaults,e),this.options.origTextPost&&this.$el.addClass("reblog-list-item--text-post-original")},getTemplateData:function(){var e={data_peepr:this.model.get("data_peepr"),name:this.model.get("name"),permalink:this.model.get("permalink"),avatar_url:this.model.get("avatar_url"),title:this.model.get("title"),content:n.trim(this.model.get("content"))?this.model.get("content"):"",isOriginalEntry:this.model.get("is_original_entry"),isFirstEntry:this.options.isFirstEntry,isBloglessAdvertiser:this.model.get("is_blogless_advertiser")};return e},render:function(){this.$el.html(this.template(this.getTemplateData()));var e=this.$("video[data-crt-video]");return e.length&&(this.video=r.newPlayer(e[0],{attributes:{autoplay:!1,muted:!0,isInPeepr:!1,watch:!1}})),this},beforeTeardown:function(){this.video&&this.video.teardown(),this.video=null}});e.exports=a},448:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="reblog-header'+(null==(__t=isBloglessAdvertiser?" is-blogless-advertiser":"")?"":__t)+'"> ',permalink?(__p+=' <a class="reblog-avatar '+__e(isOriginalEntry||isFirstEntry?"":"sub-icon-reblog")+'" href="'+__e(permalink)+'" rel="noopener" data-peepr="'+__e(data_peepr)+'"> ',avatar_url&&(__p+=' <img class="reblog-avatar-image-thumb" src="'+__e(avatar_url)+'"> '),__p+=' </a><a class="reblog-tumblelog-name" href="'+__e(permalink)+'" rel="noopener" data-peepr="'+__e(data_peepr)+'"> '+__e(name)+" </a> "):(__p+=' <span class="reblog-avatar inactive '+(null==(__t=isOriginalEntry?"":"sub-icon-reblog")?"":__t)+'"> ',avatar_url&&(__p+=' <img class="reblog-avatar-image-thumb" src="'+__e(avatar_url)+'"> '),__p+=' </span><span class="reblog-tumblelog-name inactive"> '+__e(name)+" </span> "),__p+=" </div> ",title&&(__p+=' <div class="reblog-title"> '+__e(title)+" </div> "),__p+=" ",content&&""!==content&&(__p+=' <div class="reblog-content">'+(null==(__t=content)?"":__t)+"</div> ");return __p}.toString()).apply(void 0,_values(_imports))},449:function(e,t,i){"use strict";var n=i(3),r=i(226),o=i(450),s=r.extend({className:"reblog-list-title reblog-list-item",template:o,defaults:{},initialize:function(e){this.options=n.merge({},this.defaults,e)},getTemplateData:function(){var e={name:this.model.get("name"),avatar_url:this.model.get("avatar_url"),title:this.model.get("title"),isBloglessAdvertiser:this.model.get("is_blogless_advertiser")};return e}});e.exports=s},450:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="reblog-header'+(null==(__t=isBloglessAdvertiser?" is-blogless-advertiser":"")?"":__t)+'"><span class="reblog-avatar"> ',avatar_url&&(__p+=' <img class="reblog-avatar-image-thumb" src="'+__e(avatar_url)+'"> '),__p+=' </span><span class="reblog-tumblelog-name inactive"> '+__e(name)+" </span></div> ",title&&(__p+=' <div class="reblog-title"> '+__e(title)+" </div> ");return __p}.toString()).apply(void 0,_values(_imports))},451:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="control-reblog-trail post"> ',this.subviews.originalReblogItemView&&(__p+=' <div class="reblog-trail--original-post"> '+(null==(__t=_subview("originalReblogItemView"))?"":__t)+" </div> "),__p+=" ",this.subviews.reblogCollectionView&&(__p+=' <div class="reblog-trail-post-content"> ',isRemovable&&(__p+=' <div class="remove-button-wrapper" data-subview="removeButton"></div><div class="btn-show-trail btn-toggle-reblog">'+__e(__("Put reblogs back"))+"</div> "),__p+=" "+(null==(__t=_subview("reblogCollectionView"))?"":__t)+" </div> "),__p+=" </div>";return __p}.toString()).apply(void 0,_values(_imports))},452:function(e,t,i){"use strict";function n(e,t){t.find(".velocity-animating").each(function(e,t){u(t).removeClass("velocity-animating").removeAttr("style")}),t.find('[class=""]').removeAttr("class"),t.find('img[src^="data:"]').attr("src","")}function r(e,t,i,n){c.each(e,function(e,i){n.find("["+t+'="'+i+'"]').attr("data-uploading-key",i).removeAttr("src")})}function o(e,t,i,n){c.each(e,function(e,i){n.find("["+t+'="'+i+'"]').remove()})}function s(e,t,i,n){c.each(e,function(e,i){n.find("["+t+'="'+i+'"]').attr("src",e)})}function a(e,t,i,n){n.find("["+e+"]").filter(t?":not([ "+t+"])":"*").removeAttr(e)}function l(e,t,i,n,r,o){o.find("["+n+'="'+e+'"]').removeAttr("data-uploading-key").removeAttr(n).attr("src",t)}var c=i(3),u=i(8),h=i(192),d=i(219),p=i(235).animate,g=i(235).hook,m=i(237),f=i(213),v=(i(132),i(130)),b=i(136),w=i(355),y=new w({html:!0}),_=i(453).toMarkdown,k=i(293),x=i(293).HumanKeys,A=i(455),C=i(456),E=i(460),S=i(500),T=i(503),F=i(523),L=i(276),R=i(277),$=i(230),D=i(526),B=i(527),M=i(129),j=i(266),I=i(259),P=i(260),O=i(262),N=i(528),z=i(529),q=i(487),W=i(354),V=i(530),U=1080,H=1,G=2,K=d.extend({defaults:{placeholder:"",ariaLabel:"",name:"",syncWithModel:!0,supportImages:!0,supportImageSearch:!1,supportInlineEmbeds:!0,supportMentions:!0,openImageSearchOnLoad:!1,fullWidthInlineMedia:!0,inlineMediaWidthReblog:250,inlineEmbedsPerPost:5,minFullWidthSize:300,fullWidthClass:"tmblr-full",animateInlineControls:!0,maxUploadBytesImage:20971520},events:{},mixins:[$,L,R,D],template:B,pendingMedia:{},filtersToModel:[],filtersToEditor:[],initialize:function(e){e||(e=c.extend({},e)),c.extend(this.attributes,c.pick(e,c.keys(this.defaults))),c.extend(this,c.pick(e,"post")),c.has(e,"user")&&e.user.has("maxUploadBytesImage")&&this.set("maxUploadBytesImage",e.user.get("maxUploadBytesImage")),c.has(e,"user")&&e.user.has("inlineEmbedsPerPost")?this.set("inlineEmbedsPerPost",e.user.get("inlineEmbedsPerPost")):this.set("inlineEmbedsPerPost",M.get("Components/PostFormBuilder/limits/inlineEmbedsPerPost")),this.hosts=M.get("Context/hosts"),this.editor=null,this.humanKeys=new x,this.keyCommands=K.KEYCOMMANDS,c.forEach(["onChange","onClientEvent","onImageAdded","pasteHook"],function(t){var i=e[t]||this[t];c.isFunction(i)?this[t]=c.bind(i,this):this[t]=c.noop},this);var t=this.get("name");t&&this.get("syncWithModel")&&(this.$el.attr("data-name",t),this.listenTo(this.model,"change:editorType",this._onChangeEditorType)),c.has(e,"user")&&e.user.has("inlineEmbedsPerPost")&&this.set("inlineEmbedsPerPost",e.user.get("inlineEmbedsPerPost")),c.has(e,"user")&&e.user.has("hasGifSearchVariation")&&this.set("hasGifSearchVariation",e.user.get("hasGifSearchVariation"))},_onChangeEditorType:function(e,t){var i=e.previous("editorType");"rich"===i?this.updateModelFromEditor("markdown"!==t?G:H):"markdown"===i&&this.convertModelFromMarkdown(),"markdown"===t&&this.convertModelToMarkdown(),this.updateEditorType(t,!0),this.focus()},_initializeEditor:function(e,t){var i=c.bind(this.humanKeys.pretty,this.humanKeys),n={placeholder:t,flattenBlocks:!0,onChange:this._composeOnChange(),onAsyncImageAdded:c.bind(this.onAsyncImageAdded,this),onFileAdded:c.bind(this.insertImageFromFile,this),inlineControlsConfig:{openTray:c.bind(this.openInlineControlsTray,this),closeTray:c.bind(this.closeInlineControlsTray,this),onTrayOpened:c.bind(this.onInlineControlsTrayOpened,this),onTrayClosed:c.bind(this.onInlineControlsTrayClosed,this),onShow:c.bind(this.onInlineControlsShow,this),onHide:c.bind(this.onInlineControlsHide,this),customOffset:{x:0,y:0}},addImgAttrs:{toImg:!0,toImgParent:!0},formattingControlsConfig:{controls:{bold:{el:"b",className:"bold",command:"bold",type:"inline",title:v("Bold (%1$s)",i(this.keyCommands.BOLD)),keyboard:this.keyCommands.BOLD},italic:{el:"i",className:"italic",command:"italic",type:"inline",title:v("Italic (%1$s)",i(this.keyCommands.ITALIC)),keyboard:this.keyCommands.ITALIC},headline:{el:"h2",className:"headline",command:"formatBlock",type:"block",title:v("Headline (%1$s)",i(this.keyCommands.HEADLINE)),keyboard:this.keyCommands.HEADLINE},link:{el:"a",className:"link",command:"createLink",type:"inline",title:v("Link (%1$s)",i(this.keyCommands.LINK)),keyboard:this.keyCommands.LINK},strikethrough:{el:"strike",className:"strikethrough",command:"strikethrough",type:"inline",title:v("Strikethrough (%1$s)",i(this.keyCommands.STRIKETHROUGH)),keyboard:this.keyCommands.STRIKETHROUGH},orderedList:{el:"ol",className:"ordered-list",command:"insertOrderedList",type:"list",title:v("Ordered list (%1$s)",i(this.keyCommands.ORDEREDLIST)),keyboard:this.keyCommands.ORDEREDLIST},unorderedList:{el:"ul",className:"unordered-list",command:"insertUnorderedList",type:"list",title:v("Unordered list (%1$s)",i(this.keyCommands.UNORDEREDLIST)),keyboard:this.keyCommands.UNORDEREDLIST},blockquote:{el:"blockquote",className:"quote",command:"formatBlock",type:"block",title:v("Blockquote (%1$s)",i(this.keyCommands.BLOCKQUOTE)),keyboard:this.keyCommands.BLOCKQUOTE},clear:{el:"",command:"removeFormat",type:"inline",keyboard:this.keyCommands.REMOVEFORMAT},pre:{el:"pre",command:"formatBlock",type:"block",keyboard:this.keyCommands.PRE},superscript:{el:"sup",command:"superscript",type:"inline",keyboard:this.keyCommands.SUPERSCRIPT},subscript:{el:"sub",command:"subscript",type:"inline",keyboard:this.keyCommands.SUBSCRIPT},small:{el:"small",command:"insertHTML",type:"inline",keyboard:this.keyCommands.SMALL,keyboardInverse:this.keyCommands.SMALLINVERSE}},controlsOrder:["bold","italic","headline","link","strikethrough","orderedList","unorderedList","blockquote"]},pasteHook:this.pasteHook,blurHook:c.bind(this.blurHook,this),documentMousedownHook:c.bind(this.documentMousedownHook,this),runIFrameSanitization:!1,mediaHolderCallback:c.bind(this._mediaHolderCallback,this),filterRules:{elements:["a","b","i","strike","h2","blockquote","p","ul","ol","li","iframe","figure","img","br","hr","pre","code","small","sup","sub","figcaption"],attributes:{a:["href","title"],img:["src","alt","data-img-key","data-orig-width","data-orig-height","data-orig-src","data-media-key"],iframe:["src","width","height","allowfullscreen","mozallowfullscreen","webkitallowfullscreen","frameborder"],figure:["data-provider","data-url","data-orig-width","data-orig-height","data-orig-src","data-embed-code","data-tumblr-attribution"],hr:["data-label"]},classnames:{a:["tumblr_blog","tmblr-truncated-link"],hr:["tmblr-truncated"],blockquote:["link_og_blockquote"],figure:["tmblr-embed","tmblr-embed-placeholder","tmblr-full"]},remove_contents:["style","noscript","script","meta"],protocols:{a:!1,iframe:{src:["https://","http://","//"]}}},labels:{Edit:v("Edit"),Remove:v("Remove"),Open:v("Open"),Done:v("Done")},animateShowControls:function(e){e.element.show();var t=60,i=8;c.forEach(e.buttons,function(e,n){var r=u(e);p(r,"stop"),g(r,"translateY",i),r.css("opacity",0),p(r,{translateY:[0,i],opacity:[1,0]},{delay:.25*n*t,duration:t,complete:function(){r.attr("style","")}})},this)},animateHideControls:function(e){var t=100,i=8;c.forEach(e.buttons,function(n,r){var o=u(n);p(o,"stop");var s=p(o,{translateY:i,opacity:0},{duration:t});r===e.buttons.length-1&&s.then(function(){e.element.hide()})},this)},mediaKillerMarkup:'<div class="media-button icon_close"></div>',mediaMoverMarkup:'<div class="media-button icon_drag"></div>',showStaticControls:!1,smartQuotes:{enabled:!0}
};this._setupEditorFilters(),this.editor=new k.RichTextEditor(e,n),this.inlineControlNode=!1,this.get("supportImages")&&this._initializeImageSupport(),this.inlineEmbedSupport=!1,this.get("supportInlineEmbeds")&&this._initializeInlineEmbedSupport(),this.imageSearchSupport=!1,this.get("supportImageSearch")&&this._initializeImageSearchSupport(),this.mentionSupport=!1,this.get("supportMentions")&&this._initializeMentionSupport(),this._initializeReadMoreSupport(),this.editor.config.filterForSetData=c.compose.apply(this,this.editorFilters.preSet),this.editor.config.filterForGetData=c.compose.apply(this,this.editorFilters.preGet),this.updateEditorType(),"markdown"===this.getEditorType()&&(this.model.set(this.get("name"),this._modelValue().replace(/^\s*<p>([\S\s]*)<\/p>\s*$/i,"$1")),this.htmlField.updateValueFromModel(),this.htmlField.updateEditor())},_setupEditorFilters:function(){this.editorFilters={preSet:[],preGet:[]},this.editorFilters.preSet.push(this._tagTranslator)},_tagTranslator:function(e,t){return t||(t={h1:"h2",h3:"b",h4:"b",h5:"b",h6:"b",strong:"b",em:"i"}),z(e,t)},updateInlineImages:function(){var e=!1,t=u(this.editor.element).find("img["+this.editor.config.imgKeyAttr+"]");t.each(c.bind(function(t,i){c.get(this.editor.mediaTracker[u(i).attr(this.editor.config.imgKeyAttr)],"updatedSource")||(e=!0)},this)),this.post.set("hasLoadingInlineImages",e)},_composeOnChange:function(){var e=[this.onChange],t=this;return this.get("syncWithModel")&&e.unshift(this.updateModelFromEditor),e.unshift(this.updateInlineImages),function(){c.each(e,function(e){e.call(t)})}},pasteHook:function(e,t){var i=e.getData("text/plain"),n=i.trim();return j.isImageUrl(n)&&!t?(this.insertImageFromUrl(n,i),!0):j.isUrl(n)&&!t?(this.editor.insertData('<a href="'+n+'">'+n+"</a>"),!0):void 0},cancelBlur:function(){this.cancelNextBlur=!0},resumeBlur:function(e){this.defaultBlur?this.defaultBlur(e):c.isFunction(e)&&e()},blurHook:function(e,t){if(this.cancelNextBlur)return this.cancelNextBlur=!1,this.defaultBlur=t,!0},addElementToControlsCloseWhitelist:function(e){this.controlsCloseWhitelist||(this.controlsCloseWhitelist=[]),this.controlsCloseWhitelist.push(e)},removeElementFromControlsCloseWhitelist:function(e){c.isEmpty(this.controlsCloseWhitelist)||(this.controlsCloseWhitelist=c.without(this.controlsCloseWhitelist,e))},documentMousedownHook:function(e,t){return!(!this.imageSearchSupport||!this.imageSearchSupport.isOpen())||(c.isEmpty(this.controlsCloseWhitelist)?void 0:c.find(this.controlsCloseWhitelist,function(t){return t===e.target||u.contains(t,e.target)}))},_mediaHolderCallback:function(){this.mediaHolderCallback.apply(this,arguments)},mediaHolderCallback:function(e,t,i,n){i.is("hr, img, figure")&&c.isEmpty(i.find("iframe"))&&(n.addClass("media-holder-draggable"),c.isEmpty(i.find("[data-tumblr-query]"))||n.addClass("media-holder--gif-search")),n.addClass("media-holder-"+i.prop("tagName").toLowerCase())},_initializeImageSupport:function(){var e=this.model?this.model.id:"",t=this.model?this.model.get("tumblelog"):"";this.imageUploader=new F({name:"image",maxUploadSize:this.get("maxUploadBytesImage"),uploadPattern:/^image\/(?:.*)$/i,accept:"image/*",url:"/svc/post/upload_text_image?post_id="+e+"&channel="+t});var i=u("<div />",{class:"control add-image","data-control-name":"inline-image",tabindex:"0",title:v("Insert photo (%1$s)",this.humanKeys.pretty(this.keyCommands.PHOTO))});i.on("click",c.bind(function(e){this.editor.staticControls.hide()},this)),i.append('<input type="file" accept="image/*" tabindex="-1" multiple="true">'),i.on('change input[type="file"]',c.bind(function(e){var t=u(e.target),n=c.toArray(t.prop("files"));c.forEach(n,function(e){this.insertImageFromFile(e)},this),t.remove(),i.append('<input type="file" accept="image/*" multiple="true">'),this.editor.inlineControls.close()},this)),this.editor.inlineControls.addToTray(i,{keyboard:{shortcut:this.keyCommands.PHOTO,callback:c.bind(function(){this._inlineControlKeyboardFocus(i)},this)}}),this.listenTo(this.imageUploader,"error",this._onFileUploadError)},_initializeImageSearchSupport:function(){var e=function(){this._inlineControlKeyboardFocus(this.imageSearchSupport.getButton(),function(){this.openImageSearch()},this)};this.imageSearchSupport=new E({editorView:this,editor:this.editor,title:v("Insert GIF (%1$s)",this.humanKeys.pretty(this.keyCommands.GIF)),trayOptions:{keyboard:{shortcut:this.keyCommands.GIF,callback:e,context:this}}}),this.mediaHolderCallback=V([this.mediaHolderCallback,c.bind(this.imageSearchSupport.addTumblrAttribution,this.imageSearchSupport)],this),this.filtersToModel.push(c.bind(this.imageSearchSupport.cleanupMarkup,this)),this.listenTo(this.imageSearchSupport,"prompt",function(){this.trigger("controls:gif:prompt")})},_onFileUploadError:function(e,t){var i=t.get("error")||v("Error uploading photo");f.alert("<p>"+i+"</p>")},insertImageFromUrl:function(e,t,i){t===!1||t||(t=e),i||(i={});var n=h.defer(),r=c.bind(function(){n.reject()},this);return I.load(e).then(c.bind(function(e){this.listenToOnce(this,"asyncImageAdded",function(e,t,i){n.resolve(e,t)}),this.editor.insertAsyncImage(e.src,null,i.targetNode,i.direction,i.skipSelectionUpdate)},this),c.bind(function(){t&&this.editor.insertData(t),r()},this)),n.promise},insertImageFromFile:function(e,t){t||(t={});var i=h.defer(),n=c.bind(function(){i.reject()},this);return e.type.match(/image\/(jpg|jpeg|png)/i)?P.read(e).then(c.bind(function(r){I.load(r.objectUrl||r.base64).then(c.bind(function(n){var o=new Image;o.src=n.src;var s=O.drawScaledAndRotated(o,n.width,n.height,r.rotation,r.mirrored,U);this.listenToOnce(this,"asyncImageAdded",function(e,t,n){i.resolve(e,t)}),this.editor.insertAsyncImage(s.toDataURL(r.file.type),e,t.targetNode,t.direction,t.skipSelectionUpdate)},this),n)},this),n):e.type.match(/image\/*/i)&&this.editor.insertAsyncImage(null,e,t.targetNode,t.direction,t.skipSelectionUpdate),i.promise},shouldBeFullWidth:function(e){var t;return!!this.get("fullWidthInlineMedia")&&(!!(e=c.isNumber(e)?e:parseInt(e,10))&&(t=this.get("minFullWidthSize"),e>=t))},addASyncImageFullWidthAttributes:function(e,t){var i;return!!t&&(!(!this.shouldBeFullWidth(t)||!(i=this.editor.getAsyncImage(e)))&&(u(i).parent("figure").addClass(this.get("fullWidthClass")),!0))},onAsyncImageAdded:function(e,t,i,n){var r=c.has(n,"width")?n.width:null;if(i instanceof Blob)this.uploadInlineImage(e,i),this.pendingMedia[e]=t,this.addASyncImageFullWidthAttributes(e,r);else{if(!t||0!==t.lastIndexOf("http",0))return;this.uploadInlineImageUrl(e,t),this.pendingMedia[e]=t,this.addASyncImageFullWidthAttributes(e,r)}this.trigger("asyncImageAdded",e,t,i)},updateImageAttributes:function(e,t,i){var n=this.model.get("editorType");if("html"===n||"markdown"===n)"markdown"===n&&this.convertModelFromMarkdown(),this.model.set(this.get("name"),q(this._modelValue(),c.partial(l,e,t,i,this.editor.config.imgKeyAttr))),"markdown"===n&&this.convertModelToMarkdown(),this.htmlField.updateValueFromModel(),this.htmlField.updateEditor();else{if(this.editor.updateAsyncImage(e,t,i),i&&i.media_key){var r=this.editor.getAsyncImage(e);r&&u(r).attr("data-media-key",i.media_key)}this.updateModelFromEditor()}delete this.pendingMedia[e]},uploadInlineImageUrl:function(e,t){N.uploadImageUrl(t,c.bind(function(t){var i=t.response||{},n={};i.raw_width&&i.raw_height&&(n.width=i.raw_width,n.height=i.raw_height),i.media_key&&(n.media_key=i.media_key),this.updateImageAttributes(e,i.url,n)},this),c.bind(function(){this.updateImageAttributes(e,t)},this),c.bind(function(){this.updateInlineImages()},this),{post_id:this.model.get("id"),channel_id:this.model.get("tumblelog")})},removeImageByKey:function(e){var t=this.editor.getAsyncImage(e);if(t){var i=u(t);if(0!==i.length){var n=i.closest(".media-holder");n.length?n.remove():i.remove(),this.updateModelFromEditor(),this.updateInlineImages()}}},uploadInlineImage:function(e,t){var i,n=c.bind(function(e,t){this.listenTo(t,"change:complete change:error",c.bind(function(t){var i={},n=t.get("url");return this.stopListening(t,"change:complete change:error"),t.get("raw_width")&&t.get("raw_height")&&(i.width=t.get("raw_width"),i.height=t.get("raw_height")),t.get("media_key")&&(i.media_key=t.get("media_key")),c.has(t.changed,"error")?void this.removeImageByKey(e):void I.load(n).then(c.bind(function(t){this.updateImageAttributes(e,n,i)},this)).done(c.bind(function(){this.updateInlineImages()},this))},this))},this),r=function i(r){r.get("file")===t&&(n.call(this,e,r),this.stopListening(this.imageUploader,"add",i))},o=function(n,r){if(r.get("file")===t){this.removeImageByKey(e);var o;o=r.get("error")||v("Error uploading photo"),c.isArray(o)&&(o=o.join("</p><p>")),f.alert("<p>"+o+"</p>",c.bind(this.editor.focus,this.editor)),i.call(this,n,r)}};i=function(e,n){var s=n.files?n.files[0]:n.file;s=s||n.get("file"),s===t&&(this.stopListening(this.imageUploader,"add",r),this.stopListening(this.imageUploader,"invalid",o),this.stopListening(this.imageUploader,"send",i))},this.listenTo(this.imageUploader,"add",r),this.listenTo(this.imageUploader,"invalid",o),this.listenTo(this.imageUploader,"send",i),this.imageUploader.addFiles([t])},toggleInlineControlsTray:function(e){c.has(this.editor,"inlineControls")&&(e=e||!1,this.editor.inlineControls.toggleTrayWithIntent(e))},openInlineControlsTray:function(e){e=e||this.editor.inlineControls.tray||u(),this.editor.inlineControls.isShown||this.editor.inlineControls.show(),p(e,"stop",!0),e.css({opacity:"",left:"",right:""}),this._logInteraction("open-inline-controls"),this.editor.setPlaceholder(!1),this.get("hasGifSearchVariation")||this.editor.blur(!0),this.$el.addClass("tray-open"),this.catchTabs(e),this.get("hasGifSearchVariation")||e.attr("tabindex",0).focus(),this.catchEsc(e,this.toggleInlineControlsTray),c.forEach(e.find("[data-control-name]"),function(e,t){var i=u(e);i.on("click.inline-control-logging",c.bind(function(e){var t=u(e.currentTarget);this._logInteraction("click-inline-control",{controlName:t.attr("data-control-name")})},this))},this);var t=function(){this.$el.closest(".gif-search-variation").addClass("gs-variation-ran-once"),this.set("gsVariationRanOnce",!0)};this.get("animateInlineControls")&&!this.get("gsVariationRanOnce")&&c.forEach(e.find(".control"),function(e,i,n){var r=u(e),o={opacity:0},s={opacity:1};this.get("hasGifSearchVariation")?(o.right="-25px",s.right=0):(o.left="-25px",s.left=0),p(e,"stop",!0),r.css(o),p(e,s,{delay:30*i,duration:300,easing:[.175,.885,.32,1.275],complete:e===c.last(n)?c.bind(t,this):null})},this)},closeInlineControlsTray:function(e){if(e=e||u(),this.releaseTabs(),this.releaseEsc(e),!this.get("hasGifSearchVariation")){e.find(".control").off("click.inline-control-logging");var t=function(){e.css({opacity:"",left:""}),e.length&&e.is(":visible")&&this.editor.focus(!0),this.editor.setPlaceholder(this.get("placeholder")),this.$el.removeClass("tray-open")};p(e,{opacity:0,left:"-=20px"},{duration:150,complete:c.bind(t,this)})}},onInlineControlsTrayOpened:function(e){this.inlineControlNode=this.editor.getCurrentElement(),this.inlineEmbedSupport&&(this.inlineEmbedSupport.trayOpened(e),this.trigger("controls:open",e))},onInlineControlsTrayClosed:function(e){this.get("delayGifSearchVariationUponEditMode")&&this.get("gsVariationRanOnce")&&(this.set("delayGifSearchVariationUponEditMode",!1),this.$(".inline-controls").removeClass("edit-mode-init-hide")),this.inlineControlNode=!1,this.inlineEmbedSupport&&(this.inlineEmbedSupport.trayClosed(e),this.trigger("controls:close",e))},onInlineControlsShow:function(e){this.get("delayGifSearchVariationUponEditMode")&&this.$(".inline-controls").addClass("edit-mode-init-hide"),e.element.show(),this.$el.addClass("inline-controls-show"),this.trigger("controls:show")},onInlineControlsHide:function(e){e.element.hide(),this.$el.removeClass("inline-controls-show"),this.trigger("controls:hide")},_initializeMentionSupport:function(){var e=["tumblelog"];c.isArray(this.editor.config.linkConfig.bypassClasses||!1)&&(e=c.union(this.editor.config.linkConfig.bypassClasses,e)),this.editor.linkControl.bypassClasses=e,this.mentionPopover=new S({pinnedSide:"none",teardownOnEscape:!1,identifier:"postForms:mentionDropdown"}),this.mentionSupport=new A(this.editor,this.mentionPopover),this.getEditorValue=c.compose(this.mentionSupport.stripGhost,this.getEditorValue)},_getReadMoreMarkup:function(){return'<hr class="tmblr-truncated" data-label="'+v("Keep reading")+'">'},convertReadMoreMagicKey:function(e){var t=e.replace(/\[\[MORE\]\]/g,this._getReadMoreMarkup());return t},convertReadMoreHtml:function(e){var t=u(W.nodeFromString(e));return t.find(".tmblr-truncated").replaceWith("[[MORE]]"),t.html()},_createEmptyParagraph:function(){return this.editor.isCursorAtStart()?this.editor.insertNewParagraphBefore():this.editor.insertNewParagraphAfter()},_inlineControlKeyboardFocus:function(e,t,i){var n;this.editor.hasSelection()||(n=function(){var n=this.get("animateInlineControls");this.set("animateInlineControls",!1),this.toggleInlineControlsTray(!0),e&&u(e).focus(),"function"==typeof t&&t.call(i||this,e),this.set("animateInlineControls",n)},this.editor.isEmptyElement()?n.call(this):(this.listenToOnce(this,"controls:show",function(){setTimeout(c.bind(n,this),50)}),this._createEmptyParagraph()))},_initializeReadMoreSupport:function(){var e=function(e){return e.stopPropagation(),e.preventDefault(),!1},t=c.bind(function(){if(!this.editor.hasSelection()){var e=this.$(".media-holder .tmblr-truncated");e.length&&e.closest(".media-holder").remove(),this.editor.insertMedia(this._getReadMoreMarkup())}},this),i=u("<div />",{class:"control add-read-more","data-control-name":"read-more",tabindex:"0",title:v("Insert read-more link (%1$s)",this.humanKeys.pretty(this.keyCommands.MORE))});i.on("click",t),i.on("mousedown",e),this.editor.inlineControls.addToTray(i,{keyboard:{shortcut:this.keyCommands.MORE,callback:t}}),this.editorFilters.preSet.push(c.bind(function(e){var t=e;return t=this.convertReadMoreMagicKey(t)},this)),this.editorFilters.preGet.push(c.bind(function(e){var t=e;return t=this.convertReadMoreHtml(t)},this))},_initializeInlineEmbedSupport:function(){var e=function(){this.inlineEmbedSupport&&!this.inlineEmbedSupport.isDisabled&&this._inlineControlKeyboardFocus(this.inlineEmbedSupport.getButton(),function(){this.inlineEmbedSupport.prompt()},this)};this.inlineEmbedSupport=new C({editorView:this,editor:this.editor,inlineEmbedsPerPost:this.get("inlineEmbedsPerPost"),inlineMediaWidthReblog:this.get("inlineMediaWidthReblog"),inlineMediaWidthFull:this.get("fullWidthInlineMedia")?540:500,fullWidthInlineMedia:this.get("fullWidthInlineMedia"),fullWidthClass:this.get("fullWidthClass"),title:v("Insert video (%1$s)",this.humanKeys.pretty(this.keyCommands.EMBED)),disabledTitle:v("Sorry, you can't add more than %1$s videos",this.get("inlineEmbedsPerPost")),trayOptions:{keyboard:{shortcut:this.keyCommands.EMBED,callback:e,context:this}}}),this.editorFilters.preSet.push(c.bind(function(e){return this.inlineEmbedSupport?this.inlineEmbedSupport.addEmbedPlaceholders(e):e},this)),this.editorFilters.preGet.push(c.bind(function(e){return this.inlineEmbedSupport?this.inlineEmbedSupport.removeEmbedPlaceholders(e):e},this)),this.listenTo(this.inlineEmbedSupport,"prompt",function(){this.trigger("controls:embed:prompt")})},beforeRender:function(){this.htmlField=this.subViews.htmlField=new T({model:this.model,name:this.get("name")})},afterRender:function(){if(this.renderSubViews(),this.get("hasGifSearchVariation")){this.getEditorValue()&&this.set("delayGifSearchVariationUponEditMode",!0);var e=setTimeout(c.bind(function(){this.openInlineControlsTray(),this.get("openImageSearchOnLoad")&&this.openImageSearch(),this.editor.setPlaceholder(this.get("placeholder"))},this),400);this.set("openTrayTimeout",e)}},remove:function(){this._removed=!0,this.subViews=null,clearTimeout(this.get("openTrayTimeout"))},render:function(){var e=this._modelValue().length>0;e&&this.set("placeholder",!1),this.$el.html(this.template({ariaLabel:this.get("ariaLabel")}));var t=this.js$("richTextEditor").get(0);return this._initializeEditor(t,this.get("placeholder")),e&&("rich"!==this.getEditorType()||this.editorValueMatchesModel()||this.updateEditorFromModel()),this.attachSubViews(),this},teardown:function(){return this.$el.empty(),this.editor.teardown(),this.imageUploader&&(this.stopListening(this.imageUploader),this.imageUploader.teardown(),delete this.imageUploader),this.imageSearchSupport&&this.imageSearchSupport.teardown(),delete this.mentionSupport,delete this.inlineEmbedSupport,delete this.imageSearchSupport,this.editorFilters&&delete this.editorFilters,this},serialize:function(){return this.toJSON()},getEditorType:function(){return this.model.get("editorType")},getEditorValue:function(e,t){return"undefined"!=typeof e||(e=!0),"undefined"!=typeof t||(t=!0),this.editor?this.editor.getData(e,t):null},setEditorValue:function(e,t,i){this.editor&&this.editor.setData(e,t,i)},convertModelFromMarkdown:function(){var e=y.render(this._modelValue());return this.model.set(this.get("name"),e),e},convertModelToMarkdown:function(){var e=_(this._modelValue());return e=e.replace(new RegExp(/<figcaption\b([^>]*)>([\s\S]*?)<\/figcaption>/gi),"$2"),e=e.replace(new RegExp(/<figure\b([^>]*)>([\s\S]*?)<\/figure>/gi),"$2"),this.model.set(this.get("name"),e),e},updateModelFromEditor:function(e,t){if(!this.editor)return!1;var i=this.get("name"),s=this.getEditorValue(),l=[n];c.isEmpty(this.pendingMedia)||(e===G?l.push(c.partial(r,this.pendingMedia,this.editor.config.imgKeyAttr)):e===H&&l.push(c.partial(o,this.pendingMedia,this.editor.config.imgKeyAttr))),t||l.push(c.partial(a,this.editor.config.imgKeyAttr,"data-uploading-key")),c.isEmpty(this.filtersToModel)||(l=l.concat(this.filtersToModel)),s=q(s,l),this.model.set(i,s)},updateEditorFromModel:function(){var e=this.getEditorValue(),t=this._modelValue();e=q(e,n),c.isEmpty(this.filtersToEditor)||(t=q(t,this.filtersToEditor)),this.setEditorValue(t,!0)},editorValueMatchesModel:function(){var e=this.getEditorValue(),t=this._modelValue(),i=[n];return c.isEmpty(this.pendingMedia)||i.push(c.partial(r,this.pendingMedia,this.editor.config.imgKeyAttr)),i.push(c.partial(a,this.editor.config.imgKeyAttr,"data-uploading-key")),c.isEmpty(this.filtersToModel)||(i=i.concat(this.filtersToModel)),e=q(e,i),t.trim()===e.trim()},updateEditorType:function(e,t){e||(e=this.model.get("editorType"));var i=u(this.editor.wrapper),n=!!this.model.get("hasSeenHtml");if("rich"===e){this.htmlField.hide();var r=this._modelValue(!0),o=[];c.isEmpty(this.pendingMedia)||o.push(c.partial(s,this.pendingMedia,this.editor.config.imgKeyAttr)),o.push(c.partial(a,this.editor.config.imgKeyAttr,"data-uploading-key")),r=q(r,o),this.setEditorValue(r,!0,n),i.show()}else i.hide(),this.htmlField.updateValueFromModel(),this.htmlField.set("isMarkdown","markdown"===e),t&&this.htmlField.set("editedSincePreview",!0),this.htmlField.show(),this.htmlField.showSource(n),this.model.set("hasSeenHtml",!0)},_modelValue:function(e){var t=this.model.get(this.get("name"))||"";return t=t.replace(/<!-- +more +-->/gi,"[[MORE]]"),e&&c.result(this.model,"isReblog")&&(t=t.replace(/<p>\s*<br\s*\/?>\s<\/p>$/i,"")+"<p><br></p>"),t},focus:function(e){this.editor&&"rich"===this.getEditorType()?this.editor.focus(e):this.htmlField&&this.htmlField.focus()},blur:function(e){this.editor&&"rich"===this.getEditorType()?this.editor.blur(e):this.htmlField&&this.htmlField.blur()},catchEsc:function(e,t){u(e).on("keydown.rteCatchEsc",c.bind(function(e){27===e.keyCode&&(t.call(this),e.stopPropagation())},this))},releaseEsc:function(e){u(e).off("keydown.rteCatchEsc")},setCursorToEnd:function(){this.editor&&c.isFunction(this.editor.setCursorToEnd)&&this.editor.setCursorToEnd()},_logInteraction:function(e,t){var i={action:e,tumblelog:this.model.get("tumblelog"),mode:this.model.get("mode"),postType:this.model.get("type"),editorType:this.model.get("editorType")};i.inputLength=this.getEditorValue().length,t&&(i=c.extend(i,t)),b.trigger("postform-interaction:"+e,{loggingData:i})},openImageSearch:function(){this.imageSearchSupport&&this.imageSearchSupport.prompt(this.imageSearchSupport.get("query",!1))}},{KEYCOMMANDS:{BOLD:"meta+b",ITALIC:"meta+i",HEADLINE:"meta+shift+2",LINK:"meta+k",STRIKETHROUGH:"meta+shift+6",ORDEREDLIST:"meta+shift+7",UNORDEREDLIST:"meta+shift+8",BLOCKQUOTE:"meta+shift+9",REMOVEFORMAT:"meta+shift+0",PRE:"meta+shift+x",SUPERSCRIPT:"meta+dot",SUBSCRIPT:"meta+comma",SMALL:"meta+shift+minus",SMALLINVERSE:"meta+shift+plus",PHOTO:"meta+shift+p",GIF:"meta+shift+g",EMBED:"meta+shift+m",HR:"meta+shift+l",MORE:"meta+shift+k"}});m({"Tumblr.Prima.RichTextEditorView":K}),e.exports=K},453:function(e,t,i){if("object"!=typeof n)var n=i(454);var r=function(e){function t(e,t){var i="void"===t.type?"<"+t.tag+"\\b([^>]*)\\/?>":"<"+t.tag+"\\b([^>]*)>([\\s\\S]*?)<\\/"+t.tag+">",n=new RegExp(i,"gi"),r="";return r="string"==typeof t.replacement?e.replace(n,t.replacement):e.replace(n,function(e,i,n,r){return t.replacement.call(this,e,i,n,r)})}function i(e){return new RegExp(e+"\\s*=\\s*[\"']?([^\"']*)[\"']?","i")}function r(e){return e=e.replace(/<(ul|ol)\b[^>]*>([\s\S]*?)<\/\1>/gi,function(e,t,i){var n=i.split("</li>");for(n.splice(n.length-1,1),l=0,c=n.length;l<c;l++)if(n[l]){var r="ol"===t?l+1+".  ":"*   ";n[l]=n[l].replace(/\s*<li[^>]*>([\s\S]*)/i,function(e,t){return t=t.replace(/^\s+/,""),t=t.replace(/\n\n/g,"\n\n    "),t=t.replace(/\n([ ]*)+(\*|\d+\.) /g,"\n$1    $2 "),r+t})}return n.join("\n")}),"\n\n"+e.replace(/[ \t]+\n|\s+$/g,"")}function o(e){return e=e.replace(/<blockquote\b[^>]*>([\s\S]*?)<\/blockquote>/gi,function(e,t){return t=t.replace(/^\s+|\s+$/g,""),t=s(t),t=t.replace(/^/gm,"> "),t=t.replace(/^(>([ \t]{2,}>)+)/gm,"> >")})}function s(e){return e=e.replace(/^[\t\r\n]+|[\t\r\n]+$/g,""),e=e.replace(/\n\s+\n/g,"\n\n"),e=e.replace(/\n{3,}/g,"\n\n")}for(var a=[{patterns:"p",replacement:function(e,t,i){return i?"\n\n"+i+"\n":""}},{patterns:"br",type:"void",replacement:"\n"},{patterns:"h([1-6])",replacement:function(e,t,i,n){for(var r="",o=0;o<t;o++)r+="#";return"\n\n"+r+" "+n+"\n"}},{patterns:"hr",type:"void",replacement:"\n\n* * *\n"},{patterns:"a",replacement:function(e,t,n){var r=t.match(i("href")),o=t.match(i("title"));return r?"["+n+"]("+r[1]+(o&&o[1]?' "'+o[1]+'"':"")+")":e}},{patterns:["b","strong"],replacement:function(e,t,i){return i?"**"+i+"**":""}},{patterns:["i","em"],replacement:function(e,t,i){return i?"_"+i+"_":""}},{patterns:"code",replacement:function(e,t,i){return i?"`"+n.decode(i)+"`":""}},{patterns:"img",type:"void",replacement:function(e,t,n){var r=t.match(i("src")),o=t.match(i("alt")),s=t.match(i("title"));return"!["+(o&&o[1]?o[1]:"")+"]("+r[1]+(s&&s[1]?' "'+s[1]+'"':"")+")"}}],l=0,c=a.length;l<c;l++)if("string"==typeof a[l].patterns)e=t(e,{tag:a[l].patterns,replacement:a[l].replacement,type:a[l].type});else for(var u=0,h=a[l].patterns.length;u<h;u++)e=t(e,{tag:a[l].patterns[u],replacement:a[l].replacement,type:a[l].type});e=e.replace(/<pre\b[^>]*>`([\s\S]*)`<\/pre>/gi,function(e,t){var i=n.decode(t);return i=i.replace(/^\t+/g,"  "),i=i.replace(/\n/g,"\n    "),"\n\n    "+i+"\n"}),e=e.replace(/^(\s{0,3}\d+)\. /g,"$1\\. ");for(var d=/<(ul|ol)\b[^>]*>(?:(?!<ul|<ol)[\s\S])*?<\/\1>/gi;e.match(d);)e=e.replace(d,function(e){return r(e)});for(var p=/<blockquote\b[^>]*>((?:(?!<blockquote)[\s\S])*?)<\/blockquote>/gi;e.match(p);)e=e.replace(p,function(e){return o(e)});return s(e)};t.toMarkdown=r},454:function(e,t,i){var n;(function(e,r){!function(o){var s="object"==typeof t&&t,a=("object"==typeof e&&e&&e.exports==s&&e,"object"==typeof r&&r);a.global!==a&&a.window!==a||(o=a);var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c=/[\x01-\x7F]/g,u=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,h=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,d={"Â­":"shy","â":"zwnj","â":"zwj","â":"lrm","â£":"ic","â¢":"it","â¡":"af","â":"rlm","â":"ZeroWidthSpace","â ":"NoBreak","Ì":"DownBreve","â":"tdot","â":"DotDot","\t":"Tab","\n":"NewLine","â":"puncsp","â":"MediumSpace","â":"thinsp","â":"hairsp","â":"emsp13","â":"ensp","â":"emsp14","â":"emsp","â":"numsp","Â ":"nbsp","ââ":"ThickSpace","â¾":"oline",_:"lowbar","â":"dash","â":"ndash","â":"mdash","â":"horbar",",":"comma",";":"semi","â":"bsemi",":":"colon","â©´":"Colone","!":"excl","Â¡":"iexcl","?":"quest","Â¿":"iquest",".":"period","â¥":"nldr","â¦":"mldr","Â·":"middot","'":"apos","â":"lsquo","â":"rsquo","â":"sbquo","â¹":"lsaquo","âº":"rsaquo",'"':"quot","â":"ldquo","â":"rdquo","â":"bdquo","Â«":"laquo","Â»":"raquo","(":"lpar",")":"rpar","[":"lsqb","]":"rsqb","{":"lcub","}":"rcub","â":"lceil","â":"rceil","â":"lfloor","â":"rfloor","â¦":"lopar","â¦":"ropar","â¦":"lbrke","â¦":"rbrke","â¦":"lbrkslu","â¦":"rbrksld","â¦":"lbrksld","â¦":"rbrkslu","â¦":"langd","â¦":"rangd","â¦":"lparlt","â¦":"rpargt","â¦":"gtlPar","â¦":"ltrPar","â¦":"lobrk","â§":"robrk","â¨":"lang","â©":"rang","âª":"Lang","â«":"Rang","â¬":"loang","â­":"roang","â²":"lbbrk","â³":"rbbrk","â":"Vert","Â§":"sect","Â¶":"para","@":"commat","*":"ast","/":"sol",undefined:null,"&":"amp","#":"num","%":"percnt","â°":"permil","â±":"pertenk","â ":"dagger","â¡":"Dagger","â¢":"bull","â":"hybull","â²":"prime","â³":"Prime","â´":"tprime","â":"qprime","âµ":"bprime","â":"caret","`":"grave","Â´":"acute","Ë":"tilde","^":"Hat","Â¯":"macr","Ë":"breve","Ë":"dot","Â¨":"die","Ë":"ring","Ë":"dblac","Â¸":"cedil","Ë":"ogon","Ë":"circ","Ë":"caron","Â°":"deg","Â©":"copy","Â®":"reg","â":"copysr","â":"wp","â":"rx","â§":"mho","â©":"iiota","â":"larr","â":"nlarr","â":"rarr","â":"nrarr","â":"uarr","â":"darr","â":"harr","â®":"nharr","â":"varr","â":"nwarr","â":"nearr","â":"searr","â":"swarr","â":"rarrw","âÌ¸":"nrarrw","â":"Larr","â":"Uarr","â ":"Rarr","â¡":"Darr","â¢":"larrtl","â£":"rarrtl","â¤":"mapstoleft","â¥":"mapstoup","â¦":"map","â§":"mapstodown","â©":"larrhk","âª":"rarrhk","â«":"larrlp","â¬":"rarrlp","â­":"harrw","â°":"lsh","â±":"rsh","â²":"ldsh","â³":"rdsh","âµ":"crarr","â¶":"cularr","â·":"curarr","âº":"olarr","â»":"orarr","â¼":"lharu","â½":"lhard","â¾":"uharr","â¿":"uharl","â":"rharu","â":"rhard","â":"dharr","â":"dharl","â":"rlarr","â":"udarr","â":"lrarr","â":"llarr","â":"uuarr","â":"rrarr","â":"ddarr","â":"lrhar","â":"rlhar","â":"lArr","â":"nlArr","â":"uArr","â":"rArr","â":"nrArr","â":"dArr","â":"iff","â":"nhArr","â":"vArr","â":"nwArr","â":"neArr","â":"seArr","â":"swArr","â":"lAarr","â":"rAarr","â":"zigrarr","â¤":"larrb","â¥":"rarrb","âµ":"duarr","â½":"loarr","â¾":"roarr","â¿":"hoarr","â":"forall","â":"comp","â":"part","âÌ¸":"npart","â":"exist","â":"nexist","â":"empty","â":"Del","â":"in","â":"notin","â":"ni","â":"notni","Ï¶":"bepsi","â":"prod","â":"coprod","â":"sum","+":"plus","Â±":"pm","Ã·":"div","Ã":"times","<":"lt","â®":"nlt","<â":"nvlt","=":"equals","â ":"ne","=â¥":"bne","â©µ":"Equal",">":"gt","â¯":"ngt",">â":"nvgt","Â¬":"not","|":"vert","Â¦":"brvbar","â":"minus","â":"mp","â":"plusdo","â":"frasl","â":"setmn","â":"lowast","â":"compfn","â":"Sqrt","â":"prop","â":"infin","â":"angrt","â ":"ang","â â":"nang","â¡":"angmsd","â¢":"angsph","â£":"mid","â¤":"nmid","â¥":"par","â¦":"npar","â§":"and","â¨":"or","â©":"cap","â©ï¸":"caps","âª":"cup","âªï¸":"cups","â«":"int","â¬":"Int","â­":"tint","â¨":"qint","â®":"oint","â¯":"Conint","â°":"Cconint","â±":"cwint","â²":"cwconint","â³":"awconint","â´":"there4","âµ":"becaus","â¶":"ratio","â·":"Colon","â¸":"minusd","âº":"mDDot","â»":"homtht","â¼":"sim","â":"nsim","â¼â":"nvsim","â½":"bsim","â½Ì±":"race","â¾":"ac","â¾Ì³":"acE","â¿":"acd","â":"wr","â":"esim","âÌ¸":"nesim","â":"sime","â":"nsime","â":"cong","â":"ncong","â":"simne","â":"ap","â":"nap","â":"ape","â":"apid","âÌ¸":"napid","â":"bcong","â":"CupCap","â­":"NotCupCap","ââ":"nvap","â":"bump","âÌ¸":"nbump","â":"bumpe","âÌ¸":"nbumpe","â":"doteq","âÌ¸":"nedot","â":"eDot","â":"efDot","â":"erDot","â":"colone","â":"ecolon","â":"ecir","â":"cire","â":"wedgeq","â":"veeeq","â":"trie","â":"equest","â¡":"equiv","â¢":"nequiv","â¡â¥":"bnequiv","â¤":"le","â°":"nle","â¤â":"nvle","â¥":"ge","â±":"nge","â¥â":"nvge","â¦":"lE","â¦Ì¸":"nlE","â§":"gE","â§Ì¸":"ngE","â¨ï¸":"lvnE","â¨":"lnE","â©":"gnE","â©ï¸":"gvnE","âª":"ll","âªÌ¸":"nLtv","âªâ":"nLt","â«":"gg","â«Ì¸":"nGtv","â«â":"nGt","â¬":"twixt","â²":"lsim","â´":"nlsim","â³":"gsim","âµ":"ngsim","â¶":"lg","â¸":"ntlg","â·":"gl","â¹":"ntgl","âº":"pr","â":"npr","â»":"sc","â":"nsc","â¼":"prcue","â ":"nprcue","â½":"sccue","â¡":"nsccue","â¾":"prsim","â¿":"scsim","â¿Ì¸":"NotSucceedsTilde","â":"sub","â":"nsub","ââ":"vnsub","â":"sup","â":"nsup","ââ":"vnsup","â":"sube","â":"nsube","â":"supe","â":"nsupe","âï¸":"vsubne","â":"subne","âï¸":"vsupne","â":"supne","â":"cupdot","â":"uplus","â":"sqsub","âÌ¸":"NotSquareSubset","â":"sqsup","âÌ¸":"NotSquareSuperset","â":"sqsube","â¢":"nsqsube","â":"sqsupe","â£":"nsqsupe","â":"sqcap","âï¸":"sqcaps","â":"sqcup","âï¸":"sqcups","â":"oplus","â":"ominus","â":"otimes","â":"osol","â":"odot","â":"ocir","â":"oast","â":"odash","â":"plusb","â":"minusb","â ":"timesb","â¡":"sdotb","â¢":"vdash","â¬":"nvdash","â£":"dashv","â¤":"top","â¥":"bot","â§":"models","â¨":"vDash","â­":"nvDash","â©":"Vdash","â®":"nVdash","âª":"Vvdash","â«":"VDash","â¯":"nVDash","â°":"prurel","â²":"vltri",
"âª":"nltri","â³":"vrtri","â«":"nrtri","â´":"ltrie","â¬":"nltrie","â´â":"nvltrie","âµ":"rtrie","â­":"nrtrie","âµâ":"nvrtrie","â¶":"origof","â·":"imof","â¸":"mumap","â¹":"hercon","âº":"intcal","â»":"veebar","â½":"barvee","â¾":"angrtvb","â¿":"lrtri","â":"Wedge","â":"Vee","â":"xcap","â":"xcup","â":"diam","â":"sdot","â":"Star","â":"divonx","â":"bowtie","â":"ltimes","â":"rtimes","â":"lthree","â":"rthree","â":"bsime","â":"cuvee","â":"cuwed","â":"Sub","â":"Sup","â":"Cap","â":"Cup","â":"fork","â":"epar","â":"ltdot","â":"gtdot","â":"Ll","âÌ¸":"nLl","â":"Gg","âÌ¸":"nGg","âï¸":"lesg","â":"leg","â":"gel","âï¸":"gesl","â":"cuepr","â":"cuesc","â¦":"lnsim","â§":"gnsim","â¨":"prnsim","â©":"scnsim","â®":"vellip","â¯":"ctdot","â°":"utdot","â±":"dtdot","â²":"disin","â³":"isinsv","â´":"isins","âµ":"isindot","âµÌ¸":"notindot","â¶":"notinvc","â·":"notinvb","â¹":"isinE","â¹Ì¸":"notinE","âº":"nisd","â»":"xnis","â¼":"nis","â½":"notnivc","â¾":"notnivb","â":"barwed","â":"Barwed","â":"drcrop","â":"dlcrop","â":"urcrop","â":"ulcrop","â":"bnot","â":"profline","â":"profsurf","â":"telrec","â":"target","â":"ulcorn","â":"urcorn","â":"dlcorn","â":"drcorn","â¢":"frown","â£":"smile","â­":"cylcty","â®":"profalar","â¶":"topbot","â½":"ovbar","â¿":"solbar","â¼":"angzarr","â°":"lmoust","â±":"rmoust","â´":"tbrk","âµ":"bbrk","â¶":"bbrktbrk","â":"OverParenthesis","â":"UnderParenthesis","â":"OverBrace","â":"UnderBrace","â¢":"trpezium","â§":"elinters","â£":"blank","â":"boxh","â":"boxv","â":"boxdr","â":"boxdl","â":"boxur","â":"boxul","â":"boxvr","â¤":"boxvl","â¬":"boxhd","â´":"boxhu","â¼":"boxvh","â":"boxH","â":"boxV","â":"boxdR","â":"boxDr","â":"boxDR","â":"boxdL","â":"boxDl","â":"boxDL","â":"boxuR","â":"boxUr","â":"boxUR","â":"boxuL","â":"boxUl","â":"boxUL","â":"boxvR","â":"boxVr","â ":"boxVR","â¡":"boxvL","â¢":"boxVl","â£":"boxVL","â¤":"boxHd","â¥":"boxhD","â¦":"boxHD","â§":"boxHu","â¨":"boxhU","â©":"boxHU","âª":"boxvH","â«":"boxVh","â¬":"boxVH","â":"uhblk","â":"lhblk","â":"block","â":"blk14","â":"blk12","â":"blk34","â¡":"squ","âª":"squf","â«":"EmptyVerySmallSquare","â­":"rect","â®":"marker","â±":"fltns","â³":"xutri","â´":"utrif","âµ":"utri","â¸":"rtrif","â¹":"rtri","â½":"xdtri","â¾":"dtrif","â¿":"dtri","â":"ltrif","â":"ltri","â":"loz","â":"cir","â¬":"tridot","â¯":"xcirc","â¸":"ultri","â¹":"urtri","âº":"lltri","â»":"EmptySmallSquare","â¼":"FilledSmallSquare","â":"starf","â":"star","â":"phone","â":"female","â":"male","â ":"spades","â£":"clubs","â¥":"hearts","â¦":"diams","âª":"sung","â":"check","â":"cross","â ":"malt","â¶":"sext","â":"VerticalSeparator","â":"bsolhsub","â":"suphsol","âµ":"xlarr","â¶":"xrarr","â·":"xharr","â¸":"xlArr","â¹":"xrArr","âº":"xhArr","â¼":"xmap","â¿":"dzigrarr","â¤":"nvlArr","â¤":"nvrArr","â¤":"nvHarr","â¤":"Map","â¤":"lbarr","â¤":"rbarr","â¤":"lBarr","â¤":"rBarr","â¤":"RBarr","â¤":"DDotrahd","â¤":"UpArrowBar","â¤":"DownArrowBar","â¤":"Rarrtl","â¤":"latail","â¤":"ratail","â¤":"lAtail","â¤":"rAtail","â¤":"larrfs","â¤":"rarrfs","â¤":"larrbfs","â¤ ":"rarrbfs","â¤£":"nwarhk","â¤¤":"nearhk","â¤¥":"searhk","â¤¦":"swarhk","â¤§":"nwnear","â¤¨":"toea","â¤©":"tosa","â¤ª":"swnwar","â¤³":"rarrc","â¤³Ì¸":"nrarrc","â¤µ":"cudarrr","â¤¶":"ldca","â¤·":"rdca","â¤¸":"cudarrl","â¤¹":"larrpl","â¤¼":"curarrm","â¤½":"cularrp","â¥":"rarrpl","â¥":"harrcir","â¥":"Uarrocir","â¥":"lurdshar","â¥":"ldrushar","â¥":"LeftRightVector","â¥":"RightUpDownVector","â¥":"DownLeftRightVector","â¥":"LeftUpDownVector","â¥":"LeftVectorBar","â¥":"RightVectorBar","â¥":"RightUpVectorBar","â¥":"RightDownVectorBar","â¥":"DownLeftVectorBar","â¥":"DownRightVectorBar","â¥":"LeftUpVectorBar","â¥":"LeftDownVectorBar","â¥":"LeftTeeVector","â¥":"RightTeeVector","â¥":"RightUpTeeVector","â¥":"RightDownTeeVector","â¥":"DownLeftTeeVector","â¥":"DownRightTeeVector","â¥ ":"LeftUpTeeVector","â¥¡":"LeftDownTeeVector","â¥¢":"lHar","â¥£":"uHar","â¥¤":"rHar","â¥¥":"dHar","â¥¦":"luruhar","â¥§":"ldrdhar","â¥¨":"ruluhar","â¥©":"rdldhar","â¥ª":"lharul","â¥«":"llhard","â¥¬":"rharul","â¥­":"lrhard","â¥®":"udhar","â¥¯":"duhar","â¥°":"RoundImplies","â¥±":"erarr","â¥²":"simrarr","â¥³":"larrsim","â¥´":"rarrsim","â¥µ":"rarrap","â¥¶":"ltlarr","â¥¸":"gtrarr","â¥¹":"subrarr","â¥»":"suplarr","â¥¼":"lfisht","â¥½":"rfisht","â¥¾":"ufisht","â¥¿":"dfisht","â¦":"vzigzag","â¦":"vangrt","â¦":"angrtvbd","â¦¤":"ange","â¦¥":"range","â¦¦":"dwangle","â¦§":"uwangle","â¦¨":"angmsdaa","â¦©":"angmsdab","â¦ª":"angmsdac","â¦«":"angmsdad","â¦¬":"angmsdae","â¦­":"angmsdaf","â¦®":"angmsdag","â¦¯":"angmsdah","â¦°":"bemptyv","â¦±":"demptyv","â¦²":"cemptyv","â¦³":"raemptyv","â¦´":"laemptyv","â¦µ":"ohbar","â¦¶":"omid","â¦·":"opar","â¦¹":"operp","â¦»":"olcross","â¦¼":"odsold","â¦¾":"olcir","â¦¿":"ofcir","â§":"olt","â§":"ogt","â§":"cirscir","â§":"cirE","â§":"solb","â§":"bsolb","â§":"boxbox","â§":"trisb","â§":"rtriltri","â§":"LeftTriangleBar","â§Ì¸":"NotLeftTriangleBar","â§":"RightTriangleBar","â§Ì¸":"NotRightTriangleBar","â§":"iinfin","â§":"infintie","â§":"nvinfin","â§£":"eparsl","â§¤":"smeparsl","â§¥":"eqvparsl","â§«":"lozf","â§´":"RuleDelayed","â§¶":"dsol","â¨":"xodot","â¨":"xoplus","â¨":"xotime","â¨":"xuplus","â¨":"xsqcup","â¨":"fpartint","â¨":"cirfnint","â¨":"awint","â¨":"rppolint","â¨":"scpolint","â¨":"npolint","â¨":"pointint","â¨":"quatint","â¨":"intlarhk","â¨¢":"pluscir","â¨£":"plusacir","â¨¤":"simplus","â¨¥":"plusdu","â¨¦":"plussim","â¨§":"plustwo","â¨©":"mcomma","â¨ª":"minusdu","â¨­":"loplus","â¨®":"roplus","â¨¯":"Cross","â¨°":"timesd","â¨±":"timesbar","â¨³":"smashp","â¨´":"lotimes","â¨µ":"rotimes","â¨¶":"otimesas","â¨·":"Otimes","â¨¸":"odiv","â¨¹":"triplus","â¨º":"triminus","â¨»":"tritime","â¨¼":"iprod","â¨¿":"amalg","â©":"capdot","â©":"ncup","â©":"ncap","â©":"capand","â©":"cupor","â©":"cupcap","â©":"capcup","â©":"cupbrcap","â©":"capbrcup","â©":"cupcup","â©":"capcap","â©":"ccups","â©":"ccaps","â©":"ccupssm","â©":"And","â©":"Or","â©":"andand","â©":"oror","â©":"orslope","â©":"andslope","â©":"andv","â©":"orv","â©":"andd","â©":"ord","â©":"wedbar","â©¦":"sdote","â©ª":"simdot","â©­":"congdot","â©­Ì¸":"ncongdot","â©®":"easter","â©¯":"apacir","â©°":"apE","â©°Ì¸":"napE","â©±":"eplus","â©²":"pluse","â©³":"Esim","â©·":"eDDot","â©¸":"equivDD","â©¹":"ltcir","â©º":"gtcir","â©»":"ltquest","â©¼":"gtquest","â©½":"les","â©½Ì¸":"nles","â©¾":"ges","â©¾Ì¸":"nges","â©¿":"lesdot","âª":"gesdot","âª":"lesdoto","âª":"gesdoto","âª":"lesdotor","âª":"gesdotol","âª":"lap","âª":"gap","âª":"lne","âª":"gne","âª":"lnap","âª":"gnap","âª":"lEg","âª":"gEl","âª":"lsime","âª":"gsime","âª":"lsimg","âª":"gsiml","âª":"lgE","âª":"glE","âª":"lesges","âª":"gesles","âª":"els","âª":"egs","âª":"elsdot","âª":"egsdot","âª":"el","âª":"eg","âª":"siml","âª":"simg","âª":"simlE","âª ":"simgE","âª¡":"LessLess","âª¡Ì¸":"NotNestedLessLess","âª¢":"GreaterGreater","âª¢Ì¸":"NotNestedGreaterGreater","âª¤":"glj","âª¥":"gla","âª¦":"ltcc","âª§":"gtcc","âª¨":"lescc","âª©":"gescc","âªª":"smt","âª«":"lat","âª¬":"smte","âª¬ï¸":"smtes","âª­":"late","âª­ï¸":"lates","âª®":"bumpE","âª¯":"pre","âª¯Ì¸":"npre","âª°":"sce","âª°Ì¸":"nsce","âª³":"prE","âª´":"scE","âªµ":"prnE","âª¶":"scnE","âª·":"prap","âª¸":"scap","âª¹":"prnap","âªº":"scnap","âª»":"Pr","âª¼":"Sc","âª½":"subdot","âª¾":"supdot","âª¿":"subplus","â«":"supplus","â«":"submult","â«":"supmult","â«":"subedot","â«":"supedot","â«":"subE","â«Ì¸":"nsubE","â«":"supE","â«Ì¸":"nsupE","â«":"subsim","â«":"supsim","â«ï¸":"vsubnE","â«":"subnE","â«ï¸":"vsupnE","â«":"supnE","â«":"csub","â«":"csup","â«":"csube","â«":"csupe","â«":"subsup","â«":"supsub","â«":"subsub","â«":"supsup","â«":"suphsub","â«":"supdsub","â«":"forkv","â«":"topfork","â«":"mlcp","â«¤":"Dashv","â«¦":"Vdashl","â«§":"Barv","â«¨":"vBar","â«©":"vBarv","â««":"Vbar","â«¬":"Not","â«­":"bNot","â«®":"rnmid","â«¯":"cirmid","â«°":"midcir","â«±":"topcir","â«²":"nhpar","â«³":"parsim","â«½":"parsl","â«½â¥":"nparsl","â­":"flat","â®":"natur","â¯":"sharp","Â¤":"curren","Â¢":"cent",$:"dollar","Â£":"pound","Â¥":"yen","â¬":"euro","Â¹":"sup1","Â½":"half","â":"frac13","Â¼":"frac14","â":"frac15","â":"frac16","â":"frac18","Â²":"sup2","â":"frac23","â":"frac25","Â³":"sup3","Â¾":"frac34","â":"frac35","â":"frac38","â":"frac45","â":"frac56","â":"frac58","â":"frac78","ð¶":"ascr","ð":"aopf","ð":"afr","ð¸":"Aopf","ð":"Afr","ð":"Ascr","Âª":"ordf","Ã¡":"aacute","Ã":"Aacute","Ã ":"agrave","Ã":"Agrave","Ä":"abreve","Ä":"Abreve","Ã¢":"acirc","Ã":"Acirc","Ã¥":"aring","Ã":"angst","Ã¤":"auml","Ã":"Auml","Ã£":"atilde","Ã":"Atilde","Ä":"aogon","Ä":"Aogon","Ä":"amacr","Ä":"Amacr","Ã¦":"aelig","Ã":"AElig","ð·":"bscr","ð":"bopf","ð":"bfr","ð¹":"Bopf","â¬":"Bscr","ð":"Bfr","ð ":"cfr","ð¸":"cscr","ð":"copf","â­":"Cfr","ð":"Cscr","â":"Copf","Ä":"cacute","Ä":"Cacute","Ä":"ccirc","Ä":"Ccirc","Ä":"ccaron","Ä":"Ccaron","Ä":"cdot","Ä":"Cdot","Ã§":"ccedil","Ã":"Ccedil","â":"incare","ð¡":"dfr","â":"dd","ð":"dopf","ð¹":"dscr","ð":"Dscr","ð":"Dfr","â":"DD","ð»":"Dopf","Ä":"dcaron","Ä":"Dcaron","Ä":"dstrok","Ä":"Dstrok","Ã°":"eth","Ã":"ETH","â":"ee","â¯":"escr","ð¢":"efr","ð":"eopf","â°":"Escr","ð":"Efr","ð¼":"Eopf","Ã©":"eacute","Ã":"Eacute","Ã¨":"egrave","Ã":"Egrave","Ãª":"ecirc","Ã":"Ecirc","Ä":"ecaron","Ä":"Ecaron","Ã«":"euml","Ã":"Euml","Ä":"edot","Ä":"Edot","Ä":"eogon","Ä":"Eogon","Ä":"emacr","Ä":"Emacr","ð£":"ffr","ð":"fopf","ð»":"fscr","ð":"Ffr","ð½":"Fopf","â±":"Fscr","ï¬":"fflig","ï¬":"ffilig","ï¬":"ffllig","ï¬":"filig",fj:"fjlig","ï¬":"fllig","Æ":"fnof","â":"gscr","ð":"gopf","ð¤":"gfr","ð¢":"Gscr","ð¾":"Gopf","ð":"Gfr","Çµ":"gacute","Ä":"gbreve","Ä":"Gbreve","Ä":"gcirc","Ä":"Gcirc","Ä¡":"gdot","Ä ":"Gdot","Ä¢":"Gcedil","ð¥":"hfr","â":"planckh","ð½":"hscr","ð":"hopf","â":"Hscr","â":"Hfr","â":"Hopf","Ä¥":"hcirc","Ä¤":"Hcirc","â":"hbar","Ä§":"hstrok","Ä¦":"Hstrok","ð":"iopf","ð¦":"ifr","ð¾":"iscr","â":"ii","ð":"Iopf","â":"Iscr","â":"Im","Ã­":"iacute","Ã":"Iacute","Ã¬":"igrave","Ã":"Igrave","Ã®":"icirc","Ã":"Icirc","Ã¯":"iuml","Ã":"Iuml","Ä©":"itilde","Ä¨":"Itilde","Ä°":"Idot","Ä¯":"iogon","Ä®":"Iogon","Ä«":"imacr","Äª":"Imacr","Ä³":"ijlig","Ä²":"IJlig","Ä±":"imath","ð¿":"jscr","ð":"jopf","ð§":"jfr","ð¥":"Jscr","ð":"Jfr","ð":"Jopf","Äµ":"jcirc","Ä´":"Jcirc","È·":"jmath","ð":"kopf","ð":"kscr","ð¨":"kfr","ð¦":"Kscr","ð":"Kopf","ð":"Kfr","Ä·":"kcedil","Ä¶":"Kcedil","ð©":"lfr","ð":"lscr","â":"ell","ð":"lopf","â":"Lscr","ð":"Lfr","ð":"Lopf","Äº":"lacute","Ä¹":"Lacute","Ä¾":"lcaron","Ä½":"Lcaron","Ä¼":"lcedil","Ä»":"Lcedil","Å":"lstrok","Å":"Lstrok","Å":"lmidot","Ä¿":"Lmidot","ðª":"mfr","ð":"mopf","ð":"mscr","ð":"Mfr","ð":"Mopf","â³":"Mscr","ð«":"nfr","ð":"nopf","ð":"nscr","â":"Nopf","ð©":"Nscr","ð":"Nfr","Å":"nacute","Å":"Nacute","Å":"ncaron","Å":"Ncaron","Ã±":"ntilde","Ã":"Ntilde","Å":"ncedil","Å":"Ncedil","â":"numero","Å":"eng","Å":"ENG","ð ":"oopf","ð¬":"ofr","â´":"oscr","ðª":"Oscr","ð":"Ofr","ð":"Oopf","Âº":"ordm","Ã³":"oacute","Ã":"Oacute","Ã²":"ograve","Ã":"Ograve","Ã´":"ocirc","Ã":"Ocirc","Ã¶":"ouml","Ã":"Ouml","Å":"odblac","Å":"Odblac","Ãµ":"otilde","Ã":"Otilde","Ã¸":"oslash","Ã":"Oslash","Å":"omacr","Å":"Omacr","Å":"oelig","Å":"OElig","ð­":"pfr","ð":"pscr","ð¡":"popf","â":"Popf","ð":"Pfr","ð«":"Pscr","ð¢":"qopf","ð®":"qfr","ð":"qscr","ð¬":"Qscr","ð":"Qfr","â":"Qopf","Ä¸":"kgreen","ð¯":"rfr","ð£":"ropf","ð":"rscr","â":"Rscr","â":"Re","â":"Ropf","Å":"racute","Å":"Racute","Å":"rcaron","Å":"Rcaron","Å":"rcedil","Å":"Rcedil","ð¤":"sopf","ð":"sscr","ð°":"sfr","ð":"Sopf","ð":"Sfr","ð®":"Sscr","â":"oS","Å":"sacute","Å":"Sacute","Å":"scirc","Å":"Scirc","Å¡":"scaron","Å ":"Scaron","Å":"scedil","Å":"Scedil","Ã":"szlig","ð±":"tfr","ð":"tscr","ð¥":"topf","ð¯":"Tscr","ð":"Tfr","ð":"Topf","Å¥":"tcaron","Å¤":"Tcaron","Å£":"tcedil","Å¢":"Tcedil","â¢":"trade","Å§":"tstrok","Å¦":"Tstrok","ð":"uscr","ð¦":"uopf","ð²":"ufr","ð":"Uopf","ð":"Ufr","ð°":"Uscr","Ãº":"uacute","Ã":"Uacute","Ã¹":"ugrave","Ã":"Ugrave","Å­":"ubreve","Å¬":"Ubreve","Ã»":"ucirc","Ã":"Ucirc","Å¯":"uring","Å®":"Uring","Ã¼":"uuml","Ã":"Uuml","Å±":"udblac","Å°":"Udblac","Å©":"utilde","Å¨":"Utilde","Å³":"uogon","Å²":"Uogon","Å«":"umacr","Åª":"Umacr","ð³":"vfr","ð§":"vopf","ð":"vscr","ð":"Vfr","ð":"Vopf","ð±":"Vscr","ð¨":"wopf","ð":"wscr","ð´":"wfr","ð²":"Wscr","ð":"Wopf","ð":"Wfr","Åµ":"wcirc","Å´":"Wcirc","ðµ":"xfr","ð":"xscr","ð©":"xopf","ð":"Xopf","ð":"Xfr","ð³":"Xscr","ð¶":"yfr","ð":"yscr","ðª":"yopf","ð´":"Yscr","ð":"Yfr","ð":"Yopf","Ã½":"yacute","Ã":"Yacute","Å·":"ycirc","Å¶":"Ycirc","Ã¿":"yuml","Å¸":"Yuml","ð":"zscr","ð·":"zfr","ð«":"zopf","â¨":"Zfr","â¤":"Zopf","ðµ":"Zscr","Åº":"zacute","Å¹":"Zacute","Å¾":"zcaron","Å½":"Zcaron","Å¼":"zdot","Å»":"Zdot","Æµ":"imped","Ã¾":"thorn","Ã":"THORN","Å":"napos","Î±":"alpha","Î":"Alpha","Î²":"beta","Î":"Beta","Î³":"gamma","Î":"Gamma","Î´":"delta","Î":"Delta","Îµ":"epsi","Ïµ":"epsiv","Î":"Epsilon","Ï":"gammad","Ï":"Gammad","Î¶":"zeta","Î":"Zeta","Î·":"eta","Î":"Eta","Î¸":"theta","Ï":"thetav","Î":"Theta","Î¹":"iota","Î":"Iota","Îº":"kappa","Ï°":"kappav","Î":"Kappa","Î»":"lambda","Î":"Lambda","Î¼":"mu","Âµ":"micro","Î":"Mu","Î½":"nu","Î":"Nu","Î¾":"xi","Î":"Xi","Î¿":"omicron","Î":"Omicron","Ï":"pi","Ï":"piv","Î ":"Pi","Ï":"rho","Ï±":"rhov","Î¡":"Rho","Ï":"sigma","Î£":"Sigma","Ï":"sigmaf","Ï":"tau","Î¤":"Tau","Ï":"upsi","Î¥":"Upsilon","Ï":"Upsi","Ï":"phi","Ï":"phiv","Î¦":"Phi","Ï":"chi","Î§":"Chi","Ï":"psi","Î¨":"Psi","Ï":"omega","Î©":"ohm","Ð°":"acy","Ð":"Acy","Ð±":"bcy","Ð":"Bcy","Ð²":"vcy","Ð":"Vcy","Ð³":"gcy","Ð":"Gcy","Ñ":"gjcy","Ð":"GJcy","Ð´":"dcy","Ð":"Dcy","Ñ":"djcy","Ð":"DJcy","Ðµ":"iecy","Ð":"IEcy","Ñ":"iocy","Ð":"IOcy","Ñ":"jukcy","Ð":"Jukcy","Ð¶":"zhcy","Ð":"ZHcy","Ð·":"zcy","Ð":"Zcy","Ñ":"dscy","Ð":"DScy","Ð¸":"icy","Ð":"Icy","Ñ":"iukcy","Ð":"Iukcy","Ñ":"yicy","Ð":"YIcy","Ð¹":"jcy","Ð":"Jcy","Ñ":"jsercy","Ð":"Jsercy","Ðº":"kcy","Ð":"Kcy","Ñ":"kjcy","Ð":"KJcy","Ð»":"lcy","Ð":"Lcy","Ñ":"ljcy","Ð":"LJcy","Ð¼":"mcy","Ð":"Mcy","Ð½":"ncy","Ð":"Ncy","Ñ":"njcy","Ð":"NJcy","Ð¾":"ocy","Ð":"Ocy","Ð¿":"pcy","Ð":"Pcy","Ñ":"rcy","Ð ":"Rcy","Ñ":"scy","Ð¡":"Scy","Ñ":"tcy","Ð¢":"Tcy","Ñ":"tshcy","Ð":"TSHcy","Ñ":"ucy","Ð£":"Ucy","Ñ":"ubrcy","Ð":"Ubrcy","Ñ":"fcy","Ð¤":"Fcy","Ñ":"khcy","Ð¥":"KHcy","Ñ":"tscy","Ð¦":"TScy","Ñ":"chcy","Ð§":"CHcy","Ñ":"dzcy","Ð":"DZcy","Ñ":"shcy","Ð¨":"SHcy","Ñ":"shchcy","Ð©":"SHCHcy","Ñ":"hardcy","Ðª":"HARDcy","Ñ":"ycy","Ð«":"Ycy","Ñ":"softcy","Ð¬":"SOFTcy","Ñ":"ecy","Ð­":"Ecy","Ñ":"yucy","Ð®":"YUcy","Ñ":"yacy","Ð¯":"YAcy","âµ":"aleph","â¶":"beth","â·":"gimel","â¸":"daleth"},p=/["&'<>`]/g,g={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},m=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,f=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|Agrave|Atilde|Ccedil|Eacute|Egrave|Iacute|Igrave|Ntilde|Oacute|Ograve|Oslash|Otilde|Uacute|Ugrave|Yacute|aacute|agrave|atilde|brvbar|ccedil|curren|divide|eacute|egrave|frac12|frac14|frac34|iacute|igrave|iquest|middot|ntilde|oacute|ograve|oslash|otilde|plusmn|uacute|ugrave|yacute|AElig|Acirc|Aring|Ecirc|Icirc|Ocirc|THORN|Ucirc|acirc|acute|aelig|aring|cedil|ecirc|icirc|iexcl|laquo|micro|ocirc|pound|raquo|szlig|thorn|times|ucirc|Auml|COPY|Euml|Iuml|Ouml|QUOT|Uuml|auml|cent|copy|euml|iuml|macr|nbsp|ordf|ordm|ouml|para|quot|sect|sup1|sup2|sup3|uuml|yuml|AMP|ETH|REG|amp|deg|eth|not|reg|shy|uml|yen|GT|LT|gt|lt)([=a-zA-Z0-9])?/g,b={aacute:"Ã¡",Aacute:"Ã",abreve:"Ä",Abreve:"Ä",ac:"â¾",acd:"â¿",acE:"â¾Ì³",acirc:"Ã¢",Acirc:"Ã",acute:"Â´",acy:"Ð°",Acy:"Ð",aelig:"Ã¦",AElig:"Ã",af:"â¡",afr:"ð",Afr:"ð",agrave:"Ã ",Agrave:"Ã",alefsym:"âµ",aleph:"âµ",alpha:"Î±",Alpha:"Î",amacr:"Ä",Amacr:"Ä",amalg:"â¨¿",amp:"&",AMP:"&",and:"â§",And:"â©",andand:"â©",andd:"â©",andslope:"â©",andv:"â©",ang:"â ",ange:"â¦¤",angle:"â ",angmsd:"â¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"â",angrtvb:"â¾",angrtvbd:"â¦",angsph:"â¢",angst:"Ã",angzarr:"â¼",aogon:"Ä",Aogon:"Ä",aopf:"ð",Aopf:"ð¸",ap:"â",apacir:"â©¯",ape:"â",apE:"â©°",apid:"â",apos:"'",ApplyFunction:"â¡",approx:"â",approxeq:"â",aring:"Ã¥",Aring:"Ã",ascr:"ð¶",Ascr:"ð",Assign:"â",ast:"*",asymp:"â",asympeq:"â",atilde:"Ã£",Atilde:"Ã",auml:"Ã¤",Auml:"Ã",awconint:"â³",awint:"â¨",backcong:"â",backepsilon:"Ï¶",backprime:"âµ",backsim:"â½",backsimeq:"â",Backslash:"â",Barv:"â«§",barvee:"â½",barwed:"â",Barwed:"â",barwedge:"â",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â",bcy:"Ð±",Bcy:"Ð",bdquo:"â",becaus:"âµ",because:"âµ",Because:"âµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â¬",Bernoullis:"â¬",beta:"Î²",Beta:"Î",beth:"â¶",between:"â¬",bfr:"ð",Bfr:"ð",bigcap:"â",bigcirc:"â¯",bigcup:"â",bigodot:"â¨",bigoplus:"â¨",bigotimes:"â¨",bigsqcup:"â¨",bigstar:"â",bigtriangledown:"â½",bigtriangleup:"â³",biguplus:"â¨",bigvee:"â",bigwedge:"â",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"âª",blacktriangle:"â´",blacktriangledown:"â¾",blacktriangleleft:"â",blacktriangleright:"â¸",blank:"â£",blk12:"â",blk14:"â",blk34:"â",block:"â",bne:"=â¥",bnequiv:"â¡â¥",bnot:"â",bNot:"â«­",bopf:"ð",Bopf:"ð¹",bot:"â¥",bottom:"â¥",bowtie:"â",boxbox:"â§",boxdl:"â",boxdL:"â",boxDl:"â",boxDL:"â",boxdr:"â",boxdR:"â",boxDr:"â",boxDR:"â",boxh:"â",boxH:"â",boxhd:"â¬",boxhD:"â¥",boxHd:"â¤",boxHD:"â¦",boxhu:"â´",boxhU:"â¨",boxHu:"â§",boxHU:"â©",boxminus:"â",boxplus:"â",boxtimes:"â ",boxul:"â",boxuL:"â",boxUl:"â",boxUL:"â",boxur:"â",boxuR:"â",boxUr:"â",boxUR:"â",boxv:"â",boxV:"â",boxvh:"â¼",boxvH:"âª",boxVh:"â«",boxVH:"â¬",boxvl:"â¤",boxvL:"â¡",boxVl:"â¢",boxVL:"â£",boxvr:"â",boxvR:"â",boxVr:"â",boxVR:"â ",bprime:"âµ",breve:"Ë",Breve:"Ë",brvbar:"Â¦",bscr:"ð·",Bscr:"â¬",bsemi:"â",bsim:"â½",bsime:"â",bsol:"\\",bsolb:"â§",bsolhsub:"â",bull:"â¢",bullet:"â¢",bump:"â",bumpe:"â",bumpE:"âª®",bumpeq:"â",Bumpeq:"â",cacute:"Ä",Cacute:"Ä",cap:"â©",Cap:"â",capand:"â©",capbrcup:"â©",capcap:"â©",capcup:"â©",capdot:"â©",CapitalDifferentialD:"â",caps:"â©ï¸",caret:"â",caron:"Ë",Cayleys:"â­",ccaps:"â©",ccaron:"Ä",Ccaron:"Ä",ccedil:"Ã§",Ccedil:"Ã",ccirc:"Ä",Ccirc:"Ä",Cconint:"â°",ccups:"â©",ccupssm:"â©",cdot:"Ä",Cdot:"Ä",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",centerdot:"Â·",CenterDot:"Â·",cfr:"ð ",Cfr:"â­",chcy:"Ñ",CHcy:"Ð§",check:"â",checkmark:"â",chi:"Ï",Chi:"Î§",cir:"â",circ:"Ë",circeq:"â",circlearrowleft:"âº",circlearrowright:"â»",circledast:"â",circledcirc:"â",circleddash:"â",CircleDot:"â",circledR:"Â®",circledS:"â",CircleMinus:"â",CirclePlus:"â",CircleTimes:"â",cire:"â",cirE:"â§",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§",ClockwiseContourIntegral:"â²",CloseCurlyDoubleQuote:"â",CloseCurlyQuote:"â",clubs:"â£",clubsuit:"â£",colon:":",Colon:"â·",colone:"â",Colone:"â©´",coloneq:"â",comma:",",commat:"@",comp:"â",compfn:"â",complement:"â",complexes:"â",cong:"â",congdot:"â©­",Congruent:"â¡",conint:"â®",Conint:"â¯",ContourIntegral:"â®",copf:"ð",Copf:"â",coprod:"â",Coproduct:"â",copy:"Â©",COPY:"Â©",copysr:"â",CounterClockwiseContourIntegral:"â³",crarr:"âµ",cross:"â",Cross:"â¨¯",cscr:"ð¸",Cscr:"ð",csub:"â«",csube:"â«",csup:"â«",csupe:"â«",ctdot:"â¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â",cuesc:"â",cularr:"â¶",cularrp:"â¤½",cup:"âª",Cup:"â",cupbrcap:"â©",cupcap:"â©",CupCap:"â",cupcup:"â©",cupdot:"â",cupor:"â©",cups:"âªï¸",curarr:"â·",curarrm:"â¤¼",curlyeqprec:"â",curlyeqsucc:"â",curlyvee:"â",curlywedge:"â",curren:"Â¤",curvearrowleft:"â¶",curvearrowright:"â·",cuvee:"â",cuwed:"â",cwconint:"â²",cwint:"â±",cylcty:"â­",dagger:"â ",Dagger:"â¡",daleth:"â¸",darr:"â",dArr:"â",Darr:"â¡",dash:"â",dashv:"â£",Dashv:"â«¤",dbkarow:"â¤",dblac:"Ë",dcaron:"Ä",Dcaron:"Ä",dcy:"Ð´",Dcy:"Ð",dd:"â",DD:"â",ddagger:"â¡",ddarr:"â",DDotrahd:"â¤",ddotseq:"â©·",deg:"Â°",Del:"â",delta:"Î´",Delta:"Î",demptyv:"â¦±",dfisht:"â¥¿",dfr:"ð¡",Dfr:"ð",dHar:"â¥¥",dharl:"â",dharr:"â",DiacriticalAcute:"Â´",DiacriticalDot:"Ë",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ë",diam:"â",diamond:"â",Diamond:"â",diamondsuit:"â¦",diams:"â¦",die:"Â¨",DifferentialD:"â",digamma:"Ï",disin:"â²",div:"Ã·",divide:"Ã·",divideontimes:"â",divonx:"â",djcy:"Ñ",DJcy:"Ð",dlcorn:"â",dlcrop:"â",dollar:"$",dopf:"ð",Dopf:"ð»",dot:"Ë",Dot:"Â¨",DotDot:"â",doteq:"â",doteqdot:"â",DotEqual:"â",dotminus:"â¸",dotplus:"â",dotsquare:"â¡",doublebarwedge:"â",DoubleContourIntegral:"â¯",DoubleDot:"Â¨",DoubleDownArrow:"â",DoubleLeftArrow:"â",DoubleLeftRightArrow:"â",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"â¸",DoubleLongLeftRightArrow:"âº",DoubleLongRightArrow:"â¹",DoubleRightArrow:"â",DoubleRightTee:"â¨",DoubleUpArrow:"â",DoubleUpDownArrow:"â",DoubleVerticalBar:"â¥",downarrow:"â",Downarrow:"â",DownArrow:"â",DownArrowBar:"â¤",DownArrowUpArrow:"âµ",DownBreve:"Ì",downdownarrows:"â",downharpoonleft:"â",downharpoonright:"â",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â½",DownLeftVectorBar:"â¥",DownRightTeeVector:"â¥",DownRightVector:"â",DownRightVectorBar:"â¥",DownTee:"â¤",DownTeeArrow:"â§",drbkarow:"â¤",drcorn:"â",drcrop:"â",dscr:"ð¹",Dscr:"ð",dscy:"Ñ",DScy:"Ð",dsol:"â§¶",dstrok:"Ä",Dstrok:"Ä",dtdot:"â±",dtri:"â¿",dtrif:"â¾",duarr:"âµ",duhar:"â¥¯",dwangle:"â¦¦",dzcy:"Ñ",DZcy:"Ð",dzigrarr:"â¿",eacute:"Ã©",Eacute:"Ã",easter:"â©®",ecaron:"Ä",Ecaron:"Ä",ecir:"â",ecirc:"Ãª",Ecirc:"Ã",ecolon:"â",ecy:"Ñ",Ecy:"Ð­",eDDot:"â©·",edot:"Ä",eDot:"â",Edot:"Ä",ee:"â",efDot:"â",efr:"ð¢",Efr:"ð",eg:"âª",egrave:"Ã¨",Egrave:"Ã",egs:"âª",egsdot:"âª",el:"âª",Element:"â",elinters:"â§",ell:"â",els:"âª",elsdot:"âª",emacr:"Ä",Emacr:"Ä",empty:"â",emptyset:"â",EmptySmallSquare:"â»",emptyv:"â",EmptyVerySmallSquare:"â«",emsp:"â",emsp13:"â",emsp14:"â",eng:"Å",ENG:"Å",ensp:"â",eogon:"Ä",Eogon:"Ä",eopf:"ð",Eopf:"ð¼",epar:"â",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",epsilon:"Îµ",Epsilon:"Î",epsiv:"Ïµ",eqcirc:"â",eqcolon:"â",eqsim:"â",eqslantgtr:"âª",eqslantless:"âª",Equal:"â©µ",equals:"=",EqualTilde:"â",equest:"â",Equilibrium:"â",equiv:"â¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â",escr:"â¯",Escr:"â°",esdot:"â",esim:"â",Esim:"â©³",eta:"Î·",Eta:"Î",eth:"Ã°",ETH:"Ã",euml:"Ã«",Euml:"Ã",euro:"â¬",excl:"!",exist:"â",Exists:"â",expectation:"â°",exponentiale:"â",ExponentialE:"â",fallingdotseq:"â",fcy:"Ñ",Fcy:"Ð¤",female:"â",ffilig:"ï¬",fflig:"ï¬",ffllig:"ï¬",ffr:"ð£",Ffr:"ð",filig:"ï¬",FilledSmallSquare:"â¼",FilledVerySmallSquare:"âª",fjlig:"fj",flat:"â­",fllig:"ï¬",fltns:"â±",fnof:"Æ",fopf:"ð",Fopf:"ð½",forall:"â",ForAll:"â",fork:"â",forkv:"â«",Fouriertrf:"â±",fpartint:"â¨",frac12:"Â½",frac13:"â",frac14:"Â¼",frac15:"â",frac16:"â",frac18:"â",frac23:"â",frac25:"â",frac34:"Â¾",frac35:"â",frac38:"â",frac45:"â",frac56:"â",frac58:"â",frac78:"â",frasl:"â",frown:"â¢",fscr:"ð»",Fscr:"â±",gacute:"Çµ",gamma:"Î³",Gamma:"Î",gammad:"Ï",Gammad:"Ï",gap:"âª",gbreve:"Ä",Gbreve:"Ä",Gcedil:"Ä¢",gcirc:"Ä",Gcirc:"Ä",gcy:"Ð³",Gcy:"Ð",gdot:"Ä¡",Gdot:"Ä ",ge:"â¥",gE:"â§",gel:"â",gEl:"âª",geq:"â¥",geqq:"â§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª",gesdoto:"âª",gesdotol:"âª",gesl:"âï¸",gesles:"âª",gfr:"ð¤",Gfr:"ð",gg:"â«",Gg:"â",ggg:"â",gimel:"â·",gjcy:"Ñ",GJcy:"Ð",gl:"â·",gla:"âª¥",glE:"âª",glj:"âª¤",gnap:"âª",gnapprox:"âª",gne:"âª",gnE:"â©",gneq:"âª",gneqq:"â©",gnsim:"â§",gopf:"ð",Gopf:"ð¾",grave:"`",GreaterEqual:"â¥",GreaterEqualLess:"â",GreaterFullEqual:"â§",GreaterGreater:"âª¢",GreaterLess:"â·",GreaterSlantEqual:"â©¾",GreaterTilde:"â³",gscr:"â",Gscr:"ð¢",gsim:"â³",gsime:"âª",gsiml:"âª",gt:">",Gt:"â«",GT:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â",gtlPar:"â¦",gtquest:"â©¼",gtrapprox:"âª",gtrarr:"â¥¸",gtrdot:"â",gtreqless:"â",gtreqqless:"âª",gtrless:"â·",gtrsim:"â³",gvertneqq:"â©ï¸",gvnE:"â©ï¸",Hacek:"Ë",hairsp:"â",half:"Â½",hamilt:"â",hardcy:"Ñ",HARDcy:"Ðª",harr:"â",hArr:"â",harrcir:"â¥",harrw:"â­",Hat:"^",hbar:"â",hcirc:"Ä¥",Hcirc:"Ä¤",hearts:"â¥",heartsuit:"â¥",hellip:"â¦",hercon:"â¹",hfr:"ð¥",Hfr:"â",HilbertSpace:"â",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â¿",homtht:"â»",hookleftarrow:"â©",hookrightarrow:"âª",hopf:"ð",Hopf:"â",horbar:"â",HorizontalLine:"â",hscr:"ð½",Hscr:"â",hslash:"â",hstrok:"Ä§",Hstrok:"Ä¦",HumpDownHump:"â",HumpEqual:"â",hybull:"â",hyphen:"â",iacute:"Ã­",Iacute:"Ã",ic:"â£",icirc:"Ã®",Icirc:"Ã",icy:"Ð¸",Icy:"Ð",Idot:"Ä°",iecy:"Ðµ",IEcy:"Ð",iexcl:"Â¡",iff:"â",ifr:"ð¦",Ifr:"â",igrave:"Ã¬",Igrave:"Ã",ii:"â",iiiint:"â¨",iiint:"â­",iinfin:"â§",iiota:"â©",ijlig:"Ä³",IJlig:"Ä²",Im:"â",imacr:"Ä«",Imacr:"Äª",image:"â",ImaginaryI:"â",imagline:"â",imagpart:"â",imath:"Ä±",imof:"â·",imped:"Æµ",Implies:"â",in:"â",incare:"â",infin:"â",infintie:"â§",inodot:"Ä±",int:"â«",Int:"â¬",intcal:"âº",integers:"â¤",Integral:"â«",intercal:"âº",Intersection:"â",intlarhk:"â¨",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",iocy:"Ñ",IOcy:"Ð",iogon:"Ä¯",Iogon:"Ä®",iopf:"ð",Iopf:"ð",iota:"Î¹",Iota:"Î",iprod:"â¨¼",iquest:"Â¿",iscr:"ð¾",Iscr:"â",isin:"â",isindot:"âµ",isinE:"â¹",isins:"â´",isinsv:"â³",isinv:"â",it:"â¢",itilde:"Ä©",Itilde:"Ä¨",iukcy:"Ñ",Iukcy:"Ð",iuml:"Ã¯",Iuml:"Ã",jcirc:"Äµ",Jcirc:"Ä´",jcy:"Ð¹",Jcy:"Ð",jfr:"ð§",Jfr:"ð",jmath:"È·",jopf:"ð",Jopf:"ð",jscr:"ð¿",Jscr:"ð¥",jsercy:"Ñ",Jsercy:"Ð",jukcy:"Ñ",Jukcy:"Ð",kappa:"Îº",Kappa:"Î",kappav:"Ï°",kcedil:"Ä·",Kcedil:"Ä¶",kcy:"Ðº",Kcy:"Ð",kfr:"ð¨",Kfr:"ð",kgreen:"Ä¸",khcy:"Ñ",KHcy:"Ð¥",kjcy:"Ñ",KJcy:"Ð",kopf:"ð",Kopf:"ð",kscr:"ð",Kscr:"ð¦",lAarr:"â",lacute:"Äº",Lacute:"Ä¹",laemptyv:"â¦´",lagran:"â",lambda:"Î»",Lambda:"Î",lang:"â¨",Lang:"âª",langd:"â¦",langle:"â¨",lap:"âª",Laplacetrf:"â",laquo:"Â«",larr:"â",lArr:"â",Larr:"â",larrb:"â¤",larrbfs:"â¤",larrfs:"â¤",larrhk:"â©",larrlp:"â«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â¢",lat:"âª«",latail:"â¤",lAtail:"â¤",late:"âª­",lates:"âª­ï¸",lbarr:"â¤",lBarr:"â¤",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦",lbrksld:"â¦",lbrkslu:"â¦",lcaron:"Ä¾",Lcaron:"Ä½",lcedil:"Ä¼",Lcedil:"Ä»",lceil:"â",lcub:"{",lcy:"Ð»",Lcy:"Ð",ldca:"â¤¶",ldquo:"â",ldquor:"â",ldrdhar:"â¥§",ldrushar:"â¥",ldsh:"â²",le:"â¤",lE:"â¦",LeftAngleBracket:"â¨",leftarrow:"â",Leftarrow:"â",LeftArrow:"â",LeftArrowBar:"â¤",LeftArrowRightArrow:"â",leftarrowtail:"â¢",LeftCeiling:"â",LeftDoubleBracket:"â¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â",LeftDownVectorBar:"â¥",LeftFloor:"â",leftharpoondown:"â½",leftharpoonup:"â¼",leftleftarrows:"â",leftrightarrow:"â",Leftrightarrow:"â",LeftRightArrow:"â",leftrightarrows:"â",leftrightharpoons:"â",leftrightsquigarrow:"â­",LeftRightVector:"â¥",LeftTee:"â£",LeftTeeArrow:"â¤",LeftTeeVector:"â¥",leftthreetimes:"â",LeftTriangle:"â²",LeftTriangleBar:"â§",LeftTriangleEqual:"â´",LeftUpDownVector:"â¥",LeftUpTeeVector:"â¥ ",LeftUpVector:"â¿",LeftUpVectorBar:"â¥",LeftVector:"â¼",LeftVectorBar:"â¥",leg:"â",lEg:"âª",leq:"â¤",leqq:"â¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âª",lesg:"âï¸",lesges:"âª",lessapprox:"âª",lessdot:"â",lesseqgtr:"â",lesseqqgtr:"âª",LessEqualGreater:"â",LessFullEqual:"â¦",LessGreater:"â¶",lessgtr:"â¶",LessLess:"âª¡",lesssim:"â²",LessSlantEqual:"â©½",LessTilde:"â²",lfisht:"â¥¼",lfloor:"â",lfr:"ð©",Lfr:"ð",lg:"â¶",lgE:"âª",lHar:"â¥¢",lhard:"â½",lharu:"â¼",lharul:"â¥ª",lhblk:"â",ljcy:"Ñ",LJcy:"Ð",ll:"âª",Ll:"â",llarr:"â",llcorner:"â",Lleftarrow:"â",llhard:"â¥«",lltri:"âº",lmidot:"Å",Lmidot:"Ä¿",lmoust:"â°",lmoustache:"â°",lnap:"âª",lnapprox:"âª",lne:"âª",lnE:"â¨",lneq:"âª",lneqq:"â¨",lnsim:"â¦",loang:"â¬",loarr:"â½",lobrk:"â¦",longleftarrow:"âµ",Longleftarrow:"â¸",LongLeftArrow:"âµ",longleftrightarrow:"â·",Longleftrightarrow:"âº",LongLeftRightArrow:"â·",longmapsto:"â¼",longrightarrow:"â¶",Longrightarrow:"â¹",LongRightArrow:"â¶",looparrowleft:"â«",looparrowright:"â¬",lopar:"â¦",lopf:"ð",Lopf:"ð",loplus:"â¨­",lotimes:"â¨´",lowast:"â",lowbar:"_",LowerLeftArrow:"â",LowerRightArrow:"â",loz:"â",lozenge:"â",lozf:"â§«",lpar:"(",lparlt:"â¦",lrarr:"â",lrcorner:"â",lrhar:"â",lrhard:"â¥­",lrm:"â",lrtri:"â¿",lsaquo:"â¹",lscr:"ð",Lscr:"â",lsh:"â°",Lsh:"â°",lsim:"â²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â",lsquor:"â",lstrok:"Å",Lstrok:"Å",lt:"<",Lt:"âª",LT:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â",lthree:"â",ltimes:"â",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â",ltrie:"â´",ltrif:"â",ltrPar:"â¦",lurdshar:"â¥",luruhar:"â¥¦",lvertneqq:"â¨ï¸",lvnE:"â¨ï¸",macr:"Â¯",male:"â",malt:"â ",maltese:"â ",map:"â¦",Map:"â¤",mapsto:"â¦",mapstodown:"â§",mapstoleft:"â¤",mapstoup:"â¥",marker:"â®",mcomma:"â¨©",mcy:"Ð¼",Mcy:"Ð",mdash:"â",mDDot:"âº",measuredangle:"â¡",MediumSpace:"â",Mellintrf:"â³",mfr:"ðª",Mfr:"ð",mho:"â§",micro:"Âµ",mid:"â£",midast:"*",midcir:"â«°",middot:"Â·",minus:"â",minusb:"â",minusd:"â¸",minusdu:"â¨ª",MinusPlus:"â",mlcp:"â«",mldr:"â¦",mnplus:"â",models:"â§",mopf:"ð",Mopf:"ð",mp:"â",mscr:"ð",Mscr:"â³",mstpos:"â¾",mu:"Î¼",Mu:"Î",multimap:"â¸",mumap:"â¸",nabla:"â",nacute:"Å",Nacute:"Å",nang:"â â",nap:"â",napE:"â©°Ì¸",napid:"âÌ¸",napos:"Å",napprox:"â",natur:"â®",natural:"â®",naturals:"â",nbsp:"Â ",nbump:"âÌ¸",nbumpe:"âÌ¸",ncap:"â©",ncaron:"Å",Ncaron:"Å",ncedil:"Å",Ncedil:"Å",ncong:"â",ncongdot:"â©­Ì¸",ncup:"â©",ncy:"Ð½",Ncy:"Ð",ndash:"â",ne:"â ",nearhk:"â¤¤",nearr:"â",neArr:"â",nearrow:"â",nedot:"âÌ¸",NegativeMediumSpace:"â",NegativeThickSpace:"â",NegativeThinSpace:"â",NegativeVeryThinSpace:"â",nequiv:"â¢",nesear:"â¤¨",nesim:"âÌ¸",NestedGreaterGreater:"â«",NestedLessLess:"âª",NewLine:"\n",nexist:"â",nexists:"â",nfr:"ð«",Nfr:"ð",nge:"â±",ngE:"â§Ì¸",ngeq:"â±",ngeqq:"â§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"âÌ¸",ngsim:"âµ",ngt:"â¯",nGt:"â«â",ngtr:"â¯",nGtv:"â«Ì¸",nharr:"â®",nhArr:"â",nhpar:"â«²",ni:"â",nis:"â¼",nisd:"âº",niv:"â",njcy:"Ñ",NJcy:"Ð",nlarr:"â",nlArr:"â",nldr:"â¥",nle:"â°",nlE:"â¦Ì¸",nleftarrow:"â",nLeftarrow:"â",nleftrightarrow:"â®",nLeftrightarrow:"â",nleq:"â°",nleqq:"â¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â®",nLl:"âÌ¸",nlsim:"â´",nlt:"â®",nLt:"âªâ",nltri:"âª",nltrie:"â¬",nLtv:"âªÌ¸",nmid:"â¤",NoBreak:"â ",NonBreakingSpace:"Â ",nopf:"ð",Nopf:"â",not:"Â¬",Not:"â«¬",NotCongruent:"â¢",NotCupCap:"â­",NotDoubleVerticalBar:"â¦",NotElement:"â",NotEqual:"â ",NotEqualTilde:"âÌ¸",NotExists:"â",NotGreater:"â¯",NotGreaterEqual:"â±",NotGreaterFullEqual:"â§Ì¸",NotGreaterGreater:"â«Ì¸",NotGreaterLess:"â¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"âµ",NotHumpDownHump:"âÌ¸",NotHumpEqual:"âÌ¸",notin:"â",notindot:"âµÌ¸",notinE:"â¹Ì¸",notinva:"â",notinvb:"â·",notinvc:"â¶",NotLeftTriangle:"âª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â¬",NotLess:"â®",NotLessEqual:"â°",NotLessGreater:"â¸",NotLessLess:"âªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"â",notniva:"â",notnivb:"â¾",notnivc:"â½",NotPrecedes:"â",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â ",NotReverseElement:"â",NotRightTriangle:"â«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â­",NotSquareSubset:"âÌ¸",NotSquareSubsetEqual:"â¢",NotSquareSuperset:"âÌ¸",NotSquareSupersetEqual:"â£",NotSubset:"ââ",NotSubsetEqual:"â",NotSucceeds:"â",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â¡",NotSucceedsTilde:"â¿Ì¸",NotSuperset:"ââ",NotSupersetEqual:"â",NotTilde:"â",NotTildeEqual:"â",NotTildeFullEqual:"â",NotTildeTilde:"â",NotVerticalBar:"â¤",npar:"â¦",nparallel:"â¦",nparsl:"â«½â¥",npart:"âÌ¸",npolint:"â¨",npr:"â",nprcue:"â ",npre:"âª¯Ì¸",nprec:"â",npreceq:"âª¯Ì¸",nrarr:"â",nrArr:"â",nrarrc:"â¤³Ì¸",nrarrw:"âÌ¸",nrightarrow:"â",nRightarrow:"â",nrtri:"â«",nrtrie:"â­",nsc:"â",nsccue:"â¡",nsce:"âª°Ì¸",nscr:"ð",Nscr:"ð©",nshortmid:"â¤",nshortparallel:"â¦",nsim:"â",nsime:"â",nsimeq:"â",nsmid:"â¤",nspar:"â¦",nsqsube:"â¢",nsqsupe:"â£",nsub:"â",nsube:"â",nsubE:"â«Ì¸",nsubset:"ââ",nsubseteq:"â",nsubseteqq:"â«Ì¸",nsucc:"â",nsucceq:"âª°Ì¸",nsup:"â",nsupe:"â",nsupE:"â«Ì¸",nsupset:"ââ",nsupseteq:"â",nsupseteqq:"â«Ì¸",ntgl:"â¹",ntilde:"Ã±",Ntilde:"Ã",ntlg:"â¸",ntriangleleft:"âª",ntrianglelefteq:"â¬",ntriangleright:"â«",ntrianglerighteq:"â­",nu:"Î½",Nu:"Î",num:"#",numero:"â",numsp:"â",nvap:"ââ",nvdash:"â¬",nvDash:"â­",nVdash:"â®",nVDash:"â¯",nvge:"â¥â",nvgt:">â",nvHarr:"â¤",nvinfin:"â§",nvlArr:"â¤",nvle:"â¤â",nvlt:"<â",nvltrie:"â´â",nvrArr:"â¤",nvrtrie:"âµâ",nvsim:"â¼â",nwarhk:"â¤£",nwarr:"â",nwArr:"â",nwarrow:"â",nwnear:"â¤§",oacute:"Ã³",Oacute:"Ã",oast:"â",ocir:"â",ocirc:"Ã´",Ocirc:"Ã",ocy:"Ð¾",Ocy:"Ð",odash:"â",odblac:"Å",Odblac:"Å",odiv:"â¨¸",odot:"â",odsold:"â¦¼",oelig:"Å",OElig:"Å",ofcir:"â¦¿",ofr:"ð¬",Ofr:"ð",ogon:"Ë",ograve:"Ã²",Ograve:"Ã",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"â®",olarr:"âº",olcir:"â¦¾",olcross:"â¦»",oline:"â¾",olt:"â§",omacr:"Å",Omacr:"Å",omega:"Ï",Omega:"Î©",omicron:"Î¿",Omicron:"Î",omid:"â¦¶",ominus:"â",oopf:"ð ",Oopf:"ð",opar:"â¦·",OpenCurlyDoubleQuote:"â",OpenCurlyQuote:"â",operp:"â¦¹",oplus:"â",or:"â¨",Or:"â©",orarr:"â»",ord:"â©",order:"â´",orderof:"â´",ordf:"Âª",ordm:"Âº",origof:"â¶",oror:"â©",orslope:"â©",orv:"â©",oS:"â",oscr:"â´",Oscr:"ðª",oslash:"Ã¸",Oslash:"Ã",osol:"â",otilde:"Ãµ",Otilde:"Ã",otimes:"â",Otimes:"â¨·",otimesas:"â¨¶",ouml:"Ã¶",Ouml:"Ã",ovbar:"â½",OverBar:"â¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"â",par:"â¥",para:"Â¶",parallel:"â¥",parsim:"â«³",parsl:"â«½",part:"â",PartialD:"â",pcy:"Ð¿",Pcy:"Ð",percnt:"%",period:".",permil:"â°",perp:"â¥",pertenk:"â±",pfr:"ð­",Pfr:"ð",phi:"Ï",Phi:"Î¦",phiv:"Ï",phmmat:"â³",phone:"â",pi:"Ï",Pi:"Î ",pitchfork:"â",piv:"Ï",planck:"â",planckh:"â",plankv:"â",plus:"+",plusacir:"â¨£",plusb:"â",pluscir:"â¨¢",plusdo:"â",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â",pointint:"â¨",popf:"ð¡",Popf:"â",pound:"Â£",pr:"âº",Pr:"âª»",prap:"âª·",prcue:"â¼",pre:"âª¯",prE:"âª³",prec:"âº",precapprox:"âª·",preccurlyeq:"â¼",Precedes:"âº",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â¼",PrecedesTilde:"â¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â¨",precsim:"â¾",prime:"â²",Prime:"â³",primes:"â",prnap:"âª¹",prnE:"âªµ",prnsim:"â¨",prod:"â",Product:"â",profalar:"â®",profline:"â",profsurf:"â",prop:"â",Proportion:"â·",Proportional:"â",propto:"â",prsim:"â¾",prurel:"â°",pscr:"ð",Pscr:"ð«",psi:"Ï",Psi:"Î¨",puncsp:"â",qfr:"ð®",Qfr:"ð",qint:"â¨",qopf:"ð¢",Qopf:"â",qprime:"â",qscr:"ð",Qscr:"ð¬",quaternions:"â",quatint:"â¨",quest:"?",questeq:"â",quot:'"',QUOT:'"',rAarr:"â",race:"â½Ì±",racute:"Å",Racute:"Å",radic:"â",raemptyv:"â¦³",rang:"â©",Rang:"â«",rangd:"â¦",range:"â¦¥",rangle:"â©",
raquo:"Â»",rarr:"â",rArr:"â",Rarr:"â ",rarrap:"â¥µ",rarrb:"â¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"âª",rarrlp:"â¬",rarrpl:"â¥",rarrsim:"â¥´",rarrtl:"â£",Rarrtl:"â¤",rarrw:"â",ratail:"â¤",rAtail:"â¤",ratio:"â¶",rationals:"â",rbarr:"â¤",rBarr:"â¤",RBarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦",rbrksld:"â¦",rbrkslu:"â¦",rcaron:"Å",Rcaron:"Å",rcedil:"Å",Rcedil:"Å",rceil:"â",rcub:"}",rcy:"Ñ",Rcy:"Ð ",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â",rdquor:"â",rdsh:"â³",Re:"â",real:"â",realine:"â",realpart:"â",reals:"â",rect:"â­",reg:"Â®",REG:"Â®",ReverseElement:"â",ReverseEquilibrium:"â",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"â",rfr:"ð¯",Rfr:"â",rHar:"â¥¤",rhard:"â",rharu:"â",rharul:"â¥¬",rho:"Ï",Rho:"Î¡",rhov:"Ï±",RightAngleBracket:"â©",rightarrow:"â",Rightarrow:"â",RightArrow:"â",RightArrowBar:"â¥",RightArrowLeftArrow:"â",rightarrowtail:"â£",RightCeiling:"â",RightDoubleBracket:"â§",RightDownTeeVector:"â¥",RightDownVector:"â",RightDownVectorBar:"â¥",RightFloor:"â",rightharpoondown:"â",rightharpoonup:"â",rightleftarrows:"â",rightleftharpoons:"â",rightrightarrows:"â",rightsquigarrow:"â",RightTee:"â¢",RightTeeArrow:"â¦",RightTeeVector:"â¥",rightthreetimes:"â",RightTriangle:"â³",RightTriangleBar:"â§",RightTriangleEqual:"âµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥",RightUpVector:"â¾",RightUpVectorBar:"â¥",RightVector:"â",RightVectorBar:"â¥",ring:"Ë",risingdotseq:"â",rlarr:"â",rlhar:"â",rlm:"â",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"â­",roarr:"â¾",robrk:"â§",ropar:"â¦",ropf:"ð£",Ropf:"â",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦",rppolint:"â¨",rrarr:"â",Rrightarrow:"â",rsaquo:"âº",rscr:"ð",Rscr:"â",rsh:"â±",Rsh:"â±",rsqb:"]",rsquo:"â",rsquor:"â",rthree:"â",rtimes:"â",rtri:"â¹",rtrie:"âµ",rtrif:"â¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â",sacute:"Å",Sacute:"Å",sbquo:"â",sc:"â»",Sc:"âª¼",scap:"âª¸",scaron:"Å¡",Scaron:"Å ",sccue:"â½",sce:"âª°",scE:"âª´",scedil:"Å",Scedil:"Å",scirc:"Å",Scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â©",scpolint:"â¨",scsim:"â¿",scy:"Ñ",Scy:"Ð¡",sdot:"â",sdotb:"â¡",sdote:"â©¦",searhk:"â¤¥",searr:"â",seArr:"â",searrow:"â",sect:"Â§",semi:";",seswar:"â¤©",setminus:"â",setmn:"â",sext:"â¶",sfr:"ð°",Sfr:"ð",sfrown:"â¢",sharp:"â¯",shchcy:"Ñ",SHCHcy:"Ð©",shcy:"Ñ",SHcy:"Ð¨",ShortDownArrow:"â",ShortLeftArrow:"â",shortmid:"â£",shortparallel:"â¥",ShortRightArrow:"â",ShortUpArrow:"â",shy:"Â­",sigma:"Ï",Sigma:"Î£",sigmaf:"Ï",sigmav:"Ï",sim:"â¼",simdot:"â©ª",sime:"â",simeq:"â",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âª",simne:"â",simplus:"â¨¤",simrarr:"â¥²",slarr:"â",SmallCircle:"â",smallsetminus:"â",smashp:"â¨³",smeparsl:"â§¤",smid:"â£",smile:"â£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸",softcy:"Ñ",SOFTcy:"Ð¬",sol:"/",solb:"â§",solbar:"â¿",sopf:"ð¤",Sopf:"ð",spades:"â ",spadesuit:"â ",spar:"â¥",sqcap:"â",sqcaps:"âï¸",sqcup:"â",sqcups:"âï¸",Sqrt:"â",sqsub:"â",sqsube:"â",sqsubset:"â",sqsubseteq:"â",sqsup:"â",sqsupe:"â",sqsupset:"â",sqsupseteq:"â",squ:"â¡",square:"â¡",Square:"â¡",SquareIntersection:"â",SquareSubset:"â",SquareSubsetEqual:"â",SquareSuperset:"â",SquareSupersetEqual:"â",SquareUnion:"â",squarf:"âª",squf:"âª",srarr:"â",sscr:"ð",Sscr:"ð®",ssetmn:"â",ssmile:"â£",sstarf:"â",star:"â",Star:"â",starf:"â",straightepsilon:"Ïµ",straightphi:"Ï",strns:"Â¯",sub:"â",Sub:"â",subdot:"âª½",sube:"â",subE:"â«",subedot:"â«",submult:"â«",subne:"â",subnE:"â«",subplus:"âª¿",subrarr:"â¥¹",subset:"â",Subset:"â",subseteq:"â",subseteqq:"â«",SubsetEqual:"â",subsetneq:"â",subsetneqq:"â«",subsim:"â«",subsub:"â«",subsup:"â«",succ:"â»",succapprox:"âª¸",succcurlyeq:"â½",Succeeds:"â»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â½",SucceedsTilde:"â¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â©",succsim:"â¿",SuchThat:"â",sum:"â",Sum:"â",sung:"âª",sup:"â",Sup:"â",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«",supe:"â",supE:"â«",supedot:"â«",Superset:"â",SupersetEqual:"â",suphsol:"â",suphsub:"â«",suplarr:"â¥»",supmult:"â«",supne:"â",supnE:"â«",supplus:"â«",supset:"â",Supset:"â",supseteq:"â",supseteqq:"â«",supsetneq:"â",supsetneqq:"â«",supsim:"â«",supsub:"â«",supsup:"â«",swarhk:"â¤¦",swarr:"â",swArr:"â",swarrow:"â",swnwar:"â¤ª",szlig:"Ã",Tab:"\t",target:"â",tau:"Ï",Tau:"Î¤",tbrk:"â´",tcaron:"Å¥",Tcaron:"Å¤",tcedil:"Å£",Tcedil:"Å¢",tcy:"Ñ",Tcy:"Ð¢",tdot:"â",telrec:"â",tfr:"ð±",Tfr:"ð",there4:"â´",therefore:"â´",Therefore:"â´",theta:"Î¸",Theta:"Î",thetasym:"Ï",thetav:"Ï",thickapprox:"â",thicksim:"â¼",ThickSpace:"ââ",thinsp:"â",ThinSpace:"â",thkap:"â",thksim:"â¼",thorn:"Ã¾",THORN:"Ã",tilde:"Ë",Tilde:"â¼",TildeEqual:"â",TildeFullEqual:"â",TildeTilde:"â",times:"Ã",timesb:"â ",timesbar:"â¨±",timesd:"â¨°",tint:"â­",toea:"â¤¨",top:"â¤",topbot:"â¶",topcir:"â«±",topf:"ð¥",Topf:"ð",topfork:"â«",tosa:"â¤©",tprime:"â´",trade:"â¢",TRADE:"â¢",triangle:"âµ",triangledown:"â¿",triangleleft:"â",trianglelefteq:"â´",triangleq:"â",triangleright:"â¹",trianglerighteq:"âµ",tridot:"â¬",trie:"â",triminus:"â¨º",TripleDot:"â",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",tscr:"ð",Tscr:"ð¯",tscy:"Ñ",TScy:"Ð¦",tshcy:"Ñ",TSHcy:"Ð",tstrok:"Å§",Tstrok:"Å¦",twixt:"â¬",twoheadleftarrow:"â",twoheadrightarrow:"â ",uacute:"Ãº",Uacute:"Ã",uarr:"â",uArr:"â",Uarr:"â",Uarrocir:"â¥",ubrcy:"Ñ",Ubrcy:"Ð",ubreve:"Å­",Ubreve:"Å¬",ucirc:"Ã»",Ucirc:"Ã",ucy:"Ñ",Ucy:"Ð£",udarr:"â",udblac:"Å±",Udblac:"Å°",udhar:"â¥®",ufisht:"â¥¾",ufr:"ð²",Ufr:"ð",ugrave:"Ã¹",Ugrave:"Ã",uHar:"â¥£",uharl:"â¿",uharr:"â¾",uhblk:"â",ulcorn:"â",ulcorner:"â",ulcrop:"â",ultri:"â¸",umacr:"Å«",Umacr:"Åª",uml:"Â¨",UnderBar:"_",UnderBrace:"â",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â",UnionPlus:"â",uogon:"Å³",Uogon:"Å²",uopf:"ð¦",Uopf:"ð",uparrow:"â",Uparrow:"â",UpArrow:"â",UpArrowBar:"â¤",UpArrowDownArrow:"â",updownarrow:"â",Updownarrow:"â",UpDownArrow:"â",UpEquilibrium:"â¥®",upharpoonleft:"â¿",upharpoonright:"â¾",uplus:"â",UpperLeftArrow:"â",UpperRightArrow:"â",upsi:"Ï",Upsi:"Ï",upsih:"Ï",upsilon:"Ï",Upsilon:"Î¥",UpTee:"â¥",UpTeeArrow:"â¥",upuparrows:"â",urcorn:"â",urcorner:"â",urcrop:"â",uring:"Å¯",Uring:"Å®",urtri:"â¹",uscr:"ð",Uscr:"ð°",utdot:"â°",utilde:"Å©",Utilde:"Å¨",utri:"âµ",utrif:"â´",uuarr:"â",uuml:"Ã¼",Uuml:"Ã",uwangle:"â¦§",vangrt:"â¦",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"â",varphi:"Ï",varpi:"Ï",varpropto:"â",varr:"â",vArr:"â",varrho:"Ï±",varsigma:"Ï",varsubsetneq:"âï¸",varsubsetneqq:"â«ï¸",varsupsetneq:"âï¸",varsupsetneqq:"â«ï¸",vartheta:"Ï",vartriangleleft:"â²",vartriangleright:"â³",vBar:"â«¨",Vbar:"â««",vBarv:"â«©",vcy:"Ð²",Vcy:"Ð",vdash:"â¢",vDash:"â¨",Vdash:"â©",VDash:"â«",Vdashl:"â«¦",vee:"â¨",Vee:"â",veebar:"â»",veeeq:"â",vellip:"â®",verbar:"|",Verbar:"â",vert:"|",Vert:"â",VerticalBar:"â£",VerticalLine:"|",VerticalSeparator:"â",VerticalTilde:"â",VeryThinSpace:"â",vfr:"ð³",Vfr:"ð",vltri:"â²",vnsub:"ââ",vnsup:"ââ",vopf:"ð§",Vopf:"ð",vprop:"â",vrtri:"â³",vscr:"ð",Vscr:"ð±",vsubne:"âï¸",vsubnE:"â«ï¸",vsupne:"âï¸",vsupnE:"â«ï¸",Vvdash:"âª",vzigzag:"â¦",wcirc:"Åµ",Wcirc:"Å´",wedbar:"â©",wedge:"â§",Wedge:"â",wedgeq:"â",weierp:"â",wfr:"ð´",Wfr:"ð",wopf:"ð¨",Wopf:"ð",wp:"â",wr:"â",wreath:"â",wscr:"ð",Wscr:"ð²",xcap:"â",xcirc:"â¯",xcup:"â",xdtri:"â½",xfr:"ðµ",Xfr:"ð",xharr:"â·",xhArr:"âº",xi:"Î¾",Xi:"Î",xlarr:"âµ",xlArr:"â¸",xmap:"â¼",xnis:"â»",xodot:"â¨",xopf:"ð©",Xopf:"ð",xoplus:"â¨",xotime:"â¨",xrarr:"â¶",xrArr:"â¹",xscr:"ð",Xscr:"ð³",xsqcup:"â¨",xuplus:"â¨",xutri:"â³",xvee:"â",xwedge:"â",yacute:"Ã½",Yacute:"Ã",yacy:"Ñ",YAcy:"Ð¯",ycirc:"Å·",Ycirc:"Å¶",ycy:"Ñ",Ycy:"Ð«",yen:"Â¥",yfr:"ð¶",Yfr:"ð",yicy:"Ñ",YIcy:"Ð",yopf:"ðª",Yopf:"ð",yscr:"ð",Yscr:"ð´",yucy:"Ñ",YUcy:"Ð®",yuml:"Ã¿",Yuml:"Å¸",zacute:"Åº",Zacute:"Å¹",zcaron:"Å¾",Zcaron:"Å½",zcy:"Ð·",Zcy:"Ð",zdot:"Å¼",Zdot:"Å»",zeetrf:"â¨",ZeroWidthSpace:"â",zeta:"Î¶",Zeta:"Î",zfr:"ð·",Zfr:"â¨",zhcy:"Ð¶",ZHcy:"Ð",zigrarr:"â",zopf:"ð«",Zopf:"â¤",zscr:"ð",Zscr:"ðµ",zwj:"â",zwnj:"â"},w={aacute:"Ã¡",Aacute:"Ã",acirc:"Ã¢",Acirc:"Ã",acute:"Â´",aelig:"Ã¦",AElig:"Ã",agrave:"Ã ",Agrave:"Ã",amp:"&",AMP:"&",aring:"Ã¥",Aring:"Ã",atilde:"Ã£",Atilde:"Ã",auml:"Ã¤",Auml:"Ã",brvbar:"Â¦",ccedil:"Ã§",Ccedil:"Ã",cedil:"Â¸",cent:"Â¢",copy:"Â©",COPY:"Â©",curren:"Â¤",deg:"Â°",divide:"Ã·",eacute:"Ã©",Eacute:"Ã",ecirc:"Ãª",Ecirc:"Ã",egrave:"Ã¨",Egrave:"Ã",eth:"Ã°",ETH:"Ã",euml:"Ã«",Euml:"Ã",frac12:"Â½",frac14:"Â¼",frac34:"Â¾",gt:">",GT:">",iacute:"Ã­",Iacute:"Ã",icirc:"Ã®",Icirc:"Ã",iexcl:"Â¡",igrave:"Ã¬",Igrave:"Ã",iquest:"Â¿",iuml:"Ã¯",Iuml:"Ã",laquo:"Â«",lt:"<",LT:"<",macr:"Â¯",micro:"Âµ",middot:"Â·",nbsp:"Â ",not:"Â¬",ntilde:"Ã±",Ntilde:"Ã",oacute:"Ã³",Oacute:"Ã",ocirc:"Ã´",Ocirc:"Ã",ograve:"Ã²",Ograve:"Ã",ordf:"Âª",ordm:"Âº",oslash:"Ã¸",Oslash:"Ã",otilde:"Ãµ",Otilde:"Ã",ouml:"Ã¶",Ouml:"Ã",para:"Â¶",plusmn:"Â±",pound:"Â£",quot:'"',QUOT:'"',raquo:"Â»",reg:"Â®",REG:"Â®",sect:"Â§",shy:"Â­",sup1:"Â¹",sup2:"Â²",sup3:"Â³",szlig:"Ã",thorn:"Ã¾",THORN:"Ã",times:"Ã",uacute:"Ãº",Uacute:"Ã",ucirc:"Ã»",Ucirc:"Ã",ugrave:"Ã¹",Ugrave:"Ã",uml:"Â¨",uuml:"Ã¼",Uuml:"Ã",yacute:"Ã½",Yacute:"Ã",yen:"Â¥",yuml:"Ã¿"},y={0:"ï¿½",128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"},_=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],k=String.fromCharCode,x={},A=x.hasOwnProperty,C=function(e,t){return A.call(e,t)},E=function(e,t){for(var i=-1,n=e.length;++i<n;)if(e[i]==t)return!0;return!1},S=function(e,t){if(!e)return t;var i,n={};for(i in t)n[i]=C(e,i)?e[i]:t[i];return n},T=function(e,t){var i="";return e>=55296&&e<=57343||e>1114111?(t&&R("character reference outside the permissible Unicode range"),"ï¿½"):C(y,e)?(t&&R("disallowed character reference"),y[e]):(t&&E(_,e)&&R("disallowed character reference"),e>65535&&(e-=65536,i+=k(e>>>10&1023|55296),e=56320|1023&e),i+=k(e))},F=function(e){return"&#x"+e.toString(16).toUpperCase()+";"},L=function(e){return"&#"+e+";"},R=function(e){throw Error("Parse error: "+e)},$=function(e,t){t=S(t,$.options);var i=t.strict;i&&f.test(e)&&R("forbidden code point");var n=t.encodeEverything,r=t.useNamedReferences,o=t.allowUnsafeSymbols,s=t.decimal?L:F,a=function(e){return s(e.charCodeAt(0))};return n?(e=e.replace(c,function(e){return r&&C(d,e)?"&"+d[e]+";":a(e)}),r&&(e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),r&&(e=e.replace(h,function(e){return"&"+d[e]+";"}))):r?(o||(e=e.replace(p,function(e){return"&"+d[e]+";"})),e=e.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;"),e=e.replace(h,function(e){return"&"+d[e]+";"})):o||(e=e.replace(p,a)),e.replace(l,function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=1024*(t-55296)+i-56320+65536;return s(n)}).replace(u,a)};$.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1,decimal:!1};var D=function(e,t){t=S(t,D.options);var i=t.strict;return i&&m.test(e)&&R("malformed character reference"),e.replace(v,function(e,n,r,o,s,a,l,c){var u,h,d,p,g,m;return n?(d=n,h=r,i&&!h&&R("character reference was not terminated by a semicolon"),u=parseInt(d,10),T(u,i)):o?(p=o,h=s,i&&!h&&R("character reference was not terminated by a semicolon"),u=parseInt(p,16),T(u,i)):a?(g=a,C(b,g)?b[g]:(i&&R("named character reference was not terminated by a semicolon"),e)):(g=l,m=c,m&&t.isAttributeValue?(i&&"="==m&&R("`&` did not start a character reference"),e):(i&&R("named character reference was not terminated by a semicolon"),w[g]+(m||"")))})};D.options={isAttributeValue:!1,strict:!1};var B=function(e){return e.replace(p,function(e){return g[e]})},M={version:"1.1.1",encode:$,decode:D,escape:B,unescape:D};n=function(){return M}.call(t,i,t,e),!(void 0!==n&&(e.exports=n))}(this)}).call(t,i(4)(e),function(){return this}())},455:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(136),s=i(293).SelectionContext,a=i(7),l=function(){var e=function(){},t={rangeDebounce:10},i=function(e){e=e||s.getSelection();var t=function(e){return/[^\-a-z0-9]/i.test(e)},i={isMention:!1,len:0,string:"",stringBefore:"",stringAfter:"",range:!1,mentionRange:!1,suffixRange:!1,caretRange:!1,offsetStart:!1,offsetEnd:!1,caretPosition:!1,caretNode:!1};if(i.caretRange=!!(e&&e.rangeCount>0)&&e.getRangeAt(0),i.caretRange===!1||i.caretRange.startOffset!==i.caretRange.endOffset)return!1;var r=i.caretRange.commonAncestorContainer;r.normalize(),i.caretNode=1===r.nodeType?r.firstChild:r;var o=null==i.caretNode?"":i.caretNode.nodeValue;if(i.caretPosition=i.caretRange.startOffset,null==o||0===o.length)return!1;for(var a=0,l=0;l<i.caretPosition;l++)t(o.charAt(l))?a=0:a++;i.stringBefore=o.substr(i.caretPosition-a,a);var c=!1;if(i.caretPosition-(a+2)>=0){c=o.substr(i.caretPosition-a-1,1);var u=o.substr(i.caretPosition-a-2,1);n.contains([32,160],u.charCodeAt(0))||(c=!1)}else i.caretPosition-(a+1)>=0&&(c=o.substr(i.caretPosition-a-1,1));for(i.isMention="@"===c,a=0,l=i.caretPosition;l<o.length&&!t(o.charAt(l));l++)a++;return i.stringAfter=o.substr(i.caretPosition,a),i.string=i.stringBefore+i.stringAfter,i.len=i.string.length,!!(i.isMention||0!==i.len&&""!==i.string)&&(i.range=document.createRange(),i.offsetStart=i.caretRange.startOffset-i.stringBefore.length,i.offsetEnd=i.caretRange.startOffset+i.stringAfter.length,i.range.setStart(i.caretNode,i.offsetStart),i.range.setEnd(i.caretNode,i.offsetEnd),i.isMention?(i.mentionRange=document.createRange(),i.mentionRange.setStart(i.caretNode,i.offsetStart-1),i.mentionRange.setEnd(i.caretNode,i.offsetEnd),i.suffixRange=document.createRange(),i.suffixRange.setStart(i.caretNode,i.caretRange.startOffset+i.stringAfter.length),i.suffixRange.setEnd(i.caretNode,i.caretRange.startOffset+i.stringAfter.length),i):i)},l={enterMention:function(t){this.currentMention=t,this.inMention=!0,this.renderGhost(t),this.dropdown.setPinnedTarget(this.editor.element),this.updatePopoverPosition(t),this.trigger("mention:enter"),e("MentionSupport:enterMention - querying server for [%s]",t.string),this.queryServer(t.string)},updateMention:function(t){if(this.inMention&&t.string!==this.currentMention.string){if(!this.isSameMention(t))return this.exitMention(t),void this.enterMention(t);this.currentMention=t,this.inMention=!0,this.renderGhost(t),this.trigger("mention:update"),e("MentionSupport:updateMention - querying server for [%s]",t.string),this.queryServer(t.string)}},exitMention:function(){this.currentMention=!1,this.inMention=!1,this.lastTypeahead="",this.teardownGhost(),this.editor.onChange(),this.trigger("mention:exit")},softConfirm:function(e){var t=i();t.caretPosition===t.offsetEnd&&this.confirmMention(e)},spaceConfirm:function(e){var t=i(),n=this.dropdown.getCurrentBlogChoice();n&&n.name===t.string&&this.confirmMention(e,n)},confirmMention:function(e,t){t=t||this.dropdown.getCurrentBlogChoice(),t&&this.setMention(t)},setMention:function(e){var t=this.lastInfo,i=e.name,n=document.createTextNode("â"),r=document.createElement("a"),o=this.lastSelection;r.setAttribute("class","tumblelog"),r.spellcheck=!1,r.innerHTML="@"+i,t.mentionRange.deleteContents(),t.mentionRange.insertNode(n),t.mentionRange.insertNode(r),t.mentionRange.setStartAfter(n),t.mentionRange.setEndAfter(n),o.removeAllRanges(),o.addRange(t.mentionRange),this.exitMention(t),this.trigger("mention:set",e,t)},linkToMention:function(t){var i,n,o,a=s.getSelection(),l=t.range.commonAncestorContainer.parentElement||r(t.range.commonAncestorContainer).parent().get(0);return this.currentMention!==!1&&this.exitMention(t),!!l.classList.contains("tumblelog")&&(i=document.createRange(),i.selectNode(l),i.deleteContents(),n=document.createTextNode("@"+t.string),i.insertNode(n),o=document.createRange(),a.removeAllRanges(),o.setStart(n,t.caretPosition),o.setEnd(n,t.caretPosition),a.addRange(o),this.cleanupRangeArea(a,o),e("MentionSupport:linkToMention",t.string),void this.onSelection(a))},abortMention:function(){this.escapeMention=i(),this.inMention&&this.exitMention(this.escapeMention)},isSameMention:function(e){return this.currentMention&&this.currentMention.offsetStart===e.offsetStart},isMentionLink:function(e){var t,i=document.createElement("div"),n=this.adjustRange(e);return!!n&&(i.appendChild(n.cloneContents()),t=r(i).find("a:first"),!!t.length&&t.hasClass("tumblelog"))},cleanupRangeArea:function(e,t){var i,n,o=document.createElement("span");o.setAttribute("id","mention_cleanup_placeholder"),o.innerHTML="",t.insertNode(o),this.normalize(e,t),i=t.commonAncestorContainer.parentElement,i||(i=r(t.commonAncestorContainer).parent().get(0)),i.normalize(),1===r(i).length&&(n=r(i).html(),n=n.replace(/[\u200B]/g,""),r(i).html(n));var s=r(document).find("#mention_cleanup_placeholder");s.length>0&&(e.removeAllRanges(),t.selectNode(s.get(0)),t.deleteContents(),e.addRange(t),i.normalize())},adjustRange:function(e){var t,i;return!n.isUndefined(e)&&(e=e.cloneRange(),t=e.commonAncestorContainer,i=3===t.nodeType?t.parentNode:t,i.textContent==="@"+e.toString()&&e.selectNode(i),e)},normalize:function(e,t){this.editor.element.normalize(),null===e||n.isUndefined(t)||(e.removeAllRanges(),e.addRange(t))},renderGhost:function(e){if(this.$ghost=r(document).find("#ui_mention_util_ghost"),!(this.$ghost.length>0)){var t=document.createElement("q");t.setAttribute("id","ui_mention_util_ghost"),t.innerHTML="&#8203;",t.className="mention-ghost",e.suffixRange.surroundContents(t),this.$ghost=r(document).find("#ui_mention_util_ghost"),this.trigger("ghost:render",this.$ghost)}},updatePopoverPosition:function(e){if(n.has(e,"range")){var t=this.getMentionRect(e),i=r(this.editor.element).offset(),o=r(window).scrollTop();this.dropdown.setShift({x:t.left-i.left-10,y:-(t.bottom-i.top+o+10)})}},teardownGhost:function(e){if(e&&e.range||(e=this.lastInfo),this.$ghost=r(document).find("#ui_mention_util_ghost"),0!==this.$ghost.length){var t=this.$ghost.parent().get(0),i=e.caretRange.commonAncestorContainer,n=s.getSelection(0),o=!!n&&n.getRangeAt(0);n&&"ui_mention_util_ghost"===r(i).attr("id")&&(o.selectNode(i),o.deleteContents(),o.collapse(!1)),this.$ghost=r(document).find("#ui_mention_util_ghost"),1===this.$ghost.length&&(this.$ghost.remove(),this.trigger("ghost:teardown")),t&&t.normalize(),n&&o&&(n.removeAllRanges(),n.addRange(o))}},insertGhost:function(e){var t=s.getSelection(0),i=t.getRangeAt(0);this.$ghost=r(document).find("#ui_mention_util_ghost"),0!==this.$ghost.length&&(this.$ghost.html(e),null===t||n.isUndefined(i)||(t.removeAllRanges(),t.addRange(i)))},maintainTypeaheadGhost:function(t,n){var r=this.dropdown.getBlogChoice(0),o=r?r.name:this.lastTypeahead;if(e("MentionSupport:maintainGhost - topSuggestion = %s, typeahead = %s, lastChar = %s",r,o,n),n&&this.lastTypeahead.length&&n===this.$ghost.text().substr(0,1))this.$ghost.text(this.$ghost.text().substr(1));else if(t&&8===t.keyCode){var s=o.substr(this.lastTypeahead.length-this.$ghost.text().length-1);e("MentionSupport:maintainGhost BACKSPACE"),this.$ghost.text(s)}else this.updateTypeahead(o);this.updatePopoverPosition(i())},stripGhost:function(e){if(!e)return e;var t=r("<span>"+e+"</span>");return t.find("#ui_mention_util_ghost").remove(),t.html()},updateTypeahead:function(t){var i=this.currentMention;if(e("MentionSupport:updateTypeahead - typeahead = [%s]",t),this.lastTypeahead=t,!i||!this.inMention||!t)return void this.teardownGhost();var n="";i=i.string;var r=i.toUpperCase(),o=t.toUpperCase();t.length>i.length&&r===o.substr(0,r.length)&&(n=t.substr(i.length,t.length-i.length)),this.insertGhost(n)},updateForInteractive:function(e){var t=this.dropdown.getCurrentBlogChoice();e&&t&&this.updateTypeahead(t.name)},bindEditorCallbacks:function(){this.editor.config.onSelection=n.bind(this.onSelection,this);var e=this.editor.config.onClientEvent||n.noop;this.editor.config.onClientEvent=n.bind(function(t){e(t),this.onClientEvent(t)},this)},setupListeners:function(){this.dropdown.listenTo(this,"editor:cycleUp",this.dropdown.cycleUp),this.dropdown.listenTo(this,"editor:cycleDown",this.dropdown.cycleDown),this.listenTo(this,"editor:abortMention",this.abortMention),this.listenTo(this,"editor:softConfirm",this.softConfirm),this.listenTo(this,"editor:spaceConfirm",this.spaceConfirm),this.listenTo(this,"editor:confirm",this.confirmMention),this.listenTo(this.dropdown,"dropdown:confirm",this.confirmMention),this.dropdown.listenTo(this,"ghost:render",this.dropdown.setPinnedTarget),this.dropdown.listenTo(this,"mention:exit",this.dropdown.teardown),this.listenTo(this.dropdown,"dropdown:render",this.maintainTypeaheadGhost),this.listenTo(this.dropdown,"dropdown:empty",this.exitMention),this.listenTo(this.dropdown,"dropdown:menuInteraction",this.updateForInteractive)},queryServer:function(e){var t={query:e,success:n.bind(this.dropdown.updateMentionDropdown,this.dropdown)};this.mentionModel.fetch(t)},getMentionRect:function(e){if(!(e&&e.range&&"getClientRects"in e.range))return!1;var t=e.range.getClientRects();return!n.isUndefined(t[0])&&t[0]}},c=function(t,i){n.extend(this,a.Events,l),this.editor=t,this.dropdown=i,this.mentionModel=i.model,this.inMention=!1,this.currentMention=!1,this.escapeMention=!1,this.lastInfo=!1,this.lastSelection=!1,this.$ghost=!1,this.lastTypeahead="",this.debugMode=!1,this.bindEditorCallbacks(),this.setupListeners(),e=n.bind(e,this)},u={keydown:{27:"editor:abortMention",38:"editor:cycleUp",40:"editor:cycleDown",39:"editor:softConfirm",32:"editor:spaceConfirm",9:"editor:confirm",13:"editor:confirm"}};return c.prototype.onClientEvent=function(e){o.trigger("richTextEditor:onClientEvent",e,this.editor);var t,n=["keyup","keydown","keypress"];if(this.inMention&&n.indexOf(e.type)!==-1){if(e=e||window.event,t=e.which||e.keyCode,"keydown"===e.type)t in u[e.type]?(this.trigger(u[e.type][t],e),39!==t&&32!==t&&(e.preventDefault(),e.stopImmediatePropagation())):8===t&&this.maintainTypeaheadGhost(e);else if("keyup"===e.type){if(t in u.keydown)return!1}else this.maintainTypeaheadGhost(e,String.fromCharCode(t));var r=i();r&&(this.lastInfo=r)}},c.prototype.onSelection=n.debounce(function(e){var t=i(e);t?(this.escapeMention&&(this.escapeMention.string===t.string?t.isMention=!1:this.escapeMention=!1),this.lastInfo=t,this.lastSelection=e):this.escapeMention=!1;var n=t&&this.isMentionLink(t.range);t&&t.isMention===!0&&!n?this.inMention&&this.isSameMention(t)?this.updateMention(t):this.enterMention(t):this.inMention?this.exitMention(t):t&&n&&this.linkToMention(t)},t.rangeDebounce),c}();e.exports=l},456:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(7),s=i(457),a=i(353),l=(i(132),i(130)),c=i(258),u="tmblr-embed",h="tmblr-embed-placeholder",d="embed_iframe",p=i(354),g=i(459),m=function(){var e={template:g,trayOpened:function(e){this.checkLimit(),this.inlineEmbedField.hide()},trayClosed:function(e){this.inlineEmbedField.hide()},disable:function(){var e=this.$inlineEmbedButton.attr("data-disabled-title");this.isDisabled=!0,this.$inlineEmbedButton.addClass("disabled").attr("title",e).attr("tabindex","-1")},enable:function(){var e=this.$inlineEmbedButton.attr("data-enabled-title");this.isDisabled=!1,this.$inlineEmbedButton.removeClass("disabled").attr("title",e).attr("tabindex","0")},checkLimit:function(){this.isAtLimit()?this.disable():this.enable()},isAtLimit:function(){var e=r(this.editor.element).find("figure."+u+", figure."+h);return e.length>=this.inlineEmbedsPerPost},calculateWidth:function(){var e=r(this.editor.element),t=e.width(),i=e.offset(),n=this.editor.inlineControls.tray,o=n.offset();return t-(o.left-i.left)},returnFocus:function(){if(this.editorView.inlineControlNode){var e=document.createRange(),t=window.getSelection();e.setStart(this.editorView.inlineControlNode,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e)}this.getButton().focus()},insertEmbed:function(e){if(this.editor.inlineControls.isTrayOpen||this.editorView.get("hasGifSearchVariation")){var t={class:h,"data-provider":encodeURIComponent(e.service),"data-orig-width":encodeURIComponent(e.widthOrig),"data-orig-height":encodeURIComponent(e.heightOrig),"data-embed-code":encodeURIComponent(e.embedCode)};n.isEmpty(e.url)||(t["data-url"]=encodeURIComponent(e.url));var i=this._buildEmbedThumbnailPreview(t,e.thumbnail,e.previewIframe),r=i.get(0);this.editor.insertMedia(r,!1,this.editorView.inlineControlNode,0),this.editor.inlineControls.close(),this.checkLimit()}},submitEmbedCode:function(){var e=n.trim(this.inlineEmbedField.getCurrentValue()||"");if(""===e)return void this.inlineEmbedField._set_field_state_default();var t=this.embedCodeParser(e,this.inlineMediaWidthFull);return t?void t.then(n.bind(function(t){return this.inlineEmbedField.set("embedCode",e),t&&t.embed_render_context&&"inline"===t.embed_render_context?(this.inlineEmbedField._set_field_state_default(),t=c(t),void this.insertEmbed(t)):void this.inlineEmbedField._set_field_state_invalid()},this),function(t){this.inlineEmbedField.set("embedCode",e),this.inlineEmbedField._set_field_state_invalid()}):(this.inlineEmbedField._set_field_state_invalid(),void this.inlineEmbedField.set("embedCode",e))},embedCodeParser:function(e,t){if(this._embedCodeParsing&&this._embedCodeParsing.abortEmbedCodeParse(),n.isEmpty(n.trim(e)))return null;var i=this._parseEmbedCode=a.parseEmbedData(e,t).then(n.bind(function(e){return e},this),function(e){return!1});return i.abortEmbedCodeParse=function(){},i},removeEmbedPlaceholders:function(e){var t=p.nodeFromString(e),i=function(e){return!n.isEmpty(e)&&decodeURIComponent(e)};return r(t).find("figure."+h).each(n.bind(function(e,t){var n=r(t),o=i(n.attr("data-embed-code")),s=n.attr("data-url"),a={class:u,"data-provider":n.attr("data-provider"),"data-orig-width":n.attr("data-orig-width"),"data-orig-height":n.attr("data-orig-height")};if(s&&(a["data-url"]=s),i(a["data-provider"])&&i(a["data-orig-width"])&&i(a["data-orig-height"])&&o){var l=this._buildEmbedFigure(a,o);n.replaceWith(l)}else n.remove()},this)),t.innerHTML},addEmbedPlaceholders:function(e){var t=this.editorView.hosts.safe_host+"/svc/embed/inline/",i=p.nodeFromString(e),o=function(e){return!n.isEmpty(e)&&decodeURIComponent(e)};return r(i).find("figure."+u).each(n.bind(function(e,i){var s=r(i),a=s.parents(),l=a&&r(a).filter("blockquote").length>0;if(e<this.inlineEmbedsPerPost){var u={code:s.html(),provider:o(s.attr("data-provider")),url:o(s.attr("data-url")),width:o(s.attr("data-orig-width")),height:o(s.attr("data-orig-height"))},g=l?this.inlineMediaWidthReblog:this.inlineMediaWidthFull,m=Math.ceil(u.height*g/u.width),f=t+encodeURIComponent(u.url?u.url:u.code);f+="?w="+g+"&h="+m;var v={class:d,src:f,scrolling:"no",frameBorder:"0",allowfullscreen:!0,mozallowfullscreen:!0,webkitallowfullscreen:!0},b=r("<iframe/>",v);b.attr("width",g),b.attr("height",m);var w=p.outerHTML(b.get(0)),y={class:h,"data-provider":s.attr("data-provider"),"data-orig-width":s.attr("data-orig-width"),"data-orig-height":s.attr("data-orig-height"),"data-embed-code":encodeURIComponent(u.code),"data-url":s.attr("data-url")||f},_=this._buildEmbedFigure(y,w);_.find("iframe").attr("src",""),s.replaceWith(_),this.embedCodeParser(decodeURIComponent(y["data-url"]),this.inlineMediaWidthFull).then(n.bind(function(e){if("inline"===n.get(e,"embed_render_context")){e=c(e);var t=this._buildEmbedThumbnailPreview(y,e.thumbnail,w);r(this.editor.element).find('figure[data-url="'+y["data-url"]+'"]').replaceWith(t)}},this),function(e){})}else s.remove()},this)),this.checkLimit(),i.innerHTML},_buildEmbedThumbnailPreview:function(e,t,i){var n=r(i);n.addClass("hidden").attr("data-src",n.attr("src")).attr("src","");var o=r(this.template({width:n.attr("width")?n.attr("width")+"px":n.css("width"),height:n.attr("height")?n.attr("height")+"px":n.css("height"),imageUrl:t.url,message:l("Load video")}));return this._buildEmbedFigure(e,o).append(n).addClass("embed-thumbnail-preview")},_buildEmbedFigure:function(e,t){var i=r("<figure/>",e);return t&&i.html(t),this.fullWidthInlineMedia&&i.addClass(this.fullWidthClass),i},getButton:function(){return this.$inlineEmbedButton},prompt:function(){this.checkLimit(),this.isDisabled||(this.inlineEmbedField.show(),this.trigger("prompt"))}},t=function(t){var i;t=t||{},n.extend(this,o.Events,e),this.editorView=t.editorView,this.editor=t.editor,this.inlineEmbedsPerPost=t.inlineEmbedsPerPost,this.inlineMediaWidthReblog=t.inlineMediaWidthReblog,this.inlineMediaWidthFull=t.inlineMediaWidthFull,this.fullWidthInlineMedia=t.fullWidthInlineMedia,this.fullWidthClass=t.fullWidthClass,this.editorView&&this.editor&&(this.$inlineEmbedButton=r("<div />",{class:"control add-inline-embed","data-control-name":"inline-embed",tabindex:"0",title:t.title,"data-enabled-title":t.title,"data-disabled-title":t.disabledTitle}),this.inlineEmbedField=this.editorView.subViews.inlineEmbedField=new s({placeholder:l("Paste a URL or embed code"),submitEmbedCode:n.bind(this.submitEmbedCode,this),calculateWidth:n.bind(this.calculateWidth,this),returnFocus:n.bind(this.returnFocus,this)}),this.inlineEmbedsPerPost>0&&(i=r("<div/>",{"data-subview":"inlineEmbedField"}),this.editor.inlineControls.addToTray(this.$inlineEmbedButton,t.trayOptions),this.editor.inlineControls.addToTray(i.get(0))),this.$inlineEmbedButton.on("click",this.prompt.bind(this)),r(this.editor.element).on("click",".embed-thumbnail-preview",n.bind(function(e){var t=r(e.currentTarget),i=t.find("iframe"),n=t.find(".thumbnail-preview");n.addClass("loading"),n.find(".Knight-Rider-loader").addClass("animate"),t.addClass("loading"),i.on("load",function(){n.removeClass("loading"),n.addClass("hidden"),t.removeClass("loading")}),i.removeClass("hidden"),i.attr("src",i.attr("data-src"))},this)),this.isDisabled=this.isAtLimit())};return t}();e.exports=m},457:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=i(230),a=i(276),l=i(277),c=i(292),u=i(458),h=o.extend({className:"post-form--inline-embed-field",template:u,mixins:[s,a,l],initialize:function(e){this.options=n.extend({},this.defaults,e)},show:function(){this.inlineEmbedInput.setEditorValue(""),n.defer(n.bind(function(){this.inlineEmbedInput.focus()},this));var e=this.options.calculateWidth();e="100%",this.$el.add(this.inlineEmbedInput.element).width(e),this.$el.addClass("open"),this.$el.closest(".tray").addClass("inline-embed-open")},hide:function(){this.$el.removeClass("open"),this.$el.closest(".tray").removeClass("inline-embed-open")},getCurrentValue:function(){return this.inlineEmbedInput?this.inlineEmbedInput.getEditorValue():""},createSubViews:function(){var e=n.extend({placeholder:this.options.placeholder,ariaLabel:this.options.placeholder,name:"inlineEmbedInput",forceSingleLine:!0,syncWithModel:!1,pasteHook:n.bind(this._onInputPaste,this),onChange:n.bind(this._onInputChange,this),onClientEvent:n.bind(this._onInputClientEvent,this)});this.inlineEmbedInput=this.subViews.inlineEmbedInput=new c(e)},_set_field_state_default:function(){r(this.inlineEmbedInput.editor.element).removeClass("invalid")},_set_field_state_invalid:function(){r(this.inlineEmbedInput.editor.element).addClass("invalid")},_onInputChange:function(e){this.getCurrentValue()!==this.get("embedCode")&&this._set_field_state_default()},_onInputPaste:function(){n.defer(n.bind(this.options.submitEmbedCode,this))},_onInputClientEvent:function(e){if("keydown"===e.type)switch(e.which||e.keyCode){case 27:e.preventDefault(),e.stopImmediatePropagation(),this.options.returnFocus(),this.hide();break;case 13:e.preventDefault(),e.stopImmediatePropagation(),this.options.submitEmbedCode()}},beforeRender:function(){this.$el.html(this.template()),this.createSubViews()},render:function(){return this.attachSubViews(),this}});e.exports=h},458:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="inline-embed-field" data-name="inlineEmbedField"><div data-subview="inlineEmbedInput"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},459:function(module,exports,__webpack_require__){
var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="thumbnail-preview" style="background-image: url('+__e(imageUrl)+"); width: "+__e(width)+"; height: "+__e(height)+'"><i class="icon_play"></i><div class="thumbnail-preview-message">'+__e(message)+'</div><span class="Knight-Rider-loader"><span class="Knight-Rider-bar"></span> <span class="Knight-Rider-bar"></span> <span class="Knight-Rider-bar"></span></span></div>';return __p}.toString()).apply(void 0,_values(_imports))},460:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(215),s=i(230),a=i(461),l=i(499),c=i(495),u=o.extend({constructor:function(e){this.initialize.apply(this,arguments)},defaults:{query:"",resultLimit:200,resultImageWidth:250,loggingContext:"inline-gif"},initialize:function(e){this.options=e=n.extend({},e),n.extend(this,n.pick(e,"editorView","editor")),r.browser.mozilla&&parseInt(r.browser.version,10)<=37&&(this.set("resultLimit",20),this.set("resultImageWidth",100)),this.searchImageQueries=new c,this.listenTo(this.searchImageQueries,"search",function(e,t){this.set("query",e),this.trigger("gifSearch:query",e,t),this.set("currentQuery",e)}),this.listenTo(this,"insertImage",function(e){this.trigger("gifSearch:accept",e.query,e.src,e.attribution)}),this._addToolbarButton(),n.isString(this.get("query"))&&this.searchImageQueries.fetchGifs(this.get("query"),this.get("resultLimit"),this.get("loggingContext")),this.editorView.$el.on("click.image-search-support","[data-tumblr-attribution]",n.bind(this._onImageClick,this))},teardown:function(){this.gifSearch&&this.gifSearch.teardown(),this.editorView.$el.off(".image-search-support")},_addToolbarButton:function(){this.$imageSearchButton=r("<div />",{class:"control add-gif","data-control-name":"gif",tabindex:"0",title:this.options.title,"data-enabled-title":this.options.title}),this.editor.inlineControls.addToTray(this.$imageSearchButton,this.options.trayOptions),this.$imageSearchButton.on("click",n.bind(function(e){this.prompt(this.get("query"))},this))},addTumblrAttribution:function(e,t,i,r){if(i.is("figure")){var o=i.filter("[data-tumblr-attribution]"),s=o.children("img").first();if(!n.isEmpty(o)&&!n.isEmpty(s)){var a=(o.attr("data-tumblr-attribution")||"").split(":");if(3!==a.length)return;a.push(o.attr("data-tumblr-query"),o.attr("data-tumblr-search")),a.unshift(o),this.updateTumblrAttribution.apply(this,a)}}},cleanupMarkup:function(e,t){t.find("figure[data-tumblr-query]").removeAttr("data-tumblr-query"),t.find("figure[data-tumblr-search]").removeAttr("data-tumblr-search"),t.find("figure[data-tumblr-attribution]").children(":not(img)").remove()},insertImage:function(e,t,i,o){!n.isUndefined(o)||(o=!0);var s=n.values(n.pick(e,"rootBlog","rootBlogKey","rootPostUrlHash")),a=this.editor.lastSelection?this.editor.lastSelection.anchorNode:null,l=function(a,l){var c=r(this.editor.getAsyncImage(a)),u=c.parent("figure");if(l){var h={"data-orig-height":e.height,"data-orig-width":e.width};u.attr(h),c.attr(n.extend({},h,{src:e.mediaUrl}))}s.unshift(u),n.isString(t)||(t=u.attr("data-tumblr-query")),n.isString(i)||(i=t),s.push(t,i),this.updateTumblrAttribution.apply(this,s),o&&u.addClass("tmblr-full"),this.editorView.updateModelFromEditor(),this.trigger("insertImage",{query:i,src:e.mediaUrl,attribution:u.attr("data-tumblr-attribution")})};this.get("replaceKey")?(l.call(this,this.get("replaceKey"),!0),this.unset("replaceKey"),this.editorView.focus()):this.editorView.insertImageFromUrl(e.mediaUrl,"",{targetNode:a}).then(n.bind(l,this))},_onImageClick:function(e){var t,i,n,o,s,a,l,c=r(e.target);this.gifSearch&&this.gifSearch.isOrWasRecentlyRendered(250)||c.is(".tmblr-attribution")||c.parents(".tmblr-attribution").length>0||(t=r(e.currentTarget),i=t.find("[data-img-key]"),i.is("[data-img-key]")&&t.is("[data-tumblr-query]")&&(n=i.attr("data-img-key"),o=t.attr("data-tumblr-query"),a=e.pageY-t.offset().top,l=t.height(),s=a>l-200?-97:-l+a,this.prompt(o,{pinnedTarget:t,shift:{x:0,y:s},selectedImageUrl:i.attr("src")}),this.set("replaceKey",n)))},updateTumblrAttribution:function(e,t,i,r,o,s){var a=e.children("img").first();e.attr("data-tumblr-attribution",t+":"+i+":"+r),n.isString(o)?e.attr("data-tumblr-query",o):e.removeAttr("data-tumblr-query"),n.isString(s)?e.attr("data-tumblr-search",s):e.removeAttr("data-tumblr-search"),e.closest(".media-holder").toggleClass("media-holder--gif-search",n.isString(o)),e.children().not(a).remove(),e.append(l({attributionUrl:"http://tmblr.co/"+r,attributionName:t}))},getButton:function(){return this.$imageSearchButton},prompt:function(e,t){t=n.extend({collection:this.searchImageQueries,query:e,resultLimit:this.get("resultLimit"),imageWidth:this.get("resultImageWidth"),loadFullImageBeforeSelect:!0,autoTeardown:!0,teardownOnEscape:!1,pinnedTarget:this.getButton(),loggingContext:this.get("loggingContext")},t);var i=function(){this.unset("replaceKey"),this.stopListening(this.gifSearch),this.gifSearch.teardown(),this.gifSearch=null};this.gifSearch&&i.call(this),this.gifSearch=new a(t),this.gifSearch.render(),this.listenToOnce(this.gifSearch,"selectImage",function(e){this.insertImage(e,this.get("query"),e.popularSearchTag),n.delay(n.bind(i,this),250)}),this.listenToOnce(this.gifSearch,"dismiss",n.bind(i,this)),this.listenToOnce(this.gifSearch,"close",function(){this.gifSearch=null}),this.trigger("prompt")},calculateWidth:function(){var e=r(this.editor.element),t=e.width(),i=e.offset(),n=this.editor.inlineControls.tray,o=n.offset();return t-(o.left-i.left)},returnFocus:function(){if(this.editorView.inlineControlNode){var e=document.createRange(),t=window.getSelection();e.setStart(this.editorView.inlineControlNode,0),e.collapse(!0),t.removeAllRanges(),t.addRange(e)}this.getButton().focus()},isOpen:function(){return!n.isEmpty(this.gifSearch)}});s.applyTo(u.prototype),e.exports=u},499:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<p class="tmblr-attribution"><a href="'+__e(attributionUrl)+'" target="_blank">'+__e(__("Originally posted by %1$s",attributionName))+"</a></p>";return __p}.toString()).apply(void 0,_values(_imports))},500:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=i(136),a=i(501),l=i(230),c=i(276),u=i(283),h=i(277),d=i(502),p=function(){},g=o.extend({className:"popover--mention-dropdown",defaults:{currentKeyedChoice:-1,currentMousedChoice:-1,interactive:!1,lastResults:{},debugMode:!1},mixins:[l,h,c,u],template:d,initialize:function(){this.model=new a,this.listenTo(this,"change:lastResults",this.preRender),p=n.bind(p,this)},preRender:function(e,t){var i=(t.blogs||[]).length;p("MentionDropdown - PreRender with %d results.",i),this.set({currentKeyedChoice:-1,currentMousedChoice:-1,interactive:!1}),i?(this._rendered&&this.teardown(!0),this.set("numSuggestions",i),this.render(t)):this.trigger("dropdown:empty")},render:function(e){return p("MentionDropdown - Render"),this.$el.html(this.template(e)),this.trigger("dropdown:render"),s.trigger("postForms:dismissListener:suspend"),this},afterRender:function(){r(".item-option",this.$el).on("mousedown",n.bind(this.handleMouseClick,this)),r(".item-option",this.$el).on("mouseover",n.bind(this.handleMouseOver,this)),this.$el.on("mouseout",n.bind(this.handleMouseOut,this))},teardown:function(e){return this.$el.remove(),e||this.set({interactive:!1,lastResults:{}}),s.trigger("postForms:dismissListener:resume"),this},updateMentionDropdown:function(e,t,i){p("MentionDropdown - fetch callback",t),this.set("lastResults",t)},cycleUp:function(){this._cycle(-1)},cycleDown:function(){this._cycle(1)},_cycle:function(e){var t=this.get("currentKeyedChoice"),i=this.get("currentMousedChoice"),r=n.isNumber(i)&&i!==-1,o=r?i:t,s=this.get("numSuggestions"),a=(o+e)%s;s&&(this.set({currentKeyedChoice:a<0?s-1:a,currentMousedChoice:-1}),this.styleMenuItems(),this.set("interactive",this.get("currentKeyedChoice")>=0),this.trigger("dropdown:menuInteraction",!0))},styleMenuItems:function(e){var t=e&&"mouseout"!==e.type,i=this.get("currentKeyedChoice");n.each(r(".item-option",this.$el),function(n,o){t?r(n).toggleClass("cycled",e.currentTarget===n):r(n).toggleClass("cycled",o===i)},this)},handleMouseOver:function(e){var t=r(e.currentTarget).index(".item-option");this.styleMenuItems(e),this.set({interactive:!0,currentMousedChoice:t}),this.trigger("dropdown:menuInteraction",!0)},handleMouseOut:function(e){var t=this.get("currentKeyedChoice")!==-1;this.styleMenuItems(e),this.set({interactive:t,currentMousedChoice:-1}),this.trigger("dropdown:menuInteraction",t)},handleMouseClick:function(e){this.set("interactive",!0),r(e.currentTarget).addClass("cycled"),this.trigger("dropdown:confirm")},getCurrentBlogChoice:function(){var e=this.get("lastResults");if(!this._rendered||n.isEmpty(e)||!("blogs"in e))return!1;var t=this.get("currentMousedChoice"),i=this.get("currentKeyedChoice"),r=0;return t>=0?r=t:i>=0&&(r=i),e.blogs[r]},getBlogChoice:function(e){var t=this.get("lastResults");return!!(!1===n.isEmpty(t)&&"blogs"in t&&t.blogs[e])&&t.blogs[e]}});e.exports=g},501:function(e,t,i){"use strict";var n=i(3),r=i(185),o=r.extend({defaults:{fetchOptions:{url:"/svc/mention",withFormKey:!0},suggestCache:{},queryHistory:[],maxCacheSize:20,maxSuggests:5,blogSuggestions:{}},fetch:function(e){"query"in e&&"success"in e&&n.isFunction(e.success)||console.error("Mention must be provided a query and a success callback.");var t=e.query;if(n.extend(e,this.get("fetchOptions")),t in this.get("suggestCache")){var i=this.get("suggestCache")[t];return this.set("blogSuggestions",i),e.success.call(this,this,i,e)}return e.data={q:t},r.prototype.fetch.call(this,e)},parse:function(e,t){var i=this._processQueryResults(e,t);return this._cacheQueryResults(i,t),i},_processQueryResults:function(e,t){var i=t.query;return n.extend(e,{queryRegex:this._escapeRegex(i)})},_cacheQueryResults:function(e,t){var i=n.clone(this.get("suggestCache")),r=n.clone(this.get("queryHistory"));i[t.query]=e,r.push(t.query),n.size(i)>this.get("maxCacheSize")&&(delete i[r[0]],r.shift()),this.set("suggestCache",i),this.set("queryHistory",r)},_escapeRegex:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|\~\`\!\@\#]/g,"\\$&")}});e.exports=o},502:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="pop-menu"><div class="inner"> ',_.each(blogs,function(e,t){__p+=" ";var i=e.name.replace(queryRegex,"<u>$&</u>");__p+=' <div id="mention_'+__e(t)+'" class="item-option" data-tumblelog="'+__e(e.name)+'"><div class="blog-info"><span class="blog-name">'+(null==(__t=i)?"":__t)+'</span><span class="blog-title">'+__e(e.title)+'</span></div><span class="blog-thumb" style="background-image:url(\''+__e(e.avatar_url)+"')\"></span></div> "}),__p+=" </div></div>";return __p}.toString()).apply(void 0,_values(_imports))},503:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(219),s=i(130),a=i(504),l=i(505),c=i(276),u=i(277),h=i(230),d=i(507),p=i(508),g=p.require("ace/mode/html").Mode,m=p.require("ace/mode/markdown").Mode,f=i(521),v=o.extend({mixins:[h,c,u],className:"html-field",events:{"click [data-js-editorHelp]":"_onClickEditorHelp","click [data-js-srcButton]":"_onClickSrcButton","click [data-js-previewButton]":"_onClickPreviewButton"},template:d,defaults:{name:"",editedSincePreview:!1,currentValue:"",htmlPreviewValue:null,markdownPreviewValue:null,isResizable:!1,isMarkdown:!1,wasFocused:!1,textareaClass:""},initialize:function(e){this.set(e),this.updateValueFromModel(),this.previewService=new a,this.tooltip=new l({className:"dropzone-tooltip-popover",text:s("Note that the dashboard doesn't display all HTML elements, but you're free to put them in your posts anyway.")}),this._renderPreview=r.bind(this.renderPreview,this)},_onClickEditorHelp:function(e){this.tooltip.isRendered()?this.tooltip.remove():this.tooltip.render()},_onClickSrcButton:function(e){this.showSource(!0)},_onClickPreviewButton:function(e){this.showPreview()},renderPreview:function(e,t){!r.isUndefined(e)||(e=this.get("currentValue")),!r.isUndefined(t)||(t=this.get("isMarkdown"));var i=this.get("htmlPreviewValue");this.get("editedSincePreview")||null==i?(this.js$("htmlPreview").html('<p style="text-align:center;"><b>'+s("Loading preview...")+"</b></p>"),this.previewService.filterForDash(e,t,r.bind(function(e){this.set(t?"markdownPreviewValue":"htmlPreviewValue",e),this.set("editedSincePreview",!1),this.js$("htmlPreview").html(e)},this),r.bind(function(){this.js$("htmlPreview").html('<p style="text-align:center;"><i>'+s("Failed to load preview :(")+"</i></p>")},this))):this.js$("htmlPreview").html(i)},teardown:function(){return this.stopListening(),this.$el.empty(),this.tooltip&&this.tooltip.remove(),this},serialize:function(){return{isMarkdown:this.get("isMarkdown"),srcLabel:s(this.get("isMarkdown")?"Markdown":"HTML"),previewLabel:s("Preview")}},beforeRender:function(){this.listenTo(this,"change:isMarkdown",function(e,t){this.js$("srcIcon").toggleClass("markdown",t).toggleClass("html",!t),this.js$("srcLabel").text(s(t?"Markdown":"HTML"));var i=t?m:g;this.editor.getSession().setMode(new i),this.setAriaLabel()})},setAriaLabel:function(){var e;this.editor&&this.editor.textInput&&(e=this.editor.textInput.getElement(),e&&n(e).attr("aria-label",s(this.get("isMarkdown")?"Markdown content":"HTML content")))},render:function(){return this.$el.html(this.template(this.serialize())),this.$el.attr("data-name",this.get("name")),this.tooltip.setPinnedTarget(this.js$("editorHelp")),this._initAce(this.js$("ace").get(0)),this.showSource(),this.updateEditor(),this.setAriaLabel(),this},hide:function(){this.$el.hide()},show:function(){this.$el.show(),this.updateEditor(),this.updatePreview()},focus:function(){this.editor&&n(this.editor.container).is(":visible")&&(this.get("wasFocused")||!function(e){r.defer(function(){e.blur(),r.defer(function(){e.focus()})}),e.blur()}(this.editor),this.editor.focus())},blur:function(){this.editor&&this.editor.blur()},updateValueFromModel:function(){this.set("currentValue",this.model.get(this.get("name"))||"")},showSource:function(e){this.js$("previewButton").removeClass("active"),this.js$("srcButton").addClass("active"),this.js$("previewView").hide(),this.js$("srcView").show(),e&&r.defer(r.bind(function(){this.focus()},this))},showPreview:function(){this.js$("srcButton").removeClass("active"),this.js$("previewButton").addClass("active"),this.updatePreview(),this.js$("srcView").hide(),this.js$("previewView").show()},updateEditor:function(){this.editor&&(this._ignoreAceChange=!0,this.editor.setValue(this.get("currentValue"),1),this._ignoreAceChange=!1)},updatePreview:function(){var e=this.get("currentValue");this._renderPreview(e)},_updateValueFromAce:function(e){var t=this.get("name"),i=this.model.get(t);this.set("editedSincePreview",!0),this.set("currentValue",e),this.model.set(t,e),this.model.set("htmlEdited",e&&i!==e)},_initAce:function(e){var t=this.editor=p.edit(e),i=t.getSession();i.setUseWorker(!1),i.setUseWrapMode(!0),i.setFoldStyle("manual"),i.on("change",r.bind(function(){this._ignoreAceChange||this._updateValueFromAce(i.getValue())},this)),i.setUseSoftTabs(!0),i.setTabSize(2);var n=this.get("isMarkdown")?m:g;i.setMode(new n),t.setTheme(f),t.setShowPrintMargin(!1),t.renderer.setShowGutter(!1),t.renderer.setPadding(20),t.renderer.setScrollMargin(20,20),t.setHighlightActiveLine(!1),t.setHighlightSelectedWord(!1),t.setBehavioursEnabled(!1),t.commands.removeCommands(["showSettingsMenu","goToNextError","goToPreviousError","centerselection","gotoline","fold","unfold","toggleFoldWidget","toggleParentFoldWidget","foldall","foldOther","unfoldall","findnext"," findprevious","selectOrFindNext","selectOrFindPrevious","find","overwrite","togglerecording","replaymacro","jumptomatching","selecttomatching","removeline","duplicateSelection","sortlines","togglecomment","toggleBlockComment","modifyNumberUp","modifyNumberDown","replace","copylinesup","movelinesup","copylinesdown","movelinesdown","cut_or_delete","blockoutdent","blockindent","splitline","transposeletters","touppercase","tolowercase","expandtoline","joinlines","inverSelection"]),t.commands.addCommand({name:"uncommand",bindKey:{win:"",mac:"Ctrl-A|Ctrl-B|Ctrl-D|Ctrl-E|Ctrl-F|Ctrl-H|Ctrl-K|Ctrl-N|Ctrl-P|Ctrl-V"},exec:function(e,t){return!0},readOnly:!0});var o=r.bind(function(){this.set("wasFocused",!0),t.off("focus",o)},this);t.on("focus",o),t.setOptions({autoScrollEditorIntoView:!0,maxLines:300})}});e.exports=v},504:function(e,t,i){"use strict";var n=i(3),r=i(8),o=function(){var e=function(e){if(!n.trim(e.html||""))return n.isFunction(e.done)&&e.done(""),void(n.isFunction(e.always)&&e.always(""));var t=r.ajax({url:"/svc/filter_html_for_dash_preview",type:"POST",withFormKey:!0,data:{html:e.html||"",markdown:e.isMarkdown?1:0}});return n.isFunction(e.done)&&t.done(e.done),n.isFunction(e.fail)&&t.fail(e.fail),n.isFunction(e.always)&&t.always(e.always),t};return{filterForDash:function(t,i,n,r,o){return e({html:t,isMarkdown:i,done:n,fail:r,always:o})},filterHtmlForDash:function(t,i,n,r){return e({html:t,isMarkdown:!1,done:i,fail:n,always:r})},filterMarkdownForDash:function(t,i,n,r){return e({html:t,isMarkdown:!0,done:i,fail:n,always:r})}}};e.exports=o},505:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(277),l=i(283),c=i(506),u=r.extend({className:"tooltip-popover",mixins:[o,s,a,l],template:c,defaults:{sanitize:!0,text:""},initialize:function(e){e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults)))},serialize:function(){return this.toJSON()},render:function(){return this.$el.html(this.template(this.serialize())),this._popoverBase.pinnedSide="none",this._popoverBase.shift.x=4+this.$pinned.width(),this._popoverBase.shift.y=8,this},teardown:function(){return this.$el.remove(),this}});e.exports=u},506:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="tooltip-inner"> ',__p+=sanitize?" "+__e(text)+" ":" "+(null==(__t=text)?"":__t)+" ",__p+=" </div>";return __p}.toString()).apply(void 0,_values(_imports))},507:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="html-mode"><div class="tabs clearfix"><div class="tab src-button" data-js-srcbutton><span class="icon '+__e(isMarkdown?"markdown":"html")+'" data-js-srcicon></span> <span class="tab-label" data-js-srclabel>'+__e(srcLabel)+'</span></div><div class="tab preview-button" data-js-previewbutton><span class="icon"></span> <span class="tab-label" data-js-previewlabel>'+__e(previewLabel)+'</span></div><div class="tab tooltip-container"><span class="icon" data-js-editorhelp></span></div></div><div class="views"><div class="view src-view" data-js-srcview><div data-js-ace></div></div><div class="view preview-view" data-js-previewview><div class="html-preview editor" data-js-htmlpreview></div></div></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},508:function(e,t,i){"use strict";var n="ace"in window,r=window.ace,o=i(509);i(511),i(514),i(515),i(516),i(517),i(519),i(520),o.require=o.acequire,n?window.ace=r:delete window.ace,e.exports=o},509:function(e,t,i){!function(){function e(e){var t=function(e,t){return r("",e,t)},o=i;e&&(i[e]||(i[e]={}),o=i[e]),o.define&&o.define.packaged||(n.original=o.define,o.define=n,o.define.packaged=!0),o.acequire&&o.acequire.packaged||(r.original=o.acequire,o.acequire=t,o.acequire.packaged=!0)}var t="ace",i=function(){return this}();if(t||"undefined"==typeof acequirejs){var n=function(e,t,i){return"string"!=typeof e?void(n.original?n.original.apply(window,arguments):(console.error("dropping module because define wasn't a string."),console.trace())):(2==arguments.length&&(i=t),n.modules||(n.modules={},n.payloads={}),n.payloads[e]=i,void(n.modules[e]=null))},r=function(e,t,i){if("[object Array]"===Object.prototype.toString.call(t)){for(var n=[],o=0,a=t.length;o<a;++o){var l=s(e,t[o]);if(!l&&r.original)return r.original.apply(window,arguments);n.push(l)}i&&i.apply(null,n)}else{if("string"==typeof t){var c=s(e,t);return!c&&r.original?r.original.apply(window,arguments):(i&&i(),c)}if(r.original)return r.original.apply(window,arguments)}},o=function(e,t){if(t.indexOf("!")!==-1){var i=t.split("!");return o(e,i[0])+"!"+o(e,i[1])}if("."==t.charAt(0)){var n=e.split("/").slice(0,-1).join("/");for(t=n+"/"+t;t.indexOf(".")!==-1&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},s=function(e,t){t=o(e,t);var i=n.modules[t];if(!i){if(i=n.payloads[t],"function"==typeof i){var s={},a={id:t,uri:"",exports:s,packaged:!0},l=function(e,i){return r(t,e,i)},c=i(l,s,a);s=c||a.exports,n.modules[t]=s,delete n.payloads[t]}i=n.modules[t]=s||i}return i};e(t)}}(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,i){"use strict";function n(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function r(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var n=i||0;n<e.length;n++)if(e[n]===t)return n;return-1}var o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},s=void 0===o.exec.call(/()??/,"")[1],a=function(){var e=/^/g;return o.test.call(e,""),!e.lastIndex}();a&&s||(RegExp.prototype.exec=function(e){var t,i,l=o.exec.apply(this,arguments);if("string"==typeof e&&l){if(!s&&l.length>1&&r(l,"")>-1&&(i=RegExp(this.source,o.replace.call(n(this),"g","")),o.replace.call(e.slice(l.index),i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(l[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var c=1;c<l.length;c++)t=this._xregexp.captureNames[c-1],t&&(l[t]=l[c]);!a&&this.global&&!l[0].length&&this.lastIndex>l.index&&this.lastIndex--}return l},a||(RegExp.prototype.test=function(e){var t=o.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,i){function n(){}function r(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function o(e){return e=+e,e!==e?e=0:0!==e&&e!==1/0&&e!==-(1/0)&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var i=g.call(arguments,1),r=function(){if(this instanceof r){var n=t.apply(this,i.concat(g.call(arguments)));return Object(n)===n?n:this}return t.apply(e,i.concat(g.call(arguments)))};return t.prototype&&(n.prototype=t.prototype,r.prototype=new n,n.prototype=null),r});var s,a,l,c,u,h=Function.prototype.call,d=Array.prototype,p=Object.prototype,g=d.slice,m=h.bind(p.toString),f=h.bind(p.hasOwnProperty);if((u=f(p,"__defineGetter__"))&&(s=h.bind(p.__defineGetter__),a=h.bind(p.__defineSetter__),l=h.bind(p.__lookupGetter__),c=h.bind(p.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,i=[];if(i.splice.apply(i,e(20)),i.splice.apply(i,e(26)),t=i.length,i.splice(5,0,"XXX"),t+1==i.length,t+1==i.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(g.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var i=this.length;e>0?e>i&&(e=i):void 0==e?e=0:e<0&&(e=Math.max(i+e,0)),e+t<i||(t=i-e);var n=this.slice(e,e+t),r=g.call(arguments,2),o=r.length;if(e===i)o&&this.push.apply(this,r);else{var s=Math.min(t,i-e),a=e+s,l=a+o-s,c=i-a,u=i-s;if(l<a)for(var h=0;h<c;++h)this[l+h]=this[a+h];else if(l>a)for(h=c;h--;)this[l+h]=this[a+h];if(o&&e===u)this.length=u,this.push.apply(this,r);else for(this.length=u+o,h=0;h<o;++h)this[e+h]=r[h]}return n};Array.isArray||(Array.isArray=function(e){return"[object Array]"==m(e)});var b=Object("a"),w="a"!=b[0]||!(0 in b);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=M(this),i=w&&"[object String]"==m(this)?this.split(""):t,n=arguments[1],r=-1,o=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError;for(;++r<o;)r in i&&e.call(n,i[r],r,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=M(this),i=w&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,r=Array(n),o=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var s=0;s<n;s++)s in i&&(r[s]=e.call(o,i[s],s,t));return r}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,i=M(this),n=w&&"[object String]"==m(this)?this.split(""):i,r=n.length>>>0,o=[],s=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var a=0;a<r;a++)a in n&&(t=n[a],e.call(s,t,a,i)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=M(this),i=w&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,r=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&!e.call(r,i[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=M(this),i=w&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,r=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&e.call(r,i[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=M(this),i=w&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,o=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in i){r=i[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;o<n;o++)o in i&&(r=e.call(void 0,r,i[o],o,t));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=M(this),i=w&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,o=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(o in i){r=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do o in this&&(r=e.call(void 0,r,i[o],o,t));while(o--);return r}),Array.prototype.indexOf&&[0,1].indexOf(1,2)==-1||(Array.prototype.indexOf=function(e){var t=w&&"[object String]"==m(this)?this.split(""):M(this),i=t.length>>>0;if(!i)return-1;var n=0;for(arguments.length>1&&(n=o(arguments[1])),n=n>=0?n:Math.max(0,i+n);n<i;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.lastIndexOf&&[0,1].lastIndexOf(0,-3)==-1||(Array.prototype.lastIndexOf=function(e){var t=w&&"[object String]"==m(this)?this.split(""):M(this),i=t.length>>>0;if(!i)return-1;var n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in t&&e===t[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:p)}),!Object.getOwnPropertyDescriptor){var y="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(y+e);if(f(e,t)){var i,n,r;if(i={enumerable:!0,configurable:!0},u){var o=e.__proto__;e.__proto__=p;var n=l(e,t),r=c(e,t);if(e.__proto__=o,n||r)return n&&(i.get=n),r&&(i.set=r),i}return i.value=e[t],i}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),!Object.create){var _;_=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var i;if(null===e)i=_();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var n=function(){};n.prototype=e,i=new n,i.__proto__=e}return void 0!==t&&Object.defineProperties(i,t),i}}if(Object.defineProperty){var k=r({}),x="undefined"==typeof document||r(document.createElement("div"));if(!k||!x)var A=Object.defineProperty}if(!Object.defineProperty||A){var C="Property description must be an object: ",E="Object.defineProperty called on non-object: ",S="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError(E+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError(C+i);if(A)try{return A.call(Object,e,t,i)}catch(e){}if(f(i,"value"))if(u&&(l(e,t)||c(e,t))){var n=e.__proto__;e.__proto__=p,delete e[t],e[t]=i.value,e.__proto__=n}else e[t]=i.value;else{if(!u)throw new TypeError(S);f(i,"get")&&s(e,t,i.get),f(i,"set")&&a(e,t,i.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var i in t)f(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(e){return function(t){return"function"==typeof t?t:e(t)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";f(e,t);)t+="?";e[t]=!0;var i=f(e,t);return delete e[t],i}),!Object.keys){var T=!0,F=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],L=F.length;for(var R in{toString:null})T=!1;Object.keys=function e(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("Object.keys called on a non-object");var e=[];for(var i in t)f(t,i)&&e.push(i);if(T)for(var n=0,r=L;n<r;n++){var o=F[n];f(t,o)&&e.push(o)}return e}}Date.now||(Date.now=function(){return(new Date).getTime()});var $="\t\n\v\f\r Â áá ââââââââââââ¯âã\u2028\u2029\ufeff";if(!String.prototype.trim||$.trim()){$="["+$+"]";var D=new RegExp("^"+$+$+"*"),B=new RegExp($+$+"*$");String.prototype.trim=function(){return String(this).replace(D,"").replace(B,"")}}var M=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,i){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,t,i){"use strict";if("undefined"!=typeof document){
var n="http://www.w3.org/1999/xhtml";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.hasCssClass=function(e,t){var i=e.className.split(/\s+/g);return i.indexOf(t)!==-1},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=" "+i)},t.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(n==-1)break;i.splice(n,1)}e.className=i.join(" ")},t.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var r=i.indexOf(t);if(r==-1)break;n=!1,i.splice(r,1)}return n&&i.push(t),e.className=i.join(" "),n},t.setCssClass=function(e,i,n){n?t.addCssClass(e,i):t.removeCssClass(e,i)},t.hasCssString=function(e,t){var i,n=0;if(t=t||document,t.createStyleSheet&&(i=t.styleSheets)){for(;n<i.length;)if(i[n++].owningElement.id===e)return!0}else if(i=t.getElementsByTagName("style"))for(;n<i.length;)if(i[n++].id===e)return!0;return!1},t.importCssString=function(e,i,r){if(r=r||document,i&&t.hasCssString(i,r))return null;var o;r.createStyleSheet?(o=r.createStyleSheet(),o.cssText=e,i&&(o.owningElement.id=i)):(o=r.createElementNS?r.createElementNS(n,"style"):r.createElement("style"),o.appendChild(r.createTextNode(e)),i&&(o.id=i),t.getDocumentHead(r).appendChild(o))},t.importCssStylsheet=function(e,i){if(i.createStyleSheet)i.createStyleSheet(e);else{var n=t.createElement("link");n.rel="stylesheet",n.href=e,t.getDocumentHead(i).appendChild(n)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var i=t.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=t.createElement("ace_outer"),r=n.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",n.appendChild(i);var o=e.documentElement;o.appendChild(n);var s=i.offsetWidth;r.overflow="scroll";var a=i.offsetWidth;return s==a&&(a=n.clientWidth),o.removeChild(n),s-a},t.setInnerHtml=function(e,t){var i=e.cloneNode(!1);return i.innerHTML=t,e.parentNode.replaceChild(i,e),i},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow}}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,t,i){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(e,t,i){"use strict";var n=e("./oop"),r=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i}();n.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),r=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((r.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((r.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((r.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(r.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(r.split(" Chrome/")[1])||void 0,t.isAIR=r.indexOf("AdobeAIR")>=0,t.isIPad=r.indexOf("iPad")>=0,t.isTouchPad=r.indexOf("TouchPad")>=0,t.isChromeOS=r.indexOf(" CrOS ")>=0}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";function n(e,t,i){var n=s(t);if(!o.isMac&&a){if((a[91]||a[92])&&(n|=8),a.altGr){if(3==(3&n))return;a.altGr=0}if(18===i||17===i){var c=t.location||t.keyLocation;if(17===i&&1===c)l=t.timeStamp;else if(18===i&&3===n&&2===c){var u=-l;l=t.timeStamp,u+=l,u<3&&(a.altGr=!0)}}}if(i in r.MODIFIER_KEYS){switch(r.MODIFIER_KEYS[i]){case"Alt":n=2;break;case"Shift":n=4;break;case"Ctrl":n=1;break;default:n=8}i=-1}if(8&n&&(91===i||93===i)&&(i=-1),n||13!==i||!t.location&&3!==t.keyLocation||(e(t,n,-i),!t.defaultPrevented)){if(o.isChromeOS&&8&n){if(e(t,n,i),t.defaultPrevented)return;n&=-9}return!!(n||i in r.FUNCTION_KEYS||i in r.PRINTABLE_KEYS)&&e(t,n,i)}}var r=e("./keys"),o=e("./useragent");t.addListener=function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent){var n=function(){i.call(e,window.event)};i._wrapper=n,e.attachEvent("on"+t,n)}},t.removeListener=function(e,t,i){return e.removeEventListener?e.removeEventListener(t,i,!1):void(e.detachEvent&&e.detachEvent("on"+t,i._wrapper||i))},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,i,n){function r(e){i&&i(e),n&&n(e),t.removeListener(document,"mousemove",i,!0),t.removeListener(document,"mouseup",r,!0),t.removeListener(document,"dragstart",r,!0)}return t.addListener(document,"mousemove",i,!0),t.addListener(document,"mouseup",r,!0),t.addListener(document,"dragstart",r,!0),r},t.addMouseWheelListener=function(e,i){"onmousewheel"in e?t.addListener(e,"mousewheel",function(e){var t=8;void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/t,e.wheelY=-e.wheelDeltaY/t):(e.wheelX=0,e.wheelY=-e.wheelDelta/t),i(e)}):"onwheel"in e?t.addListener(e,"wheel",function(e){var t=.35;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=e.deltaX*t||0,e.wheelY=e.deltaY*t||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}i(e)}):t.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),i(e)})},t.addMultiMouseDownListener=function(e,i,n,r){var s,a,l,c=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",function(e){if(0!==t.getButton(e)?c=0:e.detail>1?(c++,c>4&&(c=1)):c=1,o.isIE){var h=Math.abs(e.clientX-s)>5||Math.abs(e.clientY-a)>5;l&&!h||(c=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},i[c-1]||600),1==c&&(s=e.clientX,a=e.clientY)}if(n[r]("mousedown",e),c>4)c=0;else if(c>1)return n[r](u[c],e)}),o.isOldIE&&t.addListener(e,"dblclick",function(e){c=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},i[c-1]||600),n[r]("mousedown",e),n[r](u[c],e)})};var s=!o.isMac||!o.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};t.getModifierString=function(e){return r.KEY_MODS[s(e)]};var a=null,l=0;if(t.addCommandKeyListener=function(e,i){var r=t.addListener;if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var s=null;r(e,"keydown",function(e){s=e.keyCode}),r(e,"keypress",function(e){return n(i,e,s)})}else{var l=null;r(e,"keydown",function(e){a[e.keyCode]=!0;var t=n(i,e,e.keyCode);return l=e.defaultPrevented,t}),r(e,"keypress",function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),r(e,"keyup",function(e){a[e.keyCode]=null}),a||(a=Object.create(null),r(window,"focus",function(e){a=Object.create(null)}))}},window.postMessage&&!o.isOldIE){var c=1;t.nextTick=function(e,i){i=i||window;var n="zero-timeout-message-"+c;t.addListener(i,"message",function r(o){o.data==n&&(t.stopPropagation(o),t.removeListener(i,"message",r),e())}),i.postMessage(n,"*")}}t.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";t>0;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function(e){if("object"!=typeof e||!e)return e;var i=e.constructor;if(i===RegExp)return e;var n=i();for(var r in e)"object"==typeof e[r]?n[r]=t.deepCopy(e[r]):n[r]=e[r];return n},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length})}),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},n=function(e){return n.cancel(),t=setTimeout(i,e||0),n};return n.schedule=n,n.call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(t),t=null,n},n.isPending=function(){return t},n},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},r=function(e){null==i&&(i=setTimeout(n,e||t))};return r.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){i&&clearTimeout(i),i=null},r.isPending=function(){return i},r}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],function(e,t,i){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=r.isChrome<18,l=r.isIE,c=function(e,t){function i(e){if(!m){if(S)t=0,i=e?0:h.value.length-1;else var t=e?2:1,i=2;try{h.setSelectionRange(t,i)}catch(e){}}}function c(){m||(h.value=d,r.isWebKit&&y.schedule())}function u(){setTimeout(function(){f&&(h.style.cssText=f,f=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())},0)}var h=o.createElement("textarea");h.className="ace_text-input",r.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.wrap="off",h.autocorrect="off",h.autocapitalize="off",h.spellcheck=!1,h.style.opacity="0",e.insertBefore(h,e.firstChild);var d="",p=!1,g=!1,m=!1,f="",v=!0;try{var b=document.activeElement===h}catch(e){}n.addListener(h,"blur",function(){t.onBlur(),b=!1}),n.addListener(h,"focus",function(){b=!0,t.onFocus(),i()}),this.focus=function(){h.focus()},this.blur=function(){h.blur()},this.isFocused=function(){return b};var w=s.delayedCall(function(){b&&i(v)}),y=s.delayedCall(function(){m||(h.value=d,b&&i())});r.isWebKit||t.addEventListener("changeSelection",function(){t.selection.isEmpty()!=v&&(v=!v,w.schedule())}),c(),b&&t.onFocus();var _=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!h.setSelectionRange&&h.createTextRange&&(h.setSelectionRange=function(e,t){var i=this.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",t),i.select()},_=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),r.isOldIE){var k=!1,x=function(e){if(!k){var t=h.value;if(!m&&t&&t!=d){if(e&&t==d[0])return A.schedule();F(t),k=!0,c(),k=!1}}},A=s.delayedCall(x);n.addListener(h,"propertychange",x);var C={13:1,27:1};n.addListener(h,"keyup",function(e){return!m||h.value&&!C[e.keyCode]||setTimeout(P,0),(h.value.charCodeAt(0)||0)<129?A.call():void(m?I():j())}),n.addListener(h,"keydown",function(e){A.schedule(50)})}var E=function(e){p?p=!1:_(h)?(t.selectAll(),i()):S&&i(t.selection.isEmpty())},S=null;this.setInputHandler=function(e){S=e},this.getInputHandler=function(){return S};var T=!1,F=function(e){S&&(e=S(e),S=null),g?(i(),e&&t.onPaste(e),g=!1):e==d.charAt(0)?T?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==d?e=e.substr(2):e.charAt(0)==d.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==d.charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),T&&(T=!1)},L=function(e){if(!m){var t=h.value;F(t),c()}},R=function(e,t){var i=e.clipboardData||window.clipboardData;if(i&&!a){var n=l?"Text":"text/plain";return t?i.setData(n,t)!==!1:i.getData(n)}},$=function(e,r){var o=t.getCopyText();return o?void(R(e,o)?(r?t.onCut():t.onCopy(),n.preventDefault(e)):(p=!0,h.value=o,h.select(),setTimeout(function(){p=!1,c(),i(),r?t.onCut():t.onCopy()}))):n.preventDefault(e)},D=function(e){$(e,!0)},B=function(e){$(e,!1)},M=function(e){var o=R(e);"string"==typeof o?(o&&t.onPaste(o),r.isIE&&setTimeout(i),n.preventDefault(e)):(h.value="",g=!0)};n.addCommandKeyListener(h,t.onCommandKey.bind(t)),n.addListener(h,"select",E),n.addListener(h,"input",L),n.addListener(h,"cut",D),n.addListener(h,"copy",B),n.addListener(h,"paste",M),"oncut"in h&&"oncopy"in h&&"onpaste"in h||n.addListener(e,"keydown",function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:B(e);break;case 86:M(e);break;case 88:D(e)}});var j=function(e){!m&&t.onCompositionStart&&(m={},t.onCompositionStart(),setTimeout(I,0),t.on("mousedown",P),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},I=function(){if(m&&t.onCompositionUpdate){var e=h.value.replace(/\x01/g,"");if(m.lastValue!==e&&(t.onCompositionUpdate(e),m.lastValue&&t.undo(),m.lastValue=e,m.lastValue)){var i=t.selection.getRange();t.insert(m.lastValue),t.session.markUndoGroup(),m.range=t.selection.getRange(),t.selection.setRange(i),t.selection.clearSelection()}}},P=function(e){if(t.onCompositionEnd){var i=m;m=!1;var n=setTimeout(function(){n=null;var e=h.value.replace(/\x01/g,"");m||(e==i.lastValue?c():!i.lastValue&&e&&(c(),F(e)))});S=function(e){return n&&clearTimeout(n),e=e.replace(/\x01/g,""),e==i.lastValue?"":(i.lastValue&&n&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",P),"compositionend"==e.type&&i.range&&t.selection.setRange(i.range)}},O=s.delayedCall(I,50);if(n.addListener(h,"compositionstart",j),r.isGecko?n.addListener(h,"text",function(){O.schedule()}):(n.addListener(h,"keyup",function(){O.schedule()}),n.addListener(h,"keydown",function(){O.schedule()})),n.addListener(h,"compositionend",P),this.getElement=function(){return h},this.setReadOnly=function(e){h.readOnly=e},this.onContextMenu=function(e){T=!0,f||(f=h.style.cssText),h.style.cssText="z-index:100000;"+(r.isIE?"opacity:0.1;":""),i(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e});var s=t.container.getBoundingClientRect(),a=o.computedStyle(t.container),l=s.top+(parseInt(a.borderTopWidth)||0),c=s.left+(parseInt(s.borderLeftWidth)||0),d=s.bottom-l-h.clientHeight,p=function(e){h.style.left=e.clientX-c-2+"px",h.style.top=Math.min(e.clientY-l-2,d)+"px"};p(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),r.isWin&&n.capture(t.container,p,u))},this.onContextMenuClose=u,!r.isGecko||r.isMac){var N=function(e){t.textInput.onContextMenu(e),u()};n.addListener(t.renderer.scroller,"contextmenu",N),n.addListener(h,"contextmenu",N)}};t.TextInput=c}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));var i=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];i.forEach(function(t){e[t]=this[t]},this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function r(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}function o(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)var i=2*t.row-e.start.row-e.end.row;else var i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var s=(e("../lib/dom"),e("../lib/event"),e("../lib/useragent"),0);(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,r=e.getButton();if(0!==r){var o=n.getSelectionRange(),s=o.isEmpty();return s&&n.selection.moveToPosition(i),void n.textInput.onContextMenu(e.domEvent)}return!t||n.isFocused()||(n.focus(),!this.$focusTimout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),!t||this.$clickSelection||e.getShiftKey()||n.inMultiSelectMode?this.startSelect(i):t&&(this.mousedownEvent.time=Date.now(),this.startSelect(i)),e.preventDefault()):(this.mousedownEvent.time=Date.now(),this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var t=this.editor,i=this.mousedownEvent.getShiftKey();setTimeout(function(){i?t.selection.selectToPosition(e):this.$clickSelection||t.selection.moveToPosition(e),this.select()}.bind(this),0),t.renderer.scroller.setCapture&&t.renderer.scroller.setCapture(),t.setStyle("ace_selecting"),this.setState("select")},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(n==-1)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,i);i=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),r=i.selection[e](n.row,n.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(s==-1&&a<=0)t=this.$clickSelection.end,r.end.row==n.row&&r.end.column==n.column||(n=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,r.start.row==n.row&&r.start.column==n.column||(n=r.end);else if(s==-1&&1==a)n=r.end,t=r.start;else{var l=o(this.$clickSelection,n);n=l.cursor,t=l.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>s||t-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session,r=n.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row)},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,i=t-(this.$lastScrollTime||0),n=this.editor,r=n.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed);return r||i<200?(this.$lastScrollTime=t,n.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(n.prototype),t.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}var r=(e("./lib/oop"),e("./lib/dom"));(function(){this.$init=function(){return this.$element=r.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){r.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){r.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){"use strict";function n(e){function t(){var t=h.getDocumentPosition().row,r=l.$annotations[t];if(!r)return i();var o=s.session.getLength();if(t==o){var a=s.renderer.pixelToScreenCoordinates(0,h.y).row,u=h.$pos;if(a>s.session.documentToScreenRow(u.row,u.column))return i()}if(d!=r)if(d=r.text.join("<br/>"),c.setHtml(d),c.show(),s.on("mousewheel",i),e.$tooltipFollowsMouse)n(h);else{var p=l.$cells[s.session.documentToScreenRow(t,0)].element,g=p.getBoundingClientRect(),m=c.getElement().style;m.left=g.right+"px",m.top=g.bottom+"px"}}function i(){u&&(u=clearTimeout(u)),d&&(c.hide(),d=null,s.removeEventListener("mousewheel",i))}function n(e){c.setPosition(e.x,e.y)}var s=e.editor,l=s.renderer.$gutterLayer,c=new r(s.container);e.editor.setDefaultHandler("guttermousedown",function(t){if(s.isFocused()&&0==t.getButton()){var i=l.getRegion(t);if("foldWidgets"!=i){var n=t.getDocumentPosition().row,r=s.session.selection;if(t.getShiftKey())r.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}}});var u,h,d;e.editor.setDefaultHandler("guttermousemove",function(r){var s=r.domEvent.target||r.domEvent.srcElement;return o.hasCssClass(s,"ace_fold-widget")?i():(d&&e.$tooltipFollowsMouse&&n(r),h=r,void(u||(u=setTimeout(function(){u=null,h&&!e.isMousePressed?t():i()},50))))}),a.addListener(s.renderer.$gutter,"mouseout",function(e){h=null,d&&!u&&(u=setTimeout(function(){u=null,i()},50))}),s.on("changeSession",i)}function r(e){l.call(this,e)}var o=e("../lib/dom"),s=e("../lib/oop"),a=e("../lib/event"),l=e("../tooltip").Tooltip;s.inherits(r,l),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();e+=15,t+=15,e+r>i&&(e-=e+r-i),t+o>n&&(t-=20+o),l.prototype.setPosition.call(this,e,t)}}.call(r.prototype),t.GutterHandler=n}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor,t=e.getSelectionRange();if(t.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=t.contains(i.row,i.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(e){function t(e,t){var i=Date.now(),n=!t||e.row!=t.row,o=!t||e.column!=t.column;if(!T||n||o)f.$blockScrolling+=1,f.moveCursorToPosition(e),f.$blockScrolling-=1,T=i,F={x:y,y:_};else{var s=r(F.x,F.y,y,_);s>u?T=null:i-T>=c&&(f.renderer.scrollCursorIntoView(),T=null)}}function i(e,t){var i=Date.now(),n=f.renderer.layerConfig.lineHeight,r=f.renderer.layerConfig.characterWidth,o=f.renderer.scroller.getBoundingClientRect(),s={x:{left:y-o.left,right:o.right-y},y:{top:_-o.top,bottom:o.bottom-_}},a=Math.min(s.x.left,s.x.right),c=Math.min(s.y.top,s.y.bottom),u={row:e.row,column:e.column};a/r<=2&&(u.column+=s.x.left<s.x.right?-3:2),c/n<=1&&(u.row+=s.y.top<s.y.bottom?-1:1);var h=e.row!=u.row,d=e.column!=u.column,p=!t||e.row!=t.row;h||d&&!p?S?i-S>=l&&f.renderer.scrollCursorIntoView(u):S=i:S=null}function n(){var e=A;A=f.renderer.screenToTextCoordinates(y,_),t(A,e),i(A,e)}function h(){x=f.selection.toOrientedRange(),w=f.session.addMarker(x,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(k),k=setInterval(n,20),R=0,s.addListener(document,"mousemove",p)}function d(){clearInterval(k),f.session.removeMarker(w),w=null,f.$blockScrolling+=1,f.selection.fromOrientedRange(x),f.$blockScrolling-=1,f.isFocused()&&!E&&f.renderer.$cursorLayer.setBlinking(!f.getReadOnly()),x=null,R=0,S=null,T=null,s.removeListener(document,"mousemove",p)}function p(){null==$&&($=setTimeout(function(){null!=$&&w&&d()},20))}function g(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function m(e){var t=["copy","copymove","all","uninitialized"],i=["move","copymove","linkmove","all","uninitialized"],n=a.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return n&&t.indexOf(r)>=0?o="copy":i.indexOf(r)>=0?o="move":t.indexOf(r)>=0&&(o="copy"),o}var f=e.editor,v=o.createElement("img");v.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",a.isOpera&&(v.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");var b=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];b.forEach(function(t){e[t]=this[t]},this),f.addEventListener("mousedown",this.onMouseDown.bind(e));var w,y,_,k,x,A,C,E,S,T,F,L=f.container,R=0;this.onDragStart=function(e){if(this.cancelDrag||!L.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}x=f.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=f.getReadOnly()?"copy":"copyMove",a.isOpera&&(f.container.appendChild(v),v._top=v.offsetTop),i.setDragImage&&i.setDragImage(v,0,0),a.isOpera&&f.container.removeChild(v),i.clearData(),i.setData("Text",f.session.getTextRange()),E=!0,this.setState("drag")},this.onDragEnd=function(e){if(L.draggable=!1,E=!1,this.setState(null),!f.getReadOnly()){var t=e.dataTransfer.dropEffect;C||"move"!=t||f.session.remove(f.getSelectionRange()),f.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging")},this.onDragEnter=function(e){if(!f.getReadOnly()&&g(e.dataTransfer))return w||h(),R++,e.dataTransfer.dropEffect=C=m(e),s.preventDefault(e)},this.onDragOver=function(e){if(!f.getReadOnly()&&g(e.dataTransfer))return w||(h(),R++),null!==$&&($=null),y=e.clientX,
_=e.clientY,e.dataTransfer.dropEffect=C=m(e),s.preventDefault(e)},this.onDragLeave=function(e){if(R--,R<=0&&w)return d(),C=null,s.preventDefault(e)},this.onDrop=function(e){if(w){var t=e.dataTransfer;if(E)switch(C){case"move":x=x.contains(A.row,A.column)?{start:A,end:A}:f.moveText(x,A);break;case"copy":x=f.moveText(x,A,!0)}else{var i=t.getData("Text");x={start:A,end:f.session.insert(A,i)},f.focus(),C=null}return d(),s.preventDefault(e)}},s.addListener(L,"dragstart",this.onDragStart.bind(e)),s.addListener(L,"dragend",this.onDragEnd.bind(e)),s.addListener(L,"dragenter",this.onDragEnter.bind(e)),s.addListener(L,"dragover",this.onDragOver.bind(e)),s.addListener(L,"dragleave",this.onDragLeave.bind(e)),s.addListener(L,"drop",this.onDrop.bind(e));var $=null}function r(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}var o=e("../lib/dom"),s=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,u=5;(function(){this.dragWait=function(){var e=Date.now()-this.mousedownEvent.time;e>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var e=this.editor.container;e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor.container;e.draggable=!0,this.editor.renderer.$cursorLayer.setBlinking(!1),this.editor.setStyle("ace_dragging"),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;if(a.isIE&&"dragReady"==this.state){var i=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>3&&t.dragDrop()}if("dragWait"===this.state){var i=r(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);i>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton(),r=e.domEvent.detail||1;if(1===r&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(a.isWebKit){this.cancelDrag=!0;var s=t.container;s.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),r=document.createElement("script");r.src=e,i.appendChild(r),r.onload=r.onreadystatechange=function(e,i){!i&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,i||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){"use strict";var n={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=o),i=i.slice();for(var s=0;s<i.length&&(i[s](t,this),!t.propagationStopped);s++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(e,t){var i=this;t&&this.addEventListener(e,function n(){i.removeEventListener(e,n),t.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],r=i._disabled_[e];r||(i._disabled_[e]=r=[]),r.push(n);var o=r.indexOf(t);o!=-1&&r.splice(o,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t){i[e];n&&this.setDefaultHandler(e,n.pop())}else if(n){var r=n.indexOf(t);r!=-1&&n.splice(r,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),n.indexOf(t)==-1&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);n!==-1&&i.splice(n,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/event_emitter"],function(e,t,n){"no use strict";function r(r){if(h.packaged=r||e.packaged||n.packaged||u.define&&i(196).packaged,!u.document)return"";for(var s={},a="",l=document.currentScript||document._currentScript,c=l&&l.ownerDocument||document,d=c.getElementsByTagName("script"),p=0;p<d.length;p++){var g=d[p],m=g.src||g.getAttribute("src");if(m){for(var f=g.attributes,v=0,b=f.length;v<b;v++){var w=f[v];0===w.name.indexOf("data-ace-")&&(s[o(w.name.replace(/^data-ace-/,""))]=w.value)}var y=m.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);y&&(a=y[1])}}a&&(s.base=s.base||a,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var _ in s)"undefined"!=typeof s[_]&&t.set(_,s[_])}function o(e){return e.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}var s=e("./lib/lang"),a=e("./lib/oop"),l=e("./lib/net"),c=e("./lib/event_emitter").EventEmitter,u=function(){return this}(),h={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};t.get=function(e){if(!h.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return h[e]},t.set=function(e,t){if(!h.hasOwnProperty(e))throw new Error("Unknown config key: "+e);h[e]=t},t.all=function(){return s.copyObject(h)},a.implement(t,c),t.moduleUrl=function(e,t){if(h.$moduleUrls[e])return h.$moduleUrls[e];var i=e.split("/");t=t||i[i.length-2]||"";var n="snippets"==t?"/":"-",r=i[i.length-1];if("-"==n){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&i.length>1&&(r=i[i.length-2]);var s=h[t+"Path"];return null==s?s=h.basePath:"/"==n&&(t=n=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+n+r+this.get("suffix")},t.setModuleUrl=function(e,t){return h.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(i,n){var r,o;Array.isArray(i)&&(o=i[0],i=i[1]);try{r=e(i)}catch(e){}if(r&&!t.$loading[i])return n&&n(r);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(n),!(t.$loading[i].length>1)){var s=function(){e([i],function(e){t._emit("load.module",{name:i,module:e});var n=t.$loading[i];t.$loading[i]=null,n.forEach(function(t){t&&t(e)})})};return t.get("packaged")?void l.loadScript(t.moduleUrl(i,o),s):s()}},r(!0),t.init=r;var d={setOptions:function(e){Object.keys(e).forEach(function(t){this.setOption(t,e[t])},this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return void("undefined"!=typeof console&&console.warn&&console.warn('misspelled option "'+e+'"'));if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:void("undefined"!=typeof console&&console.warn&&console.warn('misspelled option "'+e+'"'))}},p={};t.defineOptions=function(e,t,i){return e.$options||(p[t]=e.$options={}),Object.keys(i).forEach(function(t){var n=i[t];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),e.$options[n.name]=n,"initialValue"in n&&(e["$"+n.name]=n.initialValue)}),a.implement(e,d),this},t.resetOptions=function(e){Object.keys(e.$options).forEach(function(t){var i=e.$options[t];"value"in i&&e.setOption(t,i.value)})},t.setDefaultValue=function(e,i,n){var r=p[e]||(p[e]={});r[i]&&(r.forwardTo?t.setDefaultValue(r.forwardTo,i,n):r[i].value=n)},t.setDefaultValues=function(e,i){Object.keys(i).forEach(function(n){t.setDefaultValue(e,n,i[n])})}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,i){"use strict";var n=e("../lib/event"),r=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("../config"),u=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var i=function(t){!e.isFocused()&&e.textInput&&e.textInput.onContextMenu(t),e.focus()},a=e.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click")),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener(a,[400,300,250],this,"onMouseEvent"),e.renderer.scrollBarV&&(n.addMultiMouseDownListener(e.renderer.scrollBarV.inner,[400,300,250],this,"onMouseEvent"),n.addMultiMouseDownListener(e.renderer.scrollBarH.inner,[400,300,250],this,"onMouseEvent"),r.isIE&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",i),n.addListener(e.renderer.scrollBarH.element,"mousemove",i))),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var c=e.renderer.$gutter;n.addListener(c,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(c,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(c,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(c,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(a,"mousedown",i),n.addListener(c,"mousedown",function(t){return e.focus(),n.preventDefault(t)}),e.on("mousemove",function(i){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var n=e.renderer.screenToTextCoordinates(i.x,i.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(n.row,n.column)?o.setCursorStyle("default"):o.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var i=new a(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor.renderer;i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=null);var o=this,s=function(e){if(e){if(r.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},l=function(e){clearInterval(u),c(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=!0,i.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},c=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){l(e)});o.$onCaptureMouseMove=s,o.releaseMouse=n.capture(this.editor.container,s,l);var u=setInterval(c,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(u.prototype),c.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u}),ace.define("ace/mouse/fold_handler",["require","exports","module"],function(e,t,i){"use strict";function n(e){e.on("click",function(t){var i=t.getDocumentPosition(),n=e.session,r=n.getFoldAt(i.row,i.column,1);r&&(t.getAccelKey()?n.removeFold(r):n.expandFold(r),t.stop())}),e.on("gutterclick",function(t){var i=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==i){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}}),e.on("gutterdblclick",function(t){var i=e.renderer.$gutterLayer.getRegion(t);if("foldWidgets"==i){var n=t.getDocumentPosition().row,r=e.session,o=r.getParentFoldRangeData(n,!0),s=o.range||o.firstRange;if(s){n=s.start.row;var a=r.getFoldAt(n,r.getLine(n).length,1);a?r.removeFold(a):(r.addFold("...",s),e.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}t.stop()}})}t.FoldHandler=n}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){"use strict";var n=e("../lib/keys"),r=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);i!=-1&&this.$handlers.splice(i,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),i==-1&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return t!=-1&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.$callKeyboardHandlers=function(e,t,i,n){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&(o=this.$handlers[l].handleKeyboard(this.$data,e,t,i,n),!(o&&o.command&&(s="null"==o.command||a.exec(o.command,this.$editor,o.args,n),s&&n&&e!=-1&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(n),s))););return s},this.onCommandKey=function(e,t,i){var r=n.keyCodeToString(i);this.$callKeyboardHandlers(t,r,i,e)},this.onTextInput=function(e){var t=this.$callKeyboardHandlers(-1,e);t||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(o.prototype),t.KeyBinding=o}),ace.define("ace/range",["require","exports","module"],function(e,t,i){"use strict";var n=function(e,t){return e.row-t.row||e.column-t.column},r=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return t=this.compare(i.row,i.column),1==t?(t=this.compare(n.row,n.column),1==t?2:0==t?1:0):t==-1?-2:(t=this.compare(n.row,n.column),t==-1?-1:1==t?42:0)},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return t==-1||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else if(this.end.row<e)var i={row:e,column:0};if(this.start.row>t)var n={row:t+1,column:0};else if(this.start.row<e)var n={row:e,column:0};return r.fromPoints(n||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(i==-1)var n={row:e,column:t};else var o={row:e,column:t};return r.fromPoints(n||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return r.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new r(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new r(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new r(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(r.prototype),r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=n,r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)}),this.selectionAnchor.on("change",function(){t.$isEmpty||t._emit("changeSelection")})};(function(){n.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)return void this.moveCursorTo(this.lead.row,this.lead.column+e);var t=this.getSelectionAnchor(),i=this.getSelectionLead(),n=this.isBackwards();n&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(n||0!==i.column)&&this.$moveSelection(function(){this.moveCursorTo(i.row,i.column+e)})},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if("undefined"==typeof t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(n);return r?(n=r.start.row,i=r.end.row):i=n,t===!0?new s(n,0,i,this.session.getLine(i).length):new s(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0==t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-i,t.column).split(" ").length-1==i?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize(),t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+i).split(" ").length-1==i?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),r=this.session.getDisplayLine(e,null,n.row,n.column),o=r.match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(n.column+=o[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\s+$/);n>0&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e,t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),r=n.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(t,i,1);return o?void this.moveCursorTo(o.end.row,o.end.column):((e=this.session.nonTokenRe.exec(r))&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(i)),i>=n.length?(this.moveCursorTo(t,n.length),this.moveCursorRight(),void(t<this.doc.getLength()-1&&this.moveCursorWordRight())):((e=this.session.tokenRe.exec(r))&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,i)))},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return void this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var o,s=r.stringReverse(n);return this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,(o=this.session.nonTokenRe.exec(s))&&(i-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0?(this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft())):((o=this.session.tokenRe.exec(s))&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),void this.moveCursorTo(t,i))},this.$shortWordEndIndex=function(e){var t,i,n=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,t=this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(i=e[n])&&r.test(i);)n++;if(n<1)for(o.lastIndex=0;(i=e[n])&&!o.test(i);)if(o.lastIndex=0,n++,r.test(i)){if(n>2){n--;break}for(;(i=e[n])&&r.test(i);)n++;if(n>2)break}}return o.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==i.length){var o=this.doc.getLength();do e++,n=this.doc.getLine(e);while(e<o&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),t=0}var s=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0==i){do t--,n=this.doc.getLine(t);while(t>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var o=r.stringReverse(n),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,i-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);var n=this.session.screenToDocumentPosition(i.row+e,i.column);0!==e&&0===t&&n.row===this.lead.row&&n.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[n.row]&&n.row++,this.moveCursorTo(n.row,n.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e.call(null,this);var i=this.getCursor();return s.fromPoints(t,i)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else{var e=this.getRange();e.isBackwards=this.isBackwards()}return e},this.fromJSON=function(e){if(void 0==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=s.fromPoints(e[t].start,e[t].end);e.isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module"],function(e,t,i){"use strict";var n=1e3,r=function(e){this.states=e,this.regExps={},this.matchMappings={};for(var t in this.states){for(var i=this.states[t],n=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<i.length;l++){var c=i[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(s="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;if(Array.isArray(c.token))if(1==c.token.length||1==h)c.token=c.token[0];else{if(h-1!=c.token.length)throw new Error("number of classes and regexp groups in '"+c.token+"'\n'"+c.regex+"' doesn't match\n"+(h-1)+"!="+c.token.length);c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens}else"function"!=typeof c.token||c.onMatch||(h>1?c.onMatch=this.$applyToken:c.onMatch=c.token);h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+r+1)}):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=l,r+=h,n.push(u),c.onMatch||(c.onMatch=null)}}n.length||(o[0]=0,n.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){n=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],r=0,o=i.length;r<o;r++)t[r]&&(n[n.length]={type:i[r],value:t[r]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,r=0,o=n.length;r<o;r++)t[r+1]&&(i[i.length]={type:n[r],value:t[r+1]});return i},this.removeCapturingGroups=function(e){var t=e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e});return t},this.createSplitterRegexp=function(e,t){if(e.indexOf("(?=")!=-1){
var i=0,n=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,o,s,a,l){return n?n="]"!=a:a?n=!0:s?(i==r.stack&&(r.end=l+1,r.stack=-1),i--):o&&(i++,1!=o.length&&(r.stack=i,r.start=l)),e}),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var i=t.slice(0);t=i[0]}else var i=[];var r=t||"start",o=this.states[r];o||(r="start",o=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],u=0,h={type:null,value:""};l=a.exec(e);){var d=s.defaultToken,p=null,g=l[0],m=a.lastIndex;if(m-g.length>u){var f=e.substring(u,m-g.length);h.type==d?h.value+=f:(h.type&&c.push(h),h={type:d,value:f})}for(var v=0;v<l.length-2;v++)if(void 0!==l[v+1]){p=o[s[v]],d=p.onMatch?p.onMatch(g,r,i):p.token,p.next&&(r="string"==typeof p.next?p.next:p.next(r,i),o=this.states[r],o||(window.console&&console.error&&console.error(r,"doesn't exist"),r="start",o=this.states[r]),s=this.matchMappings[r],u=m,a=this.regExps[r],a.lastIndex=m);break}if(g)if("string"==typeof d)p&&p.merge===!1||h.type!==d?(h.type&&c.push(h),h={type:d,value:g}):h.value+=g;else if(d){h.type&&c.push(h),h={type:null,value:""};for(var v=0;v<d.length;v++)c.push(d[v])}if(u==e.length)break;if(u=m,c.length>n){for(;u<e.length;)h.type&&c.push(h),h={value:e.substring(u,u+=2e3),type:"overflow"};r="start",i=[];break}}return h.type&&c.push(h),i.length>1&&i[0]!==r&&i.unshift(r),{tokens:c,state:i.length?i:r}}}).call(r.prototype),t.Tokenizer=r}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){"use strict";var n=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],r=0;r<n.length;r++){var o=n[r];o.next&&("string"!=typeof o.next?o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState):0!==o.next.indexOf(t)&&(o.next=t+o.next))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else{r=[];for(var l in s)r.push(t+l)}if(this.addRules(s,t),i)for(var c=Array.prototype[o?"push":"unshift"],a=0;a<r.length;a++)c.apply(this.$rules[r[a]],n.deepCopy(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){function i(o){var s=r[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var c=l.next||l.push;if(c&&Array.isArray(c)){var u=l.stateName;u||(u=l.token,"string"!=typeof u&&(u=u[0]||""),r[u]&&(u+=n++)),r[u]=c,l.next=u,i(u)}else"pop"==c&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)r[h]?r[h].push&&r[h].push.apply(r[h],l.rules[h]):r[h]=l.rules[h];if(l.include||"string"==typeof l)var d=l.include||l,p=r[d];else Array.isArray(l)&&(p=l);if(p){var g=[a,1].concat(p);l.noEscape&&(g=g.filter(function(e){return!e.next})),s.splice.apply(s,g),a--,p=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}var n=0,r=this.$rules;Object.keys(r).forEach(i,this)},this.createKeywordMapper=function(e,t,i,n){var r=Object.create(null);return Object.keys(e).forEach(function(t){var o=e[t];i&&(o=o.toLowerCase());for(var s=o.split(n||"|"),a=s.length;a--;)r[s[a]]=t}),Object.getPrototypeOf(r)&&(r.__proto__=null),this.$keywordList=Object.keys(r),e=null,i?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var i=(new e).getBehaviours(t);else var i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(e){for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){"use strict";function n(e){var i=/\w{4}/g;for(var n in e)t.packages[n]=e[n].replace(i,"\\u$&")}t.packages={},n({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})}),ace.define("ace/token_iterator",["require","exports","module"],function(e,t,i){"use strict";var n=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){this.$tokenIndex+=1;for(var e;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;t>0;)t-=1,i+=e[t].value.length;return i}}).call(n.prototype),t.TokenIterator=n}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var n=e("../tokenizer").Tokenizer,r=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour").Behaviour,s=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,c=e("../range").Range,u=function(){
this.HighlightRules=r,this.$behaviour=new o};(function(){this.tokenRe=new RegExp("^["+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+s.packages.L+s.packages.Mn+s.packages.Mc+s.packages.Nd+s.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,i,n){function r(e){for(var t=i;t<=n;t++)e(o.getLine(t),t)}var o=t.doc,s=!0,l=!0,c=1/0,u=t.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var d=this.lineCommentStart.map(a.escapeRegExp).join("|"),p=this.lineCommentStart[0];else var d=a.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;d=new RegExp("^(\\s*)(?:"+d+") ?"),h=t.getUseSoftTabs();var g=function(e,t){var i=e.match(d);if(i){var n=i[1].length,r=i[0].length;b(e,n,r)||" "!=i[0][r-1]||r--,o.removeInLine(t,n,r)}},m=p+" ",f=function(e,t){s&&!/\S/.test(e)||(b(e,c,c)?o.insertInLine({row:t,column:c},m):o.insertInLine({row:t,column:c},p))},v=function(e,t){return d.test(e)},b=function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%u!=0)return!1;for(var n=0;" "==e.charAt(i++);)n++;return u>2?n%u!=u-1:n%u==0}}else{if(!this.blockComment)return!1;var p=this.blockComment.start,w=this.blockComment.end,d=new RegExp("^(\\s*)(?:"+a.escapeRegExp(p)+")"),y=new RegExp("(?:"+a.escapeRegExp(w)+")\\s*$"),f=function(e,t){v(e,t)||s&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},w),o.insertInLine({row:t,column:c},p))},g=function(e,t){var i;(i=e.match(y))&&o.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(d))&&o.removeInLine(t,i[1].length,i[0].length)},v=function(e,i){if(d.test(e))return!0;for(var n=t.getTokens(i),r=0;r<n.length;r++)if("comment"===n[r].type)return!0}}var _=1/0;r(function(e,t){var i=e.search(/\S/);i!==-1?(i<c&&(c=i),l&&!v(e,t)&&(l=!1)):_>e.length&&(_=e.length)}),c==1/0&&(c=_,s=!1,l=!1),h&&c%u!=0&&(c=Math.floor(c/u)*u),r(l?g:f)},this.toggleBlockComment=function(e,t,i,n){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=new l(t,n.row,n.column),u=a.getCurrentToken(),h=(t.selection,t.selection.toOrientedRange());if(u&&/comment/.test(u.type)){for(var d,p;u&&/comment/.test(u.type);){var g=u.value.indexOf(r.start);if(g!=-1){var m=a.getCurrentTokenRow(),f=a.getCurrentTokenColumn()+g;d=new c(m,f,m,f+r.start.length);break}u=a.stepBackward()}for(var a=new l(t,n.row,n.column),u=a.getCurrentToken();u&&/comment/.test(u.type);){var g=u.value.indexOf(r.end);if(g!=-1){var m=a.getCurrentTokenRow(),f=a.getCurrentTokenColumn()+g;p=new c(m,f,m,f+r.end.length);break}u=a.stepForward()}p&&t.remove(p),d&&(t.remove(d),o=d.start.row,s=-r.start.length)}else s=r.start.length,o=i.start.row,t.insert(i.end,r.end),t.insert(i.start,r.start);h.start.row==o&&(h.start.column+=s),h.end.row==o&&(h.end.column+=s),t.selection.fromOrientedRange(h)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var t in e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);for(var i=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],t=0;t<i.length;t++)!function(e){var n=i[t],r=e[n];e[i[t]]=function(){return this.$delegator(n,arguments,r)}}(this)},this.$delegator=function(e,t,i){var n=t[0];"string"!=typeof n&&(n=n[0]);for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o=n.split(this.$embeds[r]);if(!o[0]&&o[1]){t[0]=o[1];var s=this.$modes[this.$embeds[r]];return s[e].apply(s,t)}}var a=i.apply(this,t);return i?a:void 0},this.transformAction=function(e,t,i,n,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var r=t[n],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&i.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++)if(/keyword|support|storage/.test(r[o].token[a])){var n=r[o].regex.match(/\(.+?\)/g)[a];i.push(n.substr(1,n.length-2))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){var r=this.$keywordList||this.$createKeywordList();return r.map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),"undefined"==typeof i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){n.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t=e.data,i=t.range;if((i.start.row!=i.end.row||i.start.row==this.row)&&!(i.start.row>this.row||i.start.row==this.row&&i.start.column>this.column)){var n=this.row,r=this.column,o=i.start,s=i.end;"insertText"===t.action?o.row===n&&o.column<=r?o.column===r&&this.$insertRight||(o.row===s.row?r+=s.column-o.column:(r-=o.column,n+=s.row-o.row)):o.row!==s.row&&o.row<n&&(n+=s.row-o.row):"insertLines"===t.action?o.row===n&&0===r&&this.$insertRight||o.row<=n&&(n+=s.row-o.row):"removeText"===t.action?o.row===n&&o.column<r?r=s.column>=r?o.column:Math.max(0,r-(s.column-o.column)):o.row!==s.row&&o.row<n?(s.row===n&&(r=Math.max(0,r-s.column)+o.column),n-=s.row-o.row):s.row===n&&(n-=s.row-o.row,r=Math.max(0,r-s.column)+o.column):"removeLines"==t.action&&o.row<=n&&(s.row<=n?n-=s.row-o.row:(n=o.row,r=0)),this.setPosition(n,r,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var r={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:r,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,s=e("./anchor").Anchor,a=function(e){this.$lines=[],0===e.length?this.$lines=[""]:Array.isArray(e)?this._insertLines(0,e):this.insert({row:0,column:0},e)};(function(){n.implement(this,r),this.setValue=function(e){var t=this.getLength();this.remove(new o(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new s(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.getLine(e.start.row).substring(e.start.column,e.end.column);var t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;return e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):e.row<0&&(e.row=0),e},this.insert=function(e,t){if(!t||0===t.length)return e;e=this.$clipPosition(e),this.getLength()<=1&&this.$detectNewLine(t);var i=this.$split(t),n=i.splice(0,1)[0],r=0==i.length?null:i.splice(i.length-1,1)[0];return e=this.insertInLine(e,n),null!==r&&(e=this.insertNewLine(e),e=this._insertLines(e.row,i),e=this.insertInLine(e,r||"")),e},this.insertLines=function(e,t){return e>=this.getLength()?this.insert({row:e,column:0},"\n"+t.join("\n")):this._insertLines(Math.max(e,0),t)},this._insertLines=function(e,t){if(0==t.length)return{row:e,column:0};for(;t.length>61440;){var i=this._insertLines(e,t.slice(0,61440));t=t.slice(61440),e=i.row}var n=[e,0];n.push.apply(n,t),this.$lines.splice.apply(this.$lines,n);var r=new o(e,0,e+t.length,0),s={action:"insertLines",range:r,lines:t};return this._signal("change",{data:s}),r.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var i={row:e.row+1,column:0},n={action:"insertText",range:o.fromPoints(e,i),text:this.getNewLineCharacter()};return this._signal("change",{data:n}),i},this.insertInLine=function(e,t){if(0==t.length)return e;var i=this.$lines[e.row]||"";this.$lines[e.row]=i.substring(0,e.column)+t+i.substring(e.column);var n={row:e.row,column:e.column+t.length},r={action:"insertText",range:o.fromPoints(e,n),text:t};return this._signal("change",{data:r}),n},this.remove=function(e){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end),e.isEmpty())return e.start;var t=e.start.row,i=e.end.row;if(e.isMultiLine()){var n=0==e.start.column?t:t+1,r=i-1;e.end.column>0&&this.removeInLine(i,0,e.end.column),r>=n&&this._removeLines(n,r),n!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,i){if(t!=i){var n=new o(e,t,e,i),r=this.getLine(e),s=r.substring(t,i),a=r.substring(0,t)+r.substring(i,r.length);this.$lines.splice(e,1,a);var l={action:"removeText",range:n,text:s};return this._signal("change",{data:l}),n.start}},this.removeLines=function(e,t){return e<0||t>=this.getLength()?this.remove(new o(e,0,t+1,0)):this._removeLines(e,t)},this._removeLines=function(e,t){var i=new o(e,0,t+1,0),n=this.$lines.splice(e,t-e+1),r={action:"removeLines",range:i,nl:this.getNewLineCharacter(),lines:n};return this._signal("change",{data:r}),n},this.removeNewLine=function(e){var t=this.getLine(e),i=this.getLine(e+1),n=new o(e,t.length,e+1,0),r=t+i;this.$lines.splice(e,2,r);var s={action:"removeText",range:n,text:this.getNewLineCharacter()};this._signal("change",{data:s})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0==t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;if(this.remove(e),t)var i=this.insert(e.start,t);else i=e.start;return i},this.applyDeltas=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=o.fromPoints(i.range.start,i.range.end);"insertLines"==i.action?this.insertLines(n.start.row,i.lines):"insertText"==i.action?this.insert(n.start,i.text):"removeLines"==i.action?this._removeLines(n.start.row,n.end.row-1):"removeText"==i.action&&this.remove(n)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var i=e[t],n=o.fromPoints(i.range.start,i.range.end);"insertLines"==i.action?this._removeLines(n.start.row,n.end.row-1):"insertText"==i.action?this.remove(n):"removeLines"==i.action?this._insertLines(n.start.row,i.lines):"removeText"==i.action&&this.insert(n.start,i.text)}},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=t||0,o=i.length;r<o;r++)if(e-=i[r].length+n,e<0)return{row:r,column:e+i[r].length+n};return{row:o-1,column:i[o-1].length}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,i.length),s=t||0;s<o;++s)r+=i[s].length+n;return r+e.column}}).call(a.prototype),t.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){for(var e=new Date,t=i.currentLine,n=-1,r=i.doc;i.lines[t];)t++;var o=t,s=r.getLength(),a=0;for(i.running=!1;t<s;){i.$tokenizeRow(t),n=t;do t++;while(i.lines[t]);if(a++,a%5==0&&new Date-e>20)return i.running=setTimeout(i.$worker,20),void(i.currentLine=t)}i.currentLine=t,o<=n&&i.fireUpdateEvent(o,n)}}};(function(){n.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.range,i=t.start.row,n=t.end.row-i;if(0===n)this.lines[i]=null;else if("removeText"==e.action||"removeLines"==e.action)this.lines.splice(i,n+1,null),this.states.splice(i,n+1,null);else{var r=Array(n+1);r.unshift(i,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(i,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var n=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),o=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&(c=n.getMatchOffsets(i.getLine(l),this.regExp),c.length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map(function(e){return new r(l,e.offset,l,e.offset+e.length)}),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(i),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){"use strict";function n(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var r=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach(function(t){t.start.row+=e,t.end.row+=e})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,r,o,s=0,a=this.folds,l=!0;null==t&&(t=this.end.row,i=this.end.column);for(var c=0;c<a.length;c++){if(n=a[c],r=n.range.compareStart(t,i),r==-1)return void e(null,t,i,s,l);if(o=e(null,n.start.row,n.start.column,s,l),o=!o&&e(n.placeholder,n.start.row,n.start.column,s),o||0==r)return;l=!n.sameRow,s=n.end.column}e(null,t,i,s,l)},this.getNextFoldTo=function(e,t){for(var i,n,r=0;r<this.folds.length;r++){if(i=this.folds[r],n=i.range.compareEnd(e,t),n==-1)return{fold:i,kind:"after"};if(0==n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,r,o=this.getNextFoldTo(e,t);if(o)if(n=o.fold,"inside"==o.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){r=this.folds;var s=r.indexOf(n);for(0==s&&(this.start.column+=i),s;s<r.length;s++){if(n=r[s],n.start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t).fold,r=this.folds,o=this.foldData;if(!i)return null;var s=r.indexOf(i),a=r[s-1];this.end.row=a.end.row,this.end.column=a.end.column,r=r.splice(s,r.length-s);var l=new n(o,r);return o.splice(o.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach(function(t){e.push("  "+t.toString())}),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t,i=0,n=0;n<this.folds.length;n++){var t=this.folds[n];if(e-=t.start.column-i,e<0)return{row:t.start.row,column:t.start.column+e};if(e-=t.placeholder.length,e<0)return t.start;i=t.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(n.prototype),t.FoldLine=n}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("./range").Range,r=n.comparePoints,o=function(){this.ranges=[]};(function(){this.comparePoints=r,this.pointIndex=function(e,t,i){for(var n=this.ranges,o=i||0;o<n.length;o++){var s=n[o],a=r(e,s.end);if(!(a>0)){var l=r(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.call(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort(function(e,t){return r(e.start,t.start)});for(var i,n=t[0],o=1;o<t.length;o++){i=n,n=t[o];var s=r(i.end,n.start);s<0||(0!=s||i.isEmpty()||n.isEmpty())&&(r(i.end,n.end)<0&&(i.end.row=n.end.row,i.end.column=n.end.column),t.splice(o,1),e.push(n),n=i,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var r=this.pointIndex({row:t,column:0},n);r<0&&(r=-r-1);for(var o=[],s=n;s<r;s++)o.push(i[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var t=e.data.range;if("i"==e.data.action[0])var i=t.start,n=t.end;else var n=t.start,i=t.end;for(var r=i.row,o=n.row,s=o-r,a=-i.column+n.column,l=this.ranges,c=0,u=l.length;c<u;c++){var h=l[c];if(!(h.end.row<r)){if(h.start.row>r)break;if(h.start.row==r&&h.start.column>=i.column&&(h.start.column==i.column&&this.$insertRight||(h.start.column+=a,h.start.row+=s)),h.end.row==r&&h.end.column>=i.column){if(h.end.column==i.column&&this.$insertRight)continue;h.end.column==i.column&&a>0&&c<u-1&&h.end.column>h.start.column&&h.end.column==l[c+1].start.column&&(h.end.column-=a),h.end.column+=a,h.end.row+=s}}}if(0!=s&&c<u)for(;c<u;c++){var h=l[c];h.start.row+=s,h.end.row+=s}}}).call(o.prototype),t.RangeList=o}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,i){"use strict";function n(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function r(e,t){n(e.start,t),n(e.end,t)}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}function s(e,t){o(e.start,t),o(e.end,t)}var a=(e("../range").Range,e("../range_list").RangeList),l=e("../lib/oop"),c=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};l.inherits(c,a),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(t){t.setFoldLine(e)})},this.clone=function(){var e=this.range.clone(),t=new c(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);r(e,this.start);for(var t=e.start.row,i=e.start.column,n=0,o=-1;n<this.subFolds.length&&(o=this.subFolds[n].range.compare(t,i),1==o);n++);var s=this.subFolds[n];if(0==o)return s.addSubFold(e);for(var t=e.range.end.row,i=e.range.end.column,a=n,o=-1;a<this.subFolds.length&&(o=this.subFolds[a].range.compare(t,i),1==o);a++);this.subFolds[a];if(0==o)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(n,a-n,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return s(e,this.start)}}.call(c.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){"use strict";function n(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var r=n.folds,o=0;o<r.length;o++){var s=r[o];if(s.range.contains(e,t)){if(1==i&&s.range.isEnd(e,t))continue;if(i==-1&&s.range.isStart(e,t))continue;return s}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,r=[];t.column+=1,i.column-=1;for(var o=0;o<n.length;o++){var s=n[o].range.compareRange(e);if(2!=s){if(s==-2)break;for(var a=n[o].folds,l=0;l<a.length;l++){var c=a[l];if(s=c.range.compareRange(e),s==-2)break;if(2!=s){if(42==s)break;r.push(c)}}}}return t.column-=1,i.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else var t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(n=n||this.getFoldLine(e),!n)return null;for(var r,o,s={end:{column:0}},a=0;a<n.folds.length;a++){o=n.folds[a];var l=o.range.compareEnd(e,t);if(l==-1){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),i==-1?r.substring(0,t-s.end.column):1==i?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),n==-1&&(n=0),n;n<i.length;n++){var r=i[n];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),n==-1&&(n=0),n;n<i.length;n++){var r=i[n];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,r=0;r<i.length;r++){var o=i[r],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?n-=t-a:n=0);break}s>=e&&(n-=a>=e?s-a:s-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,n=this.$foldData,r=!1;e instanceof s?i=e:(i=new s(t,e),i.collapseChildren=t.collapseChildren),this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,c=i.end.row,u=i.end.column;if(!(a<c||a==c&&l<=u-2))throw new Error("The range has to be at least 2 characters width");var h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(i);if(h&&!h.range.isStart(a,l)||d&&!d.range.isEnd(c,u))throw new Error("A fold can't intersect already existing fold"+i.range+h.range);var p=this.getFoldsInRange(i.range);p.length>0&&(this.removeFolds(p),p.forEach(function(e){i.addSubFold(e)}));for(var g=0;g<n.length;g++){var m=n[g];if(c==m.start.row){m.addFold(i),r=!0;break}if(a==m.end.row){if(m.addFold(i),r=!0,!i.sameRow){var f=n[g+1];if(f&&f.start.row==c){m.merge(f);break}}break}if(c<=m.start.row)break}return r||(m=this.$addFoldLine(new o(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._emit("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);o=s.folds,o.shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._emit("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach(function(t){e.restoreRange(t),this.addFold(t)},this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var i,n;if(null==e?(i=new r(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new r(e,0,e,this.getLine(e).length):"row"in e?r.fromPoints(e,e):e,n=this.getFoldsInRangeList(i),t)this.removeFolds(n);else for(var o=n;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(i);if(n.length)return n},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,n,r){null==n&&(n=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var o=this.doc,s="";return e.walk(function(e,t,i,a){if(!(t<n)){if(t==n){if(i<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,i)}},t,i),s},this.getDisplayLine=function(e,t,i,n){var r=this.getFoldLine(e);if(r)return this.getFoldDisplayLine(r,e,t,i,n);var o;return o=this.doc.getLine(e),o.substring(n||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map(function(t){var i=t.folds.map(function(e){return e.clone()});return new o(e,i)})},this.toggleFold=function(e){var t,i,n=this.selection,r=n.getRange();if(r.isEmpty()){var o=r.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);(i=this.findMatchingBracket(o))?1==r.comparePoint(i)?r.end=i:(r.start=i,r.start.column++,r.end.column--):(i=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(i)?r.end=i:r.start=i,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var s=this.getFoldsInRange(r);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())return void this.expandFold(t);var a="...";if(!r.isMultiLine()){if(a=this.getTextRange(r),a.length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)},this.getCommentFoldRange=function(e,t,i){var n=new a(this,e,t),o=n.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var s=new r,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=i){do o=n.stepBackward();while(o&&l.test(o.type));n.stepForward()}if(s.start.row=n.getCurrentTokenRow(),s.start.column=n.getCurrentTokenColumn()+2,n=new a(this,e,t),i!=-1){do o=n.stepForward();while(o&&l.test(o.type));o=n.stepBackward()}else o=n.getCurrentToken();return s.end.row=n.getCurrentTokenRow(),s.end.column=n.getCurrentTokenColumn()+o.value.length-2,s}},this.foldAll=function(e,t,i){void 0==i&&(i=1e5);var n=this.foldWidgets;if(n){t=t||this.getLength(),e=e||0;for(var r=e;r<t;r++)if(null==n[r]&&(n[r]=this.getFoldWidget(r)),"start"==n[r]){var o=this.getFoldWidgetRange(r);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){r=o.end.row;try{var s=this.addFold("...",o);s&&(s.collapseChildren=i)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){
if(this.$foldMode!=e){if(this.$foldMode=e,this.removeListener("change",this.$updateFoldWidgets),this._emit("changeAnnotation"),!e||"manual"==this.$foldStyle)return void(this.foldWidgets=null);this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets)}},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,r=e-1;r>=0;){var o=i[r];if(null==o&&(o=i[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(n||(n=s),s&&s.end.row>=e)break}r--}return{range:r!==-1&&s,firstRange:n}},this.onFoldWidgetClick=function(e,t){t=t.domEvent;var i={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey},n=this.$toggleFoldWidget(e,i);if(!n){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),r="end"===i?-1:1,o=this.getFoldAt(e,r===-1?0:n.length,r);if(o)return void(t.children||t.all?this.removeFold(o):this.expandFold(o));var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1),o&&s.isEqual(o.range)))return void this.removeFold(o);if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,s.end.row,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){t=i.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.data,i=t.range,n=i.start.row,r=i.end.row-n;if(0===r)this.foldWidgets[n]=null;else if("removeText"==t.action||"removeLines"==t.action)this.foldWidgets.splice(n,r+1,null);else{var o=Array(r+1);o.unshift(n,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}}}var r=e("../range").Range,o=e("./fold_line").FoldLine,s=e("./fold").Fold,a=e("../token_iterator").TokenIterator;t.Folding=n}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){"use strict";function n(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,r=i.charAt(e.column-1),s=r&&r.match(/([\(\[\{])|([\)\]\}])/);if(s||(r=i.charAt(e.column),e={row:e.row,column:e.column+1},s=r&&r.match(/([\(\[\{])|([\)\]\}])/),n=!1),!s)return null;if(s[1]){var a=this.$findClosingBracket(s[1],e);if(!a)return null;t=o.fromPoints(e,a),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a=this.$findOpeningBracket(s[2],e);if(!a)return null;t=o.fromPoints(a,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,i){var n=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==n){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do a=s.stepBackward();while(a&&!i.test(a.type));if(null==a)break;c=a.value,l=c.length-1}return null}},this.$findClosingBracket=function(e,t,i){var n=this.$brackets[e],o=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==n){if(o-=1,0==o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do a=s.stepForward();while(a&&!i.test(a.type));if(null==a)break;l=0}return null}}}var r=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=n}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),o=e("./config"),s=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,h=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,p=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new a(this),o.resetOptions(this),this.setMode(t),o._signal("session",this)};(function(){function t(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}n.implement(this,s),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var r=i+n>>1,o=e[r];if(t>o)i=r+1;else{if(!(t<o))return r;n=r-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var i=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),i&&0!=i.length&&this.$deltasFold.push({action:"removeFolds",folds:i}),this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(t),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),r=0;if(null==t)o=n.length-1,r=this.getLine(e).length;else for(var o=0;o<n.length&&(r+=n[o].value.length,!(r>=t));o++);return(i=n[o])?(i.index=o,i.start=r-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var r=this.$markerId++,o={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:r};return n?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var i=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete i[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var r=new c(e,0,t,1/0);return r.id=this.addMarker(r,i,"fullLine",n),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);t?this.$autoNewLine=t[1]:this.$autoNewLine="\n"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(t>0&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var r=this.tokenRe;else if(/^\s+$/.test(i.slice(t-1,t+1)))var r=/\s/;else var r=this.nonTokenRe;var o=t;if(o>0){do o--;while(o>=0&&i.charAt(o).match(r));o++}for(var s=t;s<i.length&&i.charAt(s).match(r);)s++;return new c(e,o,e,s)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||"ace/mode/text";return this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[n]&&!i?(this.$onChangeMode(this.$modes[n]),void(t&&t())):(this.$modeId=n,o.loadModule(["mode",n],function(e){return this.$modeId!==n?t&&t():this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):void(e&&e.Mode&&(e=new e.Mode(i),i||(this.$modes[n]=e,e.$id=n),this.$onChangeMode(e),t&&t()))}.bind(this)),void(this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)))},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.addEventListener){var n=this.onReloadTokenizer.bind(this);i.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new h(i);var r=this;this.bgTokenizer.addEventListener("update",function(e){r._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&this.$worker.terminate(),this.$worker=null},this.$startWorker=function(){if("undefined"==typeof Worker||e.noWorker)this.$worker=null;else try{this.$worker=this.$mode.createWorker(this)}catch(e){console.log("Could not load worker"),console.log(e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach(function(t){t&&t.screenWidth>e&&(e=t.screenWidth)}),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if(l=o.end.row+1,l>=a)break;o=this.$foldData[r++],s=o?o.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=null,n=e.length-1;n!=-1;n--){var r=e[n];"doc"==r.group?(this.doc.revertDeltas(r.deltas),i=this.$getUndoSelection(r.deltas,!0,i)):r.deltas.forEach(function(e){this.addFolds(e.folds)},this)}return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=null,n=0;n<e.length;n++){var r=e[n];"doc"==r.group&&(this.doc.applyDeltas(r.deltas),i=this.$getUndoSelection(r.deltas,!1,i))}return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,i){function n(e){var i="insertText"===e.action||"insertLines"===e.action;return t?!i:i}var r,o,s=e[0],a=!1;n(s)?(r=c.fromPoints(s.range.start,s.range.end),a=!0):(r=c.fromPoints(s.range.start,s.range.start),a=!1);for(var l=1;l<e.length;l++)s=e[l],n(s)?(o=s.range.start,r.compare(o.row,o.column)==-1&&r.setStart(s.range.start),o=s.range.end,1==r.compare(o.row,o.column)&&r.setEnd(s.range.end),a=!0):(o=s.range.start,r.compare(o.row,o.column)==-1&&(r=c.fromPoints(s.range.start,s.range.start)),a=!1);if(null!=i){0===c.comparePoints(i.start,r.start)&&(i.start.column+=r.end.column-r.start.column,i.end.column+=r.end.column-r.start.column);var u=i.compareRange(r);1==u?r.setStart(i.start):u==-1&&r.setEnd(i.end)}return r},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),r=this.getFoldsInRange(e),o=c.fromPoints(t,t);if(!i){this.remove(e);var s=e.start.row-e.end.row,a=s?-e.end.column:e.start.column-e.end.column;a&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=a),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=a)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,n),r.length){var l=e.start,u=o.start,s=u.row-l.row,a=u.column-l.column;this.addFolds(r.map(function(e){return e=e.clone(),e.start.row==l.row&&(e.start.column+=a),e.end.row==l.row&&(e.end.column+=a),e.start.row+=s,e.end.row+=s,e}))}return o},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.insert({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new c(0,0,0,0),n=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);i.start.row=r,i.end.row=r;for(var s=0;s<n&&" "==o.charAt(s);++s);s<n&&"\t"==o.charAt(s)?(i.start.column=s,i.end.column=s+1):(i.start.column=0,i.end.column=s),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){var n=this.getRowFoldStart(e+i);if(n<0)return 0;var r=n-e}else if(i>0){var n=this.getRowFoldEnd(t+i);if(n>this.doc.getLength()-1)return 0;var r=n-t}else{e=this.$clipRowToDocument(e),t=this.$clipRowToDocument(t);var r=t-e+1}var o=new c(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map(function(e){return e=e.clone(),e.start.row+=r,e.end.row+=r,e}),a=0==i?this.doc.getLines(e,t):this.doc.removeLines(e,t);return this.doc.insertLines(e+r,a),s.length&&this.addFolds(s),r},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var i=this.doc.getLength();e>=i?(e=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,i=this.$useWrapMode,n=e.data.action,r=e.data.range.start.row,o=e.data.range.end.row,s=e.data.range.start,a=e.data.range.end,l=null;if(n.indexOf("Lines")!=-1?(o="insertLines"==n?r+e.data.lines.length:r,t=e.data.lines?e.data.lines.length:o-r):t=o-r,this.$updating=!0,0!=t)if(n.indexOf("remove")!=-1){this[i?"$wrapData":"$rowLengthCache"].splice(r,t);var c=this.$foldData;l=this.getFoldsInRange(e.data.range),this.removeFolds(l);var u=this.getFoldLine(a.row),h=0;if(u){u.addRemoveChars(a.row,a.column,s.column-a.column),u.shiftRow(-t);var d=this.getFoldLine(r);d&&d!==u&&(d.merge(u),u=d),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=a.row&&u.shiftRow(-t)}o=r}else{var p=Array(t);p.unshift(r,0);var g=i?this.$wrapData:this.$rowLengthCache;g.splice.apply(g,p);var c=this.$foldData,u=this.getFoldLine(r),h=0;if(u){var m=u.range.compareInside(s.row,s.column);0==m?(u=u.split(s.row,s.column),u.shiftRow(t),u.addRemoveChars(o,0,a.column-s.column)):m==-1&&(u.addRemoveChars(r,0,a.column-s.column),u.shiftRow(t)),h=c.indexOf(u)+1}for(h;h<c.length;h++){var u=c[h];u.start.row>=r&&u.shiftRow(t)}}else{t=Math.abs(e.data.range.start.column-e.data.range.end.column),n.indexOf("remove")!=-1&&(l=this.getFoldsInRange(e.data.range),this.removeFolds(l),t=-t);var u=this.getFoldLine(r);u&&u.addRemoveChars(r,s.column,t)}return i&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,i?this.$updateWrapData(r,o):this.$updateRowLengthCache(r,o),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var i,n,r=this.doc.getAllLines(),o=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,r.length-1);l<=t;)n=this.getFoldLine(l,n),n?(i=[],n.walk(function(e,t,n,o){var s;if(null!=e){s=this.$getDisplayTokens(e,i.length),s[0]=u;for(var a=1;a<s.length;a++)s[a]=p}else s=this.$getDisplayTokens(r[t].substring(o,n),i.length);i=i.concat(s)}.bind(this),n.end.row,r[n.end.row].length+1),s[n.start.row]=this.$computeWrapSplits(i,a,o),l=n.end.row+1):(i=this.$getDisplayTokens(r[l]),s[l]=this.$computeWrapSplits(i,a,o),l++)};var i=1,a=2,u=3,p=4,g=9,m=10,f=11,v=12;this.$computeWrapSplits=function(e,t){function i(t){var i=e.slice(o,t),r=i.length;i.join("").replace(/12/g,function(){r-=1}).replace(/2/g,function(){r-=1}),s+=r,n.push(s),o=t}if(0==e.length)return[];for(var n=[],r=e.length,o=0,s=0,a=this.$wrapAsCode;r-o>t;){var l=o+t;if(e[l-1]>=m&&e[l]>=m)i(l);else if(e[l]!=u&&e[l]!=p){for(var c=Math.max(l-(a?10:t-(t>>2)),o-1);l>c&&e[l]<u;)l--;if(a){for(;l>c&&e[l]<u;)l--;for(;l>c&&e[l]==g;)l--}else for(;l>c&&e[l]<m;)l--;l>c?i(++l):(l=o+t,i(l))}else{for(l;l!=o-1&&e[l]!=u;l--);if(l>o){i(l);continue}for(l=o+t;l<e.length&&e[l]==p;l++);if(l==e.length)break;i(l)}}return n},this.$getDisplayTokens=function(e,n){var r,o=[];n=n||0;for(var s=0;s<e.length;s++){var l=e.charCodeAt(s);if(9==l){r=this.getScreenTabSize(o.length+n),o.push(f);for(var c=1;c<r;c++)o.push(v)}else 32==l?o.push(m):l>39&&l<48||l>57&&l<64?o.push(g):l>=4352&&t(l)?o.push(i,a):o.push(i)}return o},this.$getStringScreenWidth=function(e,i,n){if(0==i)return[0,0];null==i&&(i=1/0),n=n||0;var r,o;for(o=0;o<e.length&&(r=e.charCodeAt(o),n+=9==r?this.getScreenTabSize(n):r>=4352&&t(r)?2:1,!(n>i));o++);return[n,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var i,n,r=0,o=0,s=0,a=0,l=this.$screenRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var s=l[c],r=this.$docRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getLength()-1,p=this.getNextFoldLine(r),g=p?p.start.row:1/0;s<=e&&(a=this.getRowLength(r),!(s+a>e||r>=d));)s+=a,r++,r>g&&(r=p.end.row+1,p=this.getNextFoldLine(r,p),g=p?p.start.row:1/0),h&&(this.$docRowCache.push(r),this.$screenRowCache.push(s));if(p&&p.start.row<=r)i=this.getFoldDisplayLine(p),r=p.start.row;else{if(s+a<=e||r>d)return{row:d,column:this.getLine(d).length};i=this.getLine(r),p=null}if(this.$useWrapMode){var m=this.$wrapData[r];if(m){var f=Math.floor(e-s);n=m[f],f>0&&m.length&&(o=m[f-1]||m[m.length-1],i=i.substring(o))}}return o+=this.$getStringScreenWidth(i,t)[1],this.$useWrapMode&&o>=n&&(o=n-1),p?p.idxToPosition(o):{row:r,column:o}},this.documentToScreenPosition=function(e,t){if("undefined"==typeof t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n=0,r=null,o=null;o=this.getFoldAt(e,t,1),o&&(e=o.start.row,t=o.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0)var a=l[c],n=this.$screenRowCache[c],h=e>l[u-1];else var h=!u;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if(s=d.end.row+1,s>e)break;d=this.getNextFoldLine(s,d),p=d?d.start.row:1/0}else s=a+1;n+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(n))}var g="";if(d&&a>=p?(g=this.getFoldDisplayLine(d,e,t),r=d.start.row):(g=this.getLine(e).substring(0,t),r=e),this.$useWrapMode){var m=this.$wrapData[r];if(m){for(var f=0;g.length>=m[f];)n++,f++;g=g.substring(m[f-1]||0,g.length)}}return{row:n,column:this.$getStringScreenWidth(g)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,r=0,t=this.$foldData[r++],o=t?t.start.row:1/0;n<i;){var s=this.$wrapData[n];e+=s?s.length+1:1,n++,n>o&&(n=t.end.row+1,t=this.$foldData[r++],o=t?t.start.row:1/0)}else{e=this.getLength();for(var a=this.$foldData,r=0;r<a.length;r++)t=a[r],e-=t.end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){}}).call(p.prototype),e("./edit_session/folding").Folding.call(p.prototype),e("./edit_session/bracket_match").BracketMatch.call(p.prototype),o.defineOptions(p.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e){if(e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1);this.$wrap=e}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){e="auto"==e?"text"!=this.$mode.type:"text"!=e,e!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=p}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var n=e("./lib/lang"),r=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$matchIterator(e,this.$options);if(!t)return!1;var i=null;return t.forEach(function(e,t,n){if(e.start)i=e;else{var r=e.offset+(n||0);i=new o(t,r,t,r+e.length)}return!0}),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,r=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(r[h+d].search(a[d])==-1)continue e;var p=r[h],g=r[h+c-1],m=p.length-p.match(a[0])[0].length,f=g.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>m||(s.push(l=new o(h,m,h+c-1,f)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++)for(var b=n.getMatchOffsets(r[v],a),d=0;d<b.length;d++){var w=b[d];s.push(new o(v,w.offset,v,w.offset+w.length))}if(i){for(var y=i.start.column,_=i.start.column,v=0,d=s.length-1;v<d&&s[v].start.column<y&&s[v].start.row==i.start.row;)v++;for(;v<d&&s[d].end.column>_&&s[d].end.row==i.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;v<d;v++)s[v].start.row+=i.start.row,s[v].end.row+=i.start.row}return s},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var r=n.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var i=this.$assembleRegExp(t);if(!i)return!1;
var r,s=this,a=t.backwards;if(t.$isMultiLine)var l=i.length,c=function(t,n,s){var a=t.search(i[0]);if(a!=-1){for(var c=1;c<l;c++)if(t=e.getLine(n+c),t.search(i[c])==-1)return;var u=t.match(i[l-1])[0].length,h=new o(n,a,n+l-1,u);return 1==i.offset?(h.start.row--,h.start.column=Number.MAX_VALUE):s&&(h.start.column+=s),!!r(h)||void 0}};else if(a)var c=function(e,t,o){for(var s=n.getMatchOffsets(e,i),a=s.length-1;a>=0;a--)if(r(s[a],t,o))return!0};else var c=function(e,t,o){for(var s=n.getMatchOffsets(e,i),a=0;a<s.length;a++)if(r(s[a],t,o))return!0};return{forEach:function(i){r=i,s.$lineIterator(e,t).forEach(c)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i="\\b"+i+"\\b");var r=e.caseSensitive?"g":"gi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,r);try{var o=new RegExp(i,r)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],r=0;r<i.length;r++)try{n.push(new RegExp(i[r],t))}catch(e){return!1}return""==i[0]?(n.shift(),n.offset=1):n.offset=0,n},this.$lineIterator=function(e,t){var i=1==t.backwards,n=0!=t.skipCurrent,r=t.range,o=t.start;o||(o=r?r[i?"end":"start"]:e.selection.getRange()),o.start&&(o=o[n!=i?"end":"start"]);var s=r?r.start.row:0,a=r?r.end.row:e.getLength()-1,l=i?function(i){var n=o.row,r=e.getLine(n).substring(0,o.column);if(!i(r,n)){for(n--;n>=s;n--)if(i(e.getLine(n),n))return;if(0!=t.wrap)for(n=a,s=o.row;n>=s;n--)if(i(e.getLine(n),n))return}}:function(i){var n=o.row,r=e.getLine(n).substr(o.column);if(!i(r,n,o.column)){for(n+=1;n<=a;n++)if(i(e.getLine(n),n))return;if(0!=t.wrap)for(n=s,a=o.row;n<=a;n++)if(i(e.getLine(n),n))return}};return{forEach:l}}}).call(s.prototype),t.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";function n(e,t){if(this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.__defineGetter__&&this.__defineSetter__&&"undefined"!=typeof console&&console.error){var i=!1,n=function(){i||(i=!0,console.error("commmandKeyBinding has too many m's. use commandKeyBinding"))};this.__defineGetter__("commmandKeyBinding",function(){return n(),this.commandKeyBinding}),this.__defineSetter__("commmandKeyBinding",function(e){return n(),this.commandKeyBinding=e})}else this.commmandKeyBinding=this.commandKeyBinding;this.addCommands(e)}var r=e("../lib/keys"),o=e("../lib/useragent");(function(){this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e){var t="string"==typeof e?e:e.name;e=this.commands[t],delete this.commands[t];var i=this.commandKeyBinding;for(var n in i)for(var r in i[n])i[n][r]==e&&delete i[n][r]},this.bindKey=function(e,t){if(e){if("function"==typeof t)return void this.addCommand({exec:t,bindKey:e,name:t.name||e});var i=this.commandKeyBinding;e.split("|").forEach(function(e){var n=this.parseKeys(e,t),r=n.hashId;(i[r]||(i[r]={}))[n.key]=t},this)}},this.addCommands=function(e){e&&Object.keys(e).forEach(function(t){var i=e[t];if(i){if("string"==typeof i)return this.bindKey(i,t);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=t),this.addCommand(i))}},this)},this.removeCommands=function(e){Object.keys(e).forEach(function(t){this.removeCommand(e[t])},this)},this.bindKeys=function(e){Object.keys(e).forEach(function(t){this.bindKey(t,e[t])},this)},this._buildKeyHash=function(e){var t=e.bindKey;if(t){var i="string"==typeof t?t:t[this.platform];this.bindKey(i,e)}},this.parseKeys=function(e){e.indexOf(" ")!=-1&&(e=e.split(/\s+/).pop());var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),n=r[i];if(r.FUNCTION_KEYS[n])i=r.FUNCTION_KEYS[n].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=r.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:i,hashId:o}},this.findKeyCommand=function(e,t){var i=this.commandKeyBinding;return i[e]&&i[e][t]},this.handleKeyboard=function(e,t,i,n){return{command:this.findKeyCommand(t,i)}}}).call(n.prototype),t.HashHandler=n}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../keyboard/hash_handler").HashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(s,r),function(){n.implement(this,o),this.exec=function(e,t,i){if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var n={editor:t,command:e,args:i},r=this._emit("exec",n);return this._signal("afterExec",n),r!==!1},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach(function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(s.prototype),t.CommandManager=s}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){"use strict";function n(e,t){return{win:e,mac:t}}var r=e("../lib/lang"),o=e("../config"),s=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",function(t){t.init(e),e.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","Ctrl-E"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){o.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(e,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n("Ctrl-Alt-0","Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",readOnly:!0},{name:"passKeysToBrowser",bindKey:n("null","null"),exec:function(){},passEvent:!0,readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",function(t){t.Search(e,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){return!!e.selection.isEmpty()&&void e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),n=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()),l=a.replace(/\n\s*/," ").length,c=e.session.doc.getLine(i.row),u=i.row+1;u<=n.row+1;u++){var h=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(u)));0!==h.length&&(h=" "+h),c+=h}n.row+1<e.session.doc.getLength()-1&&(c+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new s(i.row,0,n.row+2,0),c),l>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+l)):(o=e.session.doc.getLine(i.row).length>o?o+1:o,e.selection.moveCursorTo(i.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,r=[];n.length<1&&(n=[e.selection.getRange()]);for(var o=0;o<n.length;o++)o==n.length-1&&(n[o].end.row===t&&n[o].end.column===i||r.push(new s(n[o].end.row,n[o].end.column,t,i))),0===o?0===n[o].start.row&&0===n[o].start.column||r.push(new s(0,0,n[o].start.row,n[o].start.column)):r.push(new s(n[o-1].end.row,n[o-1].end.column,n[o].start.row,n[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(var o=0;o<r.length;o++)e.selection.addRange(r[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,f=e("./commands/default_commands").commands,v=e("./config"),b=e("./token_iterator").TokenIterator,w=function(e,t){var i=e.getContainerElement();this.container=i,this.renderer=e,this.commands=new m(s.isMac?"mac":"win",f),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new u(this),this.$mouseHandler=new l(this),new c(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||new h("")),v.resetOptions(this),v._signal("editor",this)};(function(){n.implement(this,g),this.$initOperationListeners=function(){function e(e){return e[e.length-1]}this.selections=[],this.commands.on("exec",function(t){this.startOperation(t);var i=t.command;if("fileJump"==i.aceCommandGroup){var n=this.prevOp;n&&"fileJump"==n.command.aceCommandGroup||(this.lastFileJumpPos=e(this.selections))}else this.lastFileJumpPos=null}.bind(this),!0),this.commands.on("afterExec",function(e){var t=e.command;"fileJump"==t.aceCommandGroup&&this.lastFileJumpPos&&!this.curOp.selectionChanged&&this.selection.fromJSON(this.lastFileJumpPos),this.endOperation(e)}.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop};var t=this.curOp.command;t&&t.scrollIntoView&&this.$blockScrolling++,this.selections.push(this.selection.toJSON())},this.endOperation=function(){if(this.curOp){var e=this.curOp.command;if(e&&e.scrollIntoView){switch(this.$blockScrolling--,e.scrollIntoView){case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var t=this.selection.getRange(),i=this.renderer.layerConfig;(t.start.row>=i.lastRow||t.end.row<=i.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==e.scrollIntoView&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&i.indexOf(e.command.name)!==-1;"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:i.indexOf(e.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e){if(e)if("string"==typeof e){this.$keybindingId=e;var t=this;v.loadModule(["keybinding",e],function(i){t.$keybindingId==e&&t.keyBinding.setKeyboardHandler(i&&i.handler)})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e);else this.keyBinding.setKeyboardHandler(null)},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){var t=this.session;if(t){this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.removeEventListener("changeCursor",this.$onCursorChange),i.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,e&&(this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()),this._signal("changeSession",{session:e,oldSession:t}),t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():t==-1&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout(function(){e.$highlightPending=!1;var t=e.session.findMatchingBracket(e.getCursorPosition());if(t)var i=new p(t.row,t.column,t.row,t.column+1);else if(e.session.$mode.getMatching)var i=e.session.$mode.getMatching(e.session);i&&(e.session.$bracketHighlight=e.session.addMarker(i,"ace_bracket","text"))},50)}},this.$highlightTags=function(){var e=this.session;if(!this.$highlightTagPending){var t=this;this.$highlightTagPending=!0,setTimeout(function(){t.$highlightTagPending=!1;var i=t.getCursorPosition(),n=new b(t.session,i.row,i.column),r=n.getCurrentToken();if(!r||r.type.indexOf("tag-name")===-1)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var o=r.value,s=0,a=n.stepBackward();if("<"==a.value){do a=r,r=n.stepForward(),r&&r.value===o&&r.type.indexOf("tag-name")!==-1&&("<"===a.value?s++:"</"===a.value&&s--);while(r&&s>=0)}else{do r=a,a=n.stepBackward(),r&&r.value===o&&r.type.indexOf("tag-name")!==-1&&("<"===a.value?s++:"</"===a.value&&s--);while(a&&s<=0);n.stepForward()}if(!r)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var l=n.getCurrentTokenRow(),c=n.getCurrentTokenColumn(),u=new p(l,c,l,c+r.value.length);e.$tagHighlight&&0!==u.compareRange(e.$backMarkers[e.$tagHighlight].range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),u&&!e.$tagHighlight&&(e.$tagHighlight=e.addMarker(u,"ace_bracket","text"))},50)}},this.focus=function(){var e=this;setTimeout(function(){e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus"))},this.onBlur=function(){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),
this.renderer.visualizeBlur(),this._emit("blur"))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t,i=e.data,n=i.range;t=n.start.row==n.end.row&&"insertLines"!=i.action&&"removeLines"!=i.action?n.end.row:1/0,this.renderer.updateLines(n.start.row,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||this.renderer.scrollCursorIntoView(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new p(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column-1,n=t.end.column+1,r=e.getLine(t.start.row),o=r.length,s=r.substring(Math.max(i,0),Math.min(n,o));if(!(i>=0&&/^[\w\d]/.test(s)||n<=o&&/[\w\d]$/.test(s))&&(s=r.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(s))){var a=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:s});return a}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){if(!this.$readOnly){var t={text:e};this._signal("paste",t),this.insert(t.text,!0)}},this.execCommand=function(e,t){this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=n.transformAction(i.getState(r.row),"insertion",this,i,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){var s=new p.fromPoints(r,r);s.end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);i.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=i.getState(r.row),a=i.getLine(r.row),h=n.checkOutdent(u,a,e);i.insert(r,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new p(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new p(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),i.getDocument().isNewLine(e)){var d=n.getNextLineIndent(u,a.slice(0,r.column),i.getTabString());i.insert({row:r.row+1,column:0},d)}h&&n.autoOutdent(u,i,r.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,i){this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),r=i.getMode().transformAction(n,"deletion",this,i,t);if(0===t.end.column){var o=i.getTextRange(t);if("\n"==o[o.length-1]){var s=i.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,r=this.session.getLine(e.row);t<r.length?(i=r.charAt(t)+r.charAt(t-1),n=new p(e.row,t-1,e.row,t+1)):(i=r.charAt(t-1)+r.charAt(t-2),n=new p(e.row,t-2,e.row,t)),this.session.replace(n,i)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(t.start.row<t.end.row){var i=this.$getSelectedRows();return void e.indentRows(i.first,i.last,"\t")}if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){var i=this.$getSelectedRows();return void e.indentRows(i.first,i.last,"\t")}}var r=e.getLine(t.start.row),s=t.start,a=e.getTabSize(),l=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var c=a-l%a,u=o.stringRepeat(" ",c);else{for(var c=l%a;" "==r[t.start.column]&&c;)t.start.column--,c--;this.selection.setSelectionRange(t),u="\t"}return this.insert(u)},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,i=[];for(r=e.first;r<=e.last;r++)i.push(t.getLine(r));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});for(var n=new p(0,0,0,0),r=e.first;r<=e.last;r++){var o=t.getLine(r);n.start.row=r,n.end.row=r,n.end.column=o.length,t.replace(n,i[r-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var r=i.exec(n);if(r.index<=t&&r.index+r[0].length>=t){var o={value:r[0],start:r.index,end:r.index+r[0].length};return o}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new p(t,i-1,t,i),r=this.session.getTextRange(n);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,i);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),e*=s!==o.end&&i<s?Math.pow(10,o.end-i-1):Math.pow(10,o.end-i),l+=e,l/=Math.pow(10,a);var c=l.toFixed(a),u=new p(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,i+c.length-o.value.length))}}},this.removeLines=function(){var e,t=this.$getSelectedRows();e=0===t.first||t.last+1<this.session.getLength()?new p(t.first,0,t.last+1,0):new p(t.first-1,this.session.getLine(t.first-1).length,t.last,this.session.getLine(t.last).length),this.session.remove(e),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var r=i.start.row;t.duplicateLines(r,r)}else{var o=n?i.start:i.end,s=t.insert(o,t.getTextRange(i),!1);i.start=o,i.end=s,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(function(e,t){return this.session.moveLinesDown(e,t)})},this.moveLinesUp=function(){this.$moveLines(function(e,t){return this.session.moveLinesUp(e,t)})},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t),0})},this.copyLinesDown=function(){this.$moveLines(function(e,t){return this.session.duplicateLines(e,t)})},this.$moveLines=function(e){var t=this.selection;if(!t.inMultiSelectMode||this.inVirtualSelectionMode){var i=t.toOrientedRange(),n=this.$getSelectedRows(i),r=e.call(this,n.first,n.last);i.moveBy(r,0),t.fromOrientedRange(i)}else{var o=t.rangeList.ranges;t.rangeList.detach(this.session);for(var s=o.length;s--;){for(var a=s,n=o[s].collapseRows(),l=n.end.row,c=n.start.row;s--&&(n=o[s].collapseRows(),c-n.end.row<=1);)c=n.end.row;s++;for(var r=e.call(this,c,l);a>=s;)o[a].moveBy(r,0),a--}t.fromOrientedRange(t.ranges[0]),t.rangeList.attach(this.session)}},this.$getSelectedRows=function(){var e=this.getSelectionRange().collapseRows();return{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,r=e*Math.floor(n.height/n.lineHeight);this.$blockScrolling++,t===!0?this.selection.$moveSelection(function(){this.moveCursorBy(r,0)}):t===!1&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection()),this.$blockScrolling--;var o=i.scrollTop;i.scrollBy(0,r*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e){var t=this.getCursorPosition(),i=new b(this.session,t.row,t.column),n=i.getCurrentToken(),r=n;if(r||(r=i.stepForward()),r){var o,s,a=!1,l={},c=t.column-r.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;c<r.value.length&&!a;c++)if(u[r.value[c]])switch(s=u[r.value[c]]+"."+r.type.replace("rparen","lparen"),isNaN(l[s])&&(l[s]=0),r.value[c]){case"(":case"[":case"{":l[s]++;break;case")":case"]":case"}":l[s]--,l[s]===-1&&(o="bracket",a=!0)}}else r&&r.type.indexOf("tag-name")!==-1&&(isNaN(l[r.value])&&(l[r.value]=0),"<"===n.value?l[r.value]++:"</"===n.value&&l[r.value]--,l[r.value]===-1&&(o="tag",a=!0));a||(n=r,r=i.stepForward(),c=0)}while(r&&!a);if(o){var h;if("bracket"===o){if(h=this.session.getBracketRange(t),!h){if(h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+c-1),!h)return;var d=h.start;d.row===t.row&&Math.abs(d.column-t.column)<2&&(h=this.session.getBracketRange(d))}}else if("tag"===o){if(!r||r.type.indexOf("tag-name")===-1)return;var g=r.value,h=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2);if(0===h.compare(t.row,t.column)){a=!1;do r=n,n=i.stepBackward(),n&&(n.type.indexOf("tag-close")!==-1&&h.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),r.value===g&&r.type.indexOf("tag-name")!==-1&&("<"===n.value?l[g]++:"</"===n.value&&l[g]--,0===l[g]&&(a=!0)));while(n&&!a)}if(r&&r.type.indexOf("tag-name")){var d=h.start;d.row==t.row&&Math.abs(d.column-t.column)<2&&(d=h.end)}}d=h&&h.cursor||d,d&&(e?h&&h.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(d.row,d.column):this.selection.moveTo(d.row,d.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,e)&&(n=1),null!==i&&(this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n):n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;this.$blockScrolling+=1;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;o>=0;--o)this.$tryReplace(i[o],e)&&n++;return this.selection.setSelectionRange(r),this.$blockScrolling-=1,n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return t=this.$search.replace(i,t),null!==t?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var r=this.selection.getRange();null==t.needle&&(e=this.session.getTextRange(r)||this.$search.$options.needle,e||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),t!==!1&&this.renderer.animateScrolling(i)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this)},this.setAutoScrollEditorIntoView=function(e){if(e){var t,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",function(){n=!0}),s=this.renderer.on("beforeRender",function(){n&&(t=i.renderer.container.getBoundingClientRect())}),a=this.renderer.on("afterRender",function(){if(n&&t&&i.isFocused()){var e=i.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;n=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null,null!=n&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(n)),n=t=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",o),this.renderer.removeEventListener("afterRender",a),this.renderer.removeEventListener("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",foldStyle:"session",mode:"session"}),t.Editor=w}),ace.define("ace/undomanager",["require","exports","module"],function(e,t,i){"use strict";var n=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),i=null;return t&&(i=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),i},this.redo=function(e){var t=this.$redoStack.pop(),i=null;return t&&(i=this.$doc.redoChanges(t,e),this.$undoStack.push(t),this.dirtyCounter++),i},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}).call(n.prototype),t.UndoManager=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){r.implement(this,s),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,r=this.$annotations[n];r||(r=this.$annotations[n]={text:[]});var s=i.text;s=s?o.escapeHTML(s):i.html||"",r.text.indexOf(s)===-1&&r.text.push(s);var a=i.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.data,i=t.range,n=i.start.row,r=i.end.row-n;if(0===r);else if("removeText"==t.action||"removeLines"==t.action)this.$annotations.splice(n,r+1,null);else{var o=new Array(r+1);o.unshift(n,1),this.$annotations.splice.apply(this.$annotations,o)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(i),s=o?o.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,c=t.$decorations,u=t.$firstLineNumber,h=0,d=t.gutterRenderer||this.$renderer,p=null,g=-1,m=i;;){if(m>s&&(m=o.end.row+1,o=t.getNextFoldLine(m,o),s=o?o.start.row:1/0),m>r){for(;this.$cells.length>g+1;)p=this.$cells.pop(),this.element.removeChild(p.element);break}p=this.$cells[++g],p||(p={element:null,textNode:null,foldWidget:null},p.element=n.createElement("div"),p.textNode=document.createTextNode(""),p.element.appendChild(p.textNode),this.element.appendChild(p.element),this.$cells[g]=p);var f="ace_gutter-cell ";l[m]&&(f+=l[m]),c[m]&&(f+=c[m]),this.$annotations[m]&&(f+=this.$annotations[m].className),p.element.className!=f&&(p.element.className=f);var v=t.getRowLength(m)*e.lineHeight+"px";if(v!=p.element.style.height&&(p.element.style.height=v),a){var b=a[m];null==b&&(b=a[m]=t.getFoldWidget(m))}if(b){p.foldWidget||(p.foldWidget=n.createElement("span"),p.element.appendChild(p.foldWidget));var f="ace_fold-widget ace_"+b;f+="start"==b&&m==s&&m<o.end.row?" ace_closed":" ace_open",p.foldWidget.className!=f&&(p.foldWidget.className=f);var v=e.lineHeight+"px";p.foldWidget.style.height!=v&&(p.foldWidget.style.height=v)}else p.foldWidget&&(p.element.removeChild(p.foldWidget),p.foldWidget=null);var w=h=d?d.getText(t,m):m+u;w!=p.textNode.data&&(p.textNode.data=w),m++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+u);var y=d?d.getWidth(t,h,e):h.toString().length*e.characterWidth,_=this.$padding||this.$computePadding();y+=_.left+_.right,y===this.gutterWidth||isNaN(y)||(this.gutterWidth=y,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",y))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../range").Range,r=e("../lib/dom"),o=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){var e=e||this.config;if(e){this.config=e;var t=[];for(var i in this.markers){var n=this.markers[i];if(n.range){var o=n.range.clipRows(e.firstRow,e.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),n.renderer){var s=this.$getTop(o.start.row,e),a=this.$padding+o.start.column*e.characterWidth;n.renderer(t,o,a,s,e)}else"fullLine"==n.type?this.drawFullLineMarker(t,o,n.clazz,e):"screenLine"==n.type?this.drawScreenLineMarker(t,o,n.clazz,e):o.isMultiLine()?"text"==n.type?this.drawTextMarker(t,o,n.clazz,e):this.drawMultiLineMarker(t,o,n.clazz,e):this.drawSingleLineMarker(t,o,n.clazz+" ace_start",e)}else n.update(t,this,this.session,e)}this.element=r.setInnerHtml(this.element,t.join(""))}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,r,o){var s=t.start.row,a=new n(s,t.start.column,s,this.session.getScreenLastRowColumn(s));for(this.drawSingleLineMarker(e,a,i+" ace_start",r,1,o),s=t.end.row,a=new n(s,0,s,t.end.column),this.drawSingleLineMarker(e,a,i,r,0,o),
s=t.start.row+1;s<t.end.row;s++)a.start.row=s,a.end.row=s,a.end.column=this.session.getScreenLastRowColumn(s),this.drawSingleLineMarker(e,a,i,r,1,o)},this.drawMultiLineMarker=function(e,t,i,n,r){var o=this.$padding,s=n.lineHeight,a=this.$getTop(t.start.row,n),l=o+t.start.column*n.characterWidth;r=r||"",e.push("<div class='",i," ace_start' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",l,"px;",r,"'></div>"),a=this.$getTop(t.end.row,n);var c=t.end.column*n.characterWidth;e.push("<div class='",i,"' style='","height:",s,"px;","width:",c,"px;","top:",a,"px;","left:",o,"px;",r,"'></div>"),s=(t.end.row-t.start.row-1)*n.lineHeight,s<0||(a=this.$getTop(t.start.row+1,n),e.push("<div class='",i,"' style='","height:",s,"px;","right:0;","top:",a,"px;","left:",o,"px;",r,"'></div>"))},this.drawSingleLineMarker=function(e,t,i,n,r,o){var s=n.lineHeight,a=(t.end.column+(r||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),c=this.$padding+t.start.column*n.characterWidth;e.push("<div class='",i,"' style='","height:",s,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,i,n,r){var o=this.$getTop(t.start.row,n),s=n.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,n)-o),e.push("<div class='",i,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")},this.drawScreenLineMarker=function(e,t,i,n,r){var o=this.$getTop(t.start.row,n),s=n.lineHeight;e.push("<div class='",i,"' style='","height:",s,"px;","top:",o,"px;","left:0;right:0;",r||"","'></div>")}}).call(o.prototype),t.Marker=o}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,s),this.EOF_CHAR="Â¶",this.EOL_CHAR_LF="Â¬",this.EOL_CHAR_CRLF="Â¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="â",this.SPACE_CHAR="Â·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+this.TAB_CHAR+o.stringRepeat("Â ",i-1)+"</span>"):t.push(o.stringRepeat("Â ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",r="",s="";if(this.showInvisibles){n+=" ace_invisible",r=" ace_invisible_space",s=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=this.TAB_CHAR+o.stringRepeat("Â ",this.tabSize-1)}else var a=o.stringRepeat("Â ",this.tabSize),l=a;this.$tabStrings[" "]="<span class='"+n+r+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+n+s+"'>"+l+"</span>"}},this.updateLines=function(e,t,i){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var n=Math.max(t,e.firstRow),o=Math.min(i,e.lastRow),s=this.element.childNodes,a=0,l=e.firstRow;l<n;l++){var c=this.session.getFoldLine(l);if(c){if(c.containsRow(n)){n=c.start.row;break}l=c.end.row}a++}for(var l=n,c=this.session.getNextFoldLine(l),u=c?c.start.row:1/0;;){if(l>u&&(l=c.end.row+1,c=this.session.getNextFoldLine(l,c),u=c?c.start.row:1/0),l>o)break;var h=s[a++];if(h){var d=[];this.$renderLine(d,l,!this.$useLineGroups(),l==u&&c),h.style.height=e.lineHeight*this.session.getRowLength(l)+"px",r.setInnerHtml(h,d.join(""))}l++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var i=this.element;if(t.firstRow<e.firstRow)for(var n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)i.removeChild(i.firstChild);if(t.lastRow>e.lastRow)for(var n=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);n>0;n--)i.removeChild(i.lastChild);if(e.firstRow<t.firstRow){var r=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)}if(e.lastRow>t.lastRow){var r=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);i.appendChild(r)}},this.$renderLinesFragment=function(e,t,i){for(var n=this.element.ownerDocument.createDocumentFragment(),o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>i)break;var l=r.createElement("div"),c=[];if(this.$renderLine(c,o,!1,o==a&&s),l.innerHTML=c.join(""),this.$useLineGroups())l.className="ace_line_group",n.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)n.appendChild(l.firstChild);o++}return n},this.update=function(e){this.config=e;for(var t=[],i=e.firstRow,n=e.lastRow,o=i,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;;){if(o>a&&(o=s.end.row+1,s=this.session.getNextFoldLine(o,s),a=s?s.start.row:1/0),o>n)break;this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(o),"px'>"),this.$renderLine(t,o,!1,o==a&&s),this.$useLineGroups()&&t.push("</div>"),o++}this.element=r.setInnerHtml(this.element,t.join(""))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){var r=this,s=/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,a=function(e,i,n,s,a){if(i)return r.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(r.SPACE_CHAR,e.length)+"</span>":o.stringRepeat("Â ",e.length);if("&"==e)return"&#38;";if("<"==e)return"&#60;";if("\t"==e){var l=r.session.getScreenTabSize(t+s);return t+=l-1,r.$tabStrings[l]}if("ã"==e){var c=r.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",u=r.showInvisibles?r.SPACE_CHAR:"";return t+=1,"<span class='"+c+"' style='width:"+2*r.config.characterWidth+"px'>"+u+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+r.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*r.config.characterWidth+"px'>"+e+"</span>")},l=n.replace(s,a);if(this.$textToken[i.type])e.push(l);else{var c="ace_"+i.type.replace(/\./g," ace_"),u="";"fold"==i.type&&(u=" style='width:"+i.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",c,"'",u,">",l,"</span>")}return t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);return n<=0||n>=i?t:" "==t[0]?(n-=n%this.tabSize,e.push(o.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),t.substr(n)):"\t"==t[0]?(e.push(o.stringRepeat(this.$tabStrings["\t"],n)),t.substr(n)):t},this.$renderWrappedLine=function(e,t,i,n){for(var r=0,o=0,s=i[0],a=0,l=0;l<t.length;l++){var c=t[l],u=c.value;if(0==l&&this.displayIndentGuides){if(r=u.length,u=this.renderIndentGuide(e,u,s),!u)continue;r-=u.length}if(r+u.length<s)a=this.$renderToken(e,a,c,u),r+=u.length;else{for(;r+u.length>=s;)a=this.$renderToken(e,a,c,u.substring(0,s-r)),u=u.substring(s-r),r=s,n||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),o++,a=0,s=i[o]||Number.MAX_VALUE;0!=u.length&&(r+=u.length,a=this.$renderToken(e,a,c,u))}}},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],r=n.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(i=this.$renderToken(e,i,n,r));for(var o=1;o<t.length;o++)n=t[o],r=n.value,i=this.$renderToken(e,i,n,r)},this.$renderLine=function(e,t,i,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else var r=this.session.getTokens(t);if(i||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),r.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,r,o,i):this.$renderSimpleLine(e,r)}this.showInvisibles&&(n&&(t=n.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),i||e.push("</div>")},this.$getFoldLineTokens=function(e,t){function i(e,t,i){for(var n=0,o=0;o+e[n].value.length<t;)if(o+=e[n].value.length,n++,n==e.length)return;if(o!=t){var s=e[n].value.substring(t-o);s.length>i-t&&(s=s.substring(0,i-t)),r.push({type:e[n].type,value:s}),o=t+s.length,n+=1}for(;o<i&&n<e.length;){var s=e[n].value;s.length+o>i?r.push({type:e[n].type,value:s.substring(0,i-o)}):r.push(e[n]),o+=s.length,n+=1}}var n=this.session,r=[],o=n.getTokens(e);return t.walk(function(e,t,s,a,l){null!=e?r.push({type:"fold",value:e}):(l&&(o=n.getTokens(t)),o.length&&i(o,a,s))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n,r=e("../lib/dom"),o=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===n&&(n="opacity"in this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateVisibility.bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||n||(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=(e?this.$updateOpacity:this.$updateVisibility).bind(this),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e),n=this.$padding+i.column*this.config.characterWidth,r=(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:n,top:r}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);for(var i=0,r=t.length;i<r;i++){var o=this.getPixelPosition(t[i].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&i>1)){var s=(this.cursors[n++]||this.addCursor()).style;s.left=o.left+"px",s.top=o.top+"px",s.width=e.characterWidth+"px",s.height=e.lineHeight+"px"}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){n.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){"use strict";var n=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame(function(){t.pending=!1;for(var e;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(r.prototype),t.RenderLoop=r}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var n=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,c=t.FontMetrics=function(e,t){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=r.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?1:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="-100px",e.visibility="hidden",e.position="fixed",e.whiteSpace="pre",s.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&this.$pollSizeChangesTimer},this.$measureSizes=function(){if(1===l)var e=this.$measureNode.getBoundingClientRect(),t={height:e.height,width:e.width};else var t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){this.$main.innerHTML=o.stringRepeat(e,l);var t=this.$main.getBoundingClientRect();return t.width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/dom"),o=e("./config"),s=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,u=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,p=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,f='.ace_editor {\tposition: relative;\toverflow: hidden;\tfont-family: \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\tfont-size: 12px;\tline-height: normal;\tdirection: ltr;\t}\t.ace_scroller {\tposition: absolute;\toverflow: hidden;\ttop: 0;\tbottom: 0;\tbackground-color: inherit;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_content {\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: text;\tmin-width: 100%;\t}\t.ace_dragging, .ace_dragging * {\tcursor: move !important;\t}\t.ace_dragging .ace_scroller:before{\tposition: absolute;\ttop: 0;\tleft: 0;\tright: 0;\tbottom: 0;\tcontent: \'\';\tbackground: rgba(250, 250, 250, 0.01);\tz-index: 1000;\t}\t.ace_dragging.ace_dark .ace_scroller:before{\tbackground: rgba(0, 0, 0, 0.01);\t}\t.ace_selecting, .ace_selecting * {\tcursor: text !important;\t}\t.ace_gutter {\tposition: absolute;\toverflow : hidden;\twidth: auto;\ttop: 0;\tbottom: 0;\tleft: 0;\tcursor: default;\tz-index: 4;\t-ms-user-select: none;\t-moz-user-select: none;\t-webkit-user-select: none;\tuser-select: none;\t}\t.ace_gutter-active-line {\tposition: absolute;\tleft: 0;\tright: 0;\t}\t.ace_scroller.ace_scroll-left {\tbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\t}\t.ace_gutter-cell {\tpadding-left: 19px;\tpadding-right: 6px;\tbackground-repeat: no-repeat;\t}\t.ace_gutter-cell.ace_error {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_warning {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\tbackground-position: 2px center;\t}\t.ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\tbackground-position: 2px center;\t}\t.ace_dark .ace_gutter-cell.ace_info {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\t}\t.ace_scrollbar {\tposition: absolute;\tright: 0;\tbottom: 0;\tz-index: 6;\t}\t.ace_scrollbar-inner {\tposition: absolute;\tcursor: text;\tleft: 0;\ttop: 0;\t}\t.ace_scrollbar-v{\toverflow-x: hidden;\toverflow-y: scroll;\ttop: 0;\t}\t.ace_scrollbar-h {\toverflow-x: scroll;\toverflow-y: hidden;\tleft: 0;\t}\t.ace_print-margin {\tposition: absolute;\theight: 100%;\t}\t.ace_text-input {\tposition: absolute;\tz-index: 0;\twidth: 0.5em;\theight: 1em;\topacity: 0;\tbackground: transparent;\t-moz-appearance: none;\tappearance: none;\tborder: none;\tresize: none;\toutline: none;\toverflow: hidden;\tfont: inherit;\tpadding: 0 1px;\tmargin: 0 -1px;\ttext-indent: -1em;\t-ms-user-select: text;\t-moz-user-select: text;\t-webkit-user-select: text;\tuser-select: text;\t}\t.ace_text-input.ace_composition {\tbackground: #f8f8f8;\tcolor: #111;\tz-index: 1000;\topacity: 1;\ttext-indent: 0;\t}\t.ace_layer {\tz-index: 1;\tposition: absolute;\toverflow: hidden;\twhite-space: pre;\theight: 100%;\twidth: 100%;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tpointer-events: none;\t}\t.ace_gutter-layer {\tposition: relative;\twidth: auto;\ttext-align: right;\tpointer-events: auto;\t}\t.ace_text-layer {\tfont: inherit !important;\t}\t.ace_cjk {\tdisplay: inline-block;\ttext-align: center;\t}\t.ace_cursor-layer {\tz-index: 4;\t}\t.ace_cursor {\tz-index: 4;\tposition: absolute;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tborder-left: 2px solid\t}\t.ace_slim-cursors .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_overwrite-cursors .ace_cursor {\tborder-left-width: 0px;\tborder-bottom: 1px solid;\t}\t.ace_hidden-cursors .ace_cursor {\topacity: 0.2;\t}\t.ace_smooth-blinking .ace_cursor {\t-moz-transition: opacity 0.18s;\t-webkit-transition: opacity 0.18s;\t-o-transition: opacity 0.18s;\t-ms-transition: opacity 0.18s;\ttransition: opacity 0.18s;\t}\t.ace_editor.ace_multiselect .ace_cursor {\tborder-left-width: 1px;\t}\t.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\tposition: absolute;\tz-index: 3;\t}\t.ace_marker-layer .ace_selection {\tposition: absolute;\tz-index: 5;\t}\t.ace_marker-layer .ace_bracket {\tposition: absolute;\tz-index: 6;\t}\t.ace_marker-layer .ace_active-line {\tposition: absolute;\tz-index: 2;\t}\t.ace_marker-layer .ace_selected-word {\tposition: absolute;\tz-index: 4;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\t}\t.ace_line .ace_fold {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: inline-block;\theight: 11px;\tmargin-top: -2px;\tvertical-align: middle;\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\tbackground-repeat: no-repeat, repeat-x;\tbackground-position: center center, top left;\tcolor: transparent;\tborder: 1px solid black;\t-moz-border-radius: 2px;\t-webkit-border-radius: 2px;\tborder-radius: 2px;\tcursor: pointer;\tpointer-events: auto;\t}\t.ace_dark .ace_fold {\t}\t.ace_fold:hover{\tbackground-image:\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\turl("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\t}\t.ace_tooltip {\tbackground-color: #FFF;\tbackground-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\tbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\tborder: 1px solid gray;\tborder-radius: 1px;\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\tcolor: black;\tdisplay: block;\tmax-width: 100%;\tpadding: 3px 4px;\tposition: fixed;\tz-index: 999999;\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tcursor: default;\twhite-space: pre;\tword-wrap: break-word;\tline-height: normal;\tfont-style: normal;\tfont-weight: normal;\tletter-spacing: normal;\tpointer-events: none;\t}\t.ace_folding-enabled > .ace_gutter-cell {\tpadding-right: 13px;\t}\t.ace_fold-widget {\t-moz-box-sizing: border-box;\t-webkit-box-sizing: border-box;\tbox-sizing: border-box;\tmargin: 0 -12px 0 1px;\tdisplay: none;\twidth: 11px;\tvertical-align: top;\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\tbackground-repeat: no-repeat;\tbackground-position: center;\tborder-radius: 3px;\tborder: 1px solid transparent;\tcursor: pointer;\t}\t.ace_folding-enabled .ace_fold-widget {\tdisplay: inline-block;   \t}\t.ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\t}\t.ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\t}\t.ace_fold-widget:hover {\tborder: 1px solid rgba(0, 0, 0, 0.3);\tbackground-color: rgba(255, 255, 255, 0.2);\t-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\t}\t.ace_fold-widget:active {\tborder: 1px solid rgba(0, 0, 0, 0.4);\tbackground-color: rgba(0, 0, 0, 0.05);\t-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\t}\t.ace_dark .ace_fold-widget {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\t}\t.ace_dark .ace_fold-widget.ace_end {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget.ace_closed {\tbackground-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\t}\t.ace_dark .ace_fold-widget:hover {\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbackground-color: rgba(255, 255, 255, 0.1);\t}\t.ace_dark .ace_fold-widget:active {\t-moz-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t-webkit-box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\tbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\t}\t.ace_fold-widget.ace_invalid {\tbackground-color: #FFB4B4;\tborder-color: #DE5555;\t}\t.ace_fade-fold-widgets .ace_fold-widget {\t-moz-transition: opacity 0.4s ease 0.05s;\t-webkit-transition: opacity 0.4s ease 0.05s;\t-o-transition: opacity 0.4s ease 0.05s;\t-ms-transition: opacity 0.4s ease 0.05s;\ttransition: opacity 0.4s ease 0.05s;\topacity: 0;\t}\t.ace_fade-fold-widgets:hover .ace_fold-widget {\t-moz-transition: opacity 0.05s ease 0.05s;\t-webkit-transition: opacity 0.05s ease 0.05s;\t-o-transition: opacity 0.05s ease 0.05s;\t-ms-transition: opacity 0.05s ease 0.05s;\ttransition: opacity 0.05s ease 0.05s;\topacity:1;\t}\t.ace_underline {\ttext-decoration: underline;\t}\t.ace_bold {\tfont-weight: bold;\t}\t.ace_nobold .ace_bold {\tfont-weight: normal;\t}\t.ace_italic {\tfont-style: italic;\t}\t.ace_error-marker {\tbackground-color: rgba(255, 0, 0,0.2);\tposition: absolute;\tz-index: 9;\t}\t.ace_highlight-marker {\tbackground-color: rgba(255, 255, 0,0.2);\tposition: absolute;\tz-index: 8;\t}\t';
r.importCssString(f,"ace_editor");var v=function(e,t){var i=this;this.container=e||r.createElement("div"),this.$keepTextAreaAtCursor=!s.isOldIE,r.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var n=this.$textLayer=new c(this.content);this.canvas=n.element,this.$markerFront=new l(this.content),this.$cursorLayer=new u(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container,500),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new p(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&(this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t){void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.firstRow>this.layerConfig.lastRow||this.$changedLines.lastRow<this.layerConfig.firstRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;n||(n=r.clientHeight||r.scrollHeight),i||(i=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0)}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var r=0,o=this.$size,s={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return n&&(e||o.height!=n)&&(o.height=n,r|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",r|=this.CHANGE_SCROLL),i&&(e||o.width!=i)&&(r|=this.CHANGE_SIZE,o.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(r|=this.CHANGE_FULL)),o.$dirty=!i||!n,r&&this._signal("resize",s),r},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var i=this.session.selection.getCursor();i.column=0,e=this.$cursorLayer.getPixelPosition(i,!0),t*=this.session.getRowLength(i.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,i=this.$cursorLayer.$pixelPos.left;t-=e.offset;var n=this.lineHeight;if(!(t<0||t>e.height-n)){var r=this.characterWidth;if(this.$composition){var o=this.textarea.value.replace(/^\x01+/,"");r*=this.session.$getStringScreenWidth(o)[0]+2,n+=2,t-=1}i-=this.scrollLeft,i>this.$size.scrollerWidth-r&&(i=this.$size.scrollerWidth-r),i-=this.scrollBar.width,this.textarea.style.height=n+"px",this.textarea.style.width=r+"px",this.textarea.style.right=Math.max(0,this.$size.scrollerWidth-i-r)+"px",this.textarea.style.bottom=Math.max(0,this.$size.height-t-n)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|n,r.left=0|i,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!e&&!t)return void(this.$changes|=e);if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var i=this.layerConfig;return(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL)&&(e|=this.$computeLayerConfig(),i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-i.offset+"px",this.content.style.marginTop=-i.offset+"px",this.content.style.width=i.width+2*this.$padding+"px",this.content.style.height=i.minHeight+"px"),e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender")):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender")):(e&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),void this._signal("afterRender"))},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0),n=e>t;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var r=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,i),this.desiredHeight=i}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength(),r=n*this.lineHeight,o=this.scrollTop%this.lineHeight,s=t.scrollerHeight+this.lineHeight,a=this.$getLongestLine(),l=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-a-2*this.$padding<0),c=this.$horizScroll!==l;c&&(this.$horizScroll=l,this.scrollBarH.setVisible(l)),!this.$maxLines&&this.$scrollPastEnd&&(r+=(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd);var u=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r<0),h=this.$vScroll!==u;h&&(this.$vScroll=u,this.scrollBarV.setVisible(u)),this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,r-t.scrollerHeight+this.scrollMargin.bottom))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,a+2*this.$padding-t.scrollerWidth+this.scrollMargin.right)));var d,p,g=Math.ceil(s/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-o)/this.lineHeight)),f=m+g,v=this.lineHeight;m=e.screenToDocumentRow(m,0);var b=e.getFoldLine(m);b&&(m=b.start.row),d=e.documentToScreenRow(m,0),p=e.getRowLength(m)*v,f=Math.min(e.screenToDocumentRow(f,0),e.getLength()-1),s=t.scrollerHeight+e.getRowLength(f)*v+p,o=this.scrollTop-d*v;var w=0;return this.layerConfig.width!=a&&(w=this.CHANGE_H_SCROLL),(c||h)&&(w=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(a=this.$getLongestLine())),this.layerConfig={width:a,padding:this.$padding,firstRow:m,firstRowScreen:d,lastRow:f,lineHeight:v,characterWidth:this.characterWidth,minHeight:s,maxHeight:r,offset:o,gutterOffset:Math.max(0,Math.ceil((o+t.height-t.scrollerHeight)/v)),height:this.$size.scrollerHeight},w},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),r=n.left,o=n.top,s=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,r=i.top-n*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var i=0,n=this.STEPS,r=[],o=function(e,t,i){return i*(Math.pow(e-1,3)+1)+t};for(i=0;i<n;++i)r.push(o(i/this.STEPS,e,t-e));return r},this.scrollToLine=function(e,t,i,n){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}),o=r.top;t&&(o-=this.$size.scrollerHeight/2);var s=this.scrollTop;this.session.setScrollTop(o),i!==!1&&this.animateScrolling(s,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0],e==i))return}var o=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=(e+this.scrollLeft-i.left-this.$padding)/this.characterWidth,r=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),o=Math.round(n);return{row:r,column:o,side:n-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=Math.round((e+this.scrollLeft-i.left-this.$padding)/this.characterWidth),r=(t+this.scrollTop-i.top)/this.lineHeight;return this.session.screenToDocumentPosition(r,Math.max(n,0))},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),r=this.$padding+Math.round(n.column*this.characterWidth),o=n.row*this.lineHeight;return{pageX:i.left+r-this.scrollLeft,pageY:i.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(r.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){function i(i){if(n.$themeId!=e)return t&&t();if(i.cssClass){r.importCssString(i.cssText,i.cssClass,n.container.ownerDocument),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}}var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)i(e);else{var s=e||this.$options.theme.initialValue;o.loadModule(["theme",s],i)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,t!==!1)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.content.style.cursor!=e&&(this.content.style.cursor=e)},this.setMouseCursor=function(e){this.content.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(v.prototype),o.defineOptions(v.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){return this.$gutterLineHighlight?(this.$gutterLineHighlight.style.display=e?"":"none",void(this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight())):(this.$gutterLineHighlight=r.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight))},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=v}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/net"),s=e("../lib/event_emitter").EventEmitter,a=e("../config"),l=function(t,n,r,o){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)o=o||a.moduleUrl(n.id,"worker");else{var s=this.$normalizePath;o=o||s(e.toUrl("ace/worker/worker.js",null,"_"));var l={};t.forEach(function(t){l[t]=s(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}try{var c=n.src,u=i(510),h=new u([c],{type:"application/javascript"}),d=(window.URL||window.webkitURL).createObjectURL(h);this.$worker=new Worker(d)}catch(e){if(!(e instanceof window.DOMException))throw e;var h=this.$workerBlob(o),p=window.URL||window.webkitURL,g=p.createObjectURL(h);this.$worker=new Worker(g),p.revokeObjectURL(g)}this.$worker.postMessage({init:!0,tlns:l,module:n.id,classname:r}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,s),this.onMessage=function(e){var t=e.data;switch(t.type){case"log":window.console&&console.log&&console.log.apply(console,t.data);break;case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id])}},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc.removeEventListener("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,0))},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>20&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,n=new i;return n.append(t),n.getBlob("application/javascript")}}}).call(l.prototype);var c=function(e,t,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,r=!1,o=Object.create(s),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),n&&(r?setTimeout(c):c())},this.setEmitSync=function(e){r=e};var c=function(){var e=l.messageBuffer.shift();e.command?n[e.command].apply(n,e.args):e.event&&o._signal(e.event,e.data)};o.postMessage=function(e){l.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],function(e){for(n=new e[i](o);l.messageBuffer.length;)c()})};c.prototype=l.prototype,t.UIWorkerClient=c,t.WorkerClient=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){"use strict";var n=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,i,n,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){s.onCursorChange()})},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var e=this,t=this.doc,i=this.session,r=this.$pos;this.pos=t.createAnchor(r.row,r.column),this.markerId=i.addMarker(new n(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.pos.on("change",function(t){i.removeMarker(e.markerId),e.markerId=i.addMarker(new n(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)}),this.others=[],this.$others.forEach(function(i){var n=t.createAnchor(i.row,i.column);e.others.push(n)}),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1),i.on("change",function(r){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(r.value.row,r.value.column,r.value.row,r.value.column+t.length),t.othersClass,null,!1)})})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){var t=e.data,i=t.range;if(i.start.row===i.end.row&&i.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var r="insertText"===t.action?i.end.column-i.start.column:i.start.column-i.end.column;if(i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1){var o=i.start.column-this.pos.column;if(this.length+=r,!this.session.$fromUndo){if("insertText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),
this.doc.insert(l,t.text)}else if("removeText"===t.action)for(var s=this.others.length-1;s>=0;s--){var a=this.others[s],l={row:a.row,column:a.column+o};a.row===i.start.row&&i.start.column<a.column&&(l.column+=r),this.doc.remove(new n(l.row,l.column,l.row,l.column-r))}i.start.column===this.pos.column&&"insertText"===t.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-r);for(var e=0;e<this.others.length;e++){var t=this.others[e],n={row:t.row,column:t.column-r};t.row===i.start.row&&i.start.column<t.column&&(n.column+=r),t.setPosition(n.row,n.column)}}.bind(this),0):i.start.column===this.pos.column&&"removeText"===t.action&&setTimeout(function(){for(var e=0;e<this.others.length;e++){var t=this.others[e];t.row===i.start.row&&i.start.column<t.column&&t.setPosition(t.row,t.column-r)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(var s=0;s<this.others.length;s++)this.others[s]._emit("change",{value:this.others[s]})}this.$updating=!1}},this.onCursorChange=function(e){if(!this.$updating){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;e<this.others.length;e++)this.others[e].detach();this.session.setUndoSelect(!0)},this.cancel=function(){if(this.$undoStackDepth===-1)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(!0)}}).call(s.prototype),t.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){function n(e,t){return e.row==t.row&&e.column==t.column}function r(e){var t=e.domEvent,i=t.altKey,r=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)return void e.editor.textInput.onContextMenu(e.domEvent);if(!a&&!i&&!l)return void(0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode());if(0===c){var u,h=e.editor,d=h.selection,p=h.inMultiSelectMode,g=e.getDocumentPosition(),m=d.getCursor(),f=e.inSelection()||d.isEmpty()&&n(g,m),v=e.x,b=e.y,w=function(e){v=e.clientX,b=e.clientY},y=h.session,_=h.renderer.pixelToScreenCoordinates(v,b),k=_;if(h.$mouseHandler.$enableJumpToDef)a&&i||l&&i?u="add":i&&(u="block");else if(l&&!i){if(u="add",!p&&r)return}else i&&(u="block");if(u&&s.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&f)return;if(!p){var x=d.toOrientedRange();h.addSelectionMarker(x)}var A=d.rangeList.rangeAtPoint(g);h.$blockScrolling++,h.inVirtualSelectionMode=!0,r&&(A=null,x=d.ranges[0],h.removeSelectionMarker(x)),h.once("mouseup",function(){var e=d.toOrientedRange();A&&e.isEmpty()&&n(A.cursor,e.cursor)?d.substractPoint(e.cursor):(r?d.substractPoint(x.cursor):x&&(h.removeSelectionMarker(x),d.addRange(x)),d.addRange(e)),h.$blockScrolling--,h.inVirtualSelectionMode=!1})}else if("block"==u){e.stop(),h.inVirtualSelectionMode=!0;var C,E=[],S=function(){var e=h.renderer.pixelToScreenCoordinates(v,b),t=y.screenToDocumentPosition(e.row,e.column);n(k,e)&&n(t,d.lead)||(k=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(E),E=d.rectangularRangeBlock(k,_),h.$mouseHandler.$clickSelection&&1==E.length&&E[0].isEmpty()&&(E[0]=h.$mouseHandler.$clickSelection.clone()),E.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};p&&!l?d.toSingleRange():!p&&l&&(C=d.toOrientedRange(),h.addSelectionMarker(C)),r?_=y.documentToScreenPosition(d.lead):d.moveToPosition(g),k={row:-1,column:-1};var T=function(e){clearInterval(L),h.removeSelectionMarkers(E),E.length||(E=[d.toOrientedRange()]),h.$blockScrolling++,C&&(h.removeSelectionMarker(C),d.toSingleRange(C));for(var t=0;t<E.length;t++)d.addRange(E[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null,h.$blockScrolling--},F=S;o.capture(h.container,w,T);var L=setInterval(function(){F()},20);return e.preventDefault()}}}var o=e("../lib/event"),s=e("../lib/useragent");t.onMouseDown=r}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"}},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},readonly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){function n(e,t,i){return m.$options.wrap=!0,m.$options.needle=t,m.$options.backwards=i==-1,m.find(e)}function r(e,t){return e.row==t.row&&e.column==t.column}function o(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",u),e.commands.addCommands(p.defaultCommands),s(e))}function s(e){function t(t){n&&(e.renderer.setMouseCursor(""),n=!1)}var i=e.textInput.getElement(),n=!1;h.addListener(i,"keydown",function(i){18!=i.keyCode||i.ctrlKey||i.shiftKey||i.metaKey?n&&t():n||(e.renderer.setMouseCursor("crosshair"),n=!0)}),h.addListener(i,"keyup",t),h.addListener(i,"blur",t)}var a=e("./range_list").RangeList,l=e("./range").Range,c=e("./selection").Selection,u=e("./mouse/multi_select_handler").onMouseDown,h=e("./lib/event"),d=e("./lib/lang"),p=e("./commands/multi_select_commands");t.commands=p.defaultCommands.concat(p.multiSelectCommands);var g=e("./search").Search,m=new g,f=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(f.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),t=t||this.ranges[0],t&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new a,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var i=this.getRange(),n=this.isBackwards(),r=i.start.row,o=i.end.row;if(r==o){if(n)var s=i.end,a=i.start;else var s=i.start,a=i.end;return this.addRange(l.fromPoints(a,a)),void this.addRange(l.fromPoints(s,s))}var c=[],u=this.getLineRange(r,!0);u.start.column=i.start.column,c.push(u);for(var h=r+1;h<o;h++)c.push(this.getLineRange(h,!0));u=this.getLineRange(o,!0),u.end.column=i.end.column,c.push(u),c.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=l.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.selectionLead),r=this.session.documentToScreenPosition(this.selectionAnchor),o=this.rectangularRangeBlock(n,r);o.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],o=e.column<t.column;if(o)var s=e.column,a=t.column;else var s=t.column,a=e.column;var c=e.row<t.row;if(c)var u=e.row,h=t.row;else var u=t.row,h=e.row;s<0&&(s=0),u<0&&(u=0),u==h&&(i=!0);for(var d=u;d<=h;d++){var p=l.fromPoints(this.session.screenToDocumentPosition(d,s),this.session.screenToDocumentPosition(d,a));if(p.isEmpty()){if(g&&r(p.end,g))break;var g=p.end}p.cursor=o?p.start:p.end,n.push(p)}if(c&&n.reverse(),!i){for(var m=n.length-1;n[m].isEmpty()&&m>0;)m--;if(m>0)for(var f=0;n[f].isEmpty();)f++;for(var v=m;v>=f;v--)n[v].isEmpty()&&n.splice(v,1)}return n}}.call(c.prototype);var v=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);t!=-1&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var r=t.indexOf(n);r!=-1&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(p.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(p.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?n=i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?n=i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),n=t.exec(i,e.args||{})):n=t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,r=i&&i.keepOrder,o=1==i||i&&i.$byLines,s=this.session,a=this.selection,l=a.rangeList,u=(r?a:l).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=a._eventRegistry;a._eventRegistry={};var d=new c(s);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(o)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;d.fromOrientedRange(u[p]),d.index=p,this.selection=s.selection=d;var g=e.exec?e.exec(this,t||{}):e(this,t||{});n||void 0===g||(n=g),d.toOrientedRange(u[p])}d.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var r=this.session.getDocument().getNewLineCharacter();e=i.join(r),e.length==(i.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;r(n,t)||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.onPaste=function(e){if(!this.$readOnly){var t={text:e};if(this._signal("paste",t),e=t.text,!this.inMultiSelectMode||this.inVirtualSelectionMode)return this.insert(e);var i=e.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(i.length>n.length||i.length<2||!i[1])return this.commands.exec("insertstring",this,e);for(var r=n.length;r--;){var o=n[r];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,i[r])}}},this.findAll=function(e,t,i){if(t=t||{},t.needle=e||t.needle,void 0==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;i||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),this.$blockScrolling-=1,r.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,r=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(r.column=this.selection.$desiredColumn);var o=this.session.screenToDocumentPosition(r.row+e,r.column);if(i.isEmpty())var s=o;else var a=this.session.documentToScreenPosition(n?i.end:i.start),s=this.session.screenToDocumentPosition(a.row+e,a.column);if(n){var c=l.fromPoints(o,s);c.cursor=c.start}else{var c=l.fromPoints(s,o);c.cursor=c.end}if(c.desiredColumn=r.column,this.selection.inMultiSelectMode){if(t)var u=i.cursor}else this.selection.addRange(i);this.selection.addRange(c),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,r=n.length;r--;){var o=n[r];if(o.isEmpty()){var s=t.getWordRange(o.start.row,o.start.column);o.start.row=s.start.row,o.start.column=s.start.column,o.end.row=s.end.row,o.end.column=s.end.column}}i.mergeOverlappingRanges();for(var a=[],r=n.length;r--;){var o=n[r];a.unshift(t.getTextRange(o))}e<0?a.unshift(a.pop()):a.push(a.shift());for(var r=n.length;r--;){var o=n[r],s=o.clone();t.replace(o,a[r]),o.start.row=s.start.row,o.start.column=s.start.column}},this.selectMore=function(e,t){var i=this.session,r=i.multiSelect,o=r.toOrientedRange();o.isEmpty()&&(o=i.getWordRange(o.start.row,o.start.column),o.cursor=e==-1?o.start:o.end,this.multiSelect.addRange(o));var s=i.getTextRange(o),a=n(i,s,e);a&&(a.cursor=e==-1?a.start:a.end,this.$blockScrolling+=1,this.session.unfold(a),this.multiSelect.addRange(a),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,n=-1,r=i.filter(function(e){return e.cursor.row==n||void(n=e.cursor.row)});if(i.length&&r.length!=i.length-1){r.forEach(function(e){t.substractPoint(e.cursor)});var o=0,s=1/0,a=i.map(function(t){var i=t.cursor,n=e.getLine(i.row),r=n.substr(i.column).search(/\S/g);return r==-1&&(r=0),i.column>o&&(o=i.column),r<s&&(s=r),r});i.forEach(function(t,i){var n=t.cursor,r=o-n.column,c=a[i]-s;r>c?e.insert(n,d.stringRepeat(" ",r-c)):e.remove(new l(n.row,n.column,n.row,n.column-r+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=n.row,t.cursor=t.end}),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,h=c.end.row,p=u==h;if(p){var g,m=this.session.getLength();do g=this.session.getLine(h);while(/[=:]/.test(g)&&++h<m);do g=this.session.getLine(u);while(/[=:]/.test(g)&&--u>0);u<0&&(u=0),h>=m&&(h=m-1)}var f=this.session.doc.removeLines(u,h);f=this.$reAlignText(f,p),this.session.doc.insert({row:u,column:0},f.join("\n")+"\n"),p||(c.start.column=0,c.end.column=f[f.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function i(e){return d.stringRepeat(" ",e)}function n(e){return e[2]?i(s)+e[2]+i(a-e[2].length+l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function r(e){return e[2]?i(s+a-e[2].length)+e[2]+i(l," ")+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}function o(e){return e[2]?i(s)+e[2]+i(l)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,a,l,c=!0,u=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,a=t[2].length,l=t[3].length,t):(s+a+l!=t[1].length+t[2].length+t[3].length&&(u=!1),s!=t[1].length&&(c=!1),s>t[1].length&&(s=t[1].length),a<t[2].length&&(a=t[2].length),l>t[3].length&&(l=t[3].length),t):[e]}).map(t?n:c?u?r:n:o)}}).call(v.prototype),t.onSessionChange=function(e){var t=e.session;t.multiSelect||(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange),this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=o,e("./config").defineOptions(v.prototype,"editor",{enableMultiselect:{set:function(e){o(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",u)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",u))},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var r=/\S/,o=e.getLine(t),s=o.search(r);if(s!=-1){for(var a=i||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(r);if(h!=-1){if(h<=s)break;u=t}}if(u>c){var d=e.getLine(u).length;return new n(c,a,u,d)}}},this.openingBracketBlock=function(e,t,i,r,o){var s={row:i,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,i,r,o){var s={row:i,column:r},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,n.fromPoints(a,s)}}).call(r.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {\tbackground: #f0f0f0;\tcolor: #333;\t}\t.ace-tm .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8;\t}\t.ace-tm .ace_fold {\tbackground-color: #6B72E6;\t}\t.ace-tm {\tbackground-color: #FFFFFF;\tcolor: black;\t}\t.ace-tm .ace_cursor {\tcolor: black;\t}\t.ace-tm .ace_invisible {\tcolor: rgb(191, 191, 191);\t}\t.ace-tm .ace_storage,\t.ace-tm .ace_keyword {\tcolor: blue;\t}\t.ace-tm .ace_constant {\tcolor: rgb(197, 6, 11);\t}\t.ace-tm .ace_constant.ace_buildin {\tcolor: rgb(88, 72, 246);\t}\t.ace-tm .ace_constant.ace_language {\tcolor: rgb(88, 92, 246);\t}\t.ace-tm .ace_constant.ace_library {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_invalid {\tbackground-color: rgba(255, 0, 0, 0.1);\tcolor: red;\t}\t.ace-tm .ace_support.ace_function {\tcolor: rgb(60, 76, 114);\t}\t.ace-tm .ace_support.ace_constant {\tcolor: rgb(6, 150, 14);\t}\t.ace-tm .ace_support.ace_type,\t.ace-tm .ace_support.ace_class {\tcolor: rgb(109, 121, 222);\t}\t.ace-tm .ace_keyword.ace_operator {\tcolor: rgb(104, 118, 135);\t}\t.ace-tm .ace_string {\tcolor: rgb(3, 106, 7);\t}\t.ace-tm .ace_comment {\tcolor: rgb(76, 136, 107);\t}\t.ace-tm .ace_comment.ace_doc {\tcolor: rgb(0, 102, 255);\t}\t.ace-tm .ace_comment.ace_doc.ace_tag {\tcolor: rgb(128, 159, 191);\t}\t.ace-tm .ace_constant.ace_numeric {\tcolor: rgb(0, 0, 205);\t}\t.ace-tm .ace_variable {\tcolor: rgb(49, 132, 149);\t}\t.ace-tm .ace_xml-pe {\tcolor: rgb(104, 104, 91);\t}\t.ace-tm .ace_entity.ace_name.ace_function {\tcolor: #0000A2;\t}\t.ace-tm .ace_heading {\tcolor: rgb(12, 7, 255);\t}\t.ace-tm .ace_list {\tcolor:rgb(185, 6, 144);\t}\t.ace-tm .ace_meta.ace_tag {\tcolor:rgb(0, 22, 142);\t}\t.ace-tm .ace_string.ace_regex {\tcolor: rgb(255, 0, 0)\t}\t.ace-tm .ace_marker-layer .ace_selection {\tbackground: rgb(181, 213, 255);\t}\t.ace-tm.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px white;\tborder-radius: 2px;\t}\t.ace-tm .ace_marker-layer .ace_step {\tbackground: rgb(252, 255, 0);\t}\t.ace-tm .ace_marker-layer .ace_stack {\tbackground: rgb(164, 229, 101);\t}\t.ace-tm .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid rgb(192, 192, 192);\t}\t.ace-tm .ace_marker-layer .ace_active-line {\tbackground: rgba(0, 0, 0, 0.07);\t}\t.ace-tm .ace_gutter-active-line {\tbackground-color : #dcdcdc;\t}\t.ace-tm .ace_marker-layer .ace_selected-word {\tbackground: rgb(250, 250, 255);\tborder: 1px solid rgb(200, 200, 250);\t}\t.ace-tm .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\t}\t';var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,i){"use strict";function n(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.detach=this.detach.bind(this),this.session.on("change",this.updateOnChange)}var r=(e("./lib/oop"),e("./lib/dom"));e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets?this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0:0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach(function(t){t&&t.rowCount&&(e+=t.rowCount)}),e},this.attach=function(e){e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,this.editor.on("changeSession",this.detach),e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets))},this.detach=function(e){if(!e||e.session!=this.session){var t=this.editor;if(t){t.off("changeSession",this.detach),this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.data,n=i.range,r=n.start.row,o=n.end.row-r;if(0===o);else if("removeText"==i.action||"removeLines"==i.action){var s=t.splice(r+1,o);s.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var a=new Array(o);a.unshift(r,0),t.splice.apply(t,a),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach(function(e,i){e&&(t=!1,e.row=i)}),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength())),this.session.lineWidgets[e.row]=e;var t=this.editor.renderer;return e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}this.session.lineWidgets&&(this.session.lineWidgets[e.row]=void 0),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var r=1/0,o=0;o<i.length;o++){var s=i[o];s._inDocument||(s._inDocument=!0,t.container.appendChild(s.el)),s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/n.characterWidth));var a=s.h/n.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row),a<0&&(a=0)),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var r=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,n.length);r>0&&!n[r];)r--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var s=r;s<=o;s++){var a=n[s];if(a&&a.el){a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){"use strict";function n(e,t,i){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1,s=i(t,e[o]);if(s>0)n=o+1;else{if(!(s<0))return o;r=o-1}}return-(n+1)}function r(e,t,i){var r=e.getAnnotations().sort(a.comparePoints);if(r.length){var o=n(r,{row:t,column:-1},a.comparePoints);o<0&&(o=-o-1),o>=r.length-1?o=i>0?0:r.length-1:0===o&&i<0&&(o=r.length-1);var s=r[o];if(s&&i){if(s.row===t){do s=r[o+=i];while(s&&s.row===t);if(!s)return r.slice()}var l=[];t=s.row;do l[i<0?"unshift":"push"](s),s=r[o+=i];while(s&&s.row==t);return l.length&&l}}}var o=e("ace/line_widgets").LineWidgets,s=e("ace/lib/dom"),a=e("ace/range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new o(i),i.widgetManager.attach(e));var n=e.getCursorPosition(),a=n.row,l=i.lineWidgets&&i.lineWidgets[a];l?l.destroy():a-=t;var c,u=r(i,a,t);if(u){var h=u[0];n.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,n.row=h.row,c=e.renderer.$gutterLayer.$annotations[n.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(n.row),e.selection.moveToPosition(n);var d={row:n.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div")},p=d.el.appendChild(s.createElement("div")),g=d.el.appendChild(s.createElement("div"));g.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(n).left;g.style.left=m+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(s.createElement("div"));var f=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(f),i.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy));
},e.keyBinding.addKeyboardHandler(f),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("\t    .error_widget_wrapper {\t        background: inherit;\t        color: inherit;\t        border:none\t    }\t    .error_widget {\t        border-top: solid 2px;\t        border-bottom: solid 2px;\t        margin: 5px 0;\t        padding: 10px 40px;\t        white-space: pre-wrap;\t    }\t    .error_widget.ace_error, .error_widget_arrow.ace_error{\t        border-color: #ff5a5a\t    }\t    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\t        border-color: #F1D817\t    }\t    .error_widget.ace_info, .error_widget_arrow.ace_info{\t        border-color: #5a5a5a\t    }\t    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\t        border-color: #5aaa5a\t    }\t    .error_widget_arrow {\t        position: absolute;\t        border: solid 5px;\t        border-top-color: transparent!important;\t        border-right-color: transparent!important;\t        border-left-color: transparent!important;\t        top: -5px;\t    }\t","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),r=e("./lib/event"),o=e("./editor").Editor,s=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.acequire=e,t.edit=function(e){if("string"==typeof e){var i=e;if(e=document.getElementById(i),!e)throw new Error("ace.edit can't find div #"+i)}if(e.env&&e.env.editor instanceof o)return e.env.editor;var s=t.createEditSession(n.getInnerText(e));e.innerHTML="";var a=new o(new l(e));a.setSession(s);var c={document:s,editor:a,onResize:a.resize.bind(a,null)};return r.addListener(window,"resize",c.onResize),a.on("destroy",function(){r.removeListener(window,"resize",c.onResize)}),e.env=a.env=c,a},t.createEditSession=function(e,t){var i=new s(e,t);return i.setUndoManager(new a),i},t.EditSession=s,t.UndoManager=a}),function(){ace.acequire(["ace/ace"],function(e){e&&e.config.init(!0),window.ace||(window.ace=e);for(var t in e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})}(),e.exports=window.ace.acequire("ace/ace")},510:function(e,t){(function(t){function i(){if(t.Blob)try{return new Blob(["asdf"],{type:"text/plain"}),Blob}catch(e){}var e=t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;return function(t,i){var n=new e,r=i.endings,o=i.type;if(r)for(var s=0,a=t.length;s<a;++s)n.append(t[s],r);else for(var s=0,a=t.length;s<a;++s)n.append(t[s]);return o?n.getBlob(o):n.getBlob()}}e.exports=i()}).call(t,function(){return this}())},511:function(e,t,i){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc.tag",regex:"\\bTODO\\b"},{defaultToken:"comment.doc"}]}};n.inherits(o,r),o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s=function(){var e=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),t="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",i="[a-zA-Z\\$_Â¡-ï¿¿][a-zA-Z\\d\\$_Â¡-ï¿¿]*\\b",n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},r.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+i+")(\\.)(prototype)(\\.)("+i+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+i+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+t+")\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:e,regex:i},{token:"keyword.operator",regex:/--|\+\+|[!$%&*+\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=/,next:"start"},{token:"punctuation.operator",regex:/\?|\:|\,|\;|\./,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"keyword.operator",regex:/\/=?/,next:"start"},{token:"comment",regex:/^#!.*$/}],start:[r.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:i},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],comment:[{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment"}],line_comment_regex_allowed:[{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment"}],line_comment:[{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},this.embedRules(r,"doc-",[r.getEndRule("no_regex")])};n.inherits(s,o),t.JavaScriptHighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var n,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.id,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?n=u[t]:void(n=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(){this.add("braces","insertion",function(e,t,i,r,o){var s=i.getCursorPosition(),l=r.doc.getLine(s.row);if("{"==o){h(i);var c=i.getSelectionRange(),u=r.doc.getTextRange(c);if(""!==u&&"{"!==u&&i.getWrapBehavioursEnabled())return{text:"{"+u+"}",selection:!1};if(d.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[s.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(i);var p=l.substring(s.column,s.column+1);if("}"==p){var g=r.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&d.isAutoInsertedClosing(s,l,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(i);var m="";d.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var p=l.substring(s.column,s.column+1);if("}"===p){var f=r.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!f)return null;var v=this.$getIndent(r.getLine(f.row))}else{if(!m)return void d.clearMaybeInsertedClosing();var v=this.$getIndent(l)}var b=v+r.getTabString();return{text:"\n"+b+"\n"+v+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(i);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,r){if("("==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"("+s+")",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=n.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,i,n,r){if("["==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"["+s+"]",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=n.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,i,n,r){if('"'==r||"'"==r){h(i);var o=r,s=i.getSelectionRange(),a=n.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&i.getWrapBehavioursEnabled())return{text:o+a+o,selection:!1};var l=i.getCursorPosition(),c=n.doc.getLine(l.row),u=c.substring(l.column-1,l.column);if("\\"==u)return null;for(var p,g=n.getTokens(s.start.row),m=0,f=-1,v=0;v<g.length&&(p=g[v],"string"==p.type?f=-1:f<0&&(f=p.value.indexOf(o)),!(p.value.length+m>s.start.column));v++)m+=g[v].value.length;if(!p||f<0&&"comment"!==p.type&&("string"!==p.type||s.start.column!==p.value.length+m-1&&p.value.lastIndexOf(o)===p.value.length-1)){if(!d.isSaneInsertion(i,n))return;return{text:o+o,selection:[1,1]}}if(p&&"string"===p.type){var b=c.substring(l.column,l.column+1);if(b==o)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};d.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new s(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){var r=new s(t,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(d,o),t.CstyleBehaviour=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i),o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=r.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}}},this.getSectionRange=function(e,t){var i=e.getLine(t),n=i.search(/\S/),o=t,s=i.length;t+=1;for(var a=t,l=e.getLength();++t<l;){i=e.getLine(t);var c=i.search(/\S/);if(c!==-1){if(n>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(n==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)}}.call(s.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=(e("../range").Range,e("../worker/worker_client").WorkerClient),c=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};r.inherits(h,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return n;if("start"==e||"no_regex"==e){var a=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);a&&(n+=i)}else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a=t.match(/^\s*(\/?)\*/);a&&(a[1]&&(n+=" "),n+="* ")}return n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=new l(["ace"],i(512),"JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("jslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(h.prototype),t.Mode=h}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",c=t.supportConstantFonts="arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0
}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};n.inherits(p,r),t.CssHighlightRules=p}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(r),this.add("colon","insertion",function(e,t,i,n,r){if(":"===r){var s=i.getCursorPosition(),a=new o(n,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=n.doc.getLine(s.row),u=c.substring(s.column,s.column+1);if(":"===u)return{text:"",selection:[1,1]};if(!c.substring(s.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,i,n,r){var s=n.doc.getTextRange(r);if(!r.isMultiLine()&&":"===s){var a=i.getCursorPosition(),l=new o(n,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){var u=n.doc.getLine(r.start.row),h=u.substring(r.end.column,r.end.column+1);if(";"===h)return r.end.column++,r}}}),this.add("semicolon","insertion",function(e,t,i,n,r){if(";"===r){var o=i.getCursorPosition(),s=n.doc.getLine(o.row),a=s.substring(o.column,o.column+1);if(";"===a)return{text:"",selection:[1,1]}}})};n.inherits(s,r),t.CssBehaviour=s}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,s=e("./css_highlight_rules").CssHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};r.inherits(h,o),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;if(r.length&&"comment"==r[r.length-1].type)return n;var o=t.match(/^.*\{\s*$/);return o&&(n+=i),n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=new l(["ace"],i(513),"Worker");return t.attachToDocument(e.getDocument()),t.on("csslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(h.prototype),t.Mode=h}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(e){this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)([-_a-zA-Z0-9]+)",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)([-_a-zA-Z0-9]+)",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,i){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+i+".tag-name.xml"],regex:"(<)("+i+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[i+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,i){return i.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+i+".tag-name.xml"],regex:"(</)("+i+"(?=\\s|>|$))",next:i+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),n.inherits(o,r),t.XmlHighlightRules=o}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var i=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(i?"."+i:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(s,"js-","script"),this.constructor===c&&this.normalizeRules()};n.inherits(c,a),t.HtmlHighlightRules=c}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(e,t,i){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=function(){this.add("string_dquotes","insertion",function(e,t,i,r,o){if('"'==o||"'"==o){var a=o,l=r.doc.getTextRange(i.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&i.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=i.getCursorPosition(),u=r.doc.getLine(c.row),h=u.substring(c.column,c.column+1),d=new s(r,c.row,c.column),p=d.getCurrentToken();if(h==a&&(n(p,"attribute-value")||n(p,"string")))return{text:"",selection:[1,1]};if(p||(p=d.stepBackward()),!p)return;for(;n(p,"tag-whitespace")||n(p,"whitespace");)p=d.stepBackward();var g=!h||h.match(/\s/);if(n(p,"attribute-equals")&&(g||">"==h)||n(p,"decl-attribute-equals")&&(g||"?"==h))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}}),this.add("autoclosing","insertion",function(e,t,i,r,o){if(">"==o){var a=i.getCursorPosition(),l=new s(r,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(n(c,"tag-name")||n(c,"tag-whitespace")||n(c,"attribute-name")||n(c,"attribute-equals")||n(c,"attribute-value")))return;if(n(c,"reference.attribute-value"))return;if(n(c,"attribute-value")){var u=c.value.charAt(0);if('"'==u||"'"==u){var h=c.value.charAt(c.value.length-1),d=l.getCurrentTokenColumn()+c.value.length;if(d>a.column||d==a.column&&u!=h)return}}for(;!n(c,"tag-name");)c=l.stepBackward();var p=l.getCurrentTokenRow(),g=l.getCurrentTokenColumn();if(n(l.stepBackward(),"end-tag-open"))return;var m=c.value;if(p==a.row&&(m=m.substring(0,a.column-g)),this.voidElements.hasOwnProperty(m.toLowerCase()))return;return{text:"></"+m+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,i,n,r){if("\n"==r){var o=i.getCursorPosition(),s=n.getLine(o.row),a=s.substring(o.column,o.column+2);if("</"==a){var l=this.$getIndent(s),c=l+n.getTabString();return{text:"\n"+c+"\n"+l,selection:[1,c.length,1,c.length]}}}})};r.inherits(a,o),t.XmlBehaviour=a}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};n.inherits(o,r),function(){this.$getMode=function(e){"string"!=typeof e&&(e=e[0]);for(var t in this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,i,n){var r=this.$getMode(e);return r?r.getFoldWidget(t,i,n):""},this.getFoldWidget=function(e,t,i){return this.$tryMode(e.getState(i-1),e,t,i)||this.$tryMode(e.getState(i),e,t,i)||this.defaultMode.getFoldWidget(e,t,i)},this.getFoldWidgetRange=function(e,t,i){var n=this.$getMode(e.getState(i-1));return n&&n.getFoldWidget(e,t,i)||(n=this.$getMode(e.getState(i))),n&&n.getFoldWidget(e,t,i)||(n=this.defaultMode),n.getFoldWidgetRange(e,t,i)}}.call(o.prototype)}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,i){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=(e("../../lib/lang"),e("../../range").Range),s=e("./fold_mode").FoldMode,a=e("../../token_iterator").TokenIterator,l=t.FoldMode=function(e,t){s.call(this),this.voidElements=r.mixin(e||{},t||{})};r.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,i){var n=this._getFirstTagInLine(e,i);return n?n.closing||!n.tagName&&n.selfClosing?"markbeginend"==t?"end":"":!n.tagName||n.selfClosing||this.voidElements.hasOwnProperty(n.tagName.toLowerCase())?"":this._findEndTagInLine(e,i,n.tagName,n.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var i=e.getTokens(t),r=new c,o=0;o<i.length;o++){var s=i[o];if(n(s,"tag-open")){if(r.end.column=r.start.column+s.value.length,r.closing=n(s,"end-tag-open"),s=i[++o],!s)return null;for(r.tagName=s.value,r.end.column+=s.value.length,o++;o<i.length;o++)if(s=i[o],r.end.column+=s.value.length,n(s,"tag-close")){r.selfClosing="/>"==s.value;break}return r}if(n(s,"tag-close"))return r.selfClosing="/>"==s.value,r;r.start.column+=s.value.length}return null},this._findEndTagInLine=function(e,t,i,r){for(var o=e.getTokens(t),s=0,a=0;a<o.length;a++){var l=o[a];if(s+=l.value.length,!(s<r)&&n(l,"end-tag-open")&&(l=o[a+1],l&&l.value==i))return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var i=new c;do if(n(t,"tag-open"))i.closing=n(t,"end-tag-open"),i.start.row=e.getCurrentTokenRow(),i.start.column=e.getCurrentTokenColumn();else if(n(t,"tag-name"))i.tagName=t.value;else if(n(t,"tag-close"))return i.selfClosing="/>"==t.value,i.end.row=e.getCurrentTokenRow(),i.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),i;while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var i=new c;do{if(n(t,"tag-open"))return i.closing=n(t,"end-tag-open"),i.start.row=e.getCurrentTokenRow(),i.start.column=e.getCurrentTokenColumn(),e.stepBackward(),i;n(t,"tag-name")?i.tagName=t.value:n(t,"tag-close")&&(i.selfClosing="/>"==t.value,i.end.row=e.getCurrentTokenRow(),i.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var i=e[e.length-1];if(t&&i.tagName!=t.tagName){if(this.voidElements.hasOwnProperty(t.tagName))return;if(this.voidElements.hasOwnProperty(i.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,i){var n=this._getFirstTagInLine(e,i);if(!n)return null;var r,s=n.closing||n.selfClosing,l=[];if(s)for(var c=new a(e,i,n.end.column),u={row:i,column:n.start.column};r=this._readTagBackward(c);){if(r.selfClosing){if(l.length)continue;return r.start.column+=r.tagName.length+2,r.end.column-=2,o.fromPoints(r.start,r.end)}if(r.closing)l.push(r);else if(this._pop(l,r),0==l.length)return r.start.column+=r.tagName.length+2,o.fromPoints(r.start,u)}else for(var c=new a(e,i,n.start.column),h={row:i,column:n.start.column+n.tagName.length+2};r=this._readTagForward(c);){if(r.selfClosing){if(l.length)continue;return r.start.column+=r.tagName.length+2,r.end.column-=2,o.fromPoints(r.start,r.end)}if(r.closing){if(this._pop(l,r),0==l.length)return o.fromPoints(h,r.start)}else l.push(r)}}}).call(l.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("./mixed").FoldMode,o=e("./xml").FoldMode,s=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){r.call(this,new o(e,t),{"js-":new s,"css-":new s})};n.inherits(a,r)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t,i){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}function r(e,t){for(var i=new o(e,t.row,t.column),r=i.getCurrentToken();r&&!n(r,"tag-name");)r=i.stepBackward();if(r)return r.value}var o=e("../token_iterator").TokenIterator,s=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],a=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],l=s.concat(a),c={html:["manifest"],head:[],title:[],base:["href","target"],link:["href","hreflang","rel","media","type","sizes"],meta:["http-equiv","name","content","charset"],style:["type","media","scoped"],script:["charset","type","src","defer","async"],noscript:["href"],body:["onafterprint","onbeforeprint","onbeforeunload","onhashchange","onmessage","onoffline","onpopstate","onredo","onresize","onstorage","onundo","onunload"],section:[],nav:[],article:["pubdate"],aside:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],footer:[],address:[],main:[],p:[],hr:[],pre:[],blockquote:["cite"],ol:["start","reversed"],ul:[],li:["value"],dl:[],dt:[],dd:[],figure:[],figcaption:[],div:[],a:["href","target","ping","rel","media","hreflang","type"],em:[],strong:[],small:[],s:[],cite:[],q:["cite"],dfn:[],abbr:[],data:[],time:["datetime"],code:[],var:[],samp:[],kbd:[],sub:[],sup:[],i:[],b:[],u:[],mark:[],ruby:[],rt:[],rp:[],bdi:[],bdo:[],span:[],br:[],wbr:[],ins:["cite","datetime"],del:["cite","datetime"],img:["alt","src","height","width","usemap","ismap"],iframe:["name","src","height","width","sandbox","seamless"],embed:["src","height","width","type"],object:["param","data","type","height","width","usemap","name","form","classid"],param:["name","value"],video:["src","autobuffer","autoplay","loop","controls","width","height","poster"],audio:["src","autobuffer","autoplay","loop","controls"],source:["src","type","media"],track:["kind","src","srclang","label","default"],canvas:["width","height"],map:["name"],area:["shape","coords","href","hreflang","alt","target","media","rel","ping","type"],svg:[],math:[],table:["summary"],caption:[],colgroup:["span"],col:["span"],tbody:[],thead:[],tfoot:[],tr:[],td:["headers","rowspan","colspan"],th:["headers","rowspan","colspan","scope"],form:["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],fieldset:["disabled","form","name"],legend:[],label:["form","for"],input:["type","accept","alt","autocomplete","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","multiple","pattern","placeholder","readonly","acequired","size","src","step","width","files","value"],button:["autofocus","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","value","type"],select:["autofocus","disabled","form","multiple","name","size"],datalist:[],optgroup:["disabled","label"],option:["disabled","selected","label","value"],textarea:["autofocus","disabled","form","maxlength","name","placeholder","readonly","acequired","rows","cols","wrap"],keygen:["autofocus","challenge","disabled","form","keytype","name"],output:["for","form","name"],progress:["value","max"],meter:["value","min","max","low","high","optimum"],details:["open"],summary:[],command:["type","label","icon","disabled","checked","radiogroup","command"],menu:["type","label"],dialog:["open"]},u=Object.keys(c),h=function(){};(function(){this.getCompletions=function(e,t,i,r){var o=t.getTokenAt(i.row,i.column);return o?n(o,"tag-name")||n(o,"tag-open")||n(o,"end-tag-open")?this.getTagCompletions(e,t,i,r):n(o,"tag-whitespace")||n(o,"attribute-name")?this.getAttributeCompetions(e,t,i,r):[]:[]},this.getTagCompletions=function(e,t,i,n){return u.map(function(e){return{value:e,meta:"tag",score:Number.MAX_VALUE}})},this.getAttributeCompetions=function(e,t,i,n){var o=r(t,i);if(!o)return[];var s=l;return o in c&&(s=s.concat(c[o])),s.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:Number.MAX_VALUE}})}}).call(h.prototype),t.HtmlCompletions=h}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,a=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,h=e("./html_completions").HtmlCompletions,d=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],m=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new h,this.createModeDelegates({"js-":s,"css-":a}),this.foldingRules=new u(this.voidElements,r.arrayToMap(g))};n.inherits(m,o),function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=r.arrayToMap(p),this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.getCompletions=function(e,t,i,n){return this.$completer.getCompletions(e,t,i,n)},this.createWorker=function(e){if(this.constructor==m){var t=new d(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}.call(m.prototype),t.Mode=m})},512:function(e,t){e.exports.id="ace/mode/javascript_worker",e.exports.src='"no use strict";(function(window){if(void 0===window.window||!window.document){window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console,window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){console.error("Worker "+(err?err.stack:message))},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split("/");if(!window.acequire.tlns)return console.log("unable to load "+id);chunks[0]=window.acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join("/")+".js";return window.acequire.id=id,importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),deps.length||(deps=["require","exports","module"]),0!==id.indexOf("text!")){var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}}},window.define.amd={},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error("Unknown command:"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}else msg.event&&sender&&sender._signal(msg.event,msg.data)}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;"insertText"===delta.action?start.row===row&&column>=start.column?start.column===column&&this.$insertRight||(start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row)):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):"insertLines"===delta.action?start.row===row&&0===column&&this.$insertRight||row>=start.row&&(row+=end.row-start.row):"removeText"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):"removeLines"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(text){this.$lines=[],0===text.length?this.$lines=[""]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.getLine(range.start.row).substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||"")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},"\\n"+lines.join("\\n")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};for(;lines.length>61440;){var end=this._insertLines(row,lines.slice(0,61440));lines=lines.slice(61440),row=end.row}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:"insertLines",range:range,lines:lines};return this._signal("change",{data:delta}),range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:"insertText",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._signal("change",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:"insertText",range:Range.fromPoints(position,end),text:text};return this._signal("change",{data:delta}),end},this.remove=function(range){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:"removeText",range:range,text:removed};return this._signal("change",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:"removeLines",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._signal("change",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:"removeText",range:range,text:this.getNewLineCharacter()};this._signal("change",{data:delta})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this.insertLines(range.start.row,delta.lines):"insertText"==delta.action?this.insert(range.start,delta.text):"removeLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"removeText"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"insertText"==delta.action?this.remove(range):"removeLines"==delta.action?this._insertLines(range.start.row,delta.lines):"removeText"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if("object"!=typeof obj||!obj)return obj;var cons=obj.constructor;if(cons===RegExp)return obj;var copy=cons();for(var key in obj)copy[key]="object"==typeof obj[key]?exports.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){return doc.applyDeltas(e.data),_self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/javascript/jshint",["require","exports","module"],function(acequire,exports,module){module.exports=function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof acequire&&acequire;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw Error("Cannot find module \'"+o+"\'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof acequire&&acequire,o=0;r.length>o;o++)s(r[o]);return s}({1:[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],2:[function(_dereq_,module,exports){(function(){var root=this,previousUnderscore=root._,breaker={},ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,concat=ArrayProto.concat,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,_=function(obj){return obj instanceof _?obj:this instanceof _?(this._wrapped=obj,void 0):new _(obj)};exports!==void 0?(module!==void 0&&module.exports&&(exports=module.exports=_),exports._=_):root._=_,_.VERSION="1.6.0";var each=_.each=_.forEach=function(obj,iterator,context){if(null==obj)return obj;if(nativeForEach&&obj.forEach===nativeForEach)obj.forEach(iterator,context);else if(obj.length===+obj.length){for(var i=0,length=obj.length;length>i;i++)if(iterator.call(context,obj[i],i,obj)===breaker)return}else for(var keys=_.keys(obj),i=0,length=keys.length;length>i;i++)if(iterator.call(context,obj[keys[i]],keys[i],obj)===breaker)return;return obj};_.map=_.collect=function(obj,iterator,context){var results=[];return null==obj?results:nativeMap&&obj.map===nativeMap?obj.map(iterator,context):(each(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results)};var reduceError="Reduce of empty array with no initial value";_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduce&&obj.reduce===nativeReduce)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduce(iterator,memo):obj.reduce(iterator);if(each(obj,function(value,index,list){initial?memo=iterator.call(context,memo,value,index,list):(memo=value,initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(null==obj&&(obj=[]),nativeReduceRight&&obj.reduceRight===nativeReduceRight)return context&&(iterator=_.bind(iterator,context)),initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator);var length=obj.length;if(length!==+length){var keys=_.keys(obj);length=keys.length}if(each(obj,function(value,index,list){index=keys?keys[--length]:--length,initial?memo=iterator.call(context,memo,obj[index],index,list):(memo=obj[index],initial=!0)}),!initial)throw new TypeError(reduceError);return memo},_.find=_.detect=function(obj,predicate,context){var result;return any(obj,function(value,index,list){return predicate.call(context,value,index,list)?(result=value,!0):void 0}),result},_.filter=_.select=function(obj,predicate,context){var results=[];return null==obj?results:nativeFilter&&obj.filter===nativeFilter?obj.filter(predicate,context):(each(obj,function(value,index,list){predicate.call(context,value,index,list)&&results.push(value)}),results)},_.reject=function(obj,predicate,context){return _.filter(obj,function(value,index,list){return!predicate.call(context,value,index,list)},context)},_.every=_.all=function(obj,predicate,context){predicate||(predicate=_.identity);var result=!0;return null==obj?result:nativeEvery&&obj.every===nativeEvery?obj.every(predicate,context):(each(obj,function(value,index,list){return(result=result&&predicate.call(context,value,index,list))?void 0:breaker}),!!result)};var any=_.some=_.any=function(obj,predicate,context){predicate||(predicate=_.identity);var result=!1;return null==obj?result:nativeSome&&obj.some===nativeSome?obj.some(predicate,context):(each(obj,function(value,index,list){return result||(result=predicate.call(context,value,index,list))?breaker:void 0}),!!result)};_.contains=_.include=function(obj,target){return null==obj?!1:nativeIndexOf&&obj.indexOf===nativeIndexOf?-1!=obj.indexOf(target):any(obj,function(value){return value===target})},_.invoke=function(obj,method){var args=slice.call(arguments,2),isFunc=_.isFunction(method);return _.map(obj,function(value){return(isFunc?method:value[method]).apply(value,args)})},_.pluck=function(obj,key){return _.map(obj,_.property(key))},_.where=function(obj,attrs){return _.filter(obj,_.matches(attrs))},_.findWhere=function(obj,attrs){return _.find(obj,_.matches(attrs))},_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&65535>obj.length)return Math.max.apply(Math,obj);var result=-1/0,lastComputed=-1/0;return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>lastComputed&&(result=value,lastComputed=computed)}),result},_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0]&&65535>obj.length)return Math.min.apply(Math,obj);var result=1/0,lastComputed=1/0;return each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;lastComputed>computed&&(result=value,lastComputed=computed)}),result},_.shuffle=function(obj){var rand,index=0,shuffled=[];return each(obj,function(value){rand=_.random(index++),shuffled[index-1]=shuffled[rand],shuffled[rand]=value}),shuffled},_.sample=function(obj,n,guard){return null==n||guard?(obj.length!==+obj.length&&(obj=_.values(obj)),obj[_.random(obj.length-1)]):_.shuffle(obj).slice(0,Math.max(0,n))};var lookupIterator=function(value){return null==value?_.identity:_.isFunction(value)?value:_.property(value)};_.sortBy=function(obj,iterator,context){return iterator=lookupIterator(iterator),_.pluck(_.map(obj,function(value,index,list){return{value:value,index:index,criteria:iterator.call(context,value,index,list)}\n}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a!==b){if(a>b||void 0===a)return 1;if(b>a||void 0===b)return-1}return left.index-right.index}),"value")};var group=function(behavior){return function(obj,iterator,context){var result={};return iterator=lookupIterator(iterator),each(obj,function(value,index){var key=iterator.call(context,value,index,obj);behavior(result,key,value)}),result}};_.groupBy=group(function(result,key,value){_.has(result,key)?result[key].push(value):result[key]=[value]}),_.indexBy=group(function(result,key,value){result[key]=value}),_.countBy=group(function(result,key){_.has(result,key)?result[key]++:result[key]=1}),_.sortedIndex=function(array,obj,iterator,context){iterator=lookupIterator(iterator);for(var value=iterator.call(context,obj),low=0,high=array.length;high>low;){var mid=low+high>>>1;value>iterator.call(context,array[mid])?low=mid+1:high=mid}return low},_.toArray=function(obj){return obj?_.isArray(obj)?slice.call(obj):obj.length===+obj.length?_.map(obj,_.identity):_.values(obj):[]},_.size=function(obj){return null==obj?0:obj.length===+obj.length?obj.length:_.keys(obj).length},_.first=_.head=_.take=function(array,n,guard){return null==array?void 0:null==n||guard?array[0]:0>n?[]:slice.call(array,0,n)},_.initial=function(array,n,guard){return slice.call(array,0,array.length-(null==n||guard?1:n))},_.last=function(array,n,guard){return null==array?void 0:null==n||guard?array[array.length-1]:slice.call(array,Math.max(array.length-n,0))},_.rest=_.tail=_.drop=function(array,n,guard){return slice.call(array,null==n||guard?1:n)},_.compact=function(array){return _.filter(array,_.identity)};var flatten=function(input,shallow,output){return shallow&&_.every(input,_.isArray)?concat.apply(output,input):(each(input,function(value){_.isArray(value)||_.isArguments(value)?shallow?push.apply(output,value):flatten(value,shallow,output):output.push(value)}),output)};_.flatten=function(array,shallow){return flatten(array,shallow,[])},_.without=function(array){return _.difference(array,slice.call(arguments,1))},_.partition=function(array,predicate){var pass=[],fail=[];return each(array,function(elem){(predicate(elem)?pass:fail).push(elem)}),[pass,fail]},_.uniq=_.unique=function(array,isSorted,iterator,context){_.isFunction(isSorted)&&(context=iterator,iterator=isSorted,isSorted=!1);var initial=iterator?_.map(array,iterator,context):array,results=[],seen=[];return each(initial,function(value,index){(isSorted?index&&seen[seen.length-1]===value:_.contains(seen,value))||(seen.push(value),results.push(array[index]))}),results},_.union=function(){return _.uniq(_.flatten(arguments,!0))},_.intersection=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.contains(other,item)})})},_.difference=function(array){var rest=concat.apply(ArrayProto,slice.call(arguments,1));return _.filter(array,function(value){return!_.contains(rest,value)})},_.zip=function(){for(var length=_.max(_.pluck(arguments,"length").concat(0)),results=Array(length),i=0;length>i;i++)results[i]=_.pluck(arguments,""+i);return results},_.object=function(list,values){if(null==list)return{};for(var result={},i=0,length=list.length;length>i;i++)values?result[list[i]]=values[i]:result[list[i][0]]=list[i][1];return result},_.indexOf=function(array,item,isSorted){if(null==array)return-1;var i=0,length=array.length;if(isSorted){if("number"!=typeof isSorted)return i=_.sortedIndex(array,item),array[i]===item?i:-1;i=0>isSorted?Math.max(0,length+isSorted):isSorted}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item,isSorted);for(;length>i;i++)if(array[i]===item)return i;return-1},_.lastIndexOf=function(array,item,from){if(null==array)return-1;var hasIndex=null!=from;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return hasIndex?array.lastIndexOf(item,from):array.lastIndexOf(item);for(var i=hasIndex?from:array.length;i--;)if(array[i]===item)return i;return-1},_.range=function(start,stop,step){1>=arguments.length&&(stop=start||0,start=0),step=arguments[2]||1;for(var length=Math.max(Math.ceil((stop-start)/step),0),idx=0,range=Array(length);length>idx;)range[idx++]=start,start+=step;return range};var ctor=function(){};_.bind=function(func,context){var args,bound;if(nativeBind&&func.bind===nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;return args=slice.call(arguments,2),bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;ctor.prototype=null;var result=func.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}},_.partial=function(func){var boundArgs=slice.call(arguments,1);return function(){for(var position=0,args=boundArgs.slice(),i=0,length=args.length;length>i;i++)args[i]===_&&(args[i]=arguments[position++]);for(;arguments.length>position;)args.push(arguments[position++]);return func.apply(this,args)}},_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(0===funcs.length)throw Error("bindAll must be passed function names");return each(funcs,function(f){obj[f]=_.bind(obj[f],obj)}),obj},_.memoize=function(func,hasher){var memo={};return hasher||(hasher=_.identity),function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}},_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)},_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))},_.throttle=function(func,wait,options){var context,args,result,timeout=null,previous=0;options||(options={});var later=function(){previous=options.leading===!1?0:_.now(),timeout=null,result=func.apply(context,args),context=args=null};return function(){var now=_.now();previous||options.leading!==!1||(previous=now);var remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args),context=args=null):timeout||options.trailing===!1||(timeout=setTimeout(later,remaining)),result}},_.debounce=function(func,wait,immediate){var timeout,args,context,timestamp,result,later=function(){var last=_.now()-timestamp;wait>last?timeout=setTimeout(later,wait-last):(timeout=null,immediate||(result=func.apply(context,args),context=args=null))};return function(){context=this,args=arguments,timestamp=_.now();var callNow=immediate&&!timeout;return timeout||(timeout=setTimeout(later,wait)),callNow&&(result=func.apply(context,args),context=args=null),result}},_.once=function(func){var memo,ran=!1;return function(){return ran?memo:(ran=!0,memo=func.apply(this,arguments),func=null,memo)}},_.wrap=function(func,wrapper){return _.partial(wrapper,func)},_.compose=function(){var funcs=arguments;return function(){for(var args=arguments,i=funcs.length-1;i>=0;i--)args=[funcs[i].apply(this,args)];return args[0]}},_.after=function(times,func){return function(){return 1>--times?func.apply(this,arguments):void 0}},_.keys=function(obj){if(!_.isObject(obj))return[];if(nativeKeys)return nativeKeys(obj);var keys=[];for(var key in obj)_.has(obj,key)&&keys.push(key);return keys},_.values=function(obj){for(var keys=_.keys(obj),length=keys.length,values=Array(length),i=0;length>i;i++)values[i]=obj[keys[i]];return values},_.pairs=function(obj){for(var keys=_.keys(obj),length=keys.length,pairs=Array(length),i=0;length>i;i++)pairs[i]=[keys[i],obj[keys[i]]];return pairs},_.invert=function(obj){for(var result={},keys=_.keys(obj),i=0,length=keys.length;length>i;i++)result[obj[keys[i]]]=keys[i];return result},_.functions=_.methods=function(obj){var names=[];for(var key in obj)_.isFunction(obj[key])&&names.push(key);return names.sort()},_.extend=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)obj[prop]=source[prop]}),obj},_.pick=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));return each(keys,function(key){key in obj&&(copy[key]=obj[key])}),copy},_.omit=function(obj){var copy={},keys=concat.apply(ArrayProto,slice.call(arguments,1));for(var key in obj)_.contains(keys,key)||(copy[key]=obj[key]);return copy},_.defaults=function(obj){return each(slice.call(arguments,1),function(source){if(source)for(var prop in source)void 0===obj[prop]&&(obj[prop]=source[prop])}),obj},_.clone=function(obj){return _.isObject(obj)?_.isArray(obj)?obj.slice():_.extend({},obj):obj},_.tap=function(obj,interceptor){return interceptor(obj),obj};var eq=function(a,b,aStack,bStack){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof _&&(a=a._wrapped),b instanceof _&&(b=b._wrapped);var className=toString.call(a);if(className!=toString.call(b))return!1;switch(className){case"[object String]":return a==b+"";case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var length=aStack.length;length--;)if(aStack[length]==a)return bStack[length]==b;var aCtor=a.constructor,bCtor=b.constructor;if(aCtor!==bCtor&&!(_.isFunction(aCtor)&&aCtor instanceof aCtor&&_.isFunction(bCtor)&&bCtor instanceof bCtor)&&"constructor"in a&&"constructor"in b)return!1;aStack.push(a),bStack.push(b);var size=0,result=!0;if("[object Array]"==className){if(size=a.length,result=size==b.length)for(;size--&&(result=eq(a[size],b[size],aStack,bStack)););}else{for(var key in a)if(_.has(a,key)&&(size++,!(result=_.has(b,key)&&eq(a[key],b[key],aStack,bStack))))break;if(result){for(key in b)if(_.has(b,key)&&!size--)break;result=!size}}return aStack.pop(),bStack.pop(),result};_.isEqual=function(a,b){return eq(a,b,[],[])},_.isEmpty=function(obj){if(null==obj)return!0;if(_.isArray(obj)||_.isString(obj))return 0===obj.length;for(var key in obj)if(_.has(obj,key))return!1;return!0},_.isElement=function(obj){return!(!obj||1!==obj.nodeType)},_.isArray=nativeIsArray||function(obj){return"[object Array]"==toString.call(obj)},_.isObject=function(obj){return obj===Object(obj)},each(["Arguments","Function","String","Number","Date","RegExp"],function(name){_["is"+name]=function(obj){return toString.call(obj)=="[object "+name+"]"}}),_.isArguments(arguments)||(_.isArguments=function(obj){return!(!obj||!_.has(obj,"callee"))}),_.isFunction=function(obj){return"function"==typeof obj},_.isFinite=function(obj){return isFinite(obj)&&!isNaN(parseFloat(obj))},_.isNaN=function(obj){return _.isNumber(obj)&&obj!=+obj},_.isBoolean=function(obj){return obj===!0||obj===!1||"[object Boolean]"==toString.call(obj)},_.isNull=function(obj){return null===obj},_.isUndefined=function(obj){return void 0===obj},_.has=function(obj,key){return hasOwnProperty.call(obj,key)},_.noConflict=function(){return root._=previousUnderscore,this},_.identity=function(value){return value},_.constant=function(value){return function(){return value}},_.property=function(key){return function(obj){return obj[key]}},_.matches=function(attrs){return function(obj){if(obj===attrs)return!0;for(var key in attrs)if(attrs[key]!==obj[key])return!1;return!0}},_.times=function(n,iterator,context){for(var accum=Array(Math.max(0,n)),i=0;n>i;i++)accum[i]=iterator.call(context,i);return accum},_.random=function(min,max){return null==max&&(max=min,min=0),min+Math.floor(Math.random()*(max-min+1))},_.now=Date.now||function(){return(new Date).getTime()};var entityMap={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;"}};entityMap.unescape=_.invert(entityMap.escape);var entityRegexes={escape:RegExp("["+_.keys(entityMap.escape).join("")+"]","g"),unescape:RegExp("("+_.keys(entityMap.unescape).join("|")+")","g")};_.each(["escape","unescape"],function(method){_[method]=function(string){return null==string?"":(""+string).replace(entityRegexes[method],function(match){return entityMap[method][match]})}}),_.result=function(object,property){if(null==object)return void 0;var value=object[property];return _.isFunction(value)?value.call(object):value},_.mixin=function(obj){each(_.functions(obj),function(name){var func=_[name]=obj[name];_.prototype[name]=function(){var args=[this._wrapped];return push.apply(args,arguments),result.call(this,func.apply(_,args))}})};var idCounter=0;_.uniqueId=function(prefix){var id=++idCounter+"";return prefix?prefix+id:id},_.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var noMatch=/(.)^/,escapes={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\t":"t","\\u2028":"u2028","\\u2029":"u2029"},escaper=/\\\\|\'|\\r|\\n|\\t|\\u2028|\\u2029/g;_.template=function(text,data,settings){var render;settings=_.defaults({},settings,_.templateSettings);var matcher=RegExp([(settings.escape||noMatch).source,(settings.interpolate||noMatch).source,(settings.evaluate||noMatch).source].join("|")+"|$","g"),index=0,source="__p+=\'";text.replace(matcher,function(match,escape,interpolate,evaluate,offset){return source+=text.slice(index,offset).replace(escaper,function(match){return"\\\\"+escapes[match]}),escape&&(source+="\'+\\n((__t=("+escape+"))==null?\'\':_.escape(__t))+\\n\'"),interpolate&&(source+="\'+\\n((__t=("+interpolate+"))==null?\'\':__t)+\\n\'"),evaluate&&(source+="\';\\n"+evaluate+"\\n__p+=\'"),index=offset+match.length,match}),source+="\';\\n",settings.variable||(source="with(obj||{}){\\n"+source+"}\\n"),source="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+source+"return __p;\\n";try{render=Function(settings.variable||"obj","_",source)}catch(e){throw e.source=source,e}if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};return template.source="function("+(settings.variable||"obj")+"){\\n"+source+"}",template},_.chain=function(obj){return _(obj).chain()};var result=function(obj){return this._chain?_(obj).chain():obj};_.mixin(_),each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){var obj=this._wrapped;return method.apply(obj,arguments),"shift"!=name&&"splice"!=name||0!==obj.length||delete obj[0],result.call(this,obj)}}),each(["concat","join","slice"],function(name){var method=ArrayProto[name];_.prototype[name]=function(){return result.call(this,method.apply(this._wrapped,arguments))}}),_.extend(_.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&ace.define("underscore",[],function(){return _})}).call(this)},{}],3:[function(_dereq_,module,exports){var _=_dereq_("underscore"),events=_dereq_("events"),vars=_dereq_("./vars.js"),messages=_dereq_("./messages.js"),Lexer=_dereq_("./lex.js").Lexer,reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,style=_dereq_("./style.js"),JSHINT=function(){"use strict";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:void 0!==valOptions[name]||void 0!==boolOptions[name]||"jslint"===t.type||removedOptions[name]?!0:(error("E001",t,name),!1)}function isString(obj){return"[object String]"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.option.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.directive["use strict"])return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return"string"==typeof r||"number"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function assume(){state.option.esnext&&combine(predefined,vars.newEcmaIdentifiers),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&combine(predefined,vars.phantom),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed)),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict=!0),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha),state.option.inMoz=function(){return state.option.moz},state.option.inESNext=function(){return state.option.moz||state.option.esnext},state.option.inES5=function(){return!state.option.es3},state.option.inES3=function(strict){return strict?!state.option.moz&&!state.option.esnext&&state.option.es3:state.option.es3}}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:"JSHintError",line:line,character:chr,message:message+" ("+percentage+"% scanned).",raw:message,code:code}}function isundef(scope,code,token,a){return JSHINT.undefs.push([scope,code,token,a])}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next,"(end)"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:"(error)",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||"",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit("E043",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:"(internal)",elem:elem,value:src},JSHINT.internals.push(i),i}function addlabel(name,opts){opts=opts||{};var type=opts.type,token=opts.token,islet=opts.islet;"exception"===type&&_.has(funct["(context)"],name)&&(funct[name]===!0||state.option.node||warning("W002",state.tokens.next,name)),_.has(funct,name)&&!funct["(global)"]&&(funct[name]===!0?state.option.latedef&&(state.option.latedef===!0&&_.contains([funct[name],type],"unction")||!_.contains([funct[name],type],"unction"))&&warning("W003",state.tokens.next,name):((!state.option.shadow||_.contains(["inner","outer"],state.option.shadow))&&"exception"!==type||funct["(blockscope)"].getlabel(name))&&warning("W004",state.tokens.next,name)),funct["(context)"]&&_.has(funct["(context)"],name)&&"function"!==type&&"outer"===state.option.shadow&&warning("W123",state.tokens.next,name),islet?funct["(blockscope)"].current.add(name,type,state.tokens.curr):(funct["(blockscope)"].shadow(name),funct[name]=type,token&&(funct["(tokens)"][name]=token),setprop(funct,name,{unused:opts.unused||!1}),funct["(global)"]?(global[name]=funct,_.has(implied,name)&&(state.option.latedef&&(state.option.latedef===!0&&_.contains([funct[name],type],"unction")||!_.contains([funct[name],type],"unction"))&&warning("W003",state.tokens.next,name),delete implied[name])):scope[name]=funct)}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g),predef={};if("globals"===nt.type){body.forEach(function(g){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();"-"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]="true"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}"exported"===nt.type&&body.forEach(function(e){exported[e]=!0}),"members"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||\'"\'!==ch1&&"\'"!==ch1||(m=m.substr(1,m.length-2).replace(\'\\\\"\',\'"\')),membersOnly[m]=!1}));var numvals=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];("jshint"===nt.type||"jslint"===nt.type)&&(body.forEach(function(g){g=g.split(":");var key=(g[0]||"").trim(),val=(g[1]||"").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if("false"!==val){if(val=+val,"number"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error("E032",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]="indent"===key?4:!1;else{if("validthis"===key)return funct["(global)"]?void error("E009"):"true"!==val&&"false"!==val?void error("E002",nt):(state.option.validthis="true"===val,void 0);if("quotmark"!==key)if("shadow"!==key)if("unused"!==key)if("latedef"!==key){if("ignore"!==key){var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]="-"===match[1],void 0;var tn;return"true"===val||"false"===val?("jslint"===nt.type?(tn=renamedOptions[key]||key,state.option[tn]="true"===val,void 0!==invertedOptions[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]="true"===val,"newcap"===key&&(state.option["(explicitNewcap)"]=!0),void 0):(error("E002",nt),void 0)}switch(val){case"start":state.ignoreLinterErrors=!0;break;case"end":state.ignoreLinterErrors=!1;break;case"line":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error("E002",nt)}}else switch(val){case"true":state.option.latedef=!0;break;case"false":state.option.latedef=!1;break;case"nofunc":state.option.latedef="nofunc";break;default:error("E002",nt)}else switch(val){case"true":state.option.unused=!0;break;case"false":state.option.unused=!1;break;case"vars":case"strict":state.option.unused=val;break;default:error("E002",nt)}else switch(val){case"true":state.option.shadow=!0;break;case"outer":state.option.shadow="outer";break;case"false":case"inner":state.option.shadow="inner";break;default:error("E002",nt)}else switch(val){case"true":case"false":state.option.quotmark="true"===val;break;case"double":case"single":state.option.quotmark=val;break;default:error("E002",nt)}}}),assume())}function peek(p){for(var t,i=p||0,j=0;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t}function advance(id,t){switch(state.tokens.curr.id){case"(number)":"."===state.tokens.next.id&&warning("W005",state.tokens.curr);break;case"-":("-"===state.tokens.next.id||"--"===state.tokens.next.id)&&warning("W006");break;case"+":("+"===state.tokens.next.id||"++"===state.tokens.next.id)&&warning("W007")}for(("(string)"===state.tokens.curr.type||state.tokens.curr.identifier)&&(anonname=state.tokens.curr.value),id&&state.tokens.next.id!==id&&(t?"(end)"===state.tokens.next.id?error("E019",t,t.id):error("E020",state.tokens.next,id,t.id,t.line,state.tokens.next.value):("(identifier)"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning("W116",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit("E041",state.tokens.curr.line),"(end)"===state.tokens.next.id||"(error)"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)doOption();else if("(endline)"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return";"===next.id||"}"===next.id||":"===next.id?!0:isInfix(next)===isInfix(curr)||"yield"===curr.id&&state.option.inMoz(!0)?curr.line!==next.line:!1}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;initial||"let"!==state.tokens.next.value||"("!==peek(0).value||(state.option.inMoz(!0)||warning("W118",state.tokens.next,"let expressions"),isLetExpr=!0,funct["(blockscope)"].stack(),advance("let"),advance("("),state.syntax.let.fud.call(state.syntax.let.fud,!1),advance(")")),"(end)"===state.tokens.next.id&&error("E006",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line<state.tokens.curr.line&&_.contains(["]",")"],state.tokens.prev.id)&&_.contains(["[","("],state.tokens.curr.id);if(isDangerous&&warning("W014",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(anonname="anonymous",funct["(verb)"]=state.tokens.curr.value),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error("E030",state.tokens.curr,state.tokens.curr.id);state.tokens.next.lbp>rbp&&!isEndOfExpr();)isArray="Array"===state.tokens.curr.value,isObject="Object"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&("new"!==left.value||left.first&&left.first.value&&"."===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W009",state.tokens.curr),isObject&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&warning("W010",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error("E033",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&funct["(blockscope)"].unstack(),left}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===right.line||warning("W014",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==state.tokens.next.line&&warning("E022",t,t.value)}function nobreakcomma(left,right){left.line!==right.line&&(state.option.laxcomma||(comma.first&&(warning("I001"),comma.first=!1),warning("W014",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(",")),state.tokens.next.identifier&&(!opts.property||!state.option.inES5()))switch(state.tokens.next.value){case"break":case"case":case"catch":case"continue":case"default":case"do":case"else":case"finally":case"for":case"if":case"in":case"instanceof":case"return":case"switch":case"throw":case"try":case"var":case"let":case"while":case"with":return error("E024",state.tokens.next,state.tokens.next.value),!1}if("(punctuator)"===state.tokens.next.type)switch(state.tokens.next.value){case"}":case"]":case",":if(opts.allowTrailing)return!0;case")":return error("E024",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&"object"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){return symbol(s,0)}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>="a"&&"z">=c||c>="A"&&"Z">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud="function"==typeof f?f:function(){return this.right=expression(150),this.arity="unary",("++"===this.id||"--"===this.id)&&(state.option.plusplus?warning("W016",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||"."===this.right.id||"["===this.right.id||warning("W017",this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return"function"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),"in"===s&&"!"===left.id&&warning("W018",left,"!"),"function"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return state.option.inESNext()||warning("W104",state.tokens.curr,"arrow function syntax (=>)"),nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction(void 0,void 0,!1,left),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr);var right=expression(100);return isIdentifier(left,"NaN")||isIdentifier(right,"NaN")?warning("W019",this):f&&f.apply(this,[left,right]),left&&right||quit("E041",state.tokens.curr.line),"!"===left.id&&warning("W018",left,"!"),"!"===right.id&&warning("W018",right,"!"),this.left=left,this.right=right,this},x}function isPoorRelation(node){return node&&("(number)"===node.type&&0===+node.value||"(string)"===node.type&&""===node.value||"null"===node.type&&!state.option.eqnull||"true"===node.type||"false"===node.type||"undefined"===node.type)}function isTypoTypeof(left,right){if(state.option.notypeof)return!1;if(!left||!right)return!1;var values=["undefined","object","boolean","number","string","function","xml","object","unknown"];return"(identifier)"===right.type&&"typeof"===right.value&&"(string)"===left.type?!_.contains(values,left.value):!1}function findNativePrototype(left){function walkPrototype(obj){return"object"==typeof obj?"prototype"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&"object"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=["Array","ArrayBuffer","Boolean","Collator","DataView","Date","DateTimeFormat","Error","EvalError","Float32Array","Float64Array","Function","Infinity","Intl","Int16Array","Int32Array","Int8Array","Iterator","Number","NumberFormat","Object","RangeError","ReferenceError","RegExp","StopIteration","String","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function assignop(s,f,p){var x=infix(s,"function"==typeof f?f:function(left,that){if(that.left=left,left){if(state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning("W121",left,nativeObject)}if(predefined[left.value]===!1&&scope[left.value]["(global)"]===!0?warning("W020",left):left["function"]&&warning("W021",left,left.value),"const"===funct[left.value]&&error("E013",left,left.value),"."===left.id)return left.left?"arguments"!==left.left.value||state.directive["use strict"]||warning("E031",that):warning("E031",that),that.right=expression(10),that;if("["===left.id)return state.tokens.curr.left.first?state.tokens.curr.left.first.forEach(function(t){t&&"const"===funct[t.value]&&error("E013",t,t.value)}):left.left?"arguments"!==left.left.value||state.directive["use strict"]||warning("E031",that):warning("E031",that),that.right=expression(10),that;if(left.identifier&&!isReserved(left))return"exception"===funct[left.value]&&warning("W022",left),that.right=expression(10),that;left===state.syntax["function"]&&warning("W023",state.tokens.curr)\n}error("E031",that)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led="function"==typeof f?f:function(left){return state.option.bitwise&&warning("W016",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning("W016",that,that.id),left?"."===left.id||"["===left.id||left.identifier&&!isReserved(left)?(expression(10),that):(left===state.syntax["function"]&&warning("W023",state.tokens.curr),that):(error("E031",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning("W016",this,this.id):left.identifier&&!isReserved(left)||"."===left.id||"["===left.id||warning("W017",this),this.left=left,this},x}function optionalidentifier(fnparam,prop){if(state.tokens.next.identifier){advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.option.inES5()?val:fnparam&&"undefined"===val?val:(warning("W024",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop);return i?i:("function"===state.tokens.curr.id&&"("===state.tokens.next.id?warning("W025"):error("E030",state.tokens.next,state.tokens.next.value),void 0)}function reachable(s){var t,i=0;if(";"===state.tokens.next.id&&!noreach)for(;;){do t=peek(i),i+=1;while("(end)"!=t.id&&"(comment)"===t.id);if(t.reach)return;if("(endline)"!==t.id){if("function"===t.id){state.option.latedef===!0&&warning("W026",t);break}warning("W027",t,t.value,s);break}}}function parseFinalSemicolon(){";"!==state.tokens.next.id?state.option.asi||state.option.lastsemic&&"}"===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line||warningAt("W033",state.tokens.curr.line,state.tokens.curr.character):advance(";")}function statement(){var values,r,i=indent,s=scope,t=state.tokens.next;if(";"===t.id)return advance(";"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&":"===peek().id&&(warning("W024",t,t.id),res=!1),"module"===t.value&&"(identifier)"===t.type&&"(identifier)"===peek().type){state.option.inESNext()||warning("W119",state.tokens.curr,"module"),advance("module");var name=identifier();return addlabel(name,{type:"unused",token:state.tokens.curr}),advance("from"),advance("(string)"),parseFinalSemicolon(),void 0}if(_.has(["[","{"],t.value)&&lookupBlockType().isDestAssign)return state.option.inESNext()||warning("W104",state.tokens.curr,"destructuring expression"),values=destructuringExpression(),values.forEach(function(tok){isundef(funct,"W117",tok.token,tok.id)}),advance("="),destructuringExpressionMatch(values,expression(10,!0)),advance(";"),void 0;if(t.identifier&&!res&&":"===peek().id&&(advance(),advance(":"),scope=Object.create(s),addlabel(t.value,{type:"label"}),state.tokens.next.labelled||"{"===state.tokens.next.value||warning("W028",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),"{"===t.id){var iscase="case"===funct["(verb)"]&&":"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&"function"===r.value||"(punctuator)"===r.type||!state.directive["use strict"]&&state.option.globalstrict&&state.option.strict&&warning("E007"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&"("===r.id&&"new"===r.left.id&&warning("W031",t):warning("W030",state.tokens.curr),parseFinalSemicolon()),indent=i,scope=s,r}function statements(startLine){for(var p,a=[];!state.tokens.next.reach&&"(end)"!==state.tokens.next.id;)";"===state.tokens.next.id?(p=peek(),(!p||"("!==p.id&&"["!==p.id)&&warning("W032"),advance(";")):a.push(statement(startLine===state.tokens.next.line));return a}function directives(){for(var i,p,pn;"(string)"===state.tokens.next.id;){if(p=peek(0),"(endline)"===p.id){i=1;do pn=peek(i),i+=1;while("(endline)"===pn.id);if(";"!==pn.id){if("(string)"!==pn.id&&"(number)"!==pn.id&&"(regexp)"!==pn.id&&pn.identifier!==!0&&"}"!==pn.id)break;warning("W033",state.tokens.next)}else p=pn}else if("}"===p.id)warning("W033",p);else if(";"!==p.id)break;advance(),state.directive[state.tokens.curr.value]&&warning("W034",state.tokens.curr,state.tokens.curr.value),"use strict"===state.tokens.curr.value&&(state.option["(explicitNewcap)"]||(state.option.newcap=!0),state.option.undef=!0),state.directive[state.tokens.curr.value]=!0,";"===p.id&&advance(";")}}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent,s=scope;inblock=ordinary,ordinary&&state.option.funcscope||(scope=Object.create(scope)),t=state.tokens.next;var metrics=funct["(metrics)"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),"{"===state.tokens.next.id){if(advance("{"),funct["(blockscope)"].stack(),line=state.tokens.curr.line,"}"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&funct["(context)"]["(global)"]&&(m["use strict"]||state.directive["use strict"]||warning("E007"))}a=statements(line),metrics.statementCount+=a.length,isfunc&&(state.directive=m),indent-=state.option.indent}advance("}",t),funct["(blockscope)"].unstack(),indent=old_indent}else if(ordinary)funct["(nolet)"]=!0,(!stmt||state.option.curly)&&warning("W116",state.tokens.next,"{",state.tokens.next.value),noreach=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,noreach=!1,delete funct["(nolet)"];else if(isfunc){if(m={},!stmt||isfatarrow||state.option.inMoz(!0)||error("W118",state.tokens.curr,"function closure expressions"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&funct["(context)"]["(global)"]&&(m["use strict"]||state.directive["use strict"]||warning("E007"))}else error("E021",state.tokens.next,"{",state.tokens.next.value);switch(funct["(verb)"]){case"break":case"continue":case"return":case"throw":if(iscase)break;default:funct["(verb)"]=null}return ordinary&&state.option.funcscope||(scope=s),inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning("W035"),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&"boolean"!=typeof membersOnly[m]&&warning("W036",state.tokens.curr,m),"number"==typeof member[m]?member[m]+=1:member[m]=1}function note_implied(tkn){var name=tkn.value,desc=Object.getOwnPropertyDescriptor(implied,name);desc?desc.value.push(tkn.line):implied[name]=[tkn.line]}function comprehensiveArrayExpression(){var res={};res.exps=!0,funct["(comparray)"].stack();var reversed=!1;return"for"!==state.tokens.next.value&&(reversed=!0,state.option.inMoz(!0)||warning("W116",state.tokens.next,"for",state.tokens.next.value),funct["(comparray)"].setState("use"),res.right=expression(10)),advance("for"),"each"===state.tokens.next.value&&(advance("each"),state.option.inMoz(!0)||warning("W118",state.tokens.curr,"for each")),advance("("),funct["(comparray)"].setState("define"),res.left=expression(130),_.contains(["in","of"],state.tokens.next.value)?advance():error("E045",state.tokens.curr),funct["(comparray)"].setState("generate"),expression(10),advance(")"),"if"===state.tokens.next.value&&(advance("if"),advance("("),funct["(comparray)"].setState("filter"),res.filter=expression(10),advance(")")),reversed||(funct["(comparray)"].setState("use"),res.right=expression(10)),advance("]"),funct["(comparray)"].unstack(),res}function property_name(){var id=optionalidentifier(!1,!0);return id||("(string)"===state.tokens.next.id?(id=state.tokens.next.value,advance()):"(number)"===state.tokens.next.id&&(id=""+state.tokens.next.value,advance())),"hasOwnProperty"===id&&warning("W001"),id}function functionparams(parsed){var curr,next,ident,t,params=[],tokens=[],pastDefault=!1;if(parsed){if(Array.isArray(parsed)){for(var i in parsed)curr=parsed[i],"..."!==curr.value?","!==curr.value&&(params.push(curr.value),addlabel(curr.value,{type:"unused",token:curr})):state.option.inESNext()||warning("W104",curr,"spread/rest operator");return params}if(parsed.identifier===!0)return addlabel(parsed.value,{type:"unused",token:parsed}),[parsed]}if(next=state.tokens.next,advance("("),")"===state.tokens.next.id)return advance(")"),void 0;for(;;){if(_.contains(["{","["],state.tokens.next.id)){tokens=destructuringExpression();for(t in tokens)t=tokens[t],t.id&&(params.push(t.id),addlabel(t.id,{type:"unused",token:t.token}))}else"..."===state.tokens.next.value?(state.option.inESNext()||warning("W104",state.tokens.next,"spread/rest operator"),advance("..."),ident=identifier(!0),params.push(ident),addlabel(ident,{type:"unused",token:state.tokens.curr})):(ident=identifier(!0),params.push(ident),addlabel(ident,{type:"unused",token:state.tokens.curr}));if(pastDefault&&"="!==state.tokens.next.id&&error("E051",state.tokens.current),"="===state.tokens.next.id&&(state.option.inESNext()||warning("W119",state.tokens.next,"default parameters"),advance("="),pastDefault=!0,expression(10)),","!==state.tokens.next.id)return advance(")",next),params;comma()}}function setprop(funct,name,values){funct["(properties)"][name]||(funct["(properties)"][name]={unused:!1}),_.extend(funct["(properties)"][name],values)}function getprop(funct,name,prop){return funct["(properties)"][name]?funct["(properties)"][name][prop]||null:null}function functor(name,token,scope,overwrites){var funct={"(name)":name,"(breakage)":0,"(loopage)":0,"(scope)":scope,"(tokens)":{},"(properties)":{},"(catch)":!1,"(global)":!1,"(line)":null,"(character)":null,"(metrics)":null,"(statement)":null,"(context)":null,"(blockscope)":null,"(comparray)":null,"(generator)":null,"(params)":null};return token&&_.extend(funct,{"(line)":token.line,"(character)":token.character,"(metrics)":createMetrics(token)}),_.extend(funct,overwrites),funct["(context)"]&&(funct["(blockscope)"]=funct["(context)"]["(blockscope)"],funct["(comparray)"]=funct["(context)"]["(comparray)"]),funct}function doFunction(name,statement,generator,fatarrowparams){var f,oldOption=state.option,oldIgnored=state.ignored,oldScope=scope;return state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),scope=Object.create(scope),funct=functor(name||\'"\'+anonname+\'"\',state.tokens.next,scope,{"(statement)":statement,"(context)":funct,"(generator)":generator?!0:null}),f=funct,state.tokens.curr.funct=funct,functions.push(funct),name&&addlabel(name,{type:"function"}),funct["(params)"]=functionparams(fatarrowparams),funct["(metrics)"].verifyMaxParametersPerFunction(funct["(params)"]),JSHINT.undefs=_.filter(JSHINT.undefs,function(item){return!_.contains(_.union(fatarrowparams),item[2])}),block(!1,!0,!0,fatarrowparams?!0:!1),!state.option.noyield&&generator&&"yielded"!==funct["(generator)"]&&warning("W124",state.tokens.curr),funct["(metrics)"].verifyMaxStatementsPerFunction(),funct["(metrics)"].verifyMaxComplexityPerFunction(),funct["(unusedOption)"]=state.option.unused,scope=oldScope,state.option=oldOption,state.ignored=oldIgnored,funct["(last)"]=state.tokens.curr.line,funct["(lastcharacter)"]=state.tokens.curr.character,_.map(Object.keys(funct),function(key){"("!==key[0]&&funct["(blockscope)"].unshadow(key)}),funct=funct["(context)"],f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning("W071",functionStartToken,this.statementCount)},verifyMaxParametersPerFunction:function(params){params=params||[],state.option.maxparams&&params.length>state.option.maxparams&&warning("W072",functionStartToken,params.length)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning("W073",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning("W074",functionStartToken,cc)}}}function increaseComplexityCount(){funct["(metrics)"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,","===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case"=":case"+=":case"-=":case"*=":case"%=":case"&=":case"|=":case"^=":case"/=":paren||state.option.boss||warning("W084")}}function destructuringExpression(){var id,ids,identifiers=[];state.option.inESNext()||warning("W104",state.tokens.curr,"destructuring expression");var nextInnerDE=function(){var ident;if(_.contains(["[","{"],state.tokens.next.value)){ids=destructuringExpression();for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else","===state.tokens.next.value?identifiers.push({id:null,token:state.tokens.curr}):"("===state.tokens.next.value?(advance("("),nextInnerDE(),advance(")")):(ident=identifier(),ident&&identifiers.push({id:ident,token:state.tokens.curr}))};if("["===state.tokens.next.value){for(advance("["),nextInnerDE();"]"!==state.tokens.next.value;)advance(","),nextInnerDE();advance("]")}else if("{"===state.tokens.next.value){for(advance("{"),id=identifier(),":"===state.tokens.next.value?(advance(":"),nextInnerDE()):identifiers.push({id:id,token:state.tokens.curr});"}"!==state.tokens.next.value;)advance(","),id=identifier(),":"===state.tokens.next.value?(advance(":"),nextInnerDE()):identifiers.push({id:id,token:state.tokens.curr});advance("}")}return identifiers}function destructuringExpressionMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning("W080",token.first,token.first.value)})}function classdef(stmt){return state.option.inESNext()||warning("W104",state.tokens.curr,"class"),stmt?(this.name=identifier(),addlabel(this.name,{type:"unused",token:state.tokens.curr})):state.tokens.next.identifier&&"extends"!==state.tokens.next.value&&(this.name=identifier()),classtail(this),this}function classtail(c){var strictness=state.directive["use strict"];"extends"===state.tokens.next.value&&(advance("extends"),c.heritage=expression(10)),state.directive["use strict"]=!0,advance("{"),c.body=state.syntax["{"].nud(!0),state.directive["use strict"]=strictness}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.option.inESNext()&&block.isDestAssign&&warning("W104",state.tokens.curr,"destructuring assignment"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance("{"),"}"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E026",state.tokens.next,t.line);else{if("}"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id?error("E028",state.tokens.next):"(string)"!==state.tokens.next.id&&warning("W095",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning("W075",state.tokens.next,state.tokens.next.value):"__proto__"===state.tokens.next.value&&!state.option.proto||"__iterator__"===state.tokens.next.value&&!state.option.iterator?warning("W096",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(":"),jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("}")}function jsonArray(){var t=state.tokens.next;if(advance("["),"]"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)error("E027",state.tokens.next,t.line);else{if("]"===state.tokens.next.id){warning("W094",state.tokens.curr);break}","===state.tokens.next.id&&error("E028",state.tokens.next)}if(jsonValue(),","!==state.tokens.next.id)break;advance(",")}advance("]")}switch(state.tokens.next.id){case"{":jsonObject();break;case"[":jsonArray();break;case"true":case"false":case"null":case"(number)":case"(string)":advance();break;case"-":advance("-"),advance("(number)");break;default:error("E003",state.tokens.next)}}var anonname,api,declared,exported,funct,functions,global,implied,inblock,indent,lookahead,lex,member,membersOnly,noreach,predefined,scope,stack,unuseds,urls,bang={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},boolOptions={asi:!0,bitwise:!0,boss:!0,browser:!0,camelcase:!0,couch:!0,curly:!0,debug:!0,devel:!0,dojo:!0,eqeqeq:!0,eqnull:!0,notypeof:!0,es3:!0,es5:!0,esnext:!0,moz:!0,evil:!0,expr:!0,forin:!0,funcscope:!0,globalstrict:!0,immed:!0,iterator:!0,jasmine:!0,jquery:!0,lastsemic:!0,laxbreak:!0,laxcomma:!0,loopfunc:!0,mootools:!0,multistr:!0,freeze:!0,newcap:!0,noarg:!0,node:!0,noempty:!0,nonbsp:!0,nonew:!0,nonstandard:!0,phantom:!0,plusplus:!0,proto:!0,prototypejs:!0,qunit:!0,rhino:!0,shelljs:!0,typed:!0,undef:!0,scripturl:!0,strict:!0,sub:!0,supernew:!0,validthis:!0,withstmt:!0,worker:!0,wsh:!0,yui:!0,mocha:!0,noyield:!0,onecase:!0,regexp:!0,regexdash:!0},valOptions={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,unused:!0,latedef:!1,ignore:!1},invertedOptions={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},renamedOptions={eqeq:"eqeqeq",windows:"wsh",sloppy:"strict"},removedOptions={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},functionicity=["closure","exception","global","label","outer","unused","var"],extraModules=[],emitter=new events.EventEmitter;type("(number)",function(){return this}),type("(string)",function(){return this}),type("(template)",function(){return this}),state.syntax["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var f,block,v=this.value,s=scope[v];if("function"==typeof s?s=void 0:funct["(blockscope)"].current.has(v)||"boolean"!=typeof s||(f=funct,funct=functions[0],addlabel(v,{type:"var"}),s=funct,funct=f),block=funct["(blockscope)"].getlabel(v),funct===s||block)switch(block?block[v]["(type)"]:funct[v]){case"unused":block?block[v]["(type)"]="var":funct[v]="var";break;case"unction":block?block[v]["(type)"]="function":funct[v]="function",this["function"]=!0;break;case"const":setprop(funct,v,{unused:!1});break;case"function":this["function"]=!0;break;case"label":warning("W037",state.tokens.curr,v)}else if(funct["(global)"])"boolean"!=typeof predefined[v]&&("typeof"!==anonname&&"delete"!==anonname||state.tokens.next&&("."===state.tokens.next.value||"["===state.tokens.next.value))&&(funct["(comparray)"].check(v)||isundef(funct,"W117",state.tokens.curr,v)),note_implied(state.tokens.curr);else switch(funct[v]){case"closure":case"function":case"var":case"unused":warning("W038",state.tokens.curr,v);break;case"label":warning("W037",state.tokens.curr,v);break;case"outer":case"global":break;default:if(s===!0)funct[v]=!0;else if(null===s)warning("W039",state.tokens.curr,v),note_implied(state.tokens.curr);else if("object"!=typeof s)("typeof"!==anonname&&"delete"!==anonname||state.tokens.next&&("."===state.tokens.next.value||"["===state.tokens.next.value))&&isundef(funct,"W117",state.tokens.curr,v),funct[v]=!0,note_implied(state.tokens.curr);else switch(s[v]){case"function":case"unction":this["function"]=!0,s[v]="closure",funct[v]=s["(global)"]?"global":"outer";break;case"var":case"unused":s[v]="closure",funct[v]=s["(global)"]?"global":"outer";break;case"const":setprop(s,v,{unused:!1});break;case"closure":funct[v]=s["(global)"]?"global":"outer";break;case"label":warning("W037",state.tokens.curr,v)}}return this},led:function(){error("E033",state.tokens.next,state.tokens.next.value)}},type("(regexp)",function(){return this}),delim("(endline)"),delim("(begin)"),delim("(end)").reach=!0,delim("(error)").reach=!0,delim("}").reach=!0,delim(")"),delim("]"),delim(\'"\').reach=!0,delim("\'").reach=!0,delim(";"),delim(":").reach=!0,delim("#"),reserve("else"),reserve("case").reach=!0,reserve("catch"),reserve("default").reach=!0,reserve("finally"),reservevar("arguments",function(x){state.directive["use strict"]&&funct["(global)"]&&warning("E008",x)}),reservevar("eval"),reservevar("false"),reservevar("Infinity"),reservevar("null"),reservevar("this",function(x){state.directive["use strict"]&&!state.option.validthis&&(funct["(statement)"]&&funct["(name)"].charAt(0)>"Z"||funct["(global)"])&&warning("W040",x)}),reservevar("true"),reservevar("undefined"),assignop("=","assign",20),assignop("+=","assignadd",20),assignop("-=","assignsub",20),assignop("*=","assignmult",20),assignop("/=","assigndiv",20).nud=function(){error("E014")},assignop("%=","assignmod",20),bitwiseassignop("&=","assignbitand",20),bitwiseassignop("|=","assignbitor",20),bitwiseassignop("^=","assignbitxor",20),bitwiseassignop("<<=","assignshiftleft",20),bitwiseassignop(">>=","assignshiftright",20),bitwiseassignop(">>>=","assignshiftrightunsigned",20),infix(",",function(left,that){var expr;if(that.exprs=[left],!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),","!==state.tokens.next.value||!comma())break}return that},10,!0),infix("?",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(":"),that["else"]=expression(10),that},30);var orPrecendence=40;infix("||",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix("&&","and",50),bitwise("|","bitor",70),bitwise("^","bitxor",80),bitwise("&","bitand",90),relation("==",function(left,right){var eqnull=state.option.eqnull&&("null"===left.value||"null"===right.value);switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning("W116",this,"===","==");break;case isPoorRelation(left):warning("W041",this,"===",left.value);break;case isPoorRelation(right):warning("W041",this,"===",right.value);break;case isTypoTypeof(right,left):warning("W122",this,right.value);break;case isTypoTypeof(left,right):warning("W122",this,left.value)}return this}),relation("===",function(left,right){return isTypoTypeof(right,left)?warning("W122",this,right.value):isTypoTypeof(left,right)&&warning("W122",this,left.value),this}),relation("!=",function(left,right){var eqnull=state.option.eqnull&&("null"===left.value||"null"===right.value);return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning("W116",this,"!==","!=")):isPoorRelation(left)?warning("W041",this,"!==",left.value):isPoorRelation(right)?warning("W041",this,"!==",right.value):isTypoTypeof(right,left)?warning("W122",this,right.value):isTypoTypeof(left,right)&&warning("W122",this,left.value),this}),relation("!==",function(left,right){return isTypoTypeof(right,left)?warning("W122",this,right.value):isTypoTypeof(left,right)&&warning("W122",this,left.value),this}),relation("<"),relation(">"),relation("<="),relation(">="),bitwise("<<","shiftleft",120),bitwise(">>","shiftright",120),bitwise(">>>","shiftrightunsigned",120),infix("in","in",120),infix("instanceof","instanceof",120),infix("+",function(left,that){var right=expression(130);return left&&right&&"(string)"===left.id&&"(string)"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning("W050",left),left):(that.left=left,that.right=right,that)},130),prefix("+","num"),prefix("+++",function(){return warning("W007"),this.right=expression(150),this.arity="unary",this}),infix("+++",function(left){return warning("W007"),this.left=left,this.right=expression(130),this},130),infix("-","sub",130),prefix("-","neg"),prefix("---",function(){return warning("W006"),this.right=expression(150),this.arity="unary",this}),infix("---",function(left){return warning("W006"),this.left=left,this.right=expression(130),this},130),infix("*","mult",140),infix("/","div",140),infix("%","mod",140),suffix("++","postinc"),prefix("++","preinc"),state.syntax["++"].exps=!0,suffix("--","postdec"),prefix("--","predec"),state.syntax["--"].exps=!0,prefix("delete",function(){var p=expression(10);return(!p||"."!==p.id&&"["!==p.id)&&warning("W051"),this.first=p,this}).exps=!0,prefix("~",function(){return state.option.bitwise&&warning("W052",this,"~"),expression(150),this}),prefix("...",function(){return state.option.inESNext()||warning("W104",this,"spread/rest operator"),state.tokens.next.identifier||error("E030",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix("!",function(){return this.right=expression(150),this.arity="unary",this.right||quit("E041",this.line||0),bang[this.right.id]===!0&&warning("W018",this,"!"),this}),prefix("typeof","typeof"),prefix("new",function(){var i,c=expression(155);if(c&&"function"!==c.id)if(c.identifier)switch(c["new"]=!0,c.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":warning("W053",state.tokens.prev,c.value);break;case"Function":state.option.evil||warning("W054");break;case"Date":case"RegExp":case"this":break;default:"function"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&("A">i||i>"Z")&&!_.has(global,c.value)&&warning("W055",state.tokens.curr))}else"."!==c.id&&"["!==c.id&&"("!==c.id&&warning("W056",state.tokens.curr);else state.option.supernew||warning("W057",this);return"("===state.tokens.next.id||state.option.supernew||warning("W058",state.tokens.curr,state.tokens.curr.value),this.first=c,this}),state.syntax["new"].exps=!0,prefix("void").exps=!0,infix(".",function(left,that){var m=identifier(!1,!0);return"string"==typeof m&&countMember(m),that.left=left,that.right=m,m&&"hasOwnProperty"===m&&"="===state.tokens.next.value&&warning("W001"),!left||"arguments"!==left.value||"callee"!==m&&"caller"!==m?state.option.evil||!left||"document"!==left.value||"write"!==m&&"writeln"!==m||warning("W060",left):state.option.noarg?warning("W059",left,m):state.directive["use strict"]&&error("E008"),state.option.evil||"eval"!==m&&"execScript"!==m||warning("W061"),that},160,!0),infix("(",function(left,that){state.option.immed&&left&&!left.immed&&"function"===left.id&&warning("W062");var n=0,p=[];if(left&&"(identifier)"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1==="Number String Boolean Date Object Error".indexOf(left.value)&&("Math"===left.value?warning("W063",left):state.option.newcap&&warning("W064",left)),")"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,","===state.tokens.next.id;)comma();return advance(")"),"object"==typeof left&&(state.option.inES3()&&"parseInt"===left.value&&1===n&&warning("W065",state.tokens.curr),state.option.evil||("eval"===left.value||"Function"===left.value||"execScript"===left.value?(warning("W061",left),p[0]&&"(string)"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||"(string)"!==p[0].id||"setTimeout"!==left.value&&"setInterval"!==left.value?!p[0]||"(string)"!==p[0].id||"."!==left.value||"window"!==left.left.value||"setTimeout"!==left.right&&"setInterval"!==left.right||(warning("W066",left),addInternalSrc(left,p[0].value)):(warning("W066",left),addInternalSrc(left,p[0].value))),left.identifier||"."===left.id||"["===left.id||"("===left.id||"&&"===left.id||"||"===left.id||"?"===left.id||warning("W067",left)),that.left=left,that},155,!0).exps=!0,prefix("(",function(){var bracket,pn,pn1,ret,brackets=[],i=0,parens=1;do pn=peek(i),"("===pn.value?parens+=1:")"===pn.value&&(parens-=1),i+=1,pn1=peek(i);while((0!==parens||")"!==pn.value)&&"=>"!==pn1.value&&";"!==pn1.value&&"(end)"!==pn1.type);"function"===state.tokens.next.id&&(state.tokens.next.immed=!0);var exprs=[];if(")"!==state.tokens.next.id)for(;;){if("=>"===pn1.value&&_.contains(["{","["],state.tokens.next.value)){bracket=state.tokens.next,bracket.left=destructuringExpression(),brackets.push(bracket);for(var t in bracket.left)exprs.push(bracket.left[t].token)}else exprs.push(expression(10));if(","!==state.tokens.next.id)break;comma()}return advance(")",this),state.option.immed&&exprs[0]&&"function"===exprs[0].id&&"("!==state.tokens.next.id&&("."!==state.tokens.next.id||"call"!==peek().value&&"apply"!==peek().value)&&warning("W068",this),"=>"===state.tokens.next.value?exprs:exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[","]),ret.exprs=exprs):ret=exprs[0],ret&&(ret.paren=!0),ret):void 0}),application("=>"),infix("[",function(left,that){var s,e=expression(10);return e&&"(string)"===e.type&&(state.option.evil||"eval"!==e.value&&"execScript"!==e.value||warning("W061",that),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning("W069",state.tokens.prev,e.value))),advance("]",that),e&&"hasOwnProperty"===e.value&&"="===state.tokens.next.value&&warning("W001"),that.left=left,that.right=e,that},160,!0),prefix("[",function(){var blocktype=lookupBlockType(!0);if(blocktype.isCompArray)return state.option.inESNext()||warning("W119",state.tokens.curr,"array comprehension"),comprehensiveArrayExpression();blocktype.isDestAssign&&!state.option.inESNext()&&warning("W104",state.tokens.curr,"destructuring assignment");var b=state.tokens.curr.line!==state.tokens.next.line;for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));"(end)"!==state.tokens.next.id;){for(;","===state.tokens.next.id;)state.option.inES5()||warning("W070"),advance(",");if("]"===state.tokens.next.id)break;if(this.first.push(expression(10)),","!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),"]"===state.tokens.next.id&&!state.option.inES5(!0)){warning("W070",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance("]",this),this},160),function(x){x.nud=function(isclassdef){function saveProperty(name,tkn){props[name]&&_.has(props,name)?warning("W075",state.tokens.next,i):props[name]={},props[name].basic=!0,props[name].basictkn=tkn}function saveSetter(name,tkn){props[name]&&_.has(props,name)?(props[name].basic||props[name].setter)&&warning("W075",state.tokens.next,i):props[name]={},props[name].setter=!0,props[name].setterToken=tkn}function saveGetter(name){props[name]&&_.has(props,name)?(props[name].basic||props[name].getter)&&warning("W075",state.tokens.next,i):props[name]={},props[name].getter=!0,props[name].getterToken=state.tokens.curr}var b,f,i,p,t,g,props={},tag="";for(b=state.tokens.curr.line!==state.tokens.next.line,b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));"}"!==state.tokens.next.id;){if(isclassdef&&"static"===state.tokens.next.value&&(advance("static"),tag="static "),"get"===state.tokens.next.value&&":"!==peek().id)advance("get"),state.option.inES5(!isclassdef)||error("E034"),i=property_name(),i||state.option.inESNext()||error("E035"),isclassdef&&"constructor"===i&&error("E049",state.tokens.next,"class getter method",i),i&&saveGetter(tag+i),t=state.tokens.next,f=doFunction(),p=f["(params)"],i&&p&&warning("W076",t,p[0],i);else if("set"===state.tokens.next.value&&":"!==peek().id)advance("set"),state.option.inES5(!isclassdef)||error("E034"),i=property_name(),i||state.option.inESNext()||error("E035"),isclassdef&&"constructor"===i&&error("E049",state.tokens.next,"class setter method",i),i&&saveSetter(tag+i,state.tokens.next),t=state.tokens.next,f=doFunction(),p=f["(params)"],!i||p&&1===p.length||warning("W077",t,i);else{if(g=!1,"*"===state.tokens.next.value&&"(punctuator)"===state.tokens.next.type&&(state.option.inESNext()||warning("W104",state.tokens.next,"generator functions"),advance("*"),g=!0),i=property_name(),saveProperty(tag+i,state.tokens.next),"string"!=typeof i)break;"("===state.tokens.next.value?(state.option.inESNext()||warning("W104",state.tokens.curr,"concise methods"),doFunction(i,void 0,g)):isclassdef||(advance(":"),expression(10))}if(isclassdef&&"prototype"===i&&error("E049",state.tokens.next,"class method",i),countMember(i),isclassdef)tag="";\nelse{if(","!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),","===state.tokens.next.id?warning("W070",state.tokens.curr):"}"!==state.tokens.next.id||state.option.inES5(!0)||warning("W070",state.tokens.curr)}}if(b&&(indent-=state.option.indent),advance("}",this),state.option.inES5())for(var name in props)_.has(props,name)&&props[name].setter&&!props[name].getter&&warning("W078",props[name].setterToken);return this},x.fud=function(){error("E036",state.tokens.curr)}}(delim("{"));var conststatement=stmt("const",function(prefix){var tokens,value,lone;for(state.option.inESNext()||warning("W104",state.tokens.curr,"const"),this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringExpression(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],"const"===funct[t.id]&&warning("E011",null,t.id),funct["(global)"]&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&(addlabel(t.id,{token:t.token,type:"const",unused:!0}),names.push(t.token)));if(prefix)break;if(this.first=this.first.concat(names),"="!==state.tokens.next.id&&warning("E012",state.tokens.curr,state.tokens.curr.value),"="===state.tokens.next.id&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(10),lone?tokens[0].first=value:destructuringExpressionMatch(names,value)),","!==state.tokens.next.id)break;comma()}return this});conststatement.exps=!0;var varstatement=stmt("var",function(prefix){var tokens,lone,value;for(this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringExpression(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.option.inESNext()&&"const"===funct[t.id]&&warning("E011",null,t.id),funct["(global)"]&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&(addlabel(t.id,{type:"unused",token:t.token}),names.push(t.token)));if(prefix)break;if(this.first=this.first.concat(names),"="===state.tokens.next.id&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(10),lone?tokens[0].first=value:destructuringExpressionMatch(names,value)),","!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0;var letstatement=stmt("let",function(prefix){var tokens,lone,value,letblock;for(state.option.inESNext()||warning("W104",state.tokens.curr,"let"),"("===state.tokens.next.value?(state.option.inMoz(!0)||warning("W118",state.tokens.next,"let block"),advance("("),funct["(blockscope)"].stack(),letblock=!0):funct["(nolet)"]&&error("E048",state.tokens.curr),this.first=[];;){var names=[];_.contains(["{","["],state.tokens.next.value)?(tokens=destructuringExpression(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr.value}],lone=!0);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.option.inESNext()&&"const"===funct[t.id]&&warning("E011",null,t.id),funct["(global)"]&&predefined[t.id]===!1&&warning("W079",t.token,t.id),t.id&&!funct["(nolet)"]&&(addlabel(t.id,{type:"unused",token:t.token,islet:!0}),names.push(t.token)));if(prefix)break;if(this.first=this.first.concat(names),"="===state.tokens.next.id&&(advance("="),"undefined"===state.tokens.next.id&&warning("W080",state.tokens.prev,state.tokens.prev.value),"="===peek(0).id&&state.tokens.next.identifier&&warning("W120",state.tokens.next,state.tokens.next.value),value=expression(10),lone?tokens[0].first=value:destructuringExpressionMatch(names,value)),","!==state.tokens.next.id)break;comma()}return letblock&&(advance(")"),block(!0,!0),this.block=!0,funct["(blockscope)"].unstack()),this});letstatement.exps=!0,blockstmt("class",function(){return classdef.call(this,!0)}),blockstmt("function",function(){var generator=!1;"*"===state.tokens.next.value&&(advance("*"),state.option.inESNext(!0)?generator=!0:warning("W119",state.tokens.curr,"function*")),inblock&&warning("W082",state.tokens.curr);var i=identifier();return"const"===funct[i]&&warning("E011",null,i),addlabel(i,{type:"unction",token:state.tokens.curr}),doFunction(i,{statement:!0},generator),"("===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error("E039"),this}),prefix("function",function(){var generator=!1;"*"===state.tokens.next.value&&(state.option.inESNext()||warning("W119",state.tokens.curr,"function*"),advance("*"),generator=!0);var i=optionalidentifier();return doFunction(i,void 0,generator),!state.option.loopfunc&&funct["(loopage)"]&&warning("W083"),this}),blockstmt("if",function(){var t=state.tokens.next;return increaseComplexityCount(),state.condition=!0,advance("("),checkCondAssignment(expression(0)),advance(")",t),state.condition=!1,block(!0,!0),"else"===state.tokens.next.id&&(advance("else"),"if"===state.tokens.next.id||"switch"===state.tokens.next.id?statement(!0):block(!0,!0)),this}),blockstmt("try",function(){function doCatch(){var e,oldScope=scope;advance("catch"),advance("("),scope=Object.create(oldScope),e=state.tokens.next.value,"(identifier)"!==state.tokens.next.type&&(e=null,warning("E030",state.tokens.next,e)),advance(),funct=functor("(catch)",state.tokens.next,scope,{"(context)":funct,"(breakage)":funct["(breakage)"],"(loopage)":funct["(loopage)"],"(statement)":!1,"(catch)":!0}),e&&addlabel(e,{type:"exception"}),"if"===state.tokens.next.value&&(state.option.inMoz(!0)||warning("W118",state.tokens.curr,"catch filter"),advance("if"),expression(0)),advance(")"),state.tokens.curr.funct=funct,functions.push(funct),block(!1),scope=oldScope,funct["(last)"]=state.tokens.curr.line,funct["(lastcharacter)"]=state.tokens.curr.character,funct=funct["(context)"]}var b;for(block(!0);"catch"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.option.inMoz(!0)&&warning("W118",state.tokens.next,"multiple catch blocks"),doCatch(),b=!0;return"finally"===state.tokens.next.id?(advance("finally"),block(!0),void 0):(b||error("E021",state.tokens.next,"catch",state.tokens.next.value),this)}),blockstmt("while",function(){var t=state.tokens.next;return funct["(breakage)"]+=1,funct["(loopage)"]+=1,increaseComplexityCount(),advance("("),checkCondAssignment(expression(0)),advance(")",t),block(!0,!0),funct["(breakage)"]-=1,funct["(loopage)"]-=1,this}).labelled=!0,blockstmt("with",function(){var t=state.tokens.next;return state.directive["use strict"]?error("E010",state.tokens.curr):state.option.withstmt||warning("W085",state.tokens.curr),advance("("),expression(0),advance(")",t),block(!0,!0),this}),blockstmt("switch",function(){var t=state.tokens.next,g=!1,noindent=!1;for(funct["(breakage)"]+=1,advance("("),checkCondAssignment(expression(0)),advance(")",t),t=state.tokens.next,advance("{"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case"case":switch(funct["(verb)"]){case"yield":case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:reg.fallsThrough.test(state.lines[state.tokens.next.line-2])||warning("W086",state.tokens.curr,"case")}advance("case"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(":"),funct["(verb)"]="case";break;case"default":switch(funct["(verb)"]){case"yield":case"break":case"continue":case"return":case"throw":break;default:this.cases.length&&(reg.fallsThrough.test(state.lines[state.tokens.next.line-2])||warning("W086",state.tokens.curr,"default"))}advance("default"),g=!0,advance(":");break;case"}":return noindent||(indent-=state.option.indent),advance("}",t),funct["(breakage)"]-=1,funct["(verb)"]=void 0,void 0;case"(end)":return error("E023",state.tokens.next,"}"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case",":return error("E040"),void 0;case":":g=!1,statements();break;default:return error("E025",state.tokens.curr),void 0}else{if(":"!==state.tokens.curr.id)return error("E021",state.tokens.next,"case",state.tokens.next.value),void 0;advance(":"),error("E024",state.tokens.curr,":"),statements()}indent-=state.option.indent}}).labelled=!0,stmt("debugger",function(){return state.option.debug||warning("W087",this),this}).exps=!0,function(){var x=stmt("do",function(){funct["(breakage)"]+=1,funct["(loopage)"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance("while");var t=state.tokens.next;return advance("("),checkCondAssignment(expression(0)),advance(")",t),funct["(breakage)"]-=1,funct["(loopage)"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt("for",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;"each"===t.value&&(foreachtok=t,advance("each"),state.option.inMoz(!0)||warning("W118",state.tokens.curr,"for each")),funct["(breakage)"]+=1,funct["(loopage)"]+=1,increaseComplexityCount(),advance("(");var nextop,i=0,inof=["in","of"];do nextop=peek(i),++i;while(!_.contains(inof,nextop.value)&&";"!==nextop.value&&"(end)"!==nextop.type);if(_.contains(inof,nextop.value)){if(state.option.inESNext()||"of"!==nextop.value||error("W104",nextop,"for of"),"var"===state.tokens.next.id)advance("var"),state.syntax["var"].fud.call(state.syntax["var"].fud,!0);else if("let"===state.tokens.next.id)advance("let"),letscope=!0,funct["(blockscope)"].stack(),state.syntax.let.fud.call(state.syntax.let.fud,!0);else if(state.tokens.next.identifier){switch(funct[state.tokens.next.value]){case"unused":funct[state.tokens.next.value]="var";break;case"var":break;default:funct["(blockscope)"].getlabel(state.tokens.next.value)||warning("W088",state.tokens.next,state.tokens.next.value)}advance()}else error("E030",state.tokens.next,state.tokens.next.type),advance();advance(nextop.value),expression(20),advance(")",t),s=block(!0,!0),state.option.forin&&s&&(s.length>1||"object"!=typeof s[0]||"if"!==s[0].value)&&warning("W089",this),funct["(breakage)"]-=1,funct["(loopage)"]-=1}else{if(foreachtok&&error("E045",foreachtok),";"!==state.tokens.next.id)if("var"===state.tokens.next.id)advance("var"),state.syntax["var"].fud.call(state.syntax["var"].fud);else if("let"===state.tokens.next.id)advance("let"),letscope=!0,funct["(blockscope)"].stack(),state.syntax.let.fud.call(state.syntax.let.fud);else for(;expression(0,"for"),","===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(";"),";"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(";"),";"===state.tokens.next.id&&error("E021",state.tokens.next,")",";"),")"!==state.tokens.next.id)for(;expression(0,"for"),","===state.tokens.next.id;)comma();advance(")",t),block(!0,!0),funct["(breakage)"]-=1,funct["(loopage)"]-=1}return letscope&&funct["(blockscope)"].unstack(),this}).labelled=!0,stmt("break",function(){var v=state.tokens.next.value;return 0===funct["(breakage)"]&&warning("W052",state.tokens.next,this.value),state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===state.tokens.next.line&&("label"!==funct[v]?warning("W090",state.tokens.next,v):scope[v]!==funct&&warning("W091",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable("break"),this}).exps=!0,stmt("continue",function(){var v=state.tokens.next.value;return 0===funct["(breakage)"]&&warning("W052",state.tokens.next,this.value),state.option.asi||nolinebreak(this),";"===state.tokens.next.id||state.tokens.next.reach?funct["(loopage)"]||warning("W052",state.tokens.next,this.value):state.tokens.curr.line===state.tokens.next.line&&("label"!==funct[v]?warning("W090",state.tokens.next,v):scope[v]!==funct&&warning("W091",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable("continue"),this}).exps=!0,stmt("return",function(){return this.line===state.tokens.next.line?";"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)):"(punctuator)"===state.tokens.next.type&&["[","{","+","-"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable("return"),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix("yield",function(){var prev=state.tokens.prev;return state.option.inESNext(!0)&&!funct["(generator)"]?"(catch)"===funct["(name)"]&&funct["(context)"]["(generator)"]||error("E046",state.tokens.curr,"yield"):state.option.inESNext()||warning("W104",state.tokens.curr,"yield"),funct["(generator)"]="yielded",this.line!==state.tokens.next.line&&state.option.inMoz(!0)?state.option.asi||nolinebreak(this):(";"!==state.tokens.next.id&&!state.tokens.next.reach&&state.tokens.next.nud&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||warningAt("W093",this.first.line,this.first.character)),state.option.inMoz(!0)&&")"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||"yield"===prev.id)&&error("E050",this)),this})),stmt("throw",function(){return nolinebreak(this),this.first=expression(20),reachable("throw"),this}).exps=!0,stmt("import",function(){if(state.option.inESNext()||warning("W119",state.tokens.curr,"import"),"(string)"===state.tokens.next.type)return advance("(string)"),this;if(state.tokens.next.identifier)this.name=identifier(),addlabel(this.name,{type:"unused",token:state.tokens.curr});else for(advance("{");;){if("}"===state.tokens.next.value){advance("}");break}var importName;if("default"===state.tokens.next.type?(importName="default",advance("default")):importName=identifier(),"as"===state.tokens.next.value&&(advance("as"),importName=identifier()),addlabel(importName,{type:"unused",token:state.tokens.curr}),","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return advance("from"),advance("(string)"),this}).exps=!0,stmt("export",function(){if(state.option.inESNext()||warning("W119",state.tokens.curr,"export"),"default"===state.tokens.next.type)return advance("default"),("function"===state.tokens.next.id||"class"===state.tokens.next.id)&&(this.block=!0),this.exportee=expression(10),this;if("{"===state.tokens.next.value){for(advance("{");;){if(exported[identifier()]=!0,","!==state.tokens.next.value){if("}"===state.tokens.next.value){advance("}");break}error("E024",state.tokens.next,state.tokens.next.value);break}advance(",")}return this}return"var"===state.tokens.next.id?(advance("var"),exported[state.tokens.next.value]=!0,state.syntax["var"].fud.call(state.syntax["var"].fud)):"let"===state.tokens.next.id?(advance("let"),exported[state.tokens.next.value]=!0,state.syntax.let.fud.call(state.syntax.let.fud)):"const"===state.tokens.next.id?(advance("const"),exported[state.tokens.next.value]=!0,state.syntax["const"].fud.call(state.syntax["const"].fud)):"function"===state.tokens.next.id?(this.block=!0,advance("function"),exported[state.tokens.next.value]=!0,state.syntax["function"].fud()):"class"===state.tokens.next.id?(this.block=!0,advance("class"),exported[state.tokens.next.value]=!0,state.syntax["class"].fud()):error("E024",state.tokens.next,state.tokens.next.value),this}).exps=!0,FutureReservedWord("abstract"),FutureReservedWord("boolean"),FutureReservedWord("byte"),FutureReservedWord("char"),FutureReservedWord("class",{es5:!0,nud:classdef}),FutureReservedWord("double"),FutureReservedWord("enum",{es5:!0}),FutureReservedWord("export",{es5:!0}),FutureReservedWord("extends",{es5:!0}),FutureReservedWord("final"),FutureReservedWord("float"),FutureReservedWord("goto"),FutureReservedWord("implements",{es5:!0,strictOnly:!0}),FutureReservedWord("import",{es5:!0}),FutureReservedWord("int"),FutureReservedWord("interface",{es5:!0,strictOnly:!0}),FutureReservedWord("long"),FutureReservedWord("native"),FutureReservedWord("package",{es5:!0,strictOnly:!0}),FutureReservedWord("private",{es5:!0,strictOnly:!0}),FutureReservedWord("protected",{es5:!0,strictOnly:!0}),FutureReservedWord("public",{es5:!0,strictOnly:!0}),FutureReservedWord("short"),FutureReservedWord("static",{es5:!0,strictOnly:!0}),FutureReservedWord("super",{es5:!0}),FutureReservedWord("synchronized"),FutureReservedWord("transient"),FutureReservedWord("volatile");var lookupBlockType=function(){var pn,pn1,i=-1,bracketStack=0,ret={};_.contains(["[","{"],state.tokens.curr.value)&&(bracketStack+=1);do{if(pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,_.contains(["[","{"],pn.value)?bracketStack+=1:_.contains(["]","}"],pn.value)&&(bracketStack-=1),pn.identifier&&"for"===pn.value&&1===bracketStack){ret.isCompArray=!0,ret.notJson=!0;break}if(_.contains(["}","]"],pn.value)&&"="===pn1.value&&0===bracketStack){ret.isDestAssign=!0,ret.notJson=!0;break}";"===pn.value&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&"(end)"!==pn.id&&15>i);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode="use",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning("W098",v.token,v.value),v.undef&&isundef(v.funct,"W117",v.token,v.value)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains(["use","define","generate","filter"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&"use"===_current.mode?(use(v)&&_current.variables.push({funct:funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&"define"===_current.mode?(declare(v)||_current.variables.push({funct:funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&"generate"===_current.mode?(isundef(funct,"W117",state.tokens.curr,v),!0):_current&&"filter"===_current.mode?(use(v)&&isundef(funct,"W117",state.tokens.curr,v),!0):!1:void 0}}},blockScope=function(){function _checkBlockLabels(){for(var t in _current)if("unused"===_current[t]["(type)"]&&state.option.unused){var tkn=_current[t]["(token)"],line=tkn.line,chr=tkn.character;warningAt("W098",line,chr,t)}}var _current={},_variables=[_current];return{stack:function(){_current={},_variables.push(_current)},unstack:function(){_checkBlockLabels(),_variables.splice(_variables.length-1,1),_current=_.last(_variables)},getlabel:function(l){for(var i=_variables.length-1;i>=0;--i)if(_.has(_variables[i],l)&&!_variables[i][l]["(shadowed)"])return _variables[i]},shadow:function(name){for(var i=_variables.length-1;i>=0;i--)_.has(_variables[i],name)&&(_variables[i][name]["(shadowed)"]=!0)},unshadow:function(name){for(var i=_variables.length-1;i>=0;i--)_.has(_variables[i],name)&&(_variables[i][name]["(shadowed)"]=!1)},current:{has:function(t){return _.has(_current,t)},add:function(t,type,tok){_current[t]={"(type)":type,"(token)":tok,"(shadowed)":!1}}}}},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||"object"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,optionKeys,newOptionObj={},newIgnoredObj={};if(o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null),exported=Object.create(null),o)for(each(o.predef||null,function(item){var slice,prop;"-"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)/^-W\\d{3}$/g.test(optionKeys[x])?newIgnoredObj[optionKeys[x].slice(1)]=!0:(newOptionObj[optionKeys[x]]=o[optionKeys[x]],"newcap"===optionKeys[x]&&o[optionKeys[x]]===!1&&(newOptionObj["(explicitNewcap)"]=!0));if(state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1,global=Object.create(predefined),scope=global,funct=functor("(global)",null,scope,{"(global)":!0,"(blockscope)":blockScope(),"(comparray)":arrayComprehension(),"(metrics)":createMetrics(state.tokens.next)}),functions=[funct],urls=[],stack=null,member={},membersOnly=null,implied={},inblock=!1,lookahead=[],unuseds=[],!isString(s)&&!Array.isArray(s))return errorAt("E004",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(" ").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax["(begin)"],lex=new Lexer(s),lex.on("warning",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("error",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on("fatal",function(ev){quit("E041",ev.line,ev.from)}),lex.on("Identifier",function(ev){emitter.emit("Identifier",ev)}),lex.on("String",function(ev){emitter.emit("String",ev)}),lex.on("Number",function(ev){emitter.emit("Number",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case"{":case"[":destructuringAssignOrJsonValue();break;default:directives(),state.directive["use strict"]&&(state.option.globalstrict||state.option.node||state.option.phantom||warning("W097",state.tokens.prev)),statements()}advance(state.tokens.next&&"."!==state.tokens.next.value?"(end)":void 0),funct["(blockscope)"].unstack();var markDefined=function(name,context){do{if("string"==typeof context[name])return"unused"===context[name]?context[name]="var":"unction"===context[name]&&(context[name]="closure"),!0;context=context["(context)"]}while(context);return!1},clearImplied=function(name,line){if(implied[name]){for(var newImplied=[],i=0;implied[name].length>i;i+=1)implied[name][i]!==line&&newImplied.push(implied[name][i]);0===newImplied.length?delete implied[name]:implied[name]=newImplied}},warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.character;void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt="last-param");var warnable_types={vars:["var"],"last-param":["var","param"],strict:["var","param","last-param"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warningAt("W098",line,chr,name),unuseds.push({name:name,line:line,character:chr})},checkUnused=function(func,key){var type=func[key],tkn=func["(tokens)"][key];"("!==key.charAt(0)&&("unused"===type||"unction"===type||"const"===type)&&(func["(params)"]&&-1!==func["(params)"].indexOf(key)||func["(global)"]&&_.has(exported,key)||("const"!==type||getprop(func,key,"unused"))&&warnUnused(key,tkn,"var"))};for(i=0;JSHINT.undefs.length>i;i+=1)k=JSHINT.undefs[i].slice(0),markDefined(k[2].value,k[0])?clearImplied(k[2].value,k[2].line):state.option.undef&&warning.apply(warning,k.slice(1));functions.forEach(function(func){if(func["(unusedOption)"]!==!1){for(var key in func)_.has(func,key)&&checkUnused(func,key);if(func["(params)"])for(var type,unused_opt,params=func["(params)"].slice(),param=params.pop();param;){if(type=func[param],unused_opt=func["(unusedOption)"]||state.option.unused,unused_opt=unused_opt===!0?"last-param":unused_opt,"undefined"===param)return;if("unused"===type||"unction"===type)warnUnused(param,func["(tokens)"][param],"param",func["(unusedOption)"]);else if("last-param"===unused_opt)return;param=params.pop()}}});for(var key in declared)!_.has(declared,key)||_.has(global,key)||_.has(exported,key)||warnUnused(key,declared[key],"var")}catch(err){if(!err||"JSHintError"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:"(main)",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if("(main)"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option},implieds=[],members=[];itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);for(n in implied)_.has(implied,n)&&implieds.push({name:n,line:implied[n]});for(implieds.length>0&&(data.implieds=implieds),urls.length>0&&(data.urls=urls),globals=Object.keys(scope),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f["(name)"],fu.param=f["(params)"],fu.line=f["(line)"],fu.character=f["(character)"],fu.last=f["(last)"],fu.lastcharacter=f["(lastcharacter)"],fu.metrics={complexity:f["(metrics)"].ComplexityCount,parameters:(f["(params)"]||[]).length,statements:f["(metrics)"].statementCount},data.functions.push(fu)}unuseds.length>0&&(data.unused=unuseds),members=[];for(n in member)if("number"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{"./lex.js":4,"./messages.js":5,"./reg.js":6,"./state.js":7,"./style.js":8,"./vars.js":9,events:10,underscore:2}],4:[function(_dereq_,module,exports){"use strict";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;"string"==typeof lines&&(lines=lines.replace(/\\r\\n/g,"\\n").replace(/\\r/g,"\\n").split("\\n")),lines[0]&&"#!"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf("node")&&(state.option.node=!0),lines[0]=""),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input="",this.inComment=!1;for(var i=0;state.option.indent>i;i+=1)state.tab+=" "}var _=_dereq_("underscore"),events=_dereq_("events"),reg=_dereq_("./reg.js"),state=_dereq_("./state.js").state,unicodeData=_dereq_("../data/ascii-identifier-data.js"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateLiteral:10};Lexer.prototype={_lines:[],getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(" ").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case".":if(/^[0-9]$/.test(this.peek(1)))return null;if("."===this.peek(1)&&"."===this.peek(2))return{type:Token.Punctuator,value:"..."};case"(":case")":case";":case",":case"{":case"}":case"[":case"]":case":":case"~":case"?":return{type:Token.Punctuator,value:ch1};case"#":return{type:Token.Punctuator,value:ch1};case"":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),">"===ch1&&">"===ch2&&">"===ch3&&"="===ch4?{type:Token.Punctuator,value:">>>="}:"="===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"==="}:"!"===ch1&&"="===ch2&&"="===ch3?{type:Token.Punctuator,value:"!=="}:">"===ch1&&">"===ch2&&">"===ch3?{type:Token.Punctuator,value:">>>"}:"<"===ch1&&"<"===ch2&&"="===ch3?{type:Token.Punctuator,value:"<<="}:">"===ch1&&">"===ch2&&"="===ch3?{type:Token.Punctuator,value:">>="}:"="===ch1&&">"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&"+-<>&|".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:"<>=!+-*%&|^".indexOf(ch1)>=0?"="===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:"/"===ch1?"="===ch2&&/\\/=(?!(\\S*\\/[gim]?))/.test(this.input)?{type:Token.Punctuator,value:"/="}:{type:Token.Punctuator,value:"/"}:null},scanComments:function(){function commentToken(label,body,opt){var special=["jshint","jslint","members","member","globals","global","exported"],isSpecial=!1,value=label+body,commentType="plain";return opt=opt||{},opt.isMultiline&&(value+="*/"),special.forEach(function(str){if(!isSpecial&&("//"!==label||"jshint"===str)&&(body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||" "!==body.charAt(0)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+" "+str,body=body.substr(str.length+1)),isSpecial))switch(str){case"member":commentType="members";break;case"global":commentType="globals";break;default:commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char;if("*"===ch1&&"/"===ch2)return this.trigger("error",{code:"E018",line:startLine,character:startChar}),this.skip(2),null;if("/"!==ch1||"*"!==ch2&&"/"!==ch2)return null;if("/"===ch2)return this.skip(this.input.length),commentToken("//",rest);var body="";if("*"===ch2){for(this.inComment=!0,this.skip(2);"*"!==this.peek()||"/"!==this.peek(1);)if(""===this.peek()){if(body+="\\n",!this.nextLine())return this.trigger("error",{code:"E017",line:startLine,character:startChar}),this.inComment=!1,commentToken("/*",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken("/*",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=["if","in","do","var","for","new","try","let","this","else","case","void","with","enum","while","break","catch","throw","const","yield","class","super","return","typeof","delete","switch","export","import","default","finally","extends","function","continue","debugger","instanceof"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}var type,char,id="",index=0,readUnicodeEscapeSequence=function(){if(index+=1,"u"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,"\\\\u"+ch1+ch2+ch3+ch4):null):null\n}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case"true":case"false":type=Token.BooleanLiteral;break;case"null":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:id}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return"$"===ch||"_"===ch||"\\\\"===ch||ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch}var bad,index=0,value="",length=this.input.length,char=this.peek(index);if("."!==char&&!isDecimalDigit(char))return null;if("."!==char){if(value=this.peek(index),index+=1,char=this.peek(index),"0"===value){if("x"===char||"X"===char){for(index+=1,value+=char;length>index&&(char=this.peek(index),isHexDigit(char));)value+=char,index+=1;return 2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:16,isMalformed:!1}}if(isOctalDigit(char)){for(index+=1,value+=char,bad=!1;length>index;){if(char=this.peek(index),isDecimalDigit(char))bad=!0;else if(!isOctalDigit(char))break;value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:8,isMalformed:!1}}isDecimalDigit(char)&&(index+=1,value+=char)}for(;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}if("."===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if("e"===char||"E"===char){if(value+=char,index+=1,char=this.peek(index),("+"===char||"-"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:10,isMalformed:!isFinite(value)}},scanTemplateLiteral:function(){if(!state.option.esnext||"`"!==this.peek())return null;var startLine=this.line,startChar=this.char,jump=1,value="";for(this.skip();"`"!==this.peek();){for(;""===this.peek();){if(!this.nextLine())return this.trigger("error",{code:"E052",line:startLine,character:startChar}),{type:Token.TemplateLiteral,value:value,isUnclosed:!0};value+="\\n"}var char=this.peek();this.skip(jump),value+=char}return this.skip(),{type:Token.TemplateLiteral,value:value,isUnclosed:!1}},scanStringLiteral:function(checks){var quote=this.peek();if(\'"\'!==quote&&"\'"!==quote)return null;this.triggerAsync("warning",{code:"W108",line:this.line,character:this.char},checks,function(){return state.jsonMode&&\'"\'!==quote});var value="",startLine=this.line,startChar=this.char,allowNewLine=!1;this.skip();outer:for(;this.peek()!==quote;){for(;""===this.peek();){if(allowNewLine?(allowNewLine=!1,this.triggerAsync("warning",{code:"W043",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync("warning",{code:"W042",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger("warning",{code:"W112",line:this.line,character:this.char}),!this.nextLine())return this.trigger("error",{code:"E029",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,isUnclosed:!0,quote:quote};if(this.peek()==quote)break outer}allowNewLine=!1;var char=this.peek(),jump=1;if(" ">char&&this.trigger("warning",{code:"W113",line:this.line,character:this.char,data:["<non-printable>"]}),"\\\\"===char)switch(this.skip(),char=this.peek()){case"\'":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\\'"]},checks,function(){return state.jsonMode});break;case"b":char="\\\\b";break;case"f":char="\\\\f";break;case"n":char="\\\\n";break;case"r":char="\\\\r";break;case"t":char="\\\\t";break;case"0":char="\\\\0";var n=parseInt(this.peek(1),10);this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.directive["use strict"]});break;case"u":char=String.fromCharCode(parseInt(this.input.substr(1,4),16)),jump=5;break;case"v":this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\v"]},checks,function(){return state.jsonMode}),char="\v";break;case"x":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["\\\\x-"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case"\\\\":char="\\\\\\\\";break;case\'"\':char=\'\\\\"\';break;case"/":break;case"":allowNewLine=!0,char="";break;case"!":if("<"===value.slice(value.length-2))break;default:this.trigger("warning",{code:"W044",line:this.line,character:this.char})}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body="",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){" ">char&&(malformed=!0,this.trigger("warning",{code:"W048",line:this.line,character:this.char})),"<"===char&&(malformed=!0,this.trigger("warning",{code:"W049",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||"/"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)"]"===char&&("\\\\"!==this.peek(index-1)||"\\\\"===this.peek(index-2))&&(isCharSet=!1),"\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if("\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),"/"===char){index+=1;continue}if("["===char){index+=1;continue}}if("["!==char){if("/"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger("error",{code:"E015",line:this.line,character:this.from}),void this.trigger("fatal",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(""))}catch(err){malformed=!0,this.trigger("error",{code:"E016",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral();return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(state.ignoreLinterErrors===!0&&(startsWith("/*","//")||endsWith("*/")||(this.input="")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger("warning",{code:"W125",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger("warning",{code:"W100",line:this.line,character:char}),state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,"//")||startsWith.call(inputTrimmed,"/*"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger("warning",{code:"W101",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.option.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.directive["use strict"])return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty){var obj;if("(endline)"!==type&&"(end)"!==type&&(this.prereg=!1),"(punctuator)"===type){switch(value){case".":case")":case"~":case"#":case"]":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax["(error)"])}return"(identifier)"===type&&(("return"===value||"case"===value||"typeof"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax["(error)"]),isReserved(obj,isProperty&&"(identifier)"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier="(identifier)"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return create(this.nextLine()?"(endline)":"(end)","");if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync("String",{line:this.line,"char":this.char,from:this.from,value:token.value,quote:token.quote},checks,function(){return!0}),create("(string)",token.value);case Token.TemplateLiteral:return this.trigger("Template",{line:this.line,"char":this.char,from:this.from,value:token.value}),create("(template)",token.value);case Token.Identifier:this.trigger("Identifier",{line:this.line,"char":this.char,from:this.form,name:token.value,isProperty:"."===state.tokens.curr.id});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create("(identifier)",token.value,"."===state.tokens.curr.id);case Token.NumericLiteral:return token.isMalformed&&this.trigger("warning",{code:"W045",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync("warning",{code:"W114",line:this.line,character:this.char,data:["0x-"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync("warning",{code:"W115",line:this.line,character:this.char},checks,function(){return state.directive["use strict"]&&8===token.base}),this.trigger("Number",{line:this.line,"char":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create("(number)",token.value);case Token.RegExp:return create("(regexp)",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:"(comment)",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case"":break;default:return create("(punctuator)",token.value)}else this.input.length&&(this.trigger("error",{code:"E024",line:this.line,character:this.char,data:[this.peek()]}),this.input="")}}},exports.Lexer=Lexer},{"../data/ascii-identifier-data.js":1,"./reg.js":6,"./state.js":7,events:10,underscore:2}],5:[function(_dereq_,module,exports){"use strict";var _=_dereq_("underscore"),errors={E001:"Bad option: \'{a}\'.",E002:"Bad option value.",E003:"Expected a JSON value.",E004:"Input is neither a string nor an array of strings.",E005:"Input is empty.",E006:"Unexpected early end of program.",E007:\'Missing "use strict" statement.\',E008:"Strict violation.",E009:"Option \'validthis\' can\'t be used in a global scope.",E010:"\'with\' is not allowed in strict mode.",E011:"const \'{a}\' has already been declared.",E012:"const \'{a}\' is initialized to \'undefined\'.",E013:"Attempting to override \'{a}\' which is a constant.",E014:"A regular expression literal can be confused with \'/=\'.",E015:"Unclosed regular expression.",E016:"Invalid regular expression.",E017:"Unclosed comment.",E018:"Unbegun comment.",E019:"Unmatched \'{a}\'.",E020:"Expected \'{a}\' to match \'{b}\' from line {c} and instead saw \'{d}\'.",E021:"Expected \'{a}\' and instead saw \'{b}\'.",E022:"Line breaking error \'{a}\'.",E023:"Missing \'{a}\'.",E024:"Unexpected \'{a}\'.",E025:"Missing \':\' on a case clause.",E026:"Missing \'}\' to match \'{\' from line {a}.",E027:"Missing \']\' to match \'[\' from line {a}.",E028:"Illegal comma.",E029:"Unclosed string.",E030:"Expected an identifier and instead saw \'{a}\'.",E031:"Bad assignment.",E032:"Expected a small integer or \'false\' and instead saw \'{a}\'.",E033:"Expected an operator and instead saw \'{a}\'.",E034:"get/set are ES5 features.",E035:"Missing property name.",E036:"Expected to see a statement and instead saw a block.",E037:null,E038:null,E039:"Function declarations are not invocable. Wrap the whole function invocation in parens.",E040:"Each value should have its own case label.",E041:"Unrecoverable syntax error.",E042:"Stopping.",E043:"Too many errors.",E044:null,E045:"Invalid for each loop.",E046:"A yield statement shall be within a generator function (with syntax: `function*`)",E047:null,E048:"Let declaration not directly within block.",E049:"A {a} cannot be named \'{b}\'.",E050:"Mozilla acequires the yield expression to be parenthesized here.",E051:"Regular parameters cannot come after default parameters.",E052:"Unclosed template literal."},warnings={W001:"\'hasOwnProperty\' is a really bad name.",W002:"Value of \'{a}\' may be overwritten in IE 8 and earlier.",W003:"\'{a}\' was used before it was defined.",W004:"\'{a}\' is already defined.",W005:"A dot following a number can be confused with a decimal point.",W006:"Confusing minuses.",W007:"Confusing plusses.",W008:"A leading decimal point can be confused with a dot: \'{a}\'.",W009:"The array literal notation [] is preferable.",W010:"The object literal notation {} is preferable.",W011:null,W012:null,W013:null,W014:"Bad line breaking before \'{a}\'.",W015:null,W016:"Unexpected use of \'{a}\'.",W017:"Bad operand.",W018:"Confusing use of \'{a}\'.",W019:"Use the isNaN function to compare with NaN.",W020:"Read only.",W021:"\'{a}\' is a function.",W022:"Do not assign to the exception parameter.",W023:"Expected an identifier in an assignment and instead saw a function invocation.",W024:"Expected an identifier and instead saw \'{a}\' (a reserved word).",W025:"Missing name in function declaration.",W026:"Inner functions should be listed at the top of the outer function.",W027:"Unreachable \'{a}\' after \'{b}\'.",W028:"Label \'{a}\' on {b} statement.",W030:"Expected an assignment or function call and instead saw an expression.",W031:"Do not use \'new\' for side effects.",W032:"Unnecessary semicolon.",W033:"Missing semicolon.",W034:\'Unnecessary directive "{a}".\',W035:"Empty block.",W036:"Unexpected /*member \'{a}\'.",W037:"\'{a}\' is a statement label.",W038:"\'{a}\' used out of scope.",W039:"\'{a}\' is not allowed.",W040:"Possible strict violation.",W041:"Use \'{a}\' to compare with \'{b}\'.",W042:"Avoid EOL escaping.",W043:"Bad escaping of EOL. Use option multistr if needed.",W044:"Bad or unnecessary escaping.",W045:"Bad number \'{a}\'.",W046:"Don\'t use extra leading zeros \'{a}\'.",W047:"A trailing decimal point can be confused with a dot: \'{a}\'.",W048:"Unexpected control character in regular expression.",W049:"Unexpected escaped character \'{a}\' in regular expression.",W050:"JavaScript URL.",W051:"Variables should not be deleted.",W052:"Unexpected \'{a}\'.",W053:"Do not use {a} as a constructor.",W054:"The Function constructor is a form of eval.",W055:"A constructor name should start with an uppercase letter.",W056:"Bad constructor.",W057:"Weird construction. Is \'new\' necessary?",W058:"Missing \'()\' invoking a constructor.",W059:"Avoid arguments.{a}.",W060:"document.write can be a form of eval.",W061:"eval can be harmful.",W062:"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.",W063:"Math is not a function.",W064:"Missing \'new\' prefix when invoking a constructor.",W065:"Missing radix parameter.",W066:"Implied eval. Consider passing a function instead of a string.",W067:"Bad invocation.",W068:"Wrapping non-IIFE function literals in parens is unnecessary.",W069:"[\'{a}\'] is better written in dot notation.",W070:"Extra comma. (it breaks older versions of IE)",W071:"This function has too many statements. ({a})",W072:"This function has too many parameters. ({a})",W073:"Blocks are nested too deeply. ({a})",W074:"This function\'s cyclomatic complexity is too high. ({a})",W075:"Duplicate key \'{a}\'.",W076:"Unexpected parameter \'{a}\' in get {b} function.",W077:"Expected a single parameter in set {a} function.",W078:"Setter is defined without getter.",W079:"Redefinition of \'{a}\'.",W080:"It\'s not necessary to initialize \'{a}\' to \'undefined\'.",W081:null,W082:"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",W083:"Don\'t make functions within a loop.",W084:"Assignment in conditional expression",W085:"Don\'t use \'with\'.",W086:"Expected a \'break\' statement before \'{a}\'.",W087:"Forgotten \'debugger\' statement?",W088:"Creating global \'for\' variable. Should be \'for (var {a} ...\'.",W089:"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",W090:"\'{a}\' is not a statement label.",W091:"\'{a}\' is out of scope.",W093:"Did you mean to return a conditional instead of an assignment?",W094:"Unexpected comma.",W095:"Expected a string and instead saw {a}.",W096:"The \'{a}\' key may produce unexpected results.",W097:\'Use the function form of "use strict".\',W098:"\'{a}\' is defined but never used.",W099:null,W100:"This character may get silently deleted by one or more browsers.",W101:"Line is too long.",W102:null,W103:"The \'{a}\' property is deprecated.",W104:"\'{a}\' is available in ES6 (use esnext option) or Mozilla JS extensions (use moz).",W105:"Unexpected {a} in \'{b}\'.",W106:"Identifier \'{a}\' is not in camel case.",W107:"Script URL.",W108:"Strings must use doublequote.",W109:"Strings must use singlequote.",W110:"Mixed double and single quotes.",W112:"Unclosed string.",W113:"Control character in string: {a}.",W114:"Avoid {a}.",W115:"Octal literals are not allowed in strict mode.",W116:"Expected \'{a}\' and instead saw \'{b}\'.",W117:"\'{a}\' is not defined.",W118:"\'{a}\' is only available in Mozilla JavaScript extensions (use moz option).",W119:"\'{a}\' is only available in ES6 (use esnext option).",W120:"You might be leaking a variable ({a}) here.",W121:"Extending prototype of native object: \'{a}\'.",W122:"Invalid typeof value \'{a}\'",W123:"\'{a}\' is already defined in outer scope.",W124:"A generator function shall contain a yield statement.",W125:"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp"},info={I001:"Comma warnings can be turned off with \'laxcomma\'.",I002:null,I003:"ES5 option is now set per default"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{underscore:2}],6:[function(_dereq_,module,exports){"use string";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*\\/\\*\\s*falls?\\sthrough\\s*\\*\\/\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],7:[function(_dereq_,module,exports){"use strict";var state={syntax:{},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab="",this.cache={},this.ignoredLines={},this.ignoreLinterErrors=!1}};exports.state=state},{}],8:[function(_dereq_,module,exports){"use strict";exports.register=function(linter){linter.on("Identifier",function(data){linter.getOption("proto")||"__proto__"===data.name&&linter.warn("W103",{line:data.line,"char":data.char,data:[data.name]})}),linter.on("Identifier",function(data){linter.getOption("iterator")||"__iterator__"===data.name&&linter.warn("W104",{line:data.line,"char":data.char,data:[data.name]})}),linter.on("Identifier",function(data){linter.getOption("camelcase")&&data.name.replace(/^_+|_+$/g,"").indexOf("_")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn("W106",{line:data.line,"char":data.from,data:[data.name]})}),linter.on("String",function(data){var code,quotmark=linter.getOption("quotmark");quotmark&&("single"===quotmark&&"\'"!==data.quote&&(code="W109"),"double"===quotmark&&\'"\'!==data.quote&&(code="W108"),quotmark===!0&&(linter.getCache("quotmark")||linter.setCache("quotmark",data.quote),linter.getCache("quotmark")!==data.quote&&(code="W110")),code&&linter.warn(code,{line:data.line,"char":data.char}))}),linter.on("Number",function(data){"."===data.value.charAt(0)&&linter.warn("W008",{line:data.line,"char":data.char,data:[data.value]}),"."===data.value.substr(data.value.length-1)&&linter.warn("W047",{line:data.line,"char":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn("W046",{line:data.line,"char":data.char,data:[data.value]})}),linter.on("String",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption("scripturl")||re.test(data.value)&&linter.warn("W107",{line:data.line,"char":data.char})})}},{}],9:[function(_dereq_,module,exports){"use strict";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},exports.newEcmaIdentifiers={Set:!1,Map:!1,WeakMap:!1,WeakSet:!1,Proxy:!1,Promise:!1},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,document:!1,Element:!1,ElementTimeControl:!1,event:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,TimeEvent:!1,top:!1,URL:!1,WebSocket:!1,window:!1,Worker:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,"throws":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={describe:!1,it:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1},exports.jasmine={jasmine:!1,describe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1}},{}],10:[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0\n}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length))throw er=arguments[1],er instanceof Error?er:TypeError(\'Uncaught, unspecified "error" event.\');if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[type].length),console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}]},{},[3])(3)}),ace.define("ace/mode/javascript_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/javascript/jshint"],function(acequire,exports,module){"use strict";function startRegex(arr){return RegExp("^("+arr.join("|")+")")}var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,lint=acequire("./javascript/jshint").JSHINT,disabledWarningsRe=startRegex(["Bad for in variable \'(.+)\'.",\'Missing "use strict"\']),errorsRe=startRegex(["Unexpected","Expected ","Confusing (plus|minus)","\\\\{a\\\\} unterminated regular expression","Unclosed ","Unmatched ","Unbegun comment","Bad invocation","Missing space after","Missing operator at"]),infoRe=startRegex(["Expected an assignment","Bad escapement of EOL","Unexpected comma","Unexpected space","Missing radix parameter.","A leading decimal point can","\\\\[\'{a}\'\\\\] is better written in dot notation.","\'{a}\' used out of scope"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval("throw 0;"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,"\\n"),!value)return this.sender.emit("jslint",[]),void 0;var errors=[],maxErrorLevel=this.isValidJS(value)?"warning":"error";lint(value,this.options);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type="warning";if("Missing semicolon."==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),"error"==maxErrorLevel&&str&&/[\\w\\d{([\'"]/.test(str)?(error.reason=\'Missing ";" before statement\',type="error"):type="info"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type="info":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):"\'{a}\' is not defined."==raw?type="warning":"\'{a}\' is defined but never used."==raw&&(type="info")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit("jslint",errors)}}.call(JavaScriptWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r Â áá ââââââââââââ¯âã\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},513:function(e,t){e.exports.id="ace/mode/css_worker",e.exports.src='"no use strict";(function(window){if(void 0===window.window||!window.document){window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console,window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){console.error("Worker "+(err?err.stack:message))},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split("/");if(!window.acequire.tlns)return console.log("unable to load "+id);chunks[0]=window.acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join("/")+".js";return window.acequire.id=id,importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),deps.length||(deps=["require","exports","module"]),0!==id.indexOf("text!")){var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}}},window.define.amd={},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error("Unknown command:"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}else msg.event&&sender&&sender._signal(msg.event,msg.data)}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if("object"!=typeof obj||!obj)return obj;var cons=obj.constructor;if(cons===RegExp)return obj;var copy=cons();for(var key in obj)copy[key]="object"==typeof obj[key]?exports.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;"insertText"===delta.action?start.row===row&&column>=start.column?start.column===column&&this.$insertRight||(start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row)):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):"insertLines"===delta.action?start.row===row&&0===column&&this.$insertRight||row>=start.row&&(row+=end.row-start.row):"removeText"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):"removeLines"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(text){this.$lines=[],0===text.length?this.$lines=[""]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.getLine(range.start.row).substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||"")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},"\\n"+lines.join("\\n")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};for(;lines.length>61440;){var end=this._insertLines(row,lines.slice(0,61440));lines=lines.slice(61440),row=end.row}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:"insertLines",range:range,lines:lines};return this._signal("change",{data:delta}),range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:"insertText",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._signal("change",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:"insertText",range:Range.fromPoints(position,end),text:text};return this._signal("change",{data:delta}),end},this.remove=function(range){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:"removeText",range:range,text:removed};return this._signal("change",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:"removeLines",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._signal("change",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:"removeText",range:range,text:this.getNewLineCharacter()};this._signal("change",{data:delta})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this.insertLines(range.start.row,delta.lines):"insertText"==delta.action?this.insert(range.start,delta.text):"removeLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"removeText"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"insertText"==delta.action?this.remove(range):"removeLines"==delta.action?this._insertLines(range.start.row,delta.lines):"removeText"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){return doc.applyDeltas(e.data),_self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/css/csslint",["require","exports","module"],function(acequire,exports,module){function Reporter(lines,ruleset){this.messages=[],this.stats=[],this.lines=lines,this.ruleset=ruleset}var parserlib={};(function(){function EventTarget(){this._listeners={}}function StringReader(text){this._input=text.replace(/\\n\\r?/g,"\\n"),this._line=1,this._col=1,this._cursor=0}function SyntaxError(message,line,col){this.col=col,this.line=line,this.message=message}function SyntaxUnit(text,line,col,type){this.col=col,this.line=line,this.text=text,this.type=type}function TokenStreamBase(input,tokenData){this._reader=input?new StringReader(""+input):null,this._token=null,this._tokenData=tokenData,this._lt=[],this._ltIndex=0,this._ltIndexCache=[]}EventTarget.prototype={constructor:EventTarget,addListener:function(type,listener){this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(listener)},fire:function(event){if("string"==typeof event&&(event={type:event}),event.target!==void 0&&(event.target=this),event.type===void 0)throw Error("Event object missing \'type\' property.");if(this._listeners[event.type])for(var listeners=this._listeners[event.type].concat(),i=0,len=listeners.length;len>i;i++)listeners[i].call(this,event)},removeListener:function(type,listener){if(this._listeners[type])for(var listeners=this._listeners[type],i=0,len=listeners.length;len>i;i++)if(listeners[i]===listener){listeners.splice(i,1);break}}},StringReader.prototype={constructor:StringReader,getCol:function(){return this._col},getLine:function(){return this._line},eof:function(){return this._cursor==this._input.length},peek:function(count){var c=null;return count=count===void 0?1:count,this._cursor<this._input.length&&(c=this._input.charAt(this._cursor+count-1)),c},read:function(){var c=null;return this._cursor<this._input.length&&("\\n"==this._input.charAt(this._cursor)?(this._line++,this._col=1):this._col++,c=this._input.charAt(this._cursor++)),c},mark:function(){this._bookmark={cursor:this._cursor,line:this._line,col:this._col}},reset:function(){this._bookmark&&(this._cursor=this._bookmark.cursor,this._line=this._bookmark.line,this._col=this._bookmark.col,delete this._bookmark)},readTo:function(pattern){for(var c,buffer="";buffer.length<pattern.length||buffer.lastIndexOf(pattern)!=buffer.length-pattern.length;){if(c=this.read(),!c)throw Error(\'Expected "\'+pattern+\'" at line \'+this._line+", col "+this._col+".");buffer+=c}return buffer},readWhile:function(filter){for(var buffer="",c=this.read();null!==c&&filter(c);)buffer+=c,c=this.read();return buffer},readMatch:function(matcher){var source=this._input.substring(this._cursor),value=null;return"string"==typeof matcher?0===source.indexOf(matcher)&&(value=this.readCount(matcher.length)):matcher instanceof RegExp&&matcher.test(source)&&(value=this.readCount(RegExp.lastMatch.length)),value},readCount:function(count){for(var buffer="";count--;)buffer+=this.read();return buffer}},SyntaxError.prototype=Error(),SyntaxUnit.fromToken=function(token){return new SyntaxUnit(token.value,token.startLine,token.startCol)},SyntaxUnit.prototype={constructor:SyntaxUnit,valueOf:function(){return""+this},toString:function(){return this.text}},TokenStreamBase.createTokenData=function(tokens){var nameMap=[],typeMap={},tokenData=tokens.concat([]),i=0,len=tokenData.length+1;for(tokenData.UNKNOWN=-1,tokenData.unshift({name:"EOF"});len>i;i++)nameMap.push(tokenData[i].name),tokenData[tokenData[i].name]=i,tokenData[i].text&&(typeMap[tokenData[i].text]=i);return tokenData.name=function(tt){return nameMap[tt]},tokenData.type=function(c){return typeMap[c]},tokenData},TokenStreamBase.prototype={constructor:TokenStreamBase,match:function(tokenTypes,channel){tokenTypes instanceof Array||(tokenTypes=[tokenTypes]);for(var tt=this.get(channel),i=0,len=tokenTypes.length;len>i;)if(tt==tokenTypes[i++])return!0;return this.unget(),!1},mustMatch:function(tokenTypes){var token;if(tokenTypes instanceof Array||(tokenTypes=[tokenTypes]),!this.match.apply(this,arguments))throw token=this.LT(1),new SyntaxError("Expected "+this._tokenData[tokenTypes[0]].name+" at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},advance:function(tokenTypes,channel){for(;0!==this.LA(0)&&!this.match(tokenTypes,channel);)this.get();return this.LA(0)},get:function(channel){var token,info,tokenInfo=this._tokenData,i=(this._reader,0);if(tokenInfo.length,this._lt.length&&this._ltIndex>=0&&this._ltIndex<this._lt.length){for(i++,this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type];void 0!==info.channel&&channel!==info.channel&&this._ltIndex<this._lt.length;)this._token=this._lt[this._ltIndex++],info=tokenInfo[this._token.type],i++;if((void 0===info.channel||channel===info.channel)&&this._ltIndex<=this._lt.length)return this._ltIndexCache.push(i),this._token.type}return token=this._getToken(),token.type>-1&&!tokenInfo[token.type].hide&&(token.channel=tokenInfo[token.type].channel,this._token=token,this._lt.push(token),this._ltIndexCache.push(this._lt.length-this._ltIndex+i),this._lt.length>5&&this._lt.shift(),this._ltIndexCache.length>5&&this._ltIndexCache.shift(),this._ltIndex=this._lt.length),info=tokenInfo[token.type],info&&(info.hide||void 0!==info.channel&&channel!==info.channel)?this.get(channel):token.type},LA:function(index){var tt,total=index;if(index>0){if(index>5)throw Error("Too much lookahead.");for(;total;)tt=this.get(),total--;for(;index>total;)this.unget(),total++}else if(0>index){if(!this._lt[this._ltIndex+index])throw Error("Too much lookbehind.");tt=this._lt[this._ltIndex+index].type}else tt=this._token.type;return tt},LT:function(index){return this.LA(index),this._lt[this._ltIndex+index-1]},peek:function(){return this.LA(1)},token:function(){return this._token},tokenName:function(tokenType){return 0>tokenType||tokenType>this._tokenData.length?"UNKNOWN_TOKEN":this._tokenData[tokenType].name},tokenType:function(tokenName){return this._tokenData[tokenName]||-1},unget:function(){if(!this._ltIndexCache.length)throw Error("Too much lookahead.");this._ltIndex-=this._ltIndexCache.pop(),this._token=this._lt[this._ltIndex-1]}},parserlib.util={StringReader:StringReader,SyntaxError:SyntaxError,SyntaxUnit:SyntaxUnit,EventTarget:EventTarget,TokenStreamBase:TokenStreamBase}})(),function(){function Combinator(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.COMBINATOR_TYPE),this.type="unknown",/^\\s+$/.test(text)?this.type="descendant":">"==text?this.type="child":"+"==text?this.type="adjacent-sibling":"~"==text&&(this.type="sibling")}function MediaFeature(name,value){SyntaxUnit.call(this,"("+name+(null!==value?":"+value:"")+")",name.startLine,name.startCol,Parser.MEDIA_FEATURE_TYPE),this.name=name,this.value=value\n}function MediaQuery(modifier,mediaType,features,line,col){SyntaxUnit.call(this,(modifier?modifier+" ":"")+(mediaType?mediaType:"")+(mediaType&&features.length>0?" and ":"")+features.join(" and "),line,col,Parser.MEDIA_QUERY_TYPE),this.modifier=modifier,this.mediaType=mediaType,this.features=features}function Parser(options){EventTarget.call(this),this.options=options||{},this._tokenStream=null}function PropertyName(text,hack,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_NAME_TYPE),this.hack=hack}function PropertyValue(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.PROPERTY_VALUE_TYPE),this.parts=parts}function PropertyValueIterator(value){this._i=0,this._parts=value.parts,this._marks=[],this.value=value}function PropertyValuePart(text,line,col){SyntaxUnit.call(this,text,line,col,Parser.PROPERTY_VALUE_PART_TYPE),this.type="unknown";var temp;if(/^([+\\-]?[\\d\\.]+)([a-z]+)$/i.test(text))switch(this.type="dimension",this.value=+RegExp.$1,this.units=RegExp.$2,this.units.toLowerCase()){case"em":case"rem":case"ex":case"px":case"cm":case"mm":case"in":case"pt":case"pc":case"ch":case"vh":case"vw":case"vm":this.type="length";break;case"deg":case"rad":case"grad":this.type="angle";break;case"ms":case"s":this.type="time";break;case"hz":case"khz":this.type="frequency";break;case"dpi":case"dpcm":this.type="resolution"}else/^([+\\-]?[\\d\\.]+)%$/i.test(text)?(this.type="percentage",this.value=+RegExp.$1):/^([+\\-]?\\d+)$/i.test(text)?(this.type="integer",this.value=+RegExp.$1):/^([+\\-]?[\\d\\.]+)$/i.test(text)?(this.type="number",this.value=+RegExp.$1):/^#([a-f0-9]{3,6})/i.test(text)?(this.type="color",temp=RegExp.$1,3==temp.length?(this.red=parseInt(temp.charAt(0)+temp.charAt(0),16),this.green=parseInt(temp.charAt(1)+temp.charAt(1),16),this.blue=parseInt(temp.charAt(2)+temp.charAt(2),16)):(this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16))):/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3):/^rgb\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100):/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=+RegExp.$1,this.green=+RegExp.$2,this.blue=+RegExp.$3,this.alpha=+RegExp.$4):/^rgba\\(\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.red=255*+RegExp.$1/100,this.green=255*+RegExp.$2/100,this.blue=255*+RegExp.$3/100,this.alpha=+RegExp.$4):/^hsl\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100):/^hsla\\(\\s*(\\d+)\\s*,\\s*(\\d+)%\\s*,\\s*(\\d+)%\\s*,\\s*([\\d\\.]+)\\s*\\)/i.test(text)?(this.type="color",this.hue=+RegExp.$1,this.saturation=+RegExp.$2/100,this.lightness=+RegExp.$3/100,this.alpha=+RegExp.$4):/^url\\(["\']?([^\\)"\']+)["\']?\\)/i.test(text)?(this.type="uri",this.uri=RegExp.$1):/^([^\\(]+)\\(/i.test(text)?(this.type="function",this.name=RegExp.$1,this.value=text):/^["\'][^"\']*["\']/.test(text)?(this.type="string",this.value=eval(text)):Colors[text.toLowerCase()]?(this.type="color",temp=Colors[text.toLowerCase()].substring(1),this.red=parseInt(temp.substring(0,2),16),this.green=parseInt(temp.substring(2,4),16),this.blue=parseInt(temp.substring(4,6),16)):/^[\\,\\/]$/.test(text)?(this.type="operator",this.value=text):/^[a-z\\-\\u0080-\\uFFFF][a-z0-9\\-\\u0080-\\uFFFF]*$/i.test(text)&&(this.type="identifier",this.value=text)}function Selector(parts,line,col){SyntaxUnit.call(this,parts.join(" "),line,col,Parser.SELECTOR_TYPE),this.parts=parts,this.specificity=Specificity.calculate(this)}function SelectorPart(elementName,modifiers,text,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_PART_TYPE),this.elementName=elementName,this.modifiers=modifiers}function SelectorSubPart(text,type,line,col){SyntaxUnit.call(this,text,line,col,Parser.SELECTOR_SUB_PART_TYPE),this.type=type,this.args=[]}function Specificity(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d}function isHexDigit(c){return null!==c&&h.test(c)}function isDigit(c){return null!==c&&/\\d/.test(c)}function isWhitespace(c){return null!==c&&/\\s/.test(c)}function isNewLine(c){return null!==c&&nl.test(c)}function isNameStart(c){return null!==c&&/[a-z_\\u0080-\\uFFFF\\\\]/i.test(c)}function isNameChar(c){return null!==c&&(isNameStart(c)||/[0-9\\-\\\\]/.test(c))}function isIdentStart(c){return null!==c&&(isNameStart(c)||/\\-\\\\/.test(c))}function mix(receiver,supplier){for(var prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return receiver}function TokenStream(input){TokenStreamBase.call(this,input,Tokens)}function ValidationError(message,line,col){this.col=col,this.line=line,this.message=message}var EventTarget=parserlib.util.EventTarget,TokenStreamBase=parserlib.util.TokenStreamBase,StringReader=parserlib.util.StringReader,SyntaxError=parserlib.util.SyntaxError,SyntaxUnit=parserlib.util.SyntaxUnit,Colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",activeBorder:"Active window border.",activecaption:"Active window caption.",appworkspace:"Background color of multiple document interface.",background:"Desktop background.",buttonface:"The face background color for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonhighlight:"The color of the border facing the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttonshadow:"The color of the border away from the light source for 3-D elements that appear 3-D due to one layer of surrounding border.",buttontext:"Text on push buttons.",captiontext:"Text in caption, size box, and scrollbar arrow box.",graytext:"Grayed (disabled) text. This color is set to #000 if the current display driver does not support a solid gray color.",greytext:"Greyed (disabled) text. This color is set to #000 if the current display driver does not support a solid grey color.",highlight:"Item(s) selected in a control.",highlighttext:"Text of item(s) selected in a control.",inactiveborder:"Inactive window border.",inactivecaption:"Inactive window caption.",inactivecaptiontext:"Color of text in an inactive caption.",infobackground:"Background color for tooltip controls.",infotext:"Text color for tooltip controls.",menu:"Menu background.",menutext:"Text in menus.",scrollbar:"Scroll bar gray area.",threeddarkshadow:"The color of the darker (generally outer) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedface:"The face background color for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedhighlight:"The color of the lighter (generally outer) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedlightshadow:"The color of the darker (generally inner) of the two borders facing the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",threedshadow:"The color of the lighter (generally inner) of the two borders away from the light source for 3-D elements that appear 3-D due to two concentric layers of surrounding border.",window:"Window background.",windowframe:"Window frame.",windowtext:"Text in windows."};Combinator.prototype=new SyntaxUnit,Combinator.prototype.constructor=Combinator,MediaFeature.prototype=new SyntaxUnit,MediaFeature.prototype.constructor=MediaFeature,MediaQuery.prototype=new SyntaxUnit,MediaQuery.prototype.constructor=MediaQuery,Parser.DEFAULT_TYPE=0,Parser.COMBINATOR_TYPE=1,Parser.MEDIA_FEATURE_TYPE=2,Parser.MEDIA_QUERY_TYPE=3,Parser.PROPERTY_NAME_TYPE=4,Parser.PROPERTY_VALUE_TYPE=5,Parser.PROPERTY_VALUE_PART_TYPE=6,Parser.SELECTOR_TYPE=7,Parser.SELECTOR_PART_TYPE=8,Parser.SELECTOR_SUB_PART_TYPE=9,Parser.prototype=function(){var prop,proto=new EventTarget,additions={constructor:Parser,DEFAULT_TYPE:0,COMBINATOR_TYPE:1,MEDIA_FEATURE_TYPE:2,MEDIA_QUERY_TYPE:3,PROPERTY_NAME_TYPE:4,PROPERTY_VALUE_TYPE:5,PROPERTY_VALUE_PART_TYPE:6,SELECTOR_TYPE:7,SELECTOR_PART_TYPE:8,SELECTOR_SUB_PART_TYPE:9,_stylesheet:function(){var count,token,tt,tokenStream=this._tokenStream;for(this.fire("startstylesheet"),this._charset(),this._skipCruft();tokenStream.peek()==Tokens.IMPORT_SYM;)this._import(),this._skipCruft();for(;tokenStream.peek()==Tokens.NAMESPACE_SYM;)this._namespace(),this._skipCruft();for(tt=tokenStream.peek();tt>Tokens.EOF;){try{switch(tt){case Tokens.MEDIA_SYM:this._media(),this._skipCruft();break;case Tokens.PAGE_SYM:this._page(),this._skipCruft();break;case Tokens.FONT_FACE_SYM:this._font_face(),this._skipCruft();break;case Tokens.KEYFRAMES_SYM:this._keyframes(),this._skipCruft();break;case Tokens.VIEWPORT_SYM:this._viewport(),this._skipCruft();break;case Tokens.UNKNOWN_SYM:if(tokenStream.get(),this.options.strict)throw new SyntaxError("Unknown @ rule.",tokenStream.LT(0).startLine,tokenStream.LT(0).startCol);for(this.fire({type:"error",error:null,message:"Unknown @ rule: "+tokenStream.LT(0).value+".",line:tokenStream.LT(0).startLine,col:tokenStream.LT(0).startCol}),count=0;tokenStream.advance([Tokens.LBRACE,Tokens.RBRACE])==Tokens.LBRACE;)count++;for(;count;)tokenStream.advance([Tokens.RBRACE]),count--;break;case Tokens.S:this._readWhitespace();break;default:if(!this._ruleset())switch(tt){case Tokens.CHARSET_SYM:throw token=tokenStream.LT(1),this._charset(!1),new SyntaxError("@charset not allowed here.",token.startLine,token.startCol);case Tokens.IMPORT_SYM:throw token=tokenStream.LT(1),this._import(!1),new SyntaxError("@import not allowed here.",token.startLine,token.startCol);case Tokens.NAMESPACE_SYM:throw token=tokenStream.LT(1),this._namespace(!1),new SyntaxError("@namespace not allowed here.",token.startLine,token.startCol);default:tokenStream.get(),this._unexpectedToken(tokenStream.token())}}}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col})}tt=tokenStream.peek()}tt!=Tokens.EOF&&this._unexpectedToken(tokenStream.token()),this.fire("endstylesheet")},_charset:function(emit){var charset,token,line,col,tokenStream=this._tokenStream;tokenStream.match(Tokens.CHARSET_SYM)&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.mustMatch(Tokens.STRING),token=tokenStream.token(),charset=token.value,this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),emit!==!1&&this.fire({type:"charset",charset:charset,line:line,col:col}))},_import:function(emit){var uri,importToken,tokenStream=this._tokenStream,mediaList=[];tokenStream.mustMatch(Tokens.IMPORT_SYM),importToken=tokenStream.token(),this._readWhitespace(),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?["\']([^"\']+)["\']\\)?/,"$1"),this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"import",uri:uri,media:mediaList,line:importToken.startLine,col:importToken.startCol})},_namespace:function(emit){var line,col,prefix,uri,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.NAMESPACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(prefix=tokenStream.token().value,this._readWhitespace()),tokenStream.mustMatch([Tokens.STRING,Tokens.URI]),uri=tokenStream.token().value.replace(/(?:url\\()?["\']([^"\']+)["\']\\)?/,"$1"),this._readWhitespace(),tokenStream.mustMatch(Tokens.SEMICOLON),this._readWhitespace(),emit!==!1&&this.fire({type:"namespace",prefix:prefix,uri:uri,line:line,col:col})},_media:function(){var line,col,mediaList,tokenStream=this._tokenStream;for(tokenStream.mustMatch(Tokens.MEDIA_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),mediaList=this._media_query_list(),tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace(),this.fire({type:"startmedia",media:mediaList,line:line,col:col});;)if(tokenStream.peek()==Tokens.PAGE_SYM)this._page();else if(tokenStream.peek()==Tokens.FONT_FACE_SYM)this._font_face();else if(!this._ruleset())break;tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace(),this.fire({type:"endmedia",media:mediaList,line:line,col:col})},_media_query_list:function(){var tokenStream=this._tokenStream,mediaList=[];for(this._readWhitespace(),(tokenStream.peek()==Tokens.IDENT||tokenStream.peek()==Tokens.LPAREN)&&mediaList.push(this._media_query());tokenStream.match(Tokens.COMMA);)this._readWhitespace(),mediaList.push(this._media_query());return mediaList},_media_query:function(){var tokenStream=this._tokenStream,type=null,ident=null,token=null,expressions=[];if(tokenStream.match(Tokens.IDENT)&&(ident=tokenStream.token().value.toLowerCase(),"only"!=ident&&"not"!=ident?(tokenStream.unget(),ident=null):token=tokenStream.token()),this._readWhitespace(),tokenStream.peek()==Tokens.IDENT?(type=this._media_type(),null===token&&(token=tokenStream.token())):tokenStream.peek()==Tokens.LPAREN&&(null===token&&(token=tokenStream.LT(1)),expressions.push(this._media_expression())),null===type&&0===expressions.length)return null;for(this._readWhitespace();tokenStream.match(Tokens.IDENT);)"and"!=tokenStream.token().value.toLowerCase()&&this._unexpectedToken(tokenStream.token()),this._readWhitespace(),expressions.push(this._media_expression());return new MediaQuery(ident,type,expressions,token.startLine,token.startCol)},_media_type:function(){return this._media_feature()},_media_expression:function(){var token,tokenStream=this._tokenStream,feature=null,expression=null;return tokenStream.mustMatch(Tokens.LPAREN),feature=this._media_feature(),this._readWhitespace(),tokenStream.match(Tokens.COLON)&&(this._readWhitespace(),token=tokenStream.LT(1),expression=this._expression()),tokenStream.mustMatch(Tokens.RPAREN),this._readWhitespace(),new MediaFeature(feature,expression?new SyntaxUnit(expression,token.startLine,token.startCol):null)},_media_feature:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.IDENT),SyntaxUnit.fromToken(tokenStream.token())},_page:function(){var line,col,tokenStream=this._tokenStream,identifier=null,pseudoPage=null;tokenStream.mustMatch(Tokens.PAGE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),tokenStream.match(Tokens.IDENT)&&(identifier=tokenStream.token().value,"auto"===identifier.toLowerCase()&&this._unexpectedToken(tokenStream.token())),tokenStream.peek()==Tokens.COLON&&(pseudoPage=this._pseudo_page()),this._readWhitespace(),this.fire({type:"startpage",id:identifier,pseudo:pseudoPage,line:line,col:col}),this._readDeclarations(!0,!0),this.fire({type:"endpage",id:identifier,pseudo:pseudoPage,line:line,col:col})},_margin:function(){var line,col,tokenStream=this._tokenStream,marginSym=this._margin_sym();return marginSym?(line=tokenStream.token().startLine,col=tokenStream.token().startCol,this.fire({type:"startpagemargin",margin:marginSym,line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endpagemargin",margin:marginSym,line:line,col:col}),!0):!1},_margin_sym:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.TOPLEFTCORNER_SYM,Tokens.TOPLEFT_SYM,Tokens.TOPCENTER_SYM,Tokens.TOPRIGHT_SYM,Tokens.TOPRIGHTCORNER_SYM,Tokens.BOTTOMLEFTCORNER_SYM,Tokens.BOTTOMLEFT_SYM,Tokens.BOTTOMCENTER_SYM,Tokens.BOTTOMRIGHT_SYM,Tokens.BOTTOMRIGHTCORNER_SYM,Tokens.LEFTTOP_SYM,Tokens.LEFTMIDDLE_SYM,Tokens.LEFTBOTTOM_SYM,Tokens.RIGHTTOP_SYM,Tokens.RIGHTMIDDLE_SYM,Tokens.RIGHTBOTTOM_SYM])?SyntaxUnit.fromToken(tokenStream.token()):null},_pseudo_page:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch(Tokens.COLON),tokenStream.mustMatch(Tokens.IDENT),tokenStream.token().value},_font_face:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.FONT_FACE_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startfontface",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endfontface",line:line,col:col})},_viewport:function(){var line,col,tokenStream=this._tokenStream;tokenStream.mustMatch(Tokens.VIEWPORT_SYM),line=tokenStream.token().startLine,col=tokenStream.token().startCol,this._readWhitespace(),this.fire({type:"startviewport",line:line,col:col}),this._readDeclarations(!0),this.fire({type:"endviewport",line:line,col:col})},_operator:function(inFunction){var tokenStream=this._tokenStream,token=null;return(tokenStream.match([Tokens.SLASH,Tokens.COMMA])||inFunction&&tokenStream.match([Tokens.PLUS,Tokens.STAR,Tokens.MINUS]))&&(token=tokenStream.token(),this._readWhitespace()),token?PropertyValuePart.fromToken(token):null},_combinator:function(){var token,tokenStream=this._tokenStream,value=null;return tokenStream.match([Tokens.PLUS,Tokens.GREATER,Tokens.TILDE])&&(token=tokenStream.token(),value=new Combinator(token.value,token.startLine,token.startCol),this._readWhitespace()),value},_unary_operator:function(){var tokenStream=this._tokenStream;return tokenStream.match([Tokens.MINUS,Tokens.PLUS])?tokenStream.token().value:null},_property:function(){var tokenValue,token,line,col,tokenStream=this._tokenStream,value=null,hack=null;return tokenStream.peek()==Tokens.STAR&&this.options.starHack&&(tokenStream.get(),token=tokenStream.token(),hack=token.value,line=token.startLine,col=token.startCol),tokenStream.match(Tokens.IDENT)&&(token=tokenStream.token(),tokenValue=token.value,"_"==tokenValue.charAt(0)&&this.options.underscoreHack&&(hack="_",tokenValue=tokenValue.substring(1)),value=new PropertyName(tokenValue,hack,line||token.startLine,col||token.startCol),this._readWhitespace()),value},_ruleset:function(){var tt,selectors,tokenStream=this._tokenStream;try{selectors=this._selectors_group()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.RBRACE]),tt!=Tokens.RBRACE)throw ex;return!0}return selectors&&(this.fire({type:"startrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col}),this._readDeclarations(!0),this.fire({type:"endrule",selectors:selectors,line:selectors[0].line,col:selectors[0].col})),selectors},_selectors_group:function(){var selector,tokenStream=this._tokenStream,selectors=[];if(selector=this._selector(),null!==selector)for(selectors.push(selector);tokenStream.match(Tokens.COMMA);)this._readWhitespace(),selector=this._selector(),null!==selector?selectors.push(selector):this._unexpectedToken(tokenStream.LT(1));return selectors.length?selectors:null},_selector:function(){var tokenStream=this._tokenStream,selector=[],nextSelector=null,combinator=null,ws=null;if(nextSelector=this._simple_selector_sequence(),null===nextSelector)return null;for(selector.push(nextSelector);;)if(combinator=this._combinator(),null!==combinator)selector.push(combinator),nextSelector=this._simple_selector_sequence(),null===nextSelector?this._unexpectedToken(tokenStream.LT(1)):selector.push(nextSelector);else{if(!this._readWhitespace())break;ws=new Combinator(tokenStream.token().value,tokenStream.token().startLine,tokenStream.token().startCol),combinator=this._combinator(),nextSelector=this._simple_selector_sequence(),null===nextSelector?null!==combinator&&this._unexpectedToken(tokenStream.LT(1)):(null!==combinator?selector.push(combinator):selector.push(ws),selector.push(nextSelector))}return new Selector(selector,selector[0].line,selector[0].col)},_simple_selector_sequence:function(){var line,col,tokenStream=this._tokenStream,elementName=null,modifiers=[],selectorText="",components=[function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo,this._negation],i=0,len=components.length,component=null;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol,elementName=this._type_selector(),elementName||(elementName=this._universal()),null!==elementName&&(selectorText+=elementName);;){if(tokenStream.peek()===Tokens.S)break;for(;len>i&&null===component;)component=components[i++].call(this);if(null===component){if(""===selectorText)return null;break}i=0,modifiers.push(component),selectorText+=""+component,component=null}return""!==selectorText?new SelectorPart(elementName,modifiers,selectorText,line,col):null},_type_selector:function(){var tokenStream=this._tokenStream,ns=this._namespace_prefix(),elementName=this._element_name();return elementName?(ns&&(elementName.text=ns+elementName.text,elementName.col-=ns.length),elementName):(ns&&(tokenStream.unget(),ns.length>1&&tokenStream.unget()),null)},_class:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.DOT)?(tokenStream.mustMatch(Tokens.IDENT),token=tokenStream.token(),new SelectorSubPart("."+token.value,"class",token.startLine,token.startCol-1)):null},_element_name:function(){var token,tokenStream=this._tokenStream;return tokenStream.match(Tokens.IDENT)?(token=tokenStream.token(),new SelectorSubPart(token.value,"elementName",token.startLine,token.startCol)):null},_namespace_prefix:function(){var tokenStream=this._tokenStream,value="";return(tokenStream.LA(1)===Tokens.PIPE||tokenStream.LA(2)===Tokens.PIPE)&&(tokenStream.match([Tokens.IDENT,Tokens.STAR])&&(value+=tokenStream.token().value),tokenStream.mustMatch(Tokens.PIPE),value+="|"),value.length?value:null},_universal:function(){var ns,tokenStream=this._tokenStream,value="";return ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.match(Tokens.STAR)&&(value+="*"),value.length?value:null},_attrib:function(){var ns,token,tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.LBRACKET)?(token=tokenStream.token(),value=token.value,value+=this._readWhitespace(),ns=this._namespace_prefix(),ns&&(value+=ns),tokenStream.mustMatch(Tokens.IDENT),value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.match([Tokens.PREFIXMATCH,Tokens.SUFFIXMATCH,Tokens.SUBSTRINGMATCH,Tokens.EQUALS,Tokens.INCLUDES,Tokens.DASHMATCH])&&(value+=tokenStream.token().value,value+=this._readWhitespace(),tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),value+=tokenStream.token().value,value+=this._readWhitespace()),tokenStream.mustMatch(Tokens.RBRACKET),new SelectorSubPart(value+"]","attribute",token.startLine,token.startCol)):null},_pseudo:function(){var line,col,tokenStream=this._tokenStream,pseudo=null,colons=":";return tokenStream.match(Tokens.COLON)&&(tokenStream.match(Tokens.COLON)&&(colons+=":"),tokenStream.match(Tokens.IDENT)?(pseudo=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol-colons.length):tokenStream.peek()==Tokens.FUNCTION&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol-colons.length,pseudo=this._functional_pseudo()),pseudo&&(pseudo=new SelectorSubPart(colons+pseudo,"pseudo",line,col))),pseudo},_functional_pseudo:function(){var tokenStream=this._tokenStream,value=null;return tokenStream.match(Tokens.FUNCTION)&&(value=tokenStream.token().value,value+=this._readWhitespace(),value+=this._expression(),tokenStream.mustMatch(Tokens.RPAREN),value+=")"),value},_expression:function(){for(var tokenStream=this._tokenStream,value="";tokenStream.match([Tokens.PLUS,Tokens.MINUS,Tokens.DIMENSION,Tokens.NUMBER,Tokens.STRING,Tokens.IDENT,Tokens.LENGTH,Tokens.FREQ,Tokens.ANGLE,Tokens.TIME,Tokens.RESOLUTION,Tokens.SLASH]);)value+=tokenStream.token().value,value+=this._readWhitespace();return value.length?value:null},_negation:function(){var line,col,arg,tokenStream=this._tokenStream,value="",subpart=null;return tokenStream.match(Tokens.NOT)&&(value=tokenStream.token().value,line=tokenStream.token().startLine,col=tokenStream.token().startCol,value+=this._readWhitespace(),arg=this._negation_arg(),value+=arg,value+=this._readWhitespace(),tokenStream.match(Tokens.RPAREN),value+=tokenStream.token().value,subpart=new SelectorSubPart(value,"not",line,col),subpart.args.push(arg)),subpart},_negation_arg:function(){var line,col,part,tokenStream=this._tokenStream,args=[this._type_selector,this._universal,function(){return tokenStream.match(Tokens.HASH)?new SelectorSubPart(tokenStream.token().value,"id",tokenStream.token().startLine,tokenStream.token().startCol):null},this._class,this._attrib,this._pseudo],arg=null,i=0,len=args.length;for(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol;len>i&&null===arg;)arg=args[i].call(this),i++;return null===arg&&this._unexpectedToken(tokenStream.LT(1)),part="elementName"==arg.type?new SelectorPart(arg,[],""+arg,line,col):new SelectorPart(null,[arg],""+arg,line,col)},_declaration:function(){var tokenStream=this._tokenStream,property=null,expr=null,prio=null,invalid=null,propertyName="";if(property=this._property(),null!==property){tokenStream.mustMatch(Tokens.COLON),this._readWhitespace(),expr=this._expr(),expr&&0!==expr.length||this._unexpectedToken(tokenStream.LT(1)),prio=this._prio(),propertyName=""+property,(this.options.starHack&&"*"==property.hack||this.options.underscoreHack&&"_"==property.hack)&&(propertyName=property.text);try{this._validateProperty(propertyName,expr)}catch(ex){invalid=ex}return this.fire({type:"property",property:property,value:expr,important:prio,line:property.line,col:property.col,invalid:invalid}),!0}return!1},_prio:function(){var tokenStream=this._tokenStream,result=tokenStream.match(Tokens.IMPORTANT_SYM);return this._readWhitespace(),result},_expr:function(inFunction){var values=(this._tokenStream,[]),value=null,operator=null;if(value=this._term(),null!==value)for(values.push(value);;){if(operator=this._operator(inFunction),operator&&values.push(operator),value=this._term(),null===value)break;values.push(value)}return values.length>0?new PropertyValue(values,values[0].line,values[0].col):null},_term:function(){var token,line,col,tokenStream=this._tokenStream,unary=null,value=null;return unary=this._unary_operator(),null!==unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),tokenStream.peek()==Tokens.IE_FUNCTION&&this.options.ieFilters?(value=this._ie_function(),null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol)):tokenStream.match([Tokens.NUMBER,Tokens.PERCENTAGE,Tokens.LENGTH,Tokens.ANGLE,Tokens.TIME,Tokens.FREQ,Tokens.STRING,Tokens.IDENT,Tokens.URI,Tokens.UNICODE_RANGE])?(value=tokenStream.token().value,null===unary&&(line=tokenStream.token().startLine,col=tokenStream.token().startCol),this._readWhitespace()):(token=this._hexcolor(),null===token?(null===unary&&(line=tokenStream.LT(1).startLine,col=tokenStream.LT(1).startCol),null===value&&(value=tokenStream.LA(3)==Tokens.EQUALS&&this.options.ieFilters?this._ie_function():this._function())):(value=token.value,null===unary&&(line=token.startLine,col=token.startCol))),null!==value?new PropertyValuePart(null!==unary?unary+value:value,line,col):null},_function:function(){var lt,tokenStream=this._tokenStream,functionText=null,expr=null;if(tokenStream.match(Tokens.FUNCTION)){if(functionText=tokenStream.token().value,this._readWhitespace(),expr=this._expr(!0),functionText+=expr,this.options.ieFilters&&tokenStream.peek()==Tokens.EQUALS)do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_ie_function:function(){var lt,tokenStream=this._tokenStream,functionText=null;if(tokenStream.match([Tokens.IE_FUNCTION,Tokens.FUNCTION])){functionText=tokenStream.token().value;do for(this._readWhitespace()&&(functionText+=tokenStream.token().value),tokenStream.LA(0)==Tokens.COMMA&&(functionText+=tokenStream.token().value),tokenStream.match(Tokens.IDENT),functionText+=tokenStream.token().value,tokenStream.match(Tokens.EQUALS),functionText+=tokenStream.token().value,lt=tokenStream.peek();lt!=Tokens.COMMA&&lt!=Tokens.S&&lt!=Tokens.RPAREN;)tokenStream.get(),functionText+=tokenStream.token().value,lt=tokenStream.peek();while(tokenStream.match([Tokens.COMMA,Tokens.S]));tokenStream.match(Tokens.RPAREN),functionText+=")",this._readWhitespace()}return functionText},_hexcolor:function(){var color,tokenStream=this._tokenStream,token=null;if(tokenStream.match(Tokens.HASH)){if(token=tokenStream.token(),color=token.value,!/#[a-f0-9]{3,6}/i.test(color))throw new SyntaxError("Expected a hex color but found \'"+color+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol);\nthis._readWhitespace()}return token},_keyframes:function(){var token,tt,name,tokenStream=this._tokenStream,prefix="";for(tokenStream.mustMatch(Tokens.KEYFRAMES_SYM),token=tokenStream.token(),/^@\\-([^\\-]+)\\-/.test(token.value)&&(prefix=RegExp.$1),this._readWhitespace(),name=this._keyframe_name(),this._readWhitespace(),tokenStream.mustMatch(Tokens.LBRACE),this.fire({type:"startkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tt=tokenStream.peek();tt==Tokens.IDENT||tt==Tokens.PERCENTAGE;)this._keyframe_rule(),this._readWhitespace(),tt=tokenStream.peek();this.fire({type:"endkeyframes",name:name,prefix:prefix,line:token.startLine,col:token.startCol}),this._readWhitespace(),tokenStream.mustMatch(Tokens.RBRACE)},_keyframe_name:function(){var tokenStream=this._tokenStream;return tokenStream.mustMatch([Tokens.IDENT,Tokens.STRING]),SyntaxUnit.fromToken(tokenStream.token())},_keyframe_rule:function(){var keyList=(this._tokenStream,this._key_list());this.fire({type:"startkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col}),this._readDeclarations(!0),this.fire({type:"endkeyframerule",keys:keyList,line:keyList[0].line,col:keyList[0].col})},_key_list:function(){var tokenStream=this._tokenStream,keyList=[];for(keyList.push(this._key()),this._readWhitespace();tokenStream.match(Tokens.COMMA);)this._readWhitespace(),keyList.push(this._key()),this._readWhitespace();return keyList},_key:function(){var token,tokenStream=this._tokenStream;if(tokenStream.match(Tokens.PERCENTAGE))return SyntaxUnit.fromToken(tokenStream.token());if(tokenStream.match(Tokens.IDENT)){if(token=tokenStream.token(),/from|to/i.test(token.value))return SyntaxUnit.fromToken(token);tokenStream.unget()}this._unexpectedToken(tokenStream.LT(1))},_skipCruft:function(){for(;this._tokenStream.match([Tokens.S,Tokens.CDO,Tokens.CDC]););},_readDeclarations:function(checkStart,readMargins){var tt,tokenStream=this._tokenStream;this._readWhitespace(),checkStart&&tokenStream.mustMatch(Tokens.LBRACE),this._readWhitespace();try{for(;;){if(tokenStream.match(Tokens.SEMICOLON)||readMargins&&this._margin());else{if(!this._declaration())break;if(!tokenStream.match(Tokens.SEMICOLON))break}this._readWhitespace()}tokenStream.mustMatch(Tokens.RBRACE),this._readWhitespace()}catch(ex){if(!(ex instanceof SyntaxError)||this.options.strict)throw ex;if(this.fire({type:"error",error:ex,message:ex.message,line:ex.line,col:ex.col}),tt=tokenStream.advance([Tokens.SEMICOLON,Tokens.RBRACE]),tt==Tokens.SEMICOLON)this._readDeclarations(!1,readMargins);else if(tt!=Tokens.RBRACE)throw ex}},_readWhitespace:function(){for(var tokenStream=this._tokenStream,ws="";tokenStream.match(Tokens.S);)ws+=tokenStream.token().value;return ws},_unexpectedToken:function(token){throw new SyntaxError("Unexpected token \'"+token.value+"\' at line "+token.startLine+", col "+token.startCol+".",token.startLine,token.startCol)},_verifyEnd:function(){this._tokenStream.LA(1)!=Tokens.EOF&&this._unexpectedToken(this._tokenStream.LT(1))},_validateProperty:function(property,value){Validation.validate(property,value)},parse:function(input){this._tokenStream=new TokenStream(input,Tokens),this._stylesheet()},parseStyleSheet:function(input){return this.parse(input)},parseMediaQuery:function(input){this._tokenStream=new TokenStream(input,Tokens);var result=this._media_query();return this._verifyEnd(),result},parsePropertyValue:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._expr();return this._readWhitespace(),this._verifyEnd(),result},parseRule:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._ruleset();return this._readWhitespace(),this._verifyEnd(),result},parseSelector:function(input){this._tokenStream=new TokenStream(input,Tokens),this._readWhitespace();var result=this._selector();return this._readWhitespace(),this._verifyEnd(),result},parseStyleAttribute:function(input){input+="}",this._tokenStream=new TokenStream(input,Tokens),this._readDeclarations()}};for(prop in additions)additions.hasOwnProperty(prop)&&(proto[prop]=additions[prop]);return proto}();var Properties={"align-items":"flex-start | flex-end | center | baseline | stretch","align-content":"flex-start | flex-end | center | space-between | space-around | stretch","align-self":"auto | flex-start | flex-end | center | baseline | stretch","-webkit-align-items":"flex-start | flex-end | center | baseline | stretch","-webkit-align-content":"flex-start | flex-end | center | space-between | space-around | stretch","-webkit-align-self":"auto | flex-start | flex-end | center | baseline | stretch","alignment-adjust":"auto | baseline | before-edge | text-before-edge | middle | central | after-edge | text-after-edge | ideographic | alphabetic | hanging | mathematical | <percentage> | <length>","alignment-baseline":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical",animation:1,"animation-delay":{multi:"<time>",comma:!0},"animation-direction":{multi:"normal | alternate",comma:!0},"animation-duration":{multi:"<time>",comma:!0},"animation-iteration-count":{multi:"<number> | infinite",comma:!0},"animation-name":{multi:"none | <ident>",comma:!0},"animation-play-state":{multi:"running | paused",comma:!0},"animation-timing-function":1,"-moz-animation-delay":{multi:"<time>",comma:!0},"-moz-animation-direction":{multi:"normal | alternate",comma:!0},"-moz-animation-duration":{multi:"<time>",comma:!0},"-moz-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-moz-animation-name":{multi:"none | <ident>",comma:!0},"-moz-animation-play-state":{multi:"running | paused",comma:!0},"-ms-animation-delay":{multi:"<time>",comma:!0},"-ms-animation-direction":{multi:"normal | alternate",comma:!0},"-ms-animation-duration":{multi:"<time>",comma:!0},"-ms-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-ms-animation-name":{multi:"none | <ident>",comma:!0},"-ms-animation-play-state":{multi:"running | paused",comma:!0},"-webkit-animation-delay":{multi:"<time>",comma:!0},"-webkit-animation-direction":{multi:"normal | alternate",comma:!0},"-webkit-animation-duration":{multi:"<time>",comma:!0},"-webkit-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-webkit-animation-name":{multi:"none | <ident>",comma:!0},"-webkit-animation-play-state":{multi:"running | paused",comma:!0},"-o-animation-delay":{multi:"<time>",comma:!0},"-o-animation-direction":{multi:"normal | alternate",comma:!0},"-o-animation-duration":{multi:"<time>",comma:!0},"-o-animation-iteration-count":{multi:"<number> | infinite",comma:!0},"-o-animation-name":{multi:"none | <ident>",comma:!0},"-o-animation-play-state":{multi:"running | paused",comma:!0},appearance:"icon | window | desktop | workspace | document | tooltip | dialog | button | push-button | hyperlink | radio-button | checkbox | menu-item | tab | menu | menubar | pull-down-menu | pop-up-menu | list-menu | radio-group | checkbox-group | outline-tree | range | field | combo-box | signature | password | normal | none | inherit",azimuth:function(expression){var part,simple="<angle> | leftwards | rightwards | inherit",direction="left-side | far-left | left | center-left | center | center-right | right | far-right | right-side",behind=!1,valid=!1;if(ValidationTypes.isAny(expression,simple)||(ValidationTypes.isAny(expression,"behind")&&(behind=!0,valid=!0),ValidationTypes.isAny(expression,direction)&&(valid=!0,behind||ValidationTypes.isAny(expression,"behind"))),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'azimuth\'>) but found \'"+part+"\'.",part.line,part.col)},"backface-visibility":"visible | hidden",background:1,"background-attachment":{multi:"<attachment>",comma:!0},"background-clip":{multi:"<box>",comma:!0},"background-color":"<color> | inherit","background-image":{multi:"<bg-image>",comma:!0},"background-origin":{multi:"<box>",comma:!0},"background-position":{multi:"<bg-position>",comma:!0},"background-repeat":{multi:"<repeat-style>"},"background-size":{multi:"<bg-size>",comma:!0},"baseline-shift":"baseline | sub | super | <percentage> | <length>",behavior:1,binding:1,bleed:"<length>","bookmark-label":"<content> | <attr> | <string>","bookmark-level":"none | <integer>","bookmark-state":"open | closed","bookmark-target":"none | <uri> | <attr>",border:"<border-width> || <border-style> || <color>","border-bottom":"<border-width> || <border-style> || <color>","border-bottom-color":"<color> | inherit","border-bottom-left-radius":"<x-one-radius>","border-bottom-right-radius":"<x-one-radius>","border-bottom-style":"<border-style>","border-bottom-width":"<border-width>","border-collapse":"collapse | separate | inherit","border-color":{multi:"<color> | inherit",max:4},"border-image":1,"border-image-outset":{multi:"<length> | <number>",max:4},"border-image-repeat":{multi:"stretch | repeat | round",max:2},"border-image-slice":function(expression){var part,valid=!1,numeric="<number> | <percentage>",fill=!1,count=0,max=4;for(ValidationTypes.isAny(expression,"fill")&&(fill=!0,valid=!0);expression.hasNext()&&max>count&&(valid=ValidationTypes.isAny(expression,numeric));)count++;if(fill?valid=!0:ValidationTypes.isAny(expression,"fill"),expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ([<number> | <percentage>]{1,4} && fill?) but found \'"+part+"\'.",part.line,part.col)},"border-image-source":"<image> | none","border-image-width":{multi:"<length> | <percentage> | <number> | auto",max:4},"border-left":"<border-width> || <border-style> || <color>","border-left-color":"<color> | inherit","border-left-style":"<border-style>","border-left-width":"<border-width>","border-radius":function(expression){for(var part,valid=!1,simple="<length> | <percentage> | inherit",slash=!1,count=0,max=8;expression.hasNext()&&max>count;){if(valid=ValidationTypes.isAny(expression,simple),!valid){if(!("/"==expression.peek()&&count>0)||slash)break;slash=!0,max=count+5,expression.next()}count++}if(expression.hasNext())throw part=expression.next(),valid?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected (<\'border-radius\'>) but found \'"+part+"\'.",part.line,part.col)},"border-right":"<border-width> || <border-style> || <color>","border-right-color":"<color> | inherit","border-right-style":"<border-style>","border-right-width":"<border-width>","border-spacing":{multi:"<length> | inherit",max:2},"border-style":{multi:"<border-style>",max:4},"border-top":"<border-width> || <border-style> || <color>","border-top-color":"<color> | inherit","border-top-left-radius":"<x-one-radius>","border-top-right-radius":"<x-one-radius>","border-top-style":"<border-style>","border-top-width":"<border-width>","border-width":{multi:"<border-width>",max:4},bottom:"<margin-width> | inherit","-moz-box-align":"start | end | center | baseline | stretch","-moz-box-decoration-break":"slice |clone","-moz-box-direction":"normal | reverse | inherit","-moz-box-flex":"<number>","-moz-box-flex-group":"<integer>","-moz-box-lines":"single | multiple","-moz-box-ordinal-group":"<integer>","-moz-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-moz-box-pack":"start | end | center | justify","-webkit-box-align":"start | end | center | baseline | stretch","-webkit-box-decoration-break":"slice |clone","-webkit-box-direction":"normal | reverse | inherit","-webkit-box-flex":"<number>","-webkit-box-flex-group":"<integer>","-webkit-box-lines":"single | multiple","-webkit-box-ordinal-group":"<integer>","-webkit-box-orient":"horizontal | vertical | inline-axis | block-axis | inherit","-webkit-box-pack":"start | end | center | justify","box-shadow":function(expression){var part;if(ValidationTypes.isAny(expression,"none")){if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}else Validation.multiProperty("<shadow>",expression,!0,1/0)},"box-sizing":"content-box | border-box | inherit","break-after":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-before":"auto | always | avoid | left | right | page | column | avoid-page | avoid-column","break-inside":"auto | avoid | avoid-page | avoid-column","caption-side":"top | bottom | inherit",clear:"none | right | left | both | inherit",clip:1,color:"<color> | inherit","color-profile":1,"column-count":"<integer> | auto","column-fill":"auto | balance","column-gap":"<length> | normal","column-rule":"<border-width> || <border-style> || <color>","column-rule-color":"<color>","column-rule-style":"<border-style>","column-rule-width":"<border-width>","column-span":"none | all","column-width":"<length> | auto",columns:1,content:1,"counter-increment":1,"counter-reset":1,crop:"<shape> | auto",cue:"cue-after | cue-before | inherit","cue-after":1,"cue-before":1,cursor:1,direction:"ltr | rtl | inherit",display:"inline | block | list-item | inline-block | table | inline-table | table-row-group | table-header-group | table-footer-group | table-row | table-column-group | table-column | table-cell | table-caption | grid | inline-grid | none | inherit | -moz-box | -moz-inline-block | -moz-inline-box | -moz-inline-grid | -moz-inline-stack | -moz-inline-table | -moz-grid | -moz-grid-group | -moz-grid-line | -moz-groupbox | -moz-deck | -moz-popup | -moz-stack | -moz-marker | -webkit-box | -webkit-inline-box | -ms-flexbox | -ms-inline-flexbox | flex | -webkit-flex | inline-flex | -webkit-inline-flex","dominant-baseline":1,"drop-initial-after-adjust":"central | middle | after-edge | text-after-edge | ideographic | alphabetic | mathematical | <percentage> | <length>","drop-initial-after-align":"baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-before-adjust":"before-edge | text-before-edge | central | middle | hanging | mathematical | <percentage> | <length>","drop-initial-before-align":"caps-height | baseline | use-script | before-edge | text-before-edge | after-edge | text-after-edge | central | middle | ideographic | alphabetic | hanging | mathematical","drop-initial-size":"auto | line | <length> | <percentage>","drop-initial-value":"initial | <integer>",elevation:"<angle> | below | level | above | higher | lower | inherit","empty-cells":"show | hide | inherit",filter:1,fit:"fill | hidden | meet | slice","fit-position":1,flex:"none | [ <flex-grow> <flex-shrink>? || <flex-basis>","flex-basis":"<width>","flex-direction":"row | row-reverse | column | column-reverse","flex-flow":"<flex-direction> || <flex-wrap>","flex-grow":"<number>","flex-shrink":"<number>","flex-wrap":"nowrap | wrap | wrap-reverse","-webkit-flex":"none | [ <flex-grow> <flex-shrink>? || <flex-basis>","-webkit-flex-basis":"<width>","-webkit-flex-direction":"row | row-reverse | column | column-reverse","-webkit-flex-flow":"<flex-direction> || <flex-wrap>","-webkit-flex-grow":"<number>","-webkit-flex-shrink":"<number>","-webkit-flex-wrap":"nowrap | wrap | wrap-reverse","-ms-flex":"[[ <number> <number>? ] || [ <length> || <percentage> || auto ] ] | none","-ms-flex-align":"start | end | center | stretch | baseline","-ms-flex-direction":"row | column | row-reverse | column-reverse | inherit","-ms-flex-order":"<number>","-ms-flex-pack":"start | end | center | justify","-ms-flex-wrap":"nowrap | wrap | wrap-reverse","float":"left | right | none | inherit","float-offset":1,font:1,"font-family":1,"font-size":"<absolute-size> | <relative-size> | <length> | <percentage> | inherit","font-size-adjust":"<number> | none | inherit","font-stretch":"normal | ultra-condensed | extra-condensed | condensed | semi-condensed | semi-expanded | expanded | extra-expanded | ultra-expanded | inherit","font-style":"normal | italic | oblique | inherit","font-variant":"normal | small-caps | inherit","font-weight":"normal | bold | bolder | lighter | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | inherit","grid-cell-stacking":"columns | rows | layer","grid-column":1,"grid-columns":1,"grid-column-align":"start | end | center | stretch","grid-column-sizing":1,"grid-column-span":"<integer>","grid-flow":"none | rows | columns","grid-layer":"<integer>","grid-row":1,"grid-rows":1,"grid-row-align":"start | end | center | stretch","grid-row-span":"<integer>","grid-row-sizing":1,"hanging-punctuation":1,height:"<margin-width> | inherit","hyphenate-after":"<integer> | auto","hyphenate-before":"<integer> | auto","hyphenate-character":"<string> | auto","hyphenate-lines":"no-limit | <integer>","hyphenate-resource":1,hyphens:"none | manual | auto",icon:1,"image-orientation":"angle | auto","image-rendering":1,"image-resolution":1,"inline-box-align":"initial | last | <integer>","justify-content":"flex-start | flex-end | center | space-between | space-around","-webkit-justify-content":"flex-start | flex-end | center | space-between | space-around",left:"<margin-width> | inherit","letter-spacing":"<length> | normal | inherit","line-height":"<number> | <length> | <percentage> | normal | inherit","line-break":"auto | loose | normal | strict","line-stacking":1,"line-stacking-ruby":"exclude-ruby | include-ruby","line-stacking-shift":"consider-shifts | disregard-shifts","line-stacking-strategy":"inline-line-height | block-line-height | max-height | grid-height","list-style":1,"list-style-image":"<uri> | none | inherit","list-style-position":"inside | outside | inherit","list-style-type":"disc | circle | square | decimal | decimal-leading-zero | lower-roman | upper-roman | lower-greek | lower-latin | upper-latin | armenian | georgian | lower-alpha | upper-alpha | none | inherit",margin:{multi:"<margin-width> | inherit",max:4},"margin-bottom":"<margin-width> | inherit","margin-left":"<margin-width> | inherit","margin-right":"<margin-width> | inherit","margin-top":"<margin-width> | inherit",mark:1,"mark-after":1,"mark-before":1,marks:1,"marquee-direction":1,"marquee-play-count":1,"marquee-speed":1,"marquee-style":1,"max-height":"<length> | <percentage> | none | inherit","max-width":"<length> | <percentage> | none | inherit","min-height":"<length> | <percentage> | inherit","min-width":"<length> | <percentage> | inherit","move-to":1,"nav-down":1,"nav-index":1,"nav-left":1,"nav-right":1,"nav-up":1,opacity:"<number> | inherit",order:"<integer>","-webkit-order":"<integer>",orphans:"<integer> | inherit",outline:1,"outline-color":"<color> | invert | inherit","outline-offset":1,"outline-style":"<border-style> | inherit","outline-width":"<border-width> | inherit",overflow:"visible | hidden | scroll | auto | inherit","overflow-style":1,"overflow-wrap":"normal | break-word","overflow-x":1,"overflow-y":1,padding:{multi:"<padding-width> | inherit",max:4},"padding-bottom":"<padding-width> | inherit","padding-left":"<padding-width> | inherit","padding-right":"<padding-width> | inherit","padding-top":"<padding-width> | inherit",page:1,"page-break-after":"auto | always | avoid | left | right | inherit","page-break-before":"auto | always | avoid | left | right | inherit","page-break-inside":"auto | avoid | inherit","page-policy":1,pause:1,"pause-after":1,"pause-before":1,perspective:1,"perspective-origin":1,phonemes:1,pitch:1,"pitch-range":1,"play-during":1,"pointer-events":"auto | none | visiblePainted | visibleFill | visibleStroke | visible | painted | fill | stroke | all | inherit",position:"static | relative | absolute | fixed | inherit","presentation-level":1,"punctuation-trim":1,quotes:1,"rendering-intent":1,resize:1,rest:1,"rest-after":1,"rest-before":1,richness:1,right:"<margin-width> | inherit",rotation:1,"rotation-point":1,"ruby-align":1,"ruby-overhang":1,"ruby-position":1,"ruby-span":1,size:1,speak:"normal | none | spell-out | inherit","speak-header":"once | always | inherit","speak-numeral":"digits | continuous | inherit","speak-punctuation":"code | none | inherit","speech-rate":1,src:1,stress:1,"string-set":1,"table-layout":"auto | fixed | inherit","tab-size":"<integer> | <length>",target:1,"target-name":1,"target-new":1,"target-position":1,"text-align":"left | right | center | justify | inherit","text-align-last":1,"text-decoration":1,"text-emphasis":1,"text-height":1,"text-indent":"<length> | <percentage> | inherit","text-justify":"auto | none | inter-word | inter-ideograph | inter-cluster | distribute | kashida","text-outline":1,"text-overflow":1,"text-rendering":"auto | optimizeSpeed | optimizeLegibility | geometricPrecision | inherit","text-shadow":1,"text-transform":"capitalize | uppercase | lowercase | none | inherit","text-wrap":"normal | none | avoid",top:"<margin-width> | inherit","-ms-touch-action":"auto | none | pan-x | pan-y","touch-action":"auto | none | pan-x | pan-y",transform:1,"transform-origin":1,"transform-style":1,transition:1,"transition-delay":1,"transition-duration":1,"transition-property":1,"transition-timing-function":1,"unicode-bidi":"normal | embed | isolate | bidi-override | isolate-override | plaintext | inherit","user-modify":"read-only | read-write | write-only | inherit","user-select":"none | text | toggle | element | elements | all | inherit","vertical-align":"auto | use-script | baseline | sub | super | top | text-top | central | middle | bottom | text-bottom | <percentage> | <length>",visibility:"visible | hidden | collapse | inherit","voice-balance":1,"voice-duration":1,"voice-family":1,"voice-pitch":1,"voice-pitch-range":1,"voice-rate":1,"voice-stress":1,"voice-volume":1,volume:1,"white-space":"normal | pre | nowrap | pre-wrap | pre-line | inherit | -pre-wrap | -o-pre-wrap | -moz-pre-wrap | -hp-pre-wrap","white-space-collapse":1,widows:"<integer> | inherit",width:"<length> | <percentage> | auto | inherit","word-break":"normal | keep-all | break-all","word-spacing":"<length> | normal | inherit","word-wrap":"normal | break-word","writing-mode":"horizontal-tb | vertical-rl | vertical-lr | lr-tb | rl-tb | tb-rl | bt-rl | tb-lr | bt-lr | lr-bt | rl-bt | lr | rl | tb | inherit","z-index":"<integer> | auto | inherit",zoom:"<number> | <percentage> | normal"};PropertyName.prototype=new SyntaxUnit,PropertyName.prototype.constructor=PropertyName,PropertyName.prototype.toString=function(){return(this.hack?this.hack:"")+this.text},PropertyValue.prototype=new SyntaxUnit,PropertyValue.prototype.constructor=PropertyValue,PropertyValueIterator.prototype.count=function(){return this._parts.length},PropertyValueIterator.prototype.isFirst=function(){return 0===this._i},PropertyValueIterator.prototype.hasNext=function(){return this._i<this._parts.length},PropertyValueIterator.prototype.mark=function(){this._marks.push(this._i)},PropertyValueIterator.prototype.peek=function(count){return this.hasNext()?this._parts[this._i+(count||0)]:null},PropertyValueIterator.prototype.next=function(){return this.hasNext()?this._parts[this._i++]:null},PropertyValueIterator.prototype.previous=function(){return this._i>0?this._parts[--this._i]:null},PropertyValueIterator.prototype.restore=function(){this._marks.length&&(this._i=this._marks.pop())},PropertyValuePart.prototype=new SyntaxUnit,PropertyValuePart.prototype.constructor=PropertyValuePart,PropertyValuePart.fromToken=function(token){return new PropertyValuePart(token.value,token.startLine,token.startCol)};var Pseudos={":first-letter":1,":first-line":1,":before":1,":after":1};Pseudos.ELEMENT=1,Pseudos.CLASS=2,Pseudos.isElement=function(pseudo){return 0===pseudo.indexOf("::")||Pseudos[pseudo.toLowerCase()]==Pseudos.ELEMENT},Selector.prototype=new SyntaxUnit,Selector.prototype.constructor=Selector,SelectorPart.prototype=new SyntaxUnit,SelectorPart.prototype.constructor=SelectorPart,SelectorSubPart.prototype=new SyntaxUnit,SelectorSubPart.prototype.constructor=SelectorSubPart,Specificity.prototype={constructor:Specificity,compare:function(other){var i,len,comps=["a","b","c","d"];for(i=0,len=comps.length;len>i;i++){if(this[comps[i]]<other[comps[i]])return-1;if(this[comps[i]]>other[comps[i]])return 1}return 0},valueOf:function(){return 1e3*this.a+100*this.b+10*this.c+this.d},toString:function(){return this.a+","+this.b+","+this.c+","+this.d}},Specificity.calculate=function(selector){function updateValues(part){var i,j,len,num,modifier,elementName=part.elementName?part.elementName.text:"";for(elementName&&"*"!=elementName.charAt(elementName.length-1)&&d++,i=0,len=part.modifiers.length;len>i;i++)switch(modifier=part.modifiers[i],modifier.type){case"class":case"attribute":c++;break;case"id":b++;break;case"pseudo":Pseudos.isElement(modifier.text)?d++:c++;break;case"not":for(j=0,num=modifier.args.length;num>j;j++)updateValues(modifier.args[j])}}var i,len,part,b=0,c=0,d=0;for(i=0,len=selector.parts.length;len>i;i++)part=selector.parts[i],part instanceof SelectorPart&&updateValues(part);return new Specificity(0,b,c,d)};var h=/^[0-9a-fA-F]$/,nonascii=/^[\\u0080-\\uFFFF]$/,nl=/\\n|\\r\\n|\\r|\\f/;TokenStream.prototype=mix(new TokenStreamBase,{_getToken:function(){var c,reader=this._reader,token=null,startLine=reader.getLine(),startCol=reader.getCol();for(c=reader.read();c;){switch(c){case"/":token="*"==reader.peek()?this.commentToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"|":case"~":case"^":case"$":case"*":token="="==reader.peek()?this.comparisonToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case\'"\':case"\'":token=this.stringToken(c,startLine,startCol);break;case"#":token=isNameChar(reader.peek())?this.hashToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case".":token=isDigit(reader.peek())?this.numberToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"-":token="-"==reader.peek()?this.htmlCommentEndToken(c,startLine,startCol):isNameStart(reader.peek())?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol);break;case"!":token=this.importantToken(c,startLine,startCol);break;case"@":token=this.atRuleToken(c,startLine,startCol);break;case":":token=this.notToken(c,startLine,startCol);break;case"<":token=this.htmlCommentStartToken(c,startLine,startCol);break;case"U":case"u":if("+"==reader.peek()){token=this.unicodeRangeToken(c,startLine,startCol);break}default:token=isDigit(c)?this.numberToken(c,startLine,startCol):isWhitespace(c)?this.whitespaceToken(c,startLine,startCol):isIdentStart(c)?this.identOrFunctionToken(c,startLine,startCol):this.charToken(c,startLine,startCol)}break}return token||null!==c||(token=this.createToken(Tokens.EOF,null,startLine,startCol)),token},createToken:function(tt,value,startLine,startCol,options){var reader=this._reader;return options=options||{},{value:value,type:tt,channel:options.channel,hide:options.hide||!1,startLine:startLine,startCol:startCol,endLine:reader.getLine(),endCol:reader.getCol()}},atRuleToken:function(first,startLine,startCol){var ident,rule=first,reader=this._reader,tt=Tokens.CHAR;return reader.mark(),ident=this.readName(),rule=first+ident,tt=Tokens.type(rule.toLowerCase()),(tt==Tokens.CHAR||tt==Tokens.UNKNOWN)&&(rule.length>1?tt=Tokens.UNKNOWN_SYM:(tt=Tokens.CHAR,rule=first,reader.reset())),this.createToken(tt,rule,startLine,startCol)},charToken:function(c,startLine,startCol){var tt=Tokens.type(c);return-1==tt&&(tt=Tokens.CHAR),this.createToken(tt,c,startLine,startCol)},commentToken:function(first,startLine,startCol){var comment=(this._reader,this.readComment(first));return this.createToken(Tokens.COMMENT,comment,startLine,startCol)},comparisonToken:function(c,startLine,startCol){var reader=this._reader,comparison=c+reader.read(),tt=Tokens.type(comparison)||Tokens.CHAR;return this.createToken(tt,comparison,startLine,startCol)},hashToken:function(first,startLine,startCol){var name=(this._reader,this.readName(first));return this.createToken(Tokens.HASH,name,startLine,startCol)},htmlCommentStartToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(3),"<!--"==text?this.createToken(Tokens.CDO,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},htmlCommentEndToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(2),"-->"==text?this.createToken(Tokens.CDC,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},identOrFunctionToken:function(first,startLine,startCol){var reader=this._reader,ident=this.readName(first),tt=Tokens.IDENT;return"("==reader.peek()?(ident+=reader.read(),"url("==ident.toLowerCase()?(tt=Tokens.URI,ident=this.readURI(ident),"url("==ident.toLowerCase()&&(tt=Tokens.FUNCTION)):tt=Tokens.FUNCTION):":"==reader.peek()&&"progid"==ident.toLowerCase()&&(ident+=reader.readTo("("),tt=Tokens.IE_FUNCTION),this.createToken(tt,ident,startLine,startCol)},importantToken:function(first,startLine,startCol){var temp,c,reader=this._reader,important=first,tt=Tokens.CHAR;for(reader.mark(),c=reader.read();c;){if("/"==c){if("*"!=reader.peek())break;if(temp=this.readComment(c),""===temp)break}else{if(!isWhitespace(c)){if(/i/i.test(c)){temp=reader.readCount(8),/mportant/i.test(temp)&&(important+=c+temp,tt=Tokens.IMPORTANT_SYM);break}break}important+=c+this.readWhitespace()}c=reader.read()}return tt==Tokens.CHAR?(reader.reset(),this.charToken(first,startLine,startCol)):this.createToken(tt,important,startLine,startCol)},notToken:function(first,startLine,startCol){var reader=this._reader,text=first;return reader.mark(),text+=reader.readCount(4),":not("==text.toLowerCase()?this.createToken(Tokens.NOT,text,startLine,startCol):(reader.reset(),this.charToken(first,startLine,startCol))},numberToken:function(first,startLine,startCol){var ident,reader=this._reader,value=this.readNumber(first),tt=Tokens.NUMBER,c=reader.peek();return isIdentStart(c)?(ident=this.readName(reader.read()),value+=ident,tt=/^em$|^ex$|^px$|^gd$|^rem$|^vw$|^vh$|^vm$|^ch$|^cm$|^mm$|^in$|^pt$|^pc$/i.test(ident)?Tokens.LENGTH:/^deg|^rad$|^grad$/i.test(ident)?Tokens.ANGLE:/^ms$|^s$/i.test(ident)?Tokens.TIME:/^hz$|^khz$/i.test(ident)?Tokens.FREQ:/^dpi$|^dpcm$/i.test(ident)?Tokens.RESOLUTION:Tokens.DIMENSION):"%"==c&&(value+=reader.read(),tt=Tokens.PERCENTAGE),this.createToken(tt,value,startLine,startCol)},stringToken:function(first,startLine,startCol){for(var delim=first,string=first,reader=this._reader,prev=first,tt=Tokens.STRING,c=reader.read();c&&(string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){tt=Tokens.INVALID;break}prev=c,c=reader.read()}return null===c&&(tt=Tokens.INVALID),this.createToken(tt,string,startLine,startCol)},unicodeRangeToken:function(first,startLine,startCol){var temp,reader=this._reader,value=first,tt=Tokens.CHAR;return"+"==reader.peek()&&(reader.mark(),value+=reader.read(),value+=this.readUnicodeRangePart(!0),2==value.length?reader.reset():(tt=Tokens.UNICODE_RANGE,-1==value.indexOf("?")&&"-"==reader.peek()&&(reader.mark(),temp=reader.read(),temp+=this.readUnicodeRangePart(!1),1==temp.length?reader.reset():value+=temp))),this.createToken(tt,value,startLine,startCol)},whitespaceToken:function(first,startLine,startCol){var value=(this._reader,first+this.readWhitespace());return this.createToken(Tokens.S,value,startLine,startCol)},readUnicodeRangePart:function(allowQuestionMark){for(var reader=this._reader,part="",c=reader.peek();isHexDigit(c)&&6>part.length;)reader.read(),part+=c,c=reader.peek();if(allowQuestionMark)for(;"?"==c&&6>part.length;)reader.read(),part+=c,c=reader.peek();return part},readWhitespace:function(){for(var reader=this._reader,whitespace="",c=reader.peek();isWhitespace(c);)reader.read(),whitespace+=c,c=reader.peek();return whitespace},readNumber:function(first){for(var reader=this._reader,number=first,hasDot="."==first,c=reader.peek();c;){if(isDigit(c))number+=reader.read();\nelse{if("."!=c)break;if(hasDot)break;hasDot=!0,number+=reader.read()}c=reader.peek()}return number},readString:function(){for(var reader=this._reader,delim=reader.read(),string=delim,prev=delim,c=reader.peek();c&&(c=reader.read(),string+=c,c!=delim||"\\\\"==prev);){if(isNewLine(reader.peek())&&"\\\\"!=c){string="";break}prev=c,c=reader.peek()}return null===c&&(string=""),string},readURI:function(first){var reader=this._reader,uri=first,inner="",c=reader.peek();for(reader.mark();c&&isWhitespace(c);)reader.read(),c=reader.peek();for(inner="\'"==c||\'"\'==c?this.readString():this.readURL(),c=reader.peek();c&&isWhitespace(c);)reader.read(),c=reader.peek();return""===inner||")"!=c?(uri=first,reader.reset()):uri+=inner+reader.read(),uri},readURL:function(){for(var reader=this._reader,url="",c=reader.peek();/^[!#$%&\\\\*-~]$/.test(c);)url+=reader.read(),c=reader.peek();return url},readName:function(first){for(var reader=this._reader,ident=first||"",c=reader.peek();;)if("\\\\"==c)ident+=this.readEscape(reader.read()),c=reader.peek();else{if(!c||!isNameChar(c))break;ident+=reader.read(),c=reader.peek()}return ident},readEscape:function(first){var reader=this._reader,cssEscape=first||"",i=0,c=reader.peek();if(isHexDigit(c))do cssEscape+=reader.read(),c=reader.peek();while(c&&isHexDigit(c)&&6>++i);return 3==cssEscape.length&&/\\s/.test(c)||7==cssEscape.length||1==cssEscape.length?reader.read():c="",cssEscape+c},readComment:function(first){var reader=this._reader,comment=first||"",c=reader.read();if("*"==c){for(;c;){if(comment+=c,comment.length>2&&"*"==c&&"/"==reader.peek()){comment+=reader.read();break}c=reader.read()}return comment}return""}});var Tokens=[{name:"CDO"},{name:"CDC"},{name:"S",whitespace:!0},{name:"COMMENT",comment:!0,hide:!0,channel:"comment"},{name:"INCLUDES",text:"~="},{name:"DASHMATCH",text:"|="},{name:"PREFIXMATCH",text:"^="},{name:"SUFFIXMATCH",text:"$="},{name:"SUBSTRINGMATCH",text:"*="},{name:"STRING"},{name:"IDENT"},{name:"HASH"},{name:"IMPORT_SYM",text:"@import"},{name:"PAGE_SYM",text:"@page"},{name:"MEDIA_SYM",text:"@media"},{name:"FONT_FACE_SYM",text:"@font-face"},{name:"CHARSET_SYM",text:"@charset"},{name:"NAMESPACE_SYM",text:"@namespace"},{name:"VIEWPORT_SYM",text:["@viewport","@-ms-viewport"]},{name:"UNKNOWN_SYM"},{name:"KEYFRAMES_SYM",text:["@keyframes","@-webkit-keyframes","@-moz-keyframes","@-o-keyframes"]},{name:"IMPORTANT_SYM"},{name:"LENGTH"},{name:"ANGLE"},{name:"TIME"},{name:"FREQ"},{name:"DIMENSION"},{name:"PERCENTAGE"},{name:"NUMBER"},{name:"URI"},{name:"FUNCTION"},{name:"UNICODE_RANGE"},{name:"INVALID"},{name:"PLUS",text:"+"},{name:"GREATER",text:">"},{name:"COMMA",text:","},{name:"TILDE",text:"~"},{name:"NOT"},{name:"TOPLEFTCORNER_SYM",text:"@top-left-corner"},{name:"TOPLEFT_SYM",text:"@top-left"},{name:"TOPCENTER_SYM",text:"@top-center"},{name:"TOPRIGHT_SYM",text:"@top-right"},{name:"TOPRIGHTCORNER_SYM",text:"@top-right-corner"},{name:"BOTTOMLEFTCORNER_SYM",text:"@bottom-left-corner"},{name:"BOTTOMLEFT_SYM",text:"@bottom-left"},{name:"BOTTOMCENTER_SYM",text:"@bottom-center"},{name:"BOTTOMRIGHT_SYM",text:"@bottom-right"},{name:"BOTTOMRIGHTCORNER_SYM",text:"@bottom-right-corner"},{name:"LEFTTOP_SYM",text:"@left-top"},{name:"LEFTMIDDLE_SYM",text:"@left-middle"},{name:"LEFTBOTTOM_SYM",text:"@left-bottom"},{name:"RIGHTTOP_SYM",text:"@right-top"},{name:"RIGHTMIDDLE_SYM",text:"@right-middle"},{name:"RIGHTBOTTOM_SYM",text:"@right-bottom"},{name:"RESOLUTION",state:"media"},{name:"IE_FUNCTION"},{name:"CHAR"},{name:"PIPE",text:"|"},{name:"SLASH",text:"/"},{name:"MINUS",text:"-"},{name:"STAR",text:"*"},{name:"LBRACE",text:"{"},{name:"RBRACE",text:"}"},{name:"LBRACKET",text:"["},{name:"RBRACKET",text:"]"},{name:"EQUALS",text:"="},{name:"COLON",text:":"},{name:"SEMICOLON",text:";"},{name:"LPAREN",text:"("},{name:"RPAREN",text:")"},{name:"DOT",text:"."}];(function(){var nameMap=[],typeMap={};Tokens.UNKNOWN=-1,Tokens.unshift({name:"EOF"});for(var i=0,len=Tokens.length;len>i;i++)if(nameMap.push(Tokens[i].name),Tokens[Tokens[i].name]=i,Tokens[i].text)if(Tokens[i].text instanceof Array)for(var j=0;Tokens[i].text.length>j;j++)typeMap[Tokens[i].text[j]]=i;else typeMap[Tokens[i].text]=i;Tokens.name=function(tt){return nameMap[tt]},Tokens.type=function(c){return typeMap[c]||-1}})();var Validation={validate:function(property,value){var name=(""+property).toLowerCase(),expression=(value.parts,new PropertyValueIterator(value)),spec=Properties[name];if(spec)"number"!=typeof spec&&("string"==typeof spec?spec.indexOf("||")>-1?this.groupProperty(spec,expression):this.singleProperty(spec,expression,1):spec.multi?this.multiProperty(spec.multi,expression,spec.comma,spec.max||1/0):"function"==typeof spec&&spec(expression));else if(0!==name.indexOf("-"))throw new ValidationError("Unknown property \'"+property+"\'.",property.line,property.col)},singleProperty:function(types,expression,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&max>count&&(result=ValidationTypes.isAny(expression,types));)count++;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},multiProperty:function(types,expression,comma,max){for(var part,result=!1,value=expression.value,count=0;expression.hasNext()&&!result&&max>count&&ValidationTypes.isAny(expression,types);)if(count++,expression.hasNext()){if(comma){if(","!=expression.peek())break;part=expression.next()}}else result=!0;if(!result)throw expression.hasNext()&&!expression.isFirst()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):(part=expression.previous(),comma&&","==part?new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col));if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)},groupProperty:function(types,expression){for(var name,part,result=!1,value=expression.value,typeCount=types.split("||").length,groups={count:0},partial=!1;expression.hasNext()&&!result&&(name=ValidationTypes.isAnyOfGroup(expression,types))&&!groups[name];)groups[name]=1,groups.count++,partial=!0,groups.count!=typeCount&&expression.hasNext()||(result=!0);if(!result)throw partial&&expression.hasNext()?(part=expression.peek(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)):new ValidationError("Expected ("+types+") but found \'"+value+"\'.",value.line,value.col);if(expression.hasNext())throw part=expression.next(),new ValidationError("Expected end of value but found \'"+part+"\'.",part.line,part.col)}};ValidationError.prototype=Error();var ValidationTypes={isLiteral:function(part,literals){var i,len,text=(""+part.text).toLowerCase(),args=literals.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)text==args[i].toLowerCase()&&(found=!0);return found},isSimple:function(type){return!!this.simple[type]},isComplex:function(type){return!!this.complex[type]},isAny:function(expression,types){var i,len,args=types.split(" | "),found=!1;for(i=0,len=args.length;len>i&&!found&&expression.hasNext();i++)found=this.isType(expression,args[i]);return found},isAnyOfGroup:function(expression,types){var i,len,args=types.split(" || "),found=!1;for(i=0,len=args.length;len>i&&!found;i++)found=this.isType(expression,args[i]);return found?args[i-1]:!1},isType:function(expression,type){var part=expression.peek(),result=!1;return"<"!=type.charAt(0)?(result=this.isLiteral(part,type),result&&expression.next()):this.simple[type]?(result=this.simple[type](part),result&&expression.next()):result=this.complex[type](expression),result},simple:{"<absolute-size>":function(part){return ValidationTypes.isLiteral(part,"xx-small | x-small | small | medium | large | x-large | xx-large")},"<attachment>":function(part){return ValidationTypes.isLiteral(part,"scroll | fixed | local")},"<attr>":function(part){return"function"==part.type&&"attr"==part.name},"<bg-image>":function(part){return this["<image>"](part)||this["<gradient>"](part)||"none"==part},"<gradient>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?(?:repeating\\-)?(?:radial\\-|linear\\-)?gradient/i.test(part)},"<box>":function(part){return ValidationTypes.isLiteral(part,"padding-box | border-box | content-box")},"<content>":function(part){return"function"==part.type&&"content"==part.name},"<relative-size>":function(part){return ValidationTypes.isLiteral(part,"smaller | larger")},"<ident>":function(part){return"identifier"==part.type},"<length>":function(part){return"function"==part.type&&/^(?:\\-(?:ms|moz|o|webkit)\\-)?calc/i.test(part)?!0:"length"==part.type||"number"==part.type||"integer"==part.type||"0"==part},"<color>":function(part){return"color"==part.type||"transparent"==part},"<number>":function(part){return"number"==part.type||this["<integer>"](part)},"<integer>":function(part){return"integer"==part.type},"<line>":function(part){return"integer"==part.type},"<angle>":function(part){return"angle"==part.type},"<uri>":function(part){return"uri"==part.type},"<image>":function(part){return this["<uri>"](part)},"<percentage>":function(part){return"percentage"==part.type||"0"==part},"<border-width>":function(part){return this["<length>"](part)||ValidationTypes.isLiteral(part,"thin | medium | thick")},"<border-style>":function(part){return ValidationTypes.isLiteral(part,"none | hidden | dotted | dashed | solid | double | groove | ridge | inset | outset")},"<margin-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)||ValidationTypes.isLiteral(part,"auto")},"<padding-width>":function(part){return this["<length>"](part)||this["<percentage>"](part)},"<shape>":function(part){return"function"==part.type&&("rect"==part.name||"inset-rect"==part.name)},"<time>":function(part){return"time"==part.type}},complex:{"<bg-position>":function(expression){for(var result=!1,numeric="<percentage> | <length>",xDir="left | right",yDir="top | bottom",count=0;expression.peek(count)&&","!=expression.peek(count);)count++;return 3>count?ValidationTypes.isAny(expression,xDir+" | center | "+numeric)?(result=!0,ValidationTypes.isAny(expression,yDir+" | center | "+numeric)):ValidationTypes.isAny(expression,yDir)&&(result=!0,ValidationTypes.isAny(expression,xDir+" | center")):ValidationTypes.isAny(expression,xDir)?ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,yDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,yDir)?ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,numeric)&&(ValidationTypes.isAny(expression,xDir)?(result=!0,ValidationTypes.isAny(expression,numeric)):ValidationTypes.isAny(expression,"center")&&(result=!0)):ValidationTypes.isAny(expression,"center")&&ValidationTypes.isAny(expression,xDir+" | "+yDir)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<bg-size>":function(expression){var result=!1,numeric="<percentage> | <length> | auto";return ValidationTypes.isAny(expression,"cover | contain")?result=!0:ValidationTypes.isAny(expression,numeric)&&(result=!0,ValidationTypes.isAny(expression,numeric)),result},"<repeat-style>":function(expression){var part,result=!1,values="repeat | space | round | no-repeat";return expression.hasNext()&&(part=expression.next(),ValidationTypes.isLiteral(part,"repeat-x | repeat-y")?result=!0:ValidationTypes.isLiteral(part,values)&&(result=!0,expression.hasNext()&&ValidationTypes.isLiteral(expression.peek(),values)&&expression.next())),result},"<shadow>":function(expression){var result=!1,count=0,inset=!1,color=!1;if(expression.hasNext()){for(ValidationTypes.isAny(expression,"inset")&&(inset=!0),ValidationTypes.isAny(expression,"<color>")&&(color=!0);ValidationTypes.isAny(expression,"<length>")&&4>count;)count++;expression.hasNext()&&(color||ValidationTypes.isAny(expression,"<color>"),inset||ValidationTypes.isAny(expression,"inset")),result=count>=2&&4>=count}return result},"<x-one-radius>":function(expression){var result=!1,simple="<length> | <percentage> | inherit";return ValidationTypes.isAny(expression,simple)&&(result=!0,ValidationTypes.isAny(expression,simple)),result}}};parserlib.css={Colors:Colors,Combinator:Combinator,Parser:Parser,PropertyName:PropertyName,PropertyValue:PropertyValue,PropertyValuePart:PropertyValuePart,MediaFeature:MediaFeature,MediaQuery:MediaQuery,Selector:Selector,SelectorPart:SelectorPart,SelectorSubPart:SelectorSubPart,Specificity:Specificity,TokenStream:TokenStream,Tokens:Tokens,ValidationError:ValidationError}}(),function(){for(var prop in parserlib)exports[prop]=parserlib[prop]}();var CSSLint=function(){function applyEmbeddedRuleset(text,ruleset){var valueMap,embedded=text&&text.match(embeddedRuleset),rules=embedded&&embedded[1];return rules&&(valueMap={"true":2,"":1,"false":0,2:2,1:1,0:0},rules.toLowerCase().split(",").forEach(function(rule){var pair=rule.split(":"),property=pair[0]||"",value=pair[1]||"";ruleset[property.trim()]=valueMap[value.trim()]})),ruleset}var rules=[],formatters=[],embeddedRuleset=/\\/\\*csslint([^\\*]*)\\*\\//,api=new parserlib.util.EventTarget;return api.version="@VERSION@",api.addRule=function(rule){rules.push(rule),rules[rule.id]=rule},api.clearRules=function(){rules=[]},api.getRules=function(){return[].concat(rules).sort(function(a,b){return a.id>b.id?1:0})},api.getRuleset=function(){for(var ruleset={},i=0,len=rules.length;len>i;)ruleset[rules[i++].id]=1;return ruleset},api.addFormatter=function(formatter){formatters[formatter.id]=formatter},api.getFormatter=function(formatId){return formatters[formatId]},api.format=function(results,filename,formatId,options){var formatter=this.getFormatter(formatId),result=null;return formatter&&(result=formatter.startFormat(),result+=formatter.formatResults(results,filename,options||{}),result+=formatter.endFormat()),result},api.hasFormat=function(formatId){return formatters.hasOwnProperty(formatId)},api.verify=function(text,ruleset){var reporter,lines,report,i=0,parser=(rules.length,new parserlib.css.Parser({starHack:!0,ieFilters:!0,underscoreHack:!0,strict:!1}));lines=text.replace(/\\n\\r?/g,"$split$").split("$split$"),ruleset||(ruleset=this.getRuleset()),embeddedRuleset.test(text)&&(ruleset=applyEmbeddedRuleset(text,ruleset)),reporter=new Reporter(lines,ruleset),ruleset.errors=2;for(i in ruleset)ruleset.hasOwnProperty(i)&&ruleset[i]&&rules[i]&&rules[i].init(parser,reporter);try{parser.parse(text)}catch(ex){reporter.error("Fatal error, cannot continue: "+ex.message,ex.line,ex.col,{})}return report={messages:reporter.messages,stats:reporter.stats,ruleset:reporter.ruleset},report.messages.sort(function(a,b){return a.rollup&&!b.rollup?1:!a.rollup&&b.rollup?-1:a.line-b.line}),report},api}();Reporter.prototype={constructor:Reporter,error:function(message,line,col,rule){this.messages.push({type:"error",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule||{}})},warn:function(message,line,col,rule){this.report(message,line,col,rule)},report:function(message,line,col,rule){this.messages.push({type:2==this.ruleset[rule.id]?"error":"warning",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},info:function(message,line,col,rule){this.messages.push({type:"info",line:line,col:col,message:message,evidence:this.lines[line-1],rule:rule})},rollupError:function(message,rule){this.messages.push({type:"error",rollup:!0,message:message,rule:rule})},rollupWarn:function(message,rule){this.messages.push({type:"warning",rollup:!0,message:message,rule:rule})},stat:function(name,value){this.stats[name]=value}},CSSLint._Reporter=Reporter,CSSLint.Util={mix:function(receiver,supplier){var prop;for(prop in supplier)supplier.hasOwnProperty(prop)&&(receiver[prop]=supplier[prop]);return prop},indexOf:function(values,value){if(values.indexOf)return values.indexOf(value);for(var i=0,len=values.length;len>i;i++)if(values[i]===value)return i;return-1},forEach:function(values,func){if(values.forEach)return values.forEach(func);for(var i=0,len=values.length;len>i;i++)func(values[i],i,values)}},CSSLint.addRule({id:"adjoining-classes",name:"Disallow adjoining classes",desc:"Don\'t use adjoining classes.",browsers:"IE6",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,classCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type==parser.SELECTOR_PART_TYPE)for(classCount=0,k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"class"==modifier.type&&classCount++,classCount>1&&reporter.report("Don\'t use adjoining classes.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"box-model",name:"Beware of broken box size",desc:"Don\'t use width or height when using padding or border.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},boxSizing=!1}function endRule(){var prop,value;if(!boxSizing){if(properties.height)for(prop in heightProperties)heightProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!=prop||2!==value.parts.length||0!==value.parts[0].value)&&reporter.report("Using height with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule));if(properties.width)for(prop in widthProperties)widthProperties.hasOwnProperty(prop)&&properties[prop]&&(value=properties[prop].value,("padding"!=prop||2!==value.parts.length||0!==value.parts[1].value)&&reporter.report("Using width with "+prop+" can sometimes make elements larger than you expect.",properties[prop].line,properties[prop].col,rule))}}var properties,rule=this,widthProperties={border:1,"border-left":1,"border-right":1,padding:1,"padding-left":1,"padding-right":1},heightProperties={border:1,"border-bottom":1,"border-top":1,padding:1,"padding-bottom":1,"padding-top":1},boxSizing=!1;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();heightProperties[name]||widthProperties[name]?/^0\\S*$/.test(event.value)||"border"==name&&"none"==event.value||(properties[name]={line:event.property.line,col:event.property.col,value:event.value}):/^(width|height)/i.test(name)&&/^(length|percentage)/.test(event.value.parts[0].type)?properties[name]=1:"box-sizing"==name&&(boxSizing=!0)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"box-sizing",name:"Disallow use of box-sizing",desc:"The box-sizing properties isn\'t supported in IE6 and IE7.",browsers:"IE6, IE7",tags:["Compatibility"],init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var name=event.property.text.toLowerCase();"box-sizing"==name&&reporter.report("The box-sizing property isn\'t supported in IE6 and IE7.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"bulletproof-font-face",name:"Use the bulletproof @font-face syntax",desc:"Use the bulletproof @font-face syntax to avoid 404\'s in old IE (http://www.fontspring.com/blog/the-new-bulletproof-font-face-syntax).",browsers:"All",init:function(parser,reporter){var line,col,rule=this,fontFaceRule=!1,firstSrc=!0,ruleFailed=!1;parser.addListener("startfontface",function(){fontFaceRule=!0}),parser.addListener("property",function(event){if(fontFaceRule){var propertyName=(""+event.property).toLowerCase(),value=""+event.value;if(line=event.line,col=event.col,"src"===propertyName){var regex=/^\\s?url\\([\'"].+\\.eot\\?.*[\'"]\\)\\s*format\\([\'"]embedded-opentype[\'"]\\).*$/i;!value.match(regex)&&firstSrc?(ruleFailed=!0,firstSrc=!1):value.match(regex)&&!firstSrc&&(ruleFailed=!1)}}}),parser.addListener("endfontface",function(){fontFaceRule=!1,ruleFailed&&reporter.report("@font-face declaration doesn\'t follow the fontspring bulletproof syntax.",line,col,rule)})}}),CSSLint.addRule({id:"compatible-vendor-prefixes",name:"Require compatible vendor prefixes",desc:"Include all compatible vendor prefixes to reach a wider range of users.",browsers:"All",init:function(parser,reporter){var compatiblePrefixes,properties,prop,variations,prefixed,i,len,rule=this,inKeyFrame=!1,arrayPush=Array.prototype.push,applyTo=[];compatiblePrefixes={animation:"webkit moz","animation-delay":"webkit moz","animation-direction":"webkit moz","animation-duration":"webkit moz","animation-fill-mode":"webkit moz","animation-iteration-count":"webkit moz","animation-name":"webkit moz","animation-play-state":"webkit moz","animation-timing-function":"webkit moz",appearance:"webkit moz","border-end":"webkit moz","border-end-color":"webkit moz","border-end-style":"webkit moz","border-end-width":"webkit moz","border-image":"webkit moz o","border-radius":"webkit","border-start":"webkit moz","border-start-color":"webkit moz","border-start-style":"webkit moz","border-start-width":"webkit moz","box-align":"webkit moz ms","box-direction":"webkit moz ms","box-flex":"webkit moz ms","box-lines":"webkit ms","box-ordinal-group":"webkit moz ms","box-orient":"webkit moz ms","box-pack":"webkit moz ms","box-sizing":"webkit moz","box-shadow":"webkit moz","column-count":"webkit moz ms","column-gap":"webkit moz ms","column-rule":"webkit moz ms","column-rule-color":"webkit moz ms","column-rule-style":"webkit moz ms","column-rule-width":"webkit moz ms","column-width":"webkit moz ms",hyphens:"epub moz","line-break":"webkit ms","margin-end":"webkit moz","margin-start":"webkit moz","marquee-speed":"webkit wap","marquee-style":"webkit wap","padding-end":"webkit moz","padding-start":"webkit moz","tab-size":"moz o","text-size-adjust":"webkit ms",transform:"webkit moz ms o","transform-origin":"webkit moz ms o",transition:"webkit moz o","transition-delay":"webkit moz o","transition-duration":"webkit moz o","transition-property":"webkit moz o","transition-timing-function":"webkit moz o","user-modify":"webkit moz","user-select":"webkit moz ms","word-break":"epub ms","writing-mode":"epub ms"};for(prop in compatiblePrefixes)if(compatiblePrefixes.hasOwnProperty(prop)){for(variations=[],prefixed=compatiblePrefixes[prop].split(" "),i=0,len=prefixed.length;len>i;i++)variations.push("-"+prefixed[i]+"-"+prop);compatiblePrefixes[prop]=variations,arrayPush.apply(applyTo,variations)}parser.addListener("startrule",function(){properties=[]}),parser.addListener("startkeyframes",function(event){inKeyFrame=event.prefix||!0}),parser.addListener("endkeyframes",function(){inKeyFrame=!1}),parser.addListener("property",function(event){var name=event.property;CSSLint.Util.indexOf(applyTo,name.text)>-1&&(inKeyFrame&&"string"==typeof inKeyFrame&&0===name.text.indexOf("-"+inKeyFrame+"-")||properties.push(name))}),parser.addListener("endrule",function(){if(properties.length){var i,len,name,prop,variations,value,full,actual,item,propertiesSpecified,propertyGroups={};for(i=0,len=properties.length;len>i;i++){name=properties[i];for(prop in compatiblePrefixes)compatiblePrefixes.hasOwnProperty(prop)&&(variations=compatiblePrefixes[prop],CSSLint.Util.indexOf(variations,name.text)>-1&&(propertyGroups[prop]||(propertyGroups[prop]={full:variations.slice(0),actual:[],actualNodes:[]}),-1===CSSLint.Util.indexOf(propertyGroups[prop].actual,name.text)&&(propertyGroups[prop].actual.push(name.text),propertyGroups[prop].actualNodes.push(name))))}for(prop in propertyGroups)if(propertyGroups.hasOwnProperty(prop)&&(value=propertyGroups[prop],full=value.full,actual=value.actual,full.length>actual.length))for(i=0,len=full.length;len>i;i++)item=full[i],-1===CSSLint.Util.indexOf(actual,item)&&(propertiesSpecified=1===actual.length?actual[0]:2==actual.length?actual.join(" and "):actual.join(", "),reporter.report("The property "+item+" is compatible with "+propertiesSpecified+" and should be included as well.",value.actualNodes[0].line,value.actualNodes[0].col,rule))}})}}),CSSLint.addRule({id:"display-property-grouping",name:"Require properties appropriate for display",desc:"Certain properties shouldn\'t be used with certain display property values.",browsers:"All",init:function(parser,reporter){function reportProperty(name,display,msg){properties[name]&&("string"!=typeof propertiesToCheck[name]||properties[name].value.toLowerCase()!=propertiesToCheck[name])&&reporter.report(msg||name+" can\'t be used with display: "+display+".",properties[name].line,properties[name].col,rule)}function startRule(){properties={}}function endRule(){var display=properties.display?properties.display.value:null;if(display)switch(display){case"inline":reportProperty("height",display),reportProperty("width",display),reportProperty("margin",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display,"display:inline has no effect on floated elements (but may be used to fix the IE6 double-margin bug).");break;case"block":reportProperty("vertical-align",display);break;case"inline-block":reportProperty("float",display);break;default:0===display.indexOf("table-")&&(reportProperty("margin",display),reportProperty("margin-left",display),reportProperty("margin-right",display),reportProperty("margin-top",display),reportProperty("margin-bottom",display),reportProperty("float",display))}}var properties,rule=this,propertiesToCheck={display:1,"float":"none",height:1,width:1,margin:1,"margin-left":1,"margin-right":1,"margin-bottom":1,"margin-top":1,padding:1,"padding-left":1,"padding-right":1,"padding-bottom":1,"padding-top":1,"vertical-align":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startpage",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();propertiesToCheck[name]&&(properties[name]={value:event.value.text,line:event.property.line,col:event.property.col})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endkeyframerule",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endpage",endRule)}}),CSSLint.addRule({id:"duplicate-background-images",name:"Disallow duplicate background images",desc:"Every background-image should be unique. Use a common class for e.g. sprites.",browsers:"All",init:function(parser,reporter){var rule=this,stack={};parser.addListener("property",function(event){var i,len,name=event.property.text,value=event.value;if(name.match(/background/i))for(i=0,len=value.parts.length;len>i;i++)"uri"==value.parts[i].type&&(stack[value.parts[i].uri]===void 0?stack[value.parts[i].uri]=event:reporter.report("Background image \'"+value.parts[i].uri+"\' was used multiple times, first declared at line "+stack[value.parts[i].uri].line+", col "+stack[value.parts[i].uri].col+".",event.line,event.col,rule))})}}),CSSLint.addRule({id:"duplicate-properties",name:"Disallow duplicate properties",desc:"Duplicate properties must appear one after the other.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}var properties,lastProperty,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase();!properties[name]||lastProperty==name&&properties[name]!=event.value.text||reporter.report("Duplicate property \'"+event.property+"\' found.",event.line,event.col,rule),properties[name]=event.value.text,lastProperty=name})}}),CSSLint.addRule({id:"empty-rules",name:"Disallow empty rules",desc:"Rules without any properties specified should be removed.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(){count=0}),parser.addListener("property",function(){count++}),parser.addListener("endrule",function(event){var selectors=event.selectors;0===count&&reporter.report("Rule is empty.",selectors[0].line,selectors[0].col,rule)})}}),CSSLint.addRule({id:"errors",name:"Parsing Errors",desc:"This rule looks for recoverable syntax errors.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("error",function(event){reporter.error(event.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"fallback-colors",name:"Require fallback colors",desc:"For older browsers that don\'t support RGBA, HSL, or HSLA, provide a fallback color.",browsers:"IE6,IE7,IE8",init:function(parser,reporter){function startRule(){properties={},lastProperty=null}var lastProperty,properties,rule=this,propertiesToCheck={color:1,background:1,"border-color":1,"border-top-color":1,"border-right-color":1,"border-bottom-color":1,"border-left-color":1,border:1,"border-top":1,"border-right":1,"border-bottom":1,"border-left":1,"background-color":1};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var property=event.property,name=property.text.toLowerCase(),parts=event.value.parts,i=0,colorType="",len=parts.length;if(propertiesToCheck[name])for(;len>i;)"color"==parts[i].type&&("alpha"in parts[i]||"hue"in parts[i]?(/([^\\)]+)\\(/.test(parts[i])&&(colorType=RegExp.$1.toUpperCase()),lastProperty&&lastProperty.property.text.toLowerCase()==name&&"compat"==lastProperty.colorType||reporter.report("Fallback "+name+" (hex or RGB) should precede "+colorType+" "+name+".",event.line,event.col,rule)):event.colorType="compat"),i++;lastProperty=event})}}),CSSLint.addRule({id:"floats",name:"Disallow too many floats",desc:"This rule tests if the float property is used too many times",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"float"==event.property.text.toLowerCase()&&"none"!=event.value.text.toLowerCase()&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("floats",count),count>=10&&reporter.rollupWarn("Too many floats ("+count+"), you\'re probably using them for layout. Consider using a grid system instead.",rule)})}}),CSSLint.addRule({id:"font-faces",name:"Don\'t use too many web fonts",desc:"Too many different web fonts in the same stylesheet.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startfontface",function(){count++}),parser.addListener("endstylesheet",function(){count>5&&reporter.rollupWarn("Too many @font-face declarations ("+count+").",rule)})}}),CSSLint.addRule({id:"font-sizes",name:"Disallow too many font sizes",desc:"Checks the number of font-size declarations.",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){"font-size"==event.property&&count++}),parser.addListener("endstylesheet",function(){reporter.stat("font-sizes",count),count>=10&&reporter.rollupWarn("Too many font-size declarations ("+count+"), abstraction needed.",rule)\n})}}),CSSLint.addRule({id:"gradients",name:"Require all gradient definitions",desc:"When using a vendor-prefixed gradient, make sure to use them all.",browsers:"All",init:function(parser,reporter){var gradients,rule=this;parser.addListener("startrule",function(){gradients={moz:0,webkit:0,oldWebkit:0,o:0}}),parser.addListener("property",function(event){/\\-(moz|o|webkit)(?:\\-(?:linear|radial))\\-gradient/i.test(event.value)?gradients[RegExp.$1]=1:/\\-webkit\\-gradient/i.test(event.value)&&(gradients.oldWebkit=1)}),parser.addListener("endrule",function(event){var missing=[];gradients.moz||missing.push("Firefox 3.6+"),gradients.webkit||missing.push("Webkit (Safari 5+, Chrome)"),gradients.oldWebkit||missing.push("Old Webkit (Safari 4+, Chrome)"),gradients.o||missing.push("Opera 11.1+"),missing.length&&4>missing.length&&reporter.report("Missing vendor-prefixed CSS gradients for "+missing.join(", ")+".",event.selectors[0].line,event.selectors[0].col,rule)})}}),CSSLint.addRule({id:"ids",name:"Disallow IDs in selectors",desc:"Selectors should not contain IDs.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,idCount,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++){for(selector=selectors[i],idCount=0,j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type==parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"id"==modifier.type&&idCount++;1==idCount?reporter.report("Don\'t use IDs in selectors.",selector.line,selector.col,rule):idCount>1&&reporter.report(idCount+" IDs in the selector, really?",selector.line,selector.col,rule)}})}}),CSSLint.addRule({id:"import",name:"Disallow @import",desc:"Don\'t use @import, use <link> instead.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("import",function(event){reporter.report("@import prevents parallel downloads, use <link> instead.",event.line,event.col,rule)})}}),CSSLint.addRule({id:"important",name:"Disallow !important",desc:"Be careful when using !important declaration",browsers:"All",init:function(parser,reporter){var rule=this,count=0;parser.addListener("property",function(event){event.important===!0&&(count++,reporter.report("Use of !important",event.line,event.col,rule))}),parser.addListener("endstylesheet",function(){reporter.stat("important",count),count>=10&&reporter.rollupWarn("Too many !important declarations ("+count+"), try to use less than 10 to avoid specificity issues.",rule)})}}),CSSLint.addRule({id:"known-properties",name:"Require use of known properties",desc:"Properties should be known (listed in CSS3 specification) or be a vendor-prefixed property.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){event.property.text.toLowerCase(),event.invalid&&reporter.report(event.invalid.message,event.line,event.col,rule)})}}),CSSLint.addRule({id:"outline-none",name:"Disallow outline: none",desc:"Use of outline: none or outline: 0 should be limited to :focus rules.",browsers:"All",tags:["Accessibility"],init:function(parser,reporter){function startRule(event){lastRule=event.selectors?{line:event.line,col:event.col,selectors:event.selectors,propCount:0,outline:!1}:null}function endRule(){lastRule&&lastRule.outline&&(-1==(""+lastRule.selectors).toLowerCase().indexOf(":focus")?reporter.report("Outlines should only be modified using :focus.",lastRule.line,lastRule.col,rule):1==lastRule.propCount&&reporter.report("Outlines shouldn\'t be hidden unless other visual changes are made.",lastRule.line,lastRule.col,rule))}var lastRule,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase(),value=event.value;lastRule&&(lastRule.propCount++,"outline"!=name||"none"!=value&&"0"!=value||(lastRule.outline=!0))}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"overqualified-elements",name:"Disallow overqualified elements",desc:"Don\'t use classes or IDs with elements (a.foo or a#foo).",browsers:"All",init:function(parser,reporter){var rule=this,classes={};parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type==parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],part.elementName&&"id"==modifier.type?reporter.report("Element ("+part+") is overqualified, just use "+modifier+" without element name.",part.line,part.col,rule):"class"==modifier.type&&(classes[modifier]||(classes[modifier]=[]),classes[modifier].push({modifier:modifier,part:part}))}),parser.addListener("endstylesheet",function(){var prop;for(prop in classes)classes.hasOwnProperty(prop)&&1==classes[prop].length&&classes[prop][0].part.elementName&&reporter.report("Element ("+classes[prop][0].part+") is overqualified, just use "+classes[prop][0].modifier+" without element name.",classes[prop][0].part.line,classes[prop][0].part.col,rule)})}}),CSSLint.addRule({id:"qualified-headings",name:"Disallow qualified headings",desc:"Headings should not be qualified (namespaced).",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)part=selector.parts[j],part.type==parser.SELECTOR_PART_TYPE&&part.elementName&&/h[1-6]/.test(""+part.elementName)&&j>0&&reporter.report("Heading ("+part.elementName+") should not be qualified.",part.line,part.col,rule)})}}),CSSLint.addRule({id:"regex-selectors",name:"Disallow selectors that look like regexs",desc:"Selectors that look like regular expressions are slow and should be avoided.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,j,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)for(selector=selectors[i],j=0;selector.parts.length>j;j++)if(part=selector.parts[j],part.type==parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"==modifier.type&&/([\\~\\|\\^\\$\\*]=)/.test(modifier)&&reporter.report("Attribute selectors with "+RegExp.$1+" are slow!",modifier.line,modifier.col,rule)})}}),CSSLint.addRule({id:"rules-count",name:"Rules Count",desc:"Track how many rules there are.",browsers:"All",init:function(parser,reporter){var count=0;parser.addListener("startrule",function(){count++}),parser.addListener("endstylesheet",function(){reporter.stat("rule-count",count)})}}),CSSLint.addRule({id:"selector-max-approaching",name:"Warn when approaching the 4095 selector limit for IE",desc:"Will warn when selector count is >= 3800 selectors.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>=3800&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"selector-max",name:"Error when past the 4095 selector limit for IE",desc:"Will error when selector count is > 4095.",browsers:"IE",init:function(parser,reporter){var rule=this,count=0;parser.addListener("startrule",function(event){count+=event.selectors.length}),parser.addListener("endstylesheet",function(){count>4095&&reporter.report("You have "+count+" selectors. Internet Explorer supports a maximum of 4095 selectors per stylesheet. Consider refactoring.",0,0,rule)})}}),CSSLint.addRule({id:"shorthand",name:"Require shorthand properties",desc:"Use shorthand properties where possible.",browsers:"All",init:function(parser,reporter){function startRule(){properties={}}function endRule(event){var prop,i,len,total;for(prop in mapping)if(mapping.hasOwnProperty(prop)){for(total=0,i=0,len=mapping[prop].length;len>i;i++)total+=properties[mapping[prop][i]]?1:0;total==mapping[prop].length&&reporter.report("The properties "+mapping[prop].join(", ")+" can be replaced by "+prop+".",event.line,event.col,rule)}}var prop,i,len,properties,rule=this,propertiesToCheck={},mapping={margin:["margin-top","margin-bottom","margin-left","margin-right"],padding:["padding-top","padding-bottom","padding-left","padding-right"]};for(prop in mapping)if(mapping.hasOwnProperty(prop))for(i=0,len=mapping[prop].length;len>i;i++)propertiesToCheck[mapping[prop][i]]=prop;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase();event.value.parts[0].value,propertiesToCheck[name]&&(properties[name]=1)}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"star-property-hack",name:"Disallow properties with a star prefix",desc:"Checks for the star property hack (targets IE6/7)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"*"==property.hack&&reporter.report("Property with star prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"text-indent",name:"Disallow negative text-indent",desc:"Checks for text indent less than -99px",browsers:"All",init:function(parser,reporter){function startRule(){textIndent=!1,direction="inherit"}function endRule(){textIndent&&"ltr"!=direction&&reporter.report("Negative text-indent doesn\'t work well with RTL. If you use text-indent for image replacement explicitly set direction for that item to ltr.",textIndent.line,textIndent.col,rule)}var textIndent,direction,rule=this;parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("property",function(event){var name=(""+event.property).toLowerCase(),value=event.value;"text-indent"==name&&-99>value.parts[0].value?textIndent=event.property:"direction"==name&&"ltr"==value&&(direction="ltr")}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule)}}),CSSLint.addRule({id:"underscore-property-hack",name:"Disallow properties with an underscore prefix",desc:"Checks for the underscore property hack (targets IE6)",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){var property=event.property;"_"==property.hack&&reporter.report("Property with underscore prefix found.",event.property.line,event.property.col,rule)})}}),CSSLint.addRule({id:"unique-headings",name:"Headings should only be defined once",desc:"Headings should be defined only once.",browsers:"All",init:function(parser,reporter){var rule=this,headings={h1:0,h2:0,h3:0,h4:0,h5:0,h6:0};parser.addListener("startrule",function(event){var selector,part,pseudo,i,j,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.elementName&&/(h[1-6])/i.test(""+part.elementName)){for(j=0;part.modifiers.length>j;j++)if("pseudo"==part.modifiers[j].type){pseudo=!0;break}pseudo||(headings[RegExp.$1]++,headings[RegExp.$1]>1&&reporter.report("Heading ("+part.elementName+") has already been defined.",part.line,part.col,rule))}}),parser.addListener("endstylesheet",function(){var prop,messages=[];for(prop in headings)headings.hasOwnProperty(prop)&&headings[prop]>1&&messages.push(headings[prop]+" "+prop+"s");messages.length&&reporter.rollupWarn("You have "+messages.join(", ")+" defined in this stylesheet.",rule)})}}),CSSLint.addRule({id:"universal-selector",name:"Disallow universal selector",desc:"The universal selector (*) is known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,i,selectors=event.selectors;for(i=0;selectors.length>i;i++)selector=selectors[i],part=selector.parts[selector.parts.length-1],"*"==part.elementName&&reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"unqualified-attributes",name:"Disallow unqualified attribute selectors",desc:"Unqualified attribute selectors are known to be slow.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("startrule",function(event){var selector,part,modifier,i,k,selectors=event.selectors;for(i=0;selectors.length>i;i++)if(selector=selectors[i],part=selector.parts[selector.parts.length-1],part.type==parser.SELECTOR_PART_TYPE)for(k=0;part.modifiers.length>k;k++)modifier=part.modifiers[k],"attribute"!=modifier.type||part.elementName&&"*"!=part.elementName||reporter.report(rule.desc,part.line,part.col,rule)})}}),CSSLint.addRule({id:"vendor-prefix",name:"Require standard property with vendor prefix",desc:"When using a vendor-prefixed property, make sure to include the standard one.",browsers:"All",init:function(parser,reporter){function startRule(){properties={},num=1}function endRule(){var prop,i,len,needed,actual,needsStandard=[];for(prop in properties)propertiesToCheck[prop]&&needsStandard.push({actual:prop,needed:propertiesToCheck[prop]});for(i=0,len=needsStandard.length;len>i;i++)needed=needsStandard[i].needed,actual=needsStandard[i].actual,properties[needed]?properties[needed][0].pos<properties[actual][0].pos&&reporter.report("Standard property \'"+needed+"\' should come after vendor-prefixed property \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule):reporter.report("Missing standard property \'"+needed+"\' to go along with \'"+actual+"\'.",properties[actual][0].name.line,properties[actual][0].name.col,rule)}var properties,num,rule=this,propertiesToCheck={"-webkit-border-radius":"border-radius","-webkit-border-top-left-radius":"border-top-left-radius","-webkit-border-top-right-radius":"border-top-right-radius","-webkit-border-bottom-left-radius":"border-bottom-left-radius","-webkit-border-bottom-right-radius":"border-bottom-right-radius","-o-border-radius":"border-radius","-o-border-top-left-radius":"border-top-left-radius","-o-border-top-right-radius":"border-top-right-radius","-o-border-bottom-left-radius":"border-bottom-left-radius","-o-border-bottom-right-radius":"border-bottom-right-radius","-moz-border-radius":"border-radius","-moz-border-radius-topleft":"border-top-left-radius","-moz-border-radius-topright":"border-top-right-radius","-moz-border-radius-bottomleft":"border-bottom-left-radius","-moz-border-radius-bottomright":"border-bottom-right-radius","-moz-column-count":"column-count","-webkit-column-count":"column-count","-moz-column-gap":"column-gap","-webkit-column-gap":"column-gap","-moz-column-rule":"column-rule","-webkit-column-rule":"column-rule","-moz-column-rule-style":"column-rule-style","-webkit-column-rule-style":"column-rule-style","-moz-column-rule-color":"column-rule-color","-webkit-column-rule-color":"column-rule-color","-moz-column-rule-width":"column-rule-width","-webkit-column-rule-width":"column-rule-width","-moz-column-width":"column-width","-webkit-column-width":"column-width","-webkit-column-span":"column-span","-webkit-columns":"columns","-moz-box-shadow":"box-shadow","-webkit-box-shadow":"box-shadow","-moz-transform":"transform","-webkit-transform":"transform","-o-transform":"transform","-ms-transform":"transform","-moz-transform-origin":"transform-origin","-webkit-transform-origin":"transform-origin","-o-transform-origin":"transform-origin","-ms-transform-origin":"transform-origin","-moz-box-sizing":"box-sizing","-webkit-box-sizing":"box-sizing","-moz-user-select":"user-select","-khtml-user-select":"user-select","-webkit-user-select":"user-select"};parser.addListener("startrule",startRule),parser.addListener("startfontface",startRule),parser.addListener("startpage",startRule),parser.addListener("startpagemargin",startRule),parser.addListener("startkeyframerule",startRule),parser.addListener("property",function(event){var name=event.property.text.toLowerCase();properties[name]||(properties[name]=[]),properties[name].push({name:event.property,value:event.value,pos:num++})}),parser.addListener("endrule",endRule),parser.addListener("endfontface",endRule),parser.addListener("endpage",endRule),parser.addListener("endpagemargin",endRule),parser.addListener("endkeyframerule",endRule)}}),CSSLint.addRule({id:"zero-units",name:"Disallow units for 0 values",desc:"You don\'t need to specify units when a value is 0.",browsers:"All",init:function(parser,reporter){var rule=this;parser.addListener("property",function(event){for(var parts=event.value.parts,i=0,len=parts.length;len>i;)!parts[i].units&&"percentage"!=parts[i].type||0!==parts[i].value||"time"==parts[i].type||reporter.report("Values of 0 shouldn\'t have units specified.",parts[i].line,parts[i].col,rule),i++})}}),function(){var xmlEscape=function(str){return str&&str.constructor===String?str.replace(/[\\"&><]/g,function(match){switch(match){case\'"\':return"&quot;";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;"}}):""};CSSLint.addFormatter({id:"checkstyle-xml",name:"Checkstyle XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><checkstyle>\'},endFormat:function(){return"</checkstyle>"},readError:function(filename,message){return\'<file name="\'+xmlEscape(filename)+\'"><error line="0" column="0" severty="error" message="\'+xmlEscape(message)+\'"></error></file>\'},formatResults:function(results,filename){var messages=results.messages,output=[],generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup||output.push(\'<error line="\'+message.line+\'" column="\'+message.col+\'" severity="\'+message.type+\'"\'+\' message="\'+xmlEscape(message.message)+\'" source="\'+generateSource(message.rule)+\'"/>\')}),output.push("</file>")),output.join("")}})}(),CSSLint.addFormatter({id:"compact",name:"Compact, \'porcelain\' format",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";options=options||{};var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1)};return 0===messages.length?options.quiet?"":filename+": Lint Free!":(CSSLint.Util.forEach(messages,function(message){output+=message.rollup?filename+": "+capitalize(message.type)+" - "+message.message+"\\n":filename+": "+"line "+message.line+", col "+message.col+", "+capitalize(message.type)+" - "+message.message+" ("+message.rule.id+")\\n"}),output)}}),CSSLint.addFormatter({id:"csslint-xml",name:"CSSLint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><csslint>\'},endFormat:function(){return"</csslint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"junit-xml",name:"JUNIT XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><testsuites>\'},endFormat:function(){return"</testsuites>"},formatResults:function(results,filename){var messages=results.messages,output=[],tests={error:0,failure:0},generateSource=function(rule){return rule&&"name"in rule?"net.csslint."+rule.name.replace(/\\s/g,""):""},escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(messages.forEach(function(message){var type="warning"===message.type?"error":message.type;message.rollup||(output.push(\'<testcase time="0" name="\'+generateSource(message.rule)+\'">\'),output.push("<"+type+\' message="\'+escapeSpecialCharacters(message.message)+\'"><![CDATA[\'+message.line+":"+message.col+":"+escapeSpecialCharacters(message.evidence)+"]]></"+type+">"),output.push("</testcase>"),tests[type]+=1)}),output.unshift(\'<testsuite time="0" tests="\'+messages.length+\'" skipped="0" errors="\'+tests.error+\'" failures="\'+tests.failure+\'" package="net.csslint" name="\'+filename+\'">\'),output.push("</testsuite>")),output.join("")}}),CSSLint.addFormatter({id:"lint-xml",name:"Lint XML format",startFormat:function(){return\'<?xml version="1.0" encoding="utf-8"?><lint>\'},endFormat:function(){return"</lint>"},formatResults:function(results,filename){var messages=results.messages,output=[],escapeSpecialCharacters=function(str){return str&&str.constructor===String?str.replace(/\\"/g,"\'").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""};return messages.length>0&&(output.push(\'<file name="\'+filename+\'">\'),CSSLint.Util.forEach(messages,function(message){message.rollup?output.push(\'<issue severity="\'+message.type+\'" reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\'):output.push(\'<issue line="\'+message.line+\'" char="\'+message.col+\'" severity="\'+message.type+\'"\'+\' reason="\'+escapeSpecialCharacters(message.message)+\'" evidence="\'+escapeSpecialCharacters(message.evidence)+\'"/>\')}),output.push("</file>")),output.join("")}}),CSSLint.addFormatter({id:"text",name:"Plain Text",startFormat:function(){return""},endFormat:function(){return""},formatResults:function(results,filename,options){var messages=results.messages,output="";if(options=options||{},0===messages.length)return options.quiet?"":"\\n\\ncsslint: No errors in "+filename+".";output="\\n\\ncsslint: There are "+messages.length+" problems in "+filename+".";var pos=filename.lastIndexOf("/"),shortFilename=filename;return-1===pos&&(pos=filename.lastIndexOf("\\\\")),pos>-1&&(shortFilename=filename.substring(pos+1)),CSSLint.Util.forEach(messages,function(message,i){output=output+"\\n\\n"+shortFilename,message.rollup?(output+="\\n"+(i+1)+": "+message.type,output+="\\n"+message.message):(output+="\\n"+(i+1)+": "+message.type+" at line "+message.line+", col "+message.col,output+="\\n"+message.message,output+="\\n"+message.evidence)}),output}}),exports.CSSLint=CSSLint}),ace.define("ace/mode/css_worker",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/worker/mirror","ace/mode/css/csslint"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),lang=acequire("../lib/lang"),Mirror=acequire("../worker/mirror").Mirror,CSSLint=acequire("./css/csslint").CSSLint,Worker=exports.Worker=function(sender){Mirror.call(this,sender),this.setTimeout(400),this.ruleset=null,this.setDisabledRules("ids"),this.setInfoRules("adjoining-classes|qualified-headings|zero-units|gradients|import|outline-none")};oop.inherits(Worker,Mirror),function(){this.setInfoRules=function(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|")),this.infoRules=lang.arrayToMap(ruleNames),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.setDisabledRules=function(ruleNames){if(ruleNames){"string"==typeof ruleNames&&(ruleNames=ruleNames.split("|"));var all={};CSSLint.getRules().forEach(function(x){all[x.id]=!0}),ruleNames.forEach(function(x){delete all[x]}),this.ruleset=all}else this.ruleset=null;this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.onUpdate=function(){var value=this.doc.getValue();if(!value)return this.sender.emit("csslint",[]);var infoRules=this.infoRules,result=CSSLint.verify(value,this.ruleset);this.sender.emit("csslint",result.messages.map(function(msg){return{row:msg.line-1,column:msg.col-1,text:msg.message,type:infoRules[msg.rule.id]?"info":msg.type,rule:msg.rule.name}}))}}.call(Worker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";\nObject.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r Â áá ââââââââââââ¯âã\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},514:function(e,t,i){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc.tag",regex:"\\bTODO\\b"},{defaultToken:"comment.doc"}]}};n.inherits(o,r),o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s=function(){var e=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),t="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",i="[a-zA-Z\\$_Â¡-ï¿¿][a-zA-Z\\d\\$_Â¡-ï¿¿]*\\b",n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},r.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+i+")(\\.)(prototype)(\\.)("+i+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+i+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+t+")\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:e,regex:i},{token:"keyword.operator",regex:/--|\+\+|[!$%&*+\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=/,next:"start"},{token:"punctuation.operator",regex:/\?|\:|\,|\;|\./,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"keyword.operator",regex:/\/=?/,next:"start"},{token:"comment",regex:/^#!.*$/}],start:[r.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:i},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],comment:[{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment"}],line_comment_regex_allowed:[{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment"}],line_comment:[{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},this.embedRules(r,"doc-",[r.getEndRule("no_regex")])};n.inherits(s,o),t.JavaScriptHighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var n,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.id,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?n=u[t]:void(n=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(){this.add("braces","insertion",function(e,t,i,r,o){var s=i.getCursorPosition(),l=r.doc.getLine(s.row);if("{"==o){h(i);var c=i.getSelectionRange(),u=r.doc.getTextRange(c);if(""!==u&&"{"!==u&&i.getWrapBehavioursEnabled())return{text:"{"+u+"}",selection:!1};if(d.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[s.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(i);var p=l.substring(s.column,s.column+1);if("}"==p){var g=r.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&d.isAutoInsertedClosing(s,l,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(i);var m="";d.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var p=l.substring(s.column,s.column+1);if("}"===p){var f=r.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!f)return null;var v=this.$getIndent(r.getLine(f.row))}else{if(!m)return void d.clearMaybeInsertedClosing();var v=this.$getIndent(l)}var b=v+r.getTabString();return{text:"\n"+b+"\n"+v+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(i);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,r){if("("==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"("+s+")",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=n.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,i,n,r){if("["==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"["+s+"]",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=n.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,i,n,r){if('"'==r||"'"==r){h(i);var o=r,s=i.getSelectionRange(),a=n.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&i.getWrapBehavioursEnabled())return{text:o+a+o,selection:!1};var l=i.getCursorPosition(),c=n.doc.getLine(l.row),u=c.substring(l.column-1,l.column);if("\\"==u)return null;for(var p,g=n.getTokens(s.start.row),m=0,f=-1,v=0;v<g.length&&(p=g[v],"string"==p.type?f=-1:f<0&&(f=p.value.indexOf(o)),!(p.value.length+m>s.start.column));v++)m+=g[v].value.length;if(!p||f<0&&"comment"!==p.type&&("string"!==p.type||s.start.column!==p.value.length+m-1&&p.value.lastIndexOf(o)===p.value.length-1)){if(!d.isSaneInsertion(i,n))return;return{text:o+o,selection:[1,1]}}if(p&&"string"===p.type){var b=c.substring(l.column,l.column+1);if(b==o)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};d.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new s(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){var r=new s(t,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(d,o),t.CstyleBehaviour=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i),o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=r.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}}},this.getSectionRange=function(e,t){var i=e.getLine(t),n=i.search(/\S/),o=t,s=i.length;t+=1;for(var a=t,l=e.getLength();++t<l;){i=e.getLine(t);var c=i.search(/\S/);if(c!==-1){if(n>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(n==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)}}.call(s.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=(e("../range").Range,e("../worker/worker_client").WorkerClient),c=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};r.inherits(h,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return n;if("start"==e||"no_regex"==e){var a=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);a&&(n+=i)}else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a=t.match(/^\s*(\/?)\*/);a&&(a[1]&&(n+=" "),n+="* ")}return n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=new l(["ace"],i(512),"JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("jslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(h.prototype),t.Mode=h}),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(e){this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)([-_a-zA-Z0-9]+)",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)([-_a-zA-Z0-9]+)",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,i){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+i+".tag-name.xml"],regex:"(<)("+i+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[i+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,i){return i.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+i+".tag-name.xml"],regex:"(</)("+i+"(?=\\s|>|$))",next:i+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),n.inherits(o,r),t.XmlHighlightRules=o}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator"],function(e,t,i){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=function(){this.add("string_dquotes","insertion",function(e,t,i,r,o){if('"'==o||"'"==o){var a=o,l=r.doc.getTextRange(i.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&i.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=i.getCursorPosition(),u=r.doc.getLine(c.row),h=u.substring(c.column,c.column+1),d=new s(r,c.row,c.column),p=d.getCurrentToken();if(h==a&&(n(p,"attribute-value")||n(p,"string")))return{text:"",selection:[1,1]};if(p||(p=d.stepBackward()),!p)return;for(;n(p,"tag-whitespace")||n(p,"whitespace");)p=d.stepBackward();var g=!h||h.match(/\s/);if(n(p,"attribute-equals")&&(g||">"==h)||n(p,"decl-attribute-equals")&&(g||"?"==h))return{text:a+a,selection:[1,1]}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}}),this.add("autoclosing","insertion",function(e,t,i,r,o){if(">"==o){var a=i.getCursorPosition(),l=new s(r,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(n(c,"tag-name")||n(c,"tag-whitespace")||n(c,"attribute-name")||n(c,"attribute-equals")||n(c,"attribute-value")))return;if(n(c,"reference.attribute-value"))return;if(n(c,"attribute-value")){var u=c.value.charAt(0);if('"'==u||"'"==u){var h=c.value.charAt(c.value.length-1),d=l.getCurrentTokenColumn()+c.value.length;if(d>a.column||d==a.column&&u!=h)return}}for(;!n(c,"tag-name");)c=l.stepBackward();var p=l.getCurrentTokenRow(),g=l.getCurrentTokenColumn();if(n(l.stepBackward(),"end-tag-open"))return;var m=c.value;if(p==a.row&&(m=m.substring(0,a.column-g)),this.voidElements.hasOwnProperty(m.toLowerCase()))return;return{text:"></"+m+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(e,t,i,n,r){if("\n"==r){var o=i.getCursorPosition(),s=n.getLine(o.row),a=s.substring(o.column,o.column+2);if("</"==a){var l=this.$getIndent(s),c=l+n.getTabString();return{text:"\n"+c+"\n"+l,selection:[1,c.length,1,c.length]}}}})};r.inherits(a,o),t.XmlBehaviour=a}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(e,t,i){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}var r=e("../../lib/oop"),o=(e("../../lib/lang"),e("../../range").Range),s=e("./fold_mode").FoldMode,a=e("../../token_iterator").TokenIterator,l=t.FoldMode=function(e,t){s.call(this),this.voidElements=r.mixin(e||{},t||{})};r.inherits(l,s);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,i){var n=this._getFirstTagInLine(e,i);return n?n.closing||!n.tagName&&n.selfClosing?"markbeginend"==t?"end":"":!n.tagName||n.selfClosing||this.voidElements.hasOwnProperty(n.tagName.toLowerCase())?"":this._findEndTagInLine(e,i,n.tagName,n.end.column)?"":"start":""},this._getFirstTagInLine=function(e,t){for(var i=e.getTokens(t),r=new c,o=0;o<i.length;o++){var s=i[o];if(n(s,"tag-open")){if(r.end.column=r.start.column+s.value.length,r.closing=n(s,"end-tag-open"),s=i[++o],!s)return null;for(r.tagName=s.value,r.end.column+=s.value.length,o++;o<i.length;o++)if(s=i[o],r.end.column+=s.value.length,n(s,"tag-close")){r.selfClosing="/>"==s.value;break}return r}if(n(s,"tag-close"))return r.selfClosing="/>"==s.value,r;r.start.column+=s.value.length}return null},this._findEndTagInLine=function(e,t,i,r){for(var o=e.getTokens(t),s=0,a=0;a<o.length;a++){var l=o[a];if(s+=l.value.length,!(s<r)&&n(l,"end-tag-open")&&(l=o[a+1],l&&l.value==i))return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var i=new c;do if(n(t,"tag-open"))i.closing=n(t,"end-tag-open"),i.start.row=e.getCurrentTokenRow(),i.start.column=e.getCurrentTokenColumn();else if(n(t,"tag-name"))i.tagName=t.value;else if(n(t,"tag-close"))return i.selfClosing="/>"==t.value,i.end.row=e.getCurrentTokenRow(),i.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),i;while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var i=new c;do{if(n(t,"tag-open"))return i.closing=n(t,"end-tag-open"),i.start.row=e.getCurrentTokenRow(),i.start.column=e.getCurrentTokenColumn(),e.stepBackward(),i;n(t,"tag-name")?i.tagName=t.value:n(t,"tag-close")&&(i.selfClosing="/>"==t.value,i.end.row=e.getCurrentTokenRow(),i.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var i=e[e.length-1];if(t&&i.tagName!=t.tagName){if(this.voidElements.hasOwnProperty(t.tagName))return;if(this.voidElements.hasOwnProperty(i.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,i){var n=this._getFirstTagInLine(e,i);if(!n)return null;var r,s=n.closing||n.selfClosing,l=[];if(s)for(var c=new a(e,i,n.end.column),u={row:i,column:n.start.column};r=this._readTagBackward(c);){if(r.selfClosing){if(l.length)continue;return r.start.column+=r.tagName.length+2,r.end.column-=2,o.fromPoints(r.start,r.end)}if(r.closing)l.push(r);else if(this._pop(l,r),0==l.length)return r.start.column+=r.tagName.length+2,o.fromPoints(r.start,u)}else for(var c=new a(e,i,n.start.column),h={row:i,column:n.start.column+n.tagName.length+2};r=this._readTagForward(c);){if(r.selfClosing){if(l.length)continue;return r.start.column+=r.tagName.length+2,r.end.column-=2,o.fromPoints(r.start,r.end)}if(r.closing){if(this._pop(l,r),0==l.length)return o.fromPoints(h,r.start)}else l.push(r)}}}).call(l.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./xml_highlight_rules").XmlHighlightRules,a=e("./behaviour/xml").XmlBehaviour,l=e("./folding/xml").FoldMode,c=function(){this.HighlightRules=s,this.$behaviour=new a,this.foldingRules=new l;
};n.inherits(c,o),function(){this.voidElements=r.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.$id="ace/mode/xml"}.call(c.prototype),t.Mode=c}),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",c=t.supportConstantFonts="arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};n.inherits(p,r),t.CssHighlightRules=p}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(r),this.add("colon","insertion",function(e,t,i,n,r){if(":"===r){var s=i.getCursorPosition(),a=new o(n,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=n.doc.getLine(s.row),u=c.substring(s.column,s.column+1);if(":"===u)return{text:"",selection:[1,1]};if(!c.substring(s.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,i,n,r){var s=n.doc.getTextRange(r);if(!r.isMultiLine()&&":"===s){var a=i.getCursorPosition(),l=new o(n,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){var u=n.doc.getLine(r.start.row),h=u.substring(r.end.column,r.end.column+1);if(";"===h)return r.end.column++,r}}}),this.add("semicolon","insertion",function(e,t,i,n,r){if(";"===r){var o=i.getCursorPosition(),s=n.doc.getLine(o.row),a=s.substring(o.column,o.column+1);if(";"===a)return{text:"",selection:[1,1]}}})};n.inherits(s,r),t.CssBehaviour=s}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,s=e("./css_highlight_rules").CssHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};r.inherits(h,o),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;if(r.length&&"comment"==r[r.length-1].type)return n;var o=t.match(/^.*\{\s*$/);return o&&(n+=i),n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=new l(["ace"],i(513),"Worker");return t.attachToDocument(e.getDocument()),t.on("csslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(h.prototype),t.Mode=h}),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var i=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(i?"."+i:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(s,"js-","script"),this.constructor===c&&this.normalizeRules()};n.inherits(c,a),t.HtmlHighlightRules=c}),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};n.inherits(o,r),function(){this.$getMode=function(e){"string"!=typeof e&&(e=e[0]);for(var t in this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,i,n){var r=this.$getMode(e);return r?r.getFoldWidget(t,i,n):""},this.getFoldWidget=function(e,t,i){return this.$tryMode(e.getState(i-1),e,t,i)||this.$tryMode(e.getState(i),e,t,i)||this.defaultMode.getFoldWidget(e,t,i)},this.getFoldWidgetRange=function(e,t,i){var n=this.$getMode(e.getState(i-1));return n&&n.getFoldWidget(e,t,i)||(n=this.$getMode(e.getState(i))),n&&n.getFoldWidget(e,t,i)||(n=this.defaultMode),n.getFoldWidgetRange(e,t,i)}}.call(o.prototype)}),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("./mixed").FoldMode,o=e("./xml").FoldMode,s=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){r.call(this,new o(e,t),{"js-":new s,"css-":new s})};n.inherits(a,r)}),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],function(e,t,i){"use strict";function n(e,t){return e.type.lastIndexOf(t+".xml")>-1}function r(e,t){for(var i=new o(e,t.row,t.column),r=i.getCurrentToken();r&&!n(r,"tag-name");)r=i.stepBackward();if(r)return r.value}var o=e("../token_iterator").TokenIterator,s=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"],a=["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"],l=s.concat(a),c={html:["manifest"],head:[],title:[],base:["href","target"],link:["href","hreflang","rel","media","type","sizes"],meta:["http-equiv","name","content","charset"],style:["type","media","scoped"],script:["charset","type","src","defer","async"],noscript:["href"],body:["onafterprint","onbeforeprint","onbeforeunload","onhashchange","onmessage","onoffline","onpopstate","onredo","onresize","onstorage","onundo","onunload"],section:[],nav:[],article:["pubdate"],aside:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],footer:[],address:[],main:[],p:[],hr:[],pre:[],blockquote:["cite"],ol:["start","reversed"],ul:[],li:["value"],dl:[],dt:[],dd:[],figure:[],figcaption:[],div:[],a:["href","target","ping","rel","media","hreflang","type"],em:[],strong:[],small:[],s:[],cite:[],q:["cite"],dfn:[],abbr:[],data:[],time:["datetime"],code:[],var:[],samp:[],kbd:[],sub:[],sup:[],i:[],b:[],u:[],mark:[],ruby:[],rt:[],rp:[],bdi:[],bdo:[],span:[],br:[],wbr:[],ins:["cite","datetime"],del:["cite","datetime"],img:["alt","src","height","width","usemap","ismap"],iframe:["name","src","height","width","sandbox","seamless"],embed:["src","height","width","type"],object:["param","data","type","height","width","usemap","name","form","classid"],param:["name","value"],video:["src","autobuffer","autoplay","loop","controls","width","height","poster"],audio:["src","autobuffer","autoplay","loop","controls"],source:["src","type","media"],track:["kind","src","srclang","label","default"],canvas:["width","height"],map:["name"],area:["shape","coords","href","hreflang","alt","target","media","rel","ping","type"],svg:[],math:[],table:["summary"],caption:[],colgroup:["span"],col:["span"],tbody:[],thead:[],tfoot:[],tr:[],td:["headers","rowspan","colspan"],th:["headers","rowspan","colspan","scope"],form:["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"],fieldset:["disabled","form","name"],legend:[],label:["form","for"],input:["type","accept","alt","autocomplete","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","height","list","max","maxlength","min","multiple","pattern","placeholder","readonly","acequired","size","src","step","width","files","value"],button:["autofocus","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","value","type"],select:["autofocus","disabled","form","multiple","name","size"],datalist:[],optgroup:["disabled","label"],option:["disabled","selected","label","value"],textarea:["autofocus","disabled","form","maxlength","name","placeholder","readonly","acequired","rows","cols","wrap"],keygen:["autofocus","challenge","disabled","form","keytype","name"],output:["for","form","name"],progress:["value","max"],meter:["value","min","max","low","high","optimum"],details:["open"],summary:[],command:["type","label","icon","disabled","checked","radiogroup","command"],menu:["type","label"],dialog:["open"]},u=Object.keys(c),h=function(){};(function(){this.getCompletions=function(e,t,i,r){var o=t.getTokenAt(i.row,i.column);return o?n(o,"tag-name")||n(o,"tag-open")||n(o,"end-tag-open")?this.getTagCompletions(e,t,i,r):n(o,"tag-whitespace")||n(o,"attribute-name")?this.getAttributeCompetions(e,t,i,r):[]:[]},this.getTagCompletions=function(e,t,i,n){return u.map(function(e){return{value:e,meta:"tag",score:Number.MAX_VALUE}})},this.getAttributeCompetions=function(e,t,i,n){var o=r(t,i);if(!o)return[];var s=l;return o in c&&(s=s.concat(c[o])),s.map(function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:Number.MAX_VALUE}})}}).call(h.prototype),t.HtmlCompletions=h}),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,a=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,h=e("./html_completions").HtmlCompletions,d=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],g=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],m=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new h,this.createModeDelegates({"js-":s,"css-":a}),this.foldingRules=new u(this.voidElements,r.arrayToMap(g))};n.inherits(m,o),function(){this.blockComment={start:"<!--",end:"-->"},this.voidElements=r.arrayToMap(p),this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.getCompletions=function(e,t,i,n){return this.$completer.getCompletions(e,t,i,n)},this.createWorker=function(e){if(this.constructor==m){var t=new d(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t}},this.$id="ace/mode/html"}.call(m.prototype),t.Mode=m}),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules","ace/mode/html_highlight_rules","ace/mode/css_highlight_rules"],function(e,t,i){"use strict";function n(e,t){return{token:"support.function",regex:"^\\s*```"+e+"\\s*$",push:t+"start"}}var r=e("../lib/oop"),o=e("../lib/lang"),s=e("./text_highlight_rules").TextHighlightRules,a=e("./javascript_highlight_rules").JavaScriptHighlightRules,l=e("./xml_highlight_rules").XmlHighlightRules,c=e("./html_highlight_rules").HtmlHighlightRules,u=e("./css_highlight_rules").CssHighlightRules,h=function(e){return"(?:[^"+o.escapeRegExp(e)+"\\\\]|\\\\.)*"},d=function(){c.call(this),this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(e){return"markup.heading."+e.length},regex:/^#{1,6}(?=\s*[^ #]|\s+#.)/,next:"header"},n("(?:javascript|js)","jscode-"),n("xml","xmlcode-"),n("html","htmlcode-"),n("css","csscode-"),{token:"support.function",regex:"^\\s*```\\s*\\S*(?:{.*?\\})?\\s*$",next:"githubblock"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,2}(?:(?: ?\\* ?){3,}|(?: ?\\- ?){3,}|(?: ?\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+h("]")+")(\\]s*\\[)("+h("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\[)("+h("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+h('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},{token:"support.function",regex:"^\\s*```\\s*[a-zA-Z]*(?:{.*?\\})?\\s*$",next:"githubblock"},{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:[{token:"support.function",regex:"^\\s*```",next:"start"},{token:"support.function",regex:".+"}]}),this.embedRules(a,"jscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(c,"htmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(u,"csscode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.embedRules(l,"xmlcode-",[{token:"support.function",regex:"^\\s*```",next:"pop"}]),this.normalizeRules()};r.inherits(d,s),t.MarkdownHighlightRules=d}),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=e("../../range").Range,s=t.FoldMode=function(){};n.inherits(s,r),function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"`"==n[0]&&"start"==e.bgTokenizer.getState(i)?"end":"start":""},this.getFoldWidgetRange=function(e,t,i){function n(t){return h=e.getTokens(t)[0],h&&0===h.type.lastIndexOf(d,0)}function r(){var e=h.value[0];return"="==e?6:"-"==e?5:7-h.value.search(/[^#]/)}var s=e.getLine(i),a=s.length,l=e.getLength(),c=i,u=i;if(s.match(this.foldingStartMarker)){if("`"==s[0]){if("start"!==e.bgTokenizer.getState(i)){for(;++i<l&&(s=e.getLine(i),!("`"==s[0]&"```"==s.substring(0,3))););return new o(c,a,i,0)}for(;i-- >0&&(s=e.getLine(i),!("`"==s[0]&"```"==s.substring(0,3))););return new o(i,s.length,c,0)}var h,d="markup.heading";if(n(i)){for(var p=r();++i<l;)if(n(i)){var g=r();if(g>=p)break}if(u=i-(h&&["=","-"].indexOf(h.value[0])!=-1?2:1),u>c)for(;u>c&&/^\s*$/.test(e.getLine(u));)u--;if(u>c){var m=e.getLine(u).length;return new o(c,a,u,m)}}}}}.call(s.prototype)}),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript","ace/mode/xml","ace/mode/html","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text").Mode,o=e("./javascript").Mode,s=e("./xml").Mode,a=e("./html").Mode,l=e("./markdown_highlight_rules").MarkdownHighlightRules,c=e("./folding/markdown").FoldMode,u=function(){this.HighlightRules=l,this.createModeDelegates({"js-":o,"xml-":s,"html-":a}),this.foldingRules=new c};n.inherits(u,r),function(){this.type="text",this.blockComment={start:"<!--",end:"-->"},this.getNextLineIndent=function(e,t,i){if("listblock"==e){var n=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(t);if(!n)return"";var r=n[2];return r||(r=parseInt(n[3],10)+1+"."),n[1]+r+n[4]}return this.$getIndent(t)},this.$id="ace/mode/markdown"}.call(u.prototype),t.Mode=u})},515:function(e,t,i){ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="animation-fill-mode|alignment-adjust|alignment-baseline|animation-delay|animation-direction|animation-duration|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|animation|appearance|azimuth|backface-visibility|background-attachment|background-break|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|background|baseline-shift|binding|bleed|bookmark-label|bookmark-level|bookmark-state|bookmark-target|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|border|bottom|box-align|box-decoration-break|box-direction|box-flex-group|box-flex|box-lines|box-ordinal-group|box-orient|box-pack|box-shadow|box-sizing|break-after|break-before|break-inside|caption-side|clear|clip|color-profile|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|crop|cue-after|cue-before|cue|cursor|direction|display|dominant-baseline|drop-initial-after-adjust|drop-initial-after-align|drop-initial-before-adjust|drop-initial-before-align|drop-initial-size|drop-initial-value|elevation|empty-cells|fit|fit-position|float-offset|float|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|font|grid-columns|grid-rows|hanging-punctuation|height|hyphenate-after|hyphenate-before|hyphenate-character|hyphenate-lines|hyphenate-resource|hyphens|icon|image-orientation|image-rendering|image-resolution|inline-box-align|left|letter-spacing|line-height|line-stacking-ruby|line-stacking-shift|line-stacking-strategy|line-stacking|list-style-image|list-style-position|list-style-type|list-style|margin-bottom|margin-left|margin-right|margin-top|margin|mark-after|mark-before|mark|marks|marquee-direction|marquee-play-count|marquee-speed|marquee-style|max-height|max-width|min-height|min-width|move-to|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|orphans|outline-color|outline-offset|outline-style|outline-width|outline|overflow-style|overflow-x|overflow-y|overflow|padding-bottom|padding-left|padding-right|padding-top|padding|page-break-after|page-break-before|page-break-inside|page-policy|page|pause-after|pause-before|pause|perspective-origin|perspective|phonemes|pitch-range|pitch|play-during|pointer-events|position|presentation-level|punctuation-trim|quotes|rendering-intent|resize|rest-after|rest-before|rest|richness|right|rotation-point|rotation|ruby-align|ruby-overhang|ruby-position|ruby-span|size|speak-header|speak-numeral|speak-punctuation|speak|speech-rate|stress|string-set|table-layout|target-name|target-new|target-position|target|text-align-last|text-align|text-decoration|text-emphasis|text-height|text-indent|text-justify|text-outline|text-shadow|text-transform|text-wrap|top|transform-origin|transform-style|transform|transition-delay|transition-duration|transition-property|transition-timing-function|transition|unicode-bidi|vertical-align|visibility|voice-balance|voice-duration|voice-family|voice-pitch-range|voice-pitch|voice-rate|voice-stress|voice-volume|volume|white-space-collapse|white-space|widows|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow",c=t.supportConstantFonts="arial|century|comic|courier|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",p=function(){
var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"@.*?{",push:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{token:"comment",regex:"\\/\\*",push:"comment"},{token:"paren.lparen",regex:"\\{",push:"ruleset"},{token:"string",regex:"\\}",next:"pop"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}],ruleset:[{token:"paren.rparen",regex:"\\}",next:"pop"},{token:"comment",regex:"\\/\\*",push:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{token:["support.function","string","support.function"],regex:"(url\\()(.*)(\\))"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}]},this.normalizeRules()};n.inherits(p,r),t.CssHighlightRules=p}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var n,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.id,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?n=u[t]:void(n=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(){this.add("braces","insertion",function(e,t,i,r,o){var s=i.getCursorPosition(),l=r.doc.getLine(s.row);if("{"==o){h(i);var c=i.getSelectionRange(),u=r.doc.getTextRange(c);if(""!==u&&"{"!==u&&i.getWrapBehavioursEnabled())return{text:"{"+u+"}",selection:!1};if(d.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[s.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(i);var p=l.substring(s.column,s.column+1);if("}"==p){var g=r.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&d.isAutoInsertedClosing(s,l,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(i);var m="";d.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var p=l.substring(s.column,s.column+1);if("}"===p){var f=r.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!f)return null;var v=this.$getIndent(r.getLine(f.row))}else{if(!m)return void d.clearMaybeInsertedClosing();var v=this.$getIndent(l)}var b=v+r.getTabString();return{text:"\n"+b+"\n"+v+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(i);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,r){if("("==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"("+s+")",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=n.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,i,n,r){if("["==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"["+s+"]",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=n.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,i,n,r){if('"'==r||"'"==r){h(i);var o=r,s=i.getSelectionRange(),a=n.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&i.getWrapBehavioursEnabled())return{text:o+a+o,selection:!1};var l=i.getCursorPosition(),c=n.doc.getLine(l.row),u=c.substring(l.column-1,l.column);if("\\"==u)return null;for(var p,g=n.getTokens(s.start.row),m=0,f=-1,v=0;v<g.length&&(p=g[v],"string"==p.type?f=-1:f<0&&(f=p.value.indexOf(o)),!(p.value.length+m>s.start.column));v++)m+=g[v].value.length;if(!p||f<0&&"comment"!==p.type&&("string"!==p.type||s.start.column!==p.value.length+m-1&&p.value.lastIndexOf(o)===p.value.length-1)){if(!d.isSaneInsertion(i,n))return;return{text:o+o,selection:[1,1]}}if(p&&"string"===p.type){var b=c.substring(l.column,l.column+1);if(b==o)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};d.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new s(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){var r=new s(t,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(d,o),t.CstyleBehaviour=d}),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(r),this.add("colon","insertion",function(e,t,i,n,r){if(":"===r){var s=i.getCursorPosition(),a=new o(n,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=n.doc.getLine(s.row),u=c.substring(s.column,s.column+1);if(":"===u)return{text:"",selection:[1,1]};if(!c.substring(s.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}}),this.add("colon","deletion",function(e,t,i,n,r){var s=n.doc.getTextRange(r);if(!r.isMultiLine()&&":"===s){var a=i.getCursorPosition(),l=new o(n,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type){var u=n.doc.getLine(r.start.row),h=u.substring(r.end.column,r.end.column+1);if(";"===h)return r.end.column++,r}}}),this.add("semicolon","insertion",function(e,t,i,n,r){if(";"===r){var o=i.getCursorPosition(),s=n.doc.getLine(o.row),a=s.substring(o.column,o.column+1);if(";"===a)return{text:"",selection:[1,1]}}})};n.inherits(s,r),t.CssBehaviour=s}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i),o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=r.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}}},this.getSectionRange=function(e,t){var i=e.getLine(t),n=i.search(/\S/),o=t,s=i.length;t+=1;for(var a=t,l=e.getLength();++t<l;){i=e.getLine(t);var c=i.search(/\S/);if(c!==-1){if(n>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(n==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)}}.call(s.prototype)}),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/css","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,s=e("./css_highlight_rules").CssHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("../worker/worker_client").WorkerClient,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};r.inherits(h,o),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;if(r.length&&"comment"==r[r.length-1].type)return n;var o=t.match(/^.*\{\s*$/);return o&&(n+=i),n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=new l(["ace"],i(513),"Worker");return t.attachToDocument(e.getDocument()),t.on("csslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/css"}.call(h.prototype),t.Mode=h})},516:function(e,t,i){ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},{token:"comment.doc.tag",regex:"\\bTODO\\b"},{defaultToken:"comment.doc"}]}};n.inherits(o,r),o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o}),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s=function(){var e=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),t="case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void",i="[a-zA-Z\\$_Â¡-ï¿¿][a-zA-Z\\d\\$_Â¡-ï¿¿]*\\b",n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[{token:"comment",regex:"\\/\\/",next:"line_comment"},r.getStartRule("doc-start"),{token:"comment",regex:/\/\*/,next:"comment"},{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0[xX][0-9a-fA-F]+\b/},{token:"constant.numeric",regex:/[+-]?\d+(?:(?:\.\d*)?(?:[eE][+-]?\d+)?)?\b/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+i+")(\\.)(prototype)(\\.)("+i+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+i+")(\\.)("+i+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+i+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+i+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"(?:"+t+")\\b",next:"start"},{token:["punctuation.operator","support.function"],regex:/(\.)(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:["punctuation.operator","support.function.dom"],regex:/(\.)(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:["punctuation.operator","support.constant"],regex:/(\.)(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:e,regex:i},{token:"keyword.operator",regex:/--|\+\+|[!$%&*+\-~]|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\|\||\?\:|\*=|%=|\+=|\-=|&=|\^=/,next:"start"},{token:"punctuation.operator",regex:/\?|\:|\,|\;|\./,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"keyword.operator",regex:/\/=?/,next:"start"},{token:"comment",regex:/^#!.*$/}],start:[r.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment_regex_allowed"},{token:"comment",regex:"\\/\\/",next:"line_comment_regex_allowed"},{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:i},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],comment_regex_allowed:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],comment:[{token:"comment",regex:"\\*\\/",next:"no_regex"},{defaultToken:"comment"}],line_comment_regex_allowed:[{token:"comment",regex:"$|^",next:"start"},{defaultToken:"comment"}],line_comment:[{token:"comment",regex:"$|^",next:"no_regex"},{defaultToken:"comment"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},this.embedRules(r,"doc-",[r.getEndRule("no_regex")])};n.inherits(s,o),t.JavaScriptHighlightRules=s}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var n,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.id,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?n=u[t]:void(n=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(){this.add("braces","insertion",function(e,t,i,r,o){var s=i.getCursorPosition(),l=r.doc.getLine(s.row);if("{"==o){h(i);var c=i.getSelectionRange(),u=r.doc.getTextRange(c);if(""!==u&&"{"!==u&&i.getWrapBehavioursEnabled())return{text:"{"+u+"}",selection:!1};if(d.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[s.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(i);var p=l.substring(s.column,s.column+1);if("}"==p){var g=r.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&d.isAutoInsertedClosing(s,l,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(i);var m="";d.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var p=l.substring(s.column,s.column+1);if("}"===p){var f=r.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!f)return null;var v=this.$getIndent(r.getLine(f.row))}else{if(!m)return void d.clearMaybeInsertedClosing();var v=this.$getIndent(l)}var b=v+r.getTabString();return{text:"\n"+b+"\n"+v+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(i);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,r){if("("==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"("+s+")",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=n.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,i,n,r){if("["==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"["+s+"]",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=n.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,i,n,r){if('"'==r||"'"==r){h(i);var o=r,s=i.getSelectionRange(),a=n.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&i.getWrapBehavioursEnabled())return{text:o+a+o,selection:!1};var l=i.getCursorPosition(),c=n.doc.getLine(l.row),u=c.substring(l.column-1,l.column);if("\\"==u)return null;for(var p,g=n.getTokens(s.start.row),m=0,f=-1,v=0;v<g.length&&(p=g[v],"string"==p.type?f=-1:f<0&&(f=p.value.indexOf(o)),!(p.value.length+m>s.start.column));v++)m+=g[v].value.length;if(!p||f<0&&"comment"!==p.type&&("string"!==p.type||s.start.column!==p.value.length+m-1&&p.value.lastIndexOf(o)===p.value.length-1)){if(!d.isSaneInsertion(i,n))return;return{text:o+o,selection:[1,1]}}if(p&&"string"===p.type){var b=c.substring(l.column,l.column+1);if(b==o)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};d.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new s(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){var r=new s(t,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(d,o),t.CstyleBehaviour=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i),o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),
a}if("markbegin"!==t){var o=r.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}}},this.getSectionRange=function(e,t){var i=e.getLine(t),n=i.search(/\S/),o=t,s=i.length;t+=1;for(var a=t,l=e.getLength();++t<l;){i=e.getLine(t);var c=i.search(/\S/);if(c!==-1){if(n>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(n==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)}}.call(s.prototype)}),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=(e("../range").Range,e("../worker/worker_client").WorkerClient),c=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new c,this.foldingRules=new u};r.inherits(h,o),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return n;if("start"==e||"no_regex"==e){var a=t.match(/^.*(?:\bcase\b.*\:|[\{\(\[])\s*$/);a&&(n+=i)}else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a=t.match(/^\s*(\/?)\*/);a&&(a[1]&&(n+=" "),n+="* ")}return n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=new l(["ace"],i(512),"JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("jslint",function(t){e.setAnnotations(t.data)}),t.on("terminate",function(){e.clearAnnotations()}),t},this.$id="ace/mode/javascript"}.call(h.prototype),t.Mode=h})},517:function(e,t,i){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,i){"use strict";var n=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'[^"\\\\]+'},{token:"string",regex:'"',next:"start"},{token:"string",regex:"",next:"start"}]}};n.inherits(o,r),t.JsonHighlightRules=o}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t),r=i.match(/^(\s*\})/);if(!r)return 0;var o=r[1].length,s=e.findMatchingBracket({row:t,column:o});if(!s||s.row==t)return 0;var a=this.$getIndent(e.getLine(s.row));e.replace(new n(t,0,t,o-1),a)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var n,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","punctuation.operator"],c=["text","paren.rparen","punctuation.operator","comment"],u={},h=function(e){var t=-1;return e.multiSelect&&(t=e.selection.id,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t]?n=u[t]:void(n=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""})},d=function(){this.add("braces","insertion",function(e,t,i,r,o){var s=i.getCursorPosition(),l=r.doc.getLine(s.row);if("{"==o){h(i);var c=i.getSelectionRange(),u=r.doc.getTextRange(c);if(""!==u&&"{"!==u&&i.getWrapBehavioursEnabled())return{text:"{"+u+"}",selection:!1};if(d.isSaneInsertion(i,r))return/[\]\}\)]/.test(l[s.column])||i.inMultiSelectMode?(d.recordAutoInsert(i,r,"}"),{text:"{}",selection:[1,1]}):(d.recordMaybeInsert(i,r,"{"),{text:"{",selection:[1,1]})}else if("}"==o){h(i);var p=l.substring(s.column,s.column+1);if("}"==p){var g=r.$findOpeningBracket("}",{column:s.column+1,row:s.row});if(null!==g&&d.isAutoInsertedClosing(s,l,o))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else{if("\n"==o||"\r\n"==o){h(i);var m="";d.isMaybeInsertedClosing(s,l)&&(m=a.stringRepeat("}",n.maybeInsertedBrackets),d.clearMaybeInsertedClosing());var p=l.substring(s.column,s.column+1);if("}"===p){var f=r.findMatchingBracket({row:s.row,column:s.column+1},"}");if(!f)return null;var v=this.$getIndent(r.getLine(f.row))}else{if(!m)return void d.clearMaybeInsertedClosing();var v=this.$getIndent(l)}var b=v+r.getTabString();return{text:"\n"+b+"\n"+v+m,selection:[1,b.length,1,b.length]}}d.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){h(i);var a=r.doc.getLine(o.start.row),l=a.substring(o.end.column,o.end.column+1);if("}"==l)return o.end.column++,o;n.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,r){if("("==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"("+s+")",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if(")"==c){var u=n.$findOpeningBracket(")",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(")"==a)return r.end.column++,r}}),this.add("brackets","insertion",function(e,t,i,n,r){if("["==r){h(i);var o=i.getSelectionRange(),s=n.doc.getTextRange(o);if(""!==s&&i.getWrapBehavioursEnabled())return{text:"["+s+"]",selection:!1};if(d.isSaneInsertion(i,n))return d.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){h(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row),c=l.substring(a.column,a.column+1);if("]"==c){var u=n.$findOpeningBracket("]",{column:a.column+1,row:a.row});if(null!==u&&d.isAutoInsertedClosing(a,l,r))return d.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if("]"==a)return r.end.column++,r}}),this.add("string_dquotes","insertion",function(e,t,i,n,r){if('"'==r||"'"==r){h(i);var o=r,s=i.getSelectionRange(),a=n.doc.getTextRange(s);if(""!==a&&"'"!==a&&'"'!=a&&i.getWrapBehavioursEnabled())return{text:o+a+o,selection:!1};var l=i.getCursorPosition(),c=n.doc.getLine(l.row),u=c.substring(l.column-1,l.column);if("\\"==u)return null;for(var p,g=n.getTokens(s.start.row),m=0,f=-1,v=0;v<g.length&&(p=g[v],"string"==p.type?f=-1:f<0&&(f=p.value.indexOf(o)),!(p.value.length+m>s.start.column));v++)m+=g[v].value.length;if(!p||f<0&&"comment"!==p.type&&("string"!==p.type||s.start.column!==p.value.length+m-1&&p.value.lastIndexOf(o)===p.value.length-1)){if(!d.isSaneInsertion(i,n))return;return{text:o+o,selection:[1,1]}}if(p&&"string"===p.type){var b=c.substring(l.column,l.column+1);if(b==o)return{text:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,r){var o=n.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)){h(i);var s=n.doc.getLine(r.start.row),a=s.substring(r.start.column+1,r.start.column+2);if(a==o)return r.end.column++,r}})};d.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new s(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",l)){var r=new s(t,i.row,i.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",c)},d.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},d.recordAutoInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,n.autoInsertedLineEnd[0])||(n.autoInsertedBrackets=0),n.autoInsertedRow=r.row,n.autoInsertedLineEnd=i+o.substr(r.column),n.autoInsertedBrackets++},d.recordMaybeInsert=function(e,t,i){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(n.maybeInsertedBrackets=0),n.maybeInsertedRow=r.row,n.maybeInsertedLineStart=o.substr(0,r.column)+i,n.maybeInsertedLineEnd=o.substr(r.column),n.maybeInsertedBrackets++},d.isAutoInsertedClosing=function(e,t,i){return n.autoInsertedBrackets>0&&e.row===n.autoInsertedRow&&i===n.autoInsertedLineEnd[0]&&t.substr(e.column)===n.autoInsertedLineEnd},d.isMaybeInsertedClosing=function(e,t){return n.maybeInsertedBrackets>0&&e.row===n.maybeInsertedRow&&t.substr(e.column)===n.maybeInsertedLineEnd&&t.substr(0,e.column)==n.maybeInsertedLineStart},d.popAutoInsertedClosing=function(){n.autoInsertedLineEnd=n.autoInsertedLineEnd.substr(1),n.autoInsertedBrackets--},d.clearMaybeInsertedClosing=function(){n&&(n.maybeInsertedBrackets=0,n.maybeInsertedRow=-1)},r.inherits(d,o),t.CstyleBehaviour=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,i){"use strict";var n=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};n.inherits(s,o),function(){this.foldingStartMarker=/(\{|\[)[^\}\]]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{]*(\}|\])|^[\s\*]*(\*\/)/,this.getFoldWidgetRange=function(e,t,i,n){var r=e.getLine(i),o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],i,s);var a=e.getCommentFoldRange(i,s+o[0].length,1);return a&&!a.isMultiLine()&&(n?a=this.getSectionRange(e,i):"all"!=t&&(a=null)),a}if("markbegin"!==t){var o=r.match(this.foldingStopMarker);if(o){var s=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],i,s):e.getCommentFoldRange(i,s,-1)}}},this.getSectionRange=function(e,t){var i=e.getLine(t),n=i.search(/\S/),o=t,s=i.length;t+=1;for(var a=t,l=e.getLength();++t<l;){i=e.getLine(t);var c=i.search(/\S/);if(c!==-1){if(n>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(n==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)}}.call(s.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("./text").Mode,s=e("./json_highlight_rules").JsonHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=e("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c};r.inherits(h,o),function(){this.getNextLineIndent=function(e,t,i){var n=this.$getIndent(t);if("start"==e){var r=t.match(/^.*[\{\(\[]\s*$/);r&&(n+=i)}return n},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.createWorker=function(e){var t=new u(["ace"],i(518),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("error",function(t){e.setAnnotations([t.data])}),t.on("ok",function(){e.clearAnnotations()}),t},this.$id="ace/mode/json"}.call(h.prototype),t.Mode=h})},518:function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";(function(window){if(void 0===window.window||!window.document){window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console,window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){console.error("Worker "+(err?err.stack:message))},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;var chunks=id.split("/");if(!window.acequire.tlns)return console.log("unable to load "+id);chunks[0]=window.acequire.tlns[chunks[0]]||chunks[0];var path=chunks.join("/")+".js";return window.acequire.id=id,importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),deps.length||(deps=["require","exports","module"]),0!==id.indexOf("text!")){var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}}},window.define.amd={},window.initBaseUrls=function initBaseUrls(topLevelNamespaces){acequire.tlns=topLevelNamespaces},window.initSender=function initSender(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.command){if(!main[msg.command])throw Error("Unknown command:"+msg.command);main[msg.command].apply(main,msg.args)}else if(msg.init){initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}else msg.event&&sender&&sender._signal(msg.event,msg.data)}}})(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var delta=e.data,range=delta.range;if(!(range.start.row==range.end.row&&range.start.row!=this.row||range.start.row>this.row||range.start.row==this.row&&range.start.column>this.column)){var row=this.row,column=this.column,start=range.start,end=range.end;"insertText"===delta.action?start.row===row&&column>=start.column?start.column===column&&this.$insertRight||(start.row===end.row?column+=end.column-start.column:(column-=start.column,row+=end.row-start.row)):start.row!==end.row&&row>start.row&&(row+=end.row-start.row):"insertLines"===delta.action?start.row===row&&0===column&&this.$insertRight||row>=start.row&&(row+=end.row-start.row):"removeText"===delta.action?start.row===row&&column>start.column?column=end.column>=column?start.column:Math.max(0,column-(end.column-start.column)):start.row!==end.row&&row>start.row?(end.row===row&&(column=Math.max(0,column-end.column)+start.column),row-=end.row-start.row):end.row===row&&(row-=end.row-start.row,column=Math.max(0,column-end.column)+start.column):"removeLines"==delta.action&&row>=start.row&&(row>=end.row?row-=end.row-start.row:(row=start.row,column=0)),this.setPosition(row,column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(text){this.$lines=[],0===text.length?this.$lines=[""]:Array.isArray(text)?this._insertLines(0,text):this.insert({row:0,column:0},text)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength();this.remove(new Range(0,0,len,this.getLine(len-1).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){if(range.start.row==range.end.row)return this.getLine(range.start.row).substring(range.start.column,range.end.column);var lines=this.getLines(range.start.row,range.end.row);lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;return range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column)),lines.join(this.getNewLineCharacter())},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):0>position.row&&(position.row=0),position},this.insert=function(position,text){if(!text||0===text.length)return position;position=this.$clipPosition(position),1>=this.getLength()&&this.$detectNewLine(text);var lines=this.$split(text),firstLine=lines.splice(0,1)[0],lastLine=0==lines.length?null:lines.splice(lines.length-1,1)[0];return position=this.insertInLine(position,firstLine),null!==lastLine&&(position=this.insertNewLine(position),position=this._insertLines(position.row,lines),position=this.insertInLine(position,lastLine||"")),position},this.insertLines=function(row,lines){return row>=this.getLength()?this.insert({row:row,column:0},"\\n"+lines.join("\\n")):this._insertLines(Math.max(row,0),lines)},this._insertLines=function(row,lines){if(0==lines.length)return{row:row,column:0};for(;lines.length>61440;){var end=this._insertLines(row,lines.slice(0,61440));lines=lines.slice(61440),row=end.row}var args=[row,0];args.push.apply(args,lines),this.$lines.splice.apply(this.$lines,args);var range=new Range(row,0,row+lines.length,0),delta={action:"insertLines",range:range,lines:lines};return this._signal("change",{data:delta}),range.end},this.insertNewLine=function(position){position=this.$clipPosition(position);var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column),this.$lines.splice(position.row+1,0,line.substring(position.column,line.length));var end={row:position.row+1,column:0},delta={action:"insertText",range:Range.fromPoints(position,end),text:this.getNewLineCharacter()};return this._signal("change",{data:delta}),end},this.insertInLine=function(position,text){if(0==text.length)return position;var line=this.$lines[position.row]||"";this.$lines[position.row]=line.substring(0,position.column)+text+line.substring(position.column);var end={row:position.row,column:position.column+text.length},delta={action:"insertText",range:Range.fromPoints(position,end),text:text};return this._signal("change",{data:delta}),end},this.remove=function(range){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),range.start=this.$clipPosition(range.start),range.end=this.$clipPosition(range.end),range.isEmpty())return range.start;var firstRow=range.start.row,lastRow=range.end.row;if(range.isMultiLine()){var firstFullRow=0==range.start.column?firstRow:firstRow+1,lastFullRow=lastRow-1;range.end.column>0&&this.removeInLine(lastRow,0,range.end.column),lastFullRow>=firstFullRow&&this._removeLines(firstFullRow,lastFullRow),firstFullRow!=firstRow&&(this.removeInLine(firstRow,range.start.column,this.getLine(firstRow).length),this.removeNewLine(range.start.row))}else this.removeInLine(firstRow,range.start.column,range.end.column);return range.start},this.removeInLine=function(row,startColumn,endColumn){if(startColumn!=endColumn){var range=new Range(row,startColumn,row,endColumn),line=this.getLine(row),removed=line.substring(startColumn,endColumn),newLine=line.substring(0,startColumn)+line.substring(endColumn,line.length);this.$lines.splice(row,1,newLine);var delta={action:"removeText",range:range,text:removed};return this._signal("change",{data:delta}),range.start}},this.removeLines=function(firstRow,lastRow){return 0>firstRow||lastRow>=this.getLength()?this.remove(new Range(firstRow,0,lastRow+1,0)):this._removeLines(firstRow,lastRow)},this._removeLines=function(firstRow,lastRow){var range=new Range(firstRow,0,lastRow+1,0),removed=this.$lines.splice(firstRow,lastRow-firstRow+1),delta={action:"removeLines",range:range,nl:this.getNewLineCharacter(),lines:removed};return this._signal("change",{data:delta}),removed},this.removeNewLine=function(row){var firstLine=this.getLine(row),secondLine=this.getLine(row+1),range=new Range(row,firstLine.length,row+1,0),line=firstLine+secondLine;this.$lines.splice(row,2,line);var delta={action:"removeText",range:range,text:this.getNewLineCharacter()};this._signal("change",{data:delta})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0==text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;if(this.remove(range),text)var end=this.insert(range.start,text);else end=range.start;return end},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this.insertLines(range.start.row,delta.lines):"insertText"==delta.action?this.insert(range.start,delta.text):"removeLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"removeText"==delta.action&&this.remove(range)}},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--){var delta=deltas[i],range=Range.fromPoints(delta.range.start,delta.range.end);"insertLines"==delta.action?this._removeLines(range.start.row,range.end.row-1):"insertText"==delta.action?this.remove(range):"removeLines"==delta.action?this._insertLines(range.start.row,delta.lines):"removeText"==delta.action&&this.insert(range.start,delta.text)}},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function(obj){if("object"!=typeof obj||!obj)return obj;var cons=obj.constructor;if(cons===RegExp)return obj;var copy=cons();for(var key in obj)copy[key]="object"==typeof obj[key]?exports.deepCopy(obj[key]):obj[key];return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){return doc.applyDeltas(e.data),_self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue();try{parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);return this.sender.emit("error",{row:pos.row,column:pos.column,text:e.message,type:"error"}),void 0}this.sender.emit("ok")}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];\nif("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r Â áá ââââââââââââ¯âã\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});';
},519:function(e,t){ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"],function(e,t,i){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=".ace-monokai .ace_gutter {\tbackground: #2F3129;\tcolor: #8F908A\t}\t.ace-monokai .ace_print-margin {\twidth: 1px;\tbackground: #555651\t}\t.ace-monokai {\tbackground-color: #272822;\tcolor: #F8F8F2\t}\t.ace-monokai .ace_cursor {\tcolor: #F8F8F0\t}\t.ace-monokai .ace_marker-layer .ace_selection {\tbackground: #49483E\t}\t.ace-monokai.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #272822;\tborder-radius: 2px\t}\t.ace-monokai .ace_marker-layer .ace_step {\tbackground: rgb(102, 82, 0)\t}\t.ace-monokai .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #49483E\t}\t.ace-monokai .ace_marker-layer .ace_active-line {\tbackground: #202020\t}\t.ace-monokai .ace_gutter-active-line {\tbackground-color: #272727\t}\t.ace-monokai .ace_marker-layer .ace_selected-word {\tborder: 1px solid #49483E\t}\t.ace-monokai .ace_invisible {\tcolor: #52524d\t}\t.ace-monokai .ace_entity.ace_name.ace_tag,\t.ace-monokai .ace_keyword,\t.ace-monokai .ace_meta.ace_tag,\t.ace-monokai .ace_storage {\tcolor: #F92672\t}\t.ace-monokai .ace_punctuation,\t.ace-monokai .ace_punctuation.ace_tag {\tcolor: #fff\t}\t.ace-monokai .ace_constant.ace_character,\t.ace-monokai .ace_constant.ace_language,\t.ace-monokai .ace_constant.ace_numeric,\t.ace-monokai .ace_constant.ace_other {\tcolor: #AE81FF\t}\t.ace-monokai .ace_invalid {\tcolor: #F8F8F0;\tbackground-color: #F92672\t}\t.ace-monokai .ace_invalid.ace_deprecated {\tcolor: #F8F8F0;\tbackground-color: #AE81FF\t}\t.ace-monokai .ace_support.ace_constant,\t.ace-monokai .ace_support.ace_function {\tcolor: #66D9EF\t}\t.ace-monokai .ace_fold {\tbackground-color: #A6E22E;\tborder-color: #F8F8F2\t}\t.ace-monokai .ace_storage.ace_type,\t.ace-monokai .ace_support.ace_class,\t.ace-monokai .ace_support.ace_type {\tfont-style: italic;\tcolor: #66D9EF\t}\t.ace-monokai .ace_entity.ace_name.ace_function,\t.ace-monokai .ace_entity.ace_other,\t.ace-monokai .ace_entity.ace_other.ace_attribute-name,\t.ace-monokai .ace_variable {\tcolor: #A6E22E\t}\t.ace-monokai .ace_variable.ace_parameter {\tfont-style: italic;\tcolor: #FD971F\t}\t.ace-monokai .ace_string {\tcolor: #E6DB74\t}\t.ace-monokai .ace_comment {\tcolor: #75715E\t}\t.ace-monokai .ace_indent-guide {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\t}";var n=e("../lib/dom");n.importCssString(t.cssText,t.cssClass)})},520:function(e,t){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,i){"use strict";var n=e("../lib/dom"),r=e("../lib/lang"),o=e("../lib/event"),s="\t.ace_search {\tbackground-color: #ddd;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\tmax-width: 297px;\toverflow: hidden;\tmargin: 0;\tpadding: 4px;\tpadding-right: 6px;\tpadding-bottom: 0;\tposition: absolute;\ttop: 0px;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tborder-radius: 3px;\tborder: 1px solid #cbcbcb;\tfloat: left;\tmargin-bottom: 4px;\toverflow: hidden;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tbackground-color: white;\tborder-right: 1px solid #cbcbcb;\tborder: 0 none;\t-webkit-box-sizing: border-box;\t-moz-box-sizing: border-box;\tbox-sizing: border-box;\tdisplay: block;\tfloat: left;\theight: 22px;\toutline: 0;\tpadding: 0 7px;\twidth: 214px;\tmargin: 0;\t}\t.ace_searchbtn,\t.ace_replacebtn {\tbackground: #fff;\tborder: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tdisplay: block;\tfloat: left;\theight: 22px;\tmargin: 0;\tpadding: 0;\tposition: relative;\t}\t.ace_searchbtn:last-child,\t.ace_replacebtn:last-child {\tborder-top-right-radius: 3px;\tborder-bottom-right-radius: 3px;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn {\tbackground-position: 50% 50%;\tbackground-repeat: no-repeat;\twidth: 27px;\t}\t.ace_searchbtn.prev {\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADFJREFUeNpiSU1NZUAC/6E0I0yACYskCpsJiySKIiY0SUZk40FyTEgCjGgKwTRAgAEAQJUIPCE+qfkAAAAASUVORK5CYII=);    \t}\t.ace_searchbtn.next {\tbackground-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAYAAAB4ka1VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADRJREFUeNpiTE1NZQCC/0DMyIAKwGJMUAYDEo3M/s+EpvM/mkKwCQxYjIeLMaELoLMBAgwAU7UJObTKsvAAAAAASUVORK5CYII=);    \t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tdisplay: block;\tfloat: right;\tfont-family: Arial;\tfont-size: 16px;\theight: 14px;\tline-height: 16px;\tmargin: 5px 1px 9px 5px;\tpadding: 0;\ttext-align: center;\twidth: 14px;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_replacebtn.prev {\twidth: 54px\t}\t.ace_replacebtn.next {\twidth: 27px\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\t-moz-box-sizing: border-box;\tbox-sizing:    border-box;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\t}",a=e("../keyboard/hash_handler").HashHandler,l=e("../lib/keys");n.importCssString(s,"ace_searchbox");var c='<div class="ace_search right">\t    <button type="button" action="hide" class="ace_searchbtn_close"></button>\t    <div class="ace_search_form">\t        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>\t        <button type="button" action="findNext" class="ace_searchbtn next"></button>\t        <button type="button" action="findPrev" class="ace_searchbtn prev"></button>\t    </div>\t    <div class="ace_replace_form">\t        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>\t        <button type="button" action="replaceAndFindNext" class="ace_replacebtn">Replace</button>\t        <button type="button" action="replaceAll" class="ace_replacebtn">All</button>\t    </div>\t    <div class="ace_search_options">\t        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>\t        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>\t        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>\t    </div>\t</div>'.replace(/>\s+/g,">"),u=function(e,t,i){var r=n.createElement("div");r.innerHTML=c,this.element=r.firstChild,this.$init(),this.setEditor(e)};(function(){this.setEditor=function(e){e.searchBox=this,e.container.appendChild(this.element),this.editor=e},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOptions=e.querySelector(".ace_search_options"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;o.addListener(e,"mousedown",function(e){setTimeout(function(){t.activeInput.focus()},0),o.stopPropagation(e)}),o.addListener(e,"click",function(e){var i=e.target||e.srcElement,n=i.getAttribute("action");n&&t[n]?t[n]():t.$searchBarKb.commands[n]&&t.$searchBarKb.commands[n].exec(t),o.stopPropagation(e)}),o.addCommandKeyListener(e,function(e,i,n){var r=l.keyCodeToString(n),s=t.$searchBarKb.findKeyCommand(i,r);s&&s.exec&&(s.exec(t),o.stopEvent(e))}),this.$onChange=r.delayedCall(function(){t.find(!1,!1)}),o.addListener(this.searchInput,"input",function(){t.$onChange.schedule(20)}),o.addListener(this.searchInput,"focus",function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()}),o.addListener(this.replaceInput,"focus",function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()})},this.$closeSearchBarKb=new a([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new a,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f|Ctrl-H|Command-Option-F":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e[t?"replaceInput":"searchInput"].focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}}]),this.$syncOptions=function(){n.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),n.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),n.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.find(!1,!1)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t){var i=this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked}),r=!i&&this.searchInput.value;n.setCssClass(this.searchBox,"ace_nomatch",r),this.editor._emit("findSearchBox",{match:!r}),this.highlight()},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.element.style.display="",this.replaceBox.style.display=t?"":"none",this.isReplace=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb)}}).call(u.prototype),t.SearchBox=u,t.Search=function(e,t){var i=e.searchBox||new u(e);i.show(e.session.getTextRange(),t)}}),function(){ace.acequire(["ace/ext/searchbox"],function(){})}()},521:function(e,t,i){"use strict";var n=i(508),r=n.acequire("ace/lib/dom"),o=i(522),s={isDark:!1,cssClass:"ace-post-form",cssText:o};r.importCssString(s.cssText,s.cssClass),e.exports=s},522:function(e,t){e.exports=".ace-post-form .ace_selection{background-color:rgba(220,236,245,0.8)}.ace-post-form .ace_entity{color:#ff8a00}.ace-post-form .ace_string{color:#748089}.ace-post-form .ace_underline{color:#00cf35;text-decoration:underline}.ace-post-form .ace_storage{color:#ff492f}.ace-post-form .ace_operator{color:#748089}.ace-post-form .ace_identifier{color:#9da6af}.ace-post-form .ace_function{color:#ff8a00}.ace-post-form .ace_type{color:#7c5cff}.ace-post-form .ace_constant{color:#ff492f}.ace-post-form .ace_variable{color:#00cf35}.ace-post-form .ace_keyword{color:#ff8a00}.ace-post-form .ace_tag,.ace-post-form .ace_attribute-equals,.ace-post-form .ace_attribute-name{color:#00b8ff}.ace-post-form .ace_attribute-value{color:#7c5cff}.ace-post-form .ace_heading{color:#00b8ff}.ace-post-form .ace_strong{color:#000}.ace-post-form .ace_emphasis{color:#748089}.ace-post-form .ace_list.ace_markup{color:#7c5cff}\n"},526:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(187),s=i(136),a=new o({defaults:{$tabLimiterEl:n(),_tabLimiterAutoFocus:!1,_tabLimiterItems:[],_tabLimiterSelector:["input","select","textarea","button","object","a","div"],_tabLimiterCurrentIndex:-1,_tabLimiterEnterKey:!0},__tabLimiterTabKeydown:function(e){return e.preventDefault(),e.stopPropagation(),e.shiftKey&&this._tabLimiterCurrentIndex===-1&&(this._tabLimiterCurrentIndex=0),this._tabLimiterCurrentIndex=(this._tabLimiterCurrentIndex+(e.shiftKey?-1:1)+this._tabLimiterItems.length)%this._tabLimiterItems.length,this._focusTabbableItem(),!1},__tabLimiterItemKeydown:function(e){e=e||window.event;var t=e.which||e.keyCode;if(13===t){e.preventDefault(),e.stopPropagation();var i=n(e.target),r=i.find("input");return r.length?r.trigger("click"):i.trigger("click"),!1}},__tabbableItemFocus:function(e){var t=r.indexOf(this._tabLimiterItems,e.target);this._tabLimiterCurrentIndex=t>=0?t:this._tabLimiterCurrentIndex},_focusTabbableItem:function(){if(this.$tabLimiterEl&&this.$tabLimiterEl.length){var e=n(this._tabLimiterItems[this._tabLimiterCurrentIndex]);e.length&&e.focus()}},isTabbable:function(e){var t=n(e),i=e.nodeName.toLowerCase(),r=t.attr("tabindex"),o=!1;return o=/input|select|textarea|button|object/.test(i)?!e.disabled&&!t.is(":hidden"):(e.href||!isNaN(r))&&!t.is(":hidden"),(isNaN(r)||r>=0)&&o},updateTabbableItems:function(){this.$tabLimiterEl&&this.$tabLimiterEl.length&&(this._tabLimiterItems=r.filter(this.$tabLimiterEl.find(this._tabLimiterSelector.join(",")),r.bind(function(e){return this.isTabbable(e)},this)),this._tabLimiterItems.length&&(this._tabLimiterItems=r.sortBy(this._tabLimiterItems,function(e){return e.tabIndex})))},catchTabs:function(e){if(this.releaseTabs(),this.$tabLimiterEl=e?n(e):this.$tabLimiterEl,this.$tabLimiterEl&&this.$tabLimiterEl.length){this.updateTabbableItems(),this._tabLimiterAutoFocus&&this._focusTabbableItem();var t=this._tabLimiterSelector.join(",");this.listenTo(s,"DOMEventor:keydown:tab",this.__tabLimiterTabKeydown),this.listenTo(s,"DOMEventor:keydown:shift+tab",this.__tabLimiterTabKeydown),this.$tabLimiterEl.on("focus.tablimiter",t,r.bind(this.__tabbableItemFocus,this)),this._tabLimiterEnterKey&&this.$tabLimiterEl.on("keydown.tablimiter",t,r.bind(this.__tabLimiterItemKeydown,this))}},releaseTabs:function(){this.$tabLimiterEl&&this.$tabLimiterEl.length&&(this._tabLimiterItems=[],this._tabLimiterCurrentIndex=-1,this.stopListening(s,"DOMEventor:keydown:tab",this.__tabLimiterTabKeydown),this.stopListening(s,"DOMEventor:keydown:shift+tab",this.__tabLimiterTabKeydown),this.$tabLimiterEl.off(".tablimiter"))}});e.exports=a},527:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="editor editor-richtext" aria-label="'+__e(ariaLabel)+'" contenteditable="true" data-js-richtexteditor></div><div data-subview="htmlField"></div>';return __p}.toString()).apply(void 0,_values(_imports))},528:function(e,t,i){"use strict";var n=i(8),r=function(){return{uploadImageUrl:function(e,t,i,r,o){o=o||{},o.url=e;var s=n.ajax({url:"/svc/post/upload_image_url",type:"POST",withFormKey:!0,data:o});return"function"==typeof t&&s.done(function(i){t.call(null,i,e)}),"function"==typeof i&&s.fail(i),"function"==typeof r&&s.always(r),s}}}();e.exports=r},529:function(e,t){"use strict";function i(e){var t,i=[];for(var n in e)t=e[n],i.push([new RegExp("(</?)("+n+")([>\\s])","gi"),"$1"+t+"$3"]);return i}function n(e,t){for(var i=0;i<t.length;i++)e=e.replace.apply(e,t[i]);return e}function r(e,t){for(var r,o=i(t||u),s=e.split(c),h=!1,d="",p=0;p<s.length;p++)r=s[p],d?r===d&&(d=""):h&&(">"===r?h=!1:r.match(l)&&(d=r)),!d&&r.match(a)&&(">"!==r.slice(-1)&&(h=!0),s[p]=n(r,o));return s.join("")}var o="<\\/?\\w+[\\s>]",s="['\"]",a=new RegExp(o,"g"),l=new RegExp(s,"g"),c=new RegExp("("+o+"|"+s+"|>)","g"),u={strong:"b",em:"i"};e.exports=r},530:function(e,t,i){"use strict";var n=i(3),r=function(e,t){return t||(t=this),function(){var i=n.toArray(arguments);return n.map(e,function(e){return e.apply(t,i)},t)}};e.exports=r},531:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div data-subview="title"></div><div data-subview="reblogTree"></div><div data-subview="body"></div>';return __p}.toString()).apply(void 0,_values(_imports))},532:function(e,t,i){"use strict";var n=i(3),r=i(418),o=i(213),s=(i(132),i(130)),a=i(265),l=i(129),c="FileReader"in window&&"readAsDataURL"in FileReader.prototype,u=i(266),h=i(257),d=i(533),p=i(571),g=i(452),m=i(419),f=i(576),v=i(577),b=2048,w=r.extend({template:f,defaults:n.defaults({hasMediaView:!0,hasMedia:!1,canAddMedia:!0,showPhotoBooth:!1,showCaption:!1,disablePhotoFromUrl:!1,user:null},r.prototype.defaults),afterInitialize:function(){this._urlParser=n.debounce(n.bind(this._photoUrlParser,this),100),!this.post.photos.isEmpty()||this.post.isReblog()?this.set({hasMedia:!0,showCaption:!0}):!this.post.get("caption")&&n.isEmpty(this.post.get("tags"))||this.set("showCaption",!0),this.set("canAddMedia",this.post.canEditMedia()&&this.post.canAddPhotos()),this.set("hideControlsLine",!this.get("showCaption")),"postitforward-watermark"===this.get("showPhotoBooth")&&this.set("showPhotoBooth",v)},_photoUrlParser:function(e,t,i){if(e=n.trim(e),e&&e.length<b&&u.isUrl(e)){var r=new h;this.listenTo(r,"photo:readUrl",function(e,i){e&&this.post.canAddPhotos()&&(this.post.photos.push(i),t.urlInput.setEditorValue(""),t.urlInput.blur(),t.set({showInput:!1,dropzoneBehavior:"url",defaultBehavior:"url"}))}),r.set("externalUrl",e)}},createSubViews:function(){var e=this.subViewOptions(),t=n.extend({canEditMedia:this.post.canEditMedia()},e),i=n.extend({toggleDropzone:this.get("hasMedia"),dropzoneText:s("Add another"),uploadIcon:"dropzone-add-photo-icon",uploadText:s("Upload photos"),urlIcon:"dropzone-add-url-icon",urlText:s("Add photo from web"),urlPlaceholder:s("Paste a URL"),urlAriaLabel:s("Paste a URL"),urlParser:this._urlParser,uploadOptions:{}},e),r=this.user?this.user.get("maxUploadBytesImage"):null;n.extend(i.uploadOptions,{name:"photo",maxUploadSize:r||10485760,uploadPattern:/^image\/(?:.*)$/i,accept:"image/*",url:"/svc/post/upload_photo?source=post_type_form",fileUpload:{multiple:!0}});var o=n.extend({className:"caption-field",name:"caption",placeholder:s("Add a caption, if you like"),ariaLabel:s("Caption")},e),a=n.extend({isRemovable:!0},e);this.mediaPreview=this.subViews.mediaPreview=new d(t),this.mediaComposer=this.subViews.mediaComposer=new p(i),this.caption=this.subViews.caption=new g(o),this.post.isReblog()&&(this.reblogTree=this.subViews.reblogTree=new m(a))},addStateListeners:function(){this.listenTo(this.mediaComposer,"upload:start",this._onFileUploadStart),this.listenTo(this.mediaComposer,"upload:complete",this._onFileUploadComplete),this.listenTo(this.mediaComposer,"upload:error upload:invalid",this._onFileUploadError),this.listenTo(this.mediaComposer,"webcam:show",function(){this.set("showPhotoBooth",!0)}),this.listenTo(this.post.photos,"add",this._onAddPhotos),this.listenTo(this.post.photos,"remove",this._onRemovePhotos),this.listenTo(this.post,"change:carouselDisplay",this._onChangeCarouselDisplay),this.listenTo(this.mediaPreview,"media:ready",function(){var e=n.toArray(arguments);e.unshift("media:ready"),this.trigger.apply(this,e)}),this.listenTo(this.mediaPreview,"media:addFiles",function(e){this.mediaComposer.addFiles(e)}),this.listenTo(this.mediaPreview,"webcam:close",function(){this.set("showPhotoBooth",!1)}),this.listenTo(this.mediaPreview,"webcam:error",function(e){"NO_DEVICES_FOUND"===e&&(o.alert({text_ok:s("Aw, alright"),text:"<p>"+s("Sorry, beautiful. If you wanna take a selfie, you're gonna need a webcam.")+"</p>"}),this.mediaComposer.set("enableSelfie",!1))}),this.listenTo(this,"change:hasMedia",this._onChangeHasMedia),this.listenTo(this,"change:canAddMedia",this._onChangeCanAddMedia),this.listenTo(this,"change:showPhotoBooth",this._onChangeShowPhotoBooth),this.listenTo(this,"change:showCaption",this._onChangeShowCaption)},_onChangeCarouselDisplay:function(){this.post.get("carousel_display")&&this.options.parent.subViews.errorBar.showErrorBar(s("Tip: Carousel posts need 3-5 square images to work."))},_onAddPhotos:function(e,t){this.set({hasMedia:!this.post.photos.isEmpty(),canAddMedia:this.post.canAddPhotos()}),n.isEmpty(this.post.get("caption"))&&n.isEmpty(this.post.get("tags"))?this.set("showCaption",this.get("hasMedia")):this.set("showCaption",!0),this.get("showCaption")&&this.caption.focus(),this.mediaComposer.set({toggleDropzone:!this.post.photos.isEmpty()})},_onRemovePhotos:function(e,t){this.set({hasMedia:!this.post.photos.isEmpty()||this.get("showPhotoBooth"),canAddMedia:this.post.canAddPhotos()}),this.mediaComposer.set({toggleDropzone:!this.post.photos.isEmpty()})},_onChangeHasMedia:function(e,t){this.isRendered()&&(t?this.mediaPreview.$el.css({display:"block",opacity:1}):this.mediaPreview.$el.css({display:"none",opacity:0}))},_onChangeCanAddMedia:function(e,t){this.isRendered()&&(this.mediaPreview.$el.toggleClass("photo-media-container--can-add",t),t?this.mediaComposer.$el.css({display:"block",opacity:1}):this.mediaComposer.$el.css({display:"none",opacity:0}))},_onChangeShowPhotoBooth:function(e,t){this.isRendered()&&(this.mediaPreview.set("showPhotoBooth",t),this.mediaPreview.$el.toggleClass("photo-media-container--show-photobooth",t),t?(this.mediaPreview.$el.css({display:"block",opacity:1}),this.mediaComposer.$el.css({display:"none",opacity:0})):(this._onChangeHasMedia(this,this.get("hasMedia")),this._onChangeCanAddMedia(this,this.get("canAddMedia"))))},_onChangeShowCaption:function(e,t){this.set("hideControlsLine",!t),this.isRendered()&&(t?this.js$("caption").css({display:"block",opacity:1}):this.js$("caption").css({display:"none",opacity:0}))},_onFileUploadStart:function(e){if(!n.isEmpty(e.get("error")))return this._onFileUploadError(e);this.uploads.add(e);var t=e.get("file");this.mediaPreview.set({file:t,canEditMedia:!0});var i=new h;c?this.listenTo(i,"photo:readFile",function(e,t){e&&this.post.canAddPhotos()&&(this.post.photos.push(t),this.mediaComposer.set({dropzoneBehavior:"upload",defaultBehavior:"upload"}))}):this.listenTo(i,"change:preuploadUrl",function(e,t){t&&(this.stopListening(e,"change:preuploadUrl"),this.post.canAddPhotos()&&(this.post.photos.push(e),this.mediaComposer.set({dropzoneBehavior:"upload",defaultBehavior:"upload"})))}),e.set("postPhoto",i),i.set("upload",e),i.set("file",t)},_onFileUploadComplete:function(e){var t=e.get("postPhoto");t&&e.get("url")&&t.set("preuploadUrl",e.get("url"))},_onFileUploadError:function(e){var t=e.get("error");n.isString(t)&&(t=[t]),n.isArray(t)||(t=[s("Woops :(")]),e.get("original_filename")&&t.unshift(e.get("original_filename")),o.alert("<p>"+t.join("</p><p>")+"</p>");var i=e.get("postPhoto");this.post.photos.remove(i),this.uploads.remove(e)},afterRender:function(){this.get("disablePhotoFromUrl")||this.checkUrl(),this.renderSubViews(),this.get("canAddMedia")?this.mediaPreview.$el.addClass("photo-media-container--can-add"):this.mediaComposer.$el.css({display:"none",opacity:0}),this.get("hasMedia")||this.mediaPreview.$el.css({display:"none",opacity:0}),this.get("showCaption")?this.delayedFocus(this.caption):this.js$("caption").css({display:"none",opacity:0}),this.get("showPhotoBooth")&&n.defer(n.bind(function(){this._onChangeShowPhotoBooth(this,this.get("showPhotoBooth"))},this))},checkUrl:function(){var e=a.getParameter("src"),t=a.getParameter("caption"),i=a.getParameter("tags");a.isAbsoluteUrl(e)||(e=l.get("Context.hosts.assets_host")+e),"edit"!==this.model.get("mode")&&e&&t&&i&&(this._photoUrlParser(e,this.mediaComposer),this.model.set("caption",t),this.model.set("tags",i.split(",")),this.get("disablePhotoFromUrl")||window.Backbone.history.navigate("/new/photo",{replace:!0}))},getRichTextEditor:function(){return this.caption}});e.exports=w},533:function(e,t,i){"use strict";var n=i(3),r=i(534),o=i(130),s=i(535),a=i(538),l=i(549),c=i(551),u=i(564),h=i(240),d=i(566),p=i(568),g=i(570),m=r.extend({className:"media-container photo-media-container",template:g,mixins:[h],defaults:n.defaults({canPreview:!0,showPhotoBooth:!1,minFullWidthSize:300},r.prototype.defaults),afterInitialize:function(){this.addStateListeners(),this._updatePhotosetView=n.debounce(this.updatePhotosetView,50)},addStateListeners:function(){this.listenTo(this.post.photos,"add",this._onPhotosAdd),this.listenTo(this.post.photos,"remove",this._onPhotosRemove),this.listenTo(this,"change:showPhotoBooth",function(e,t){t?(this._createPhotoBooth(),n.isString(t)&&this.photobooth.indexView.set("watermarkUrl",t),this.js$("photoset").css("display","none")):(this.stopListening(this.photobooth),this.photobooth.remove(),this.js$("photoset").css("display",""))})},updatePhotosetView:function(){this.photoset.model.fixLayout(),this.photoset.indexView.trigger("update",this.photoset.model.photos,this.photoset.model.get("layout"))},_onPhotosAdd:function(e,t){this.post.set("linkthrough",""),e=this._preparePhotosetPhotoModel(e),this.photoset.model.add(e),this._updatePhotosetView()},_onPhotosRemove:function(e,t){this.post.set("linkthrough",""),this.photoset.model.remove(e.id),this.updatePhotosetView()},_preparePhotosetPhotoModel:function(e){n.isFunction(e.toJSON)&&(e=e.toJSON()),e.url=e.displayUrl;var t=n.keys(a.prototype.defaults);return t.unshift("id"),n.pick(e,t)},_syncPostToPhotoset:function(e){e||(e=this.photoset.model);var t=this.post.photos.map(this._preparePhotosetPhotoModel,this);e.photos.reset(t),e.set("layout",this.post.get("layout"))},_createPhotoBooth:function(){var e=this.photobooth=new c;e.render(),this.listenTo(e,"webcam:image",function(e){e&&e.base64&&this.post.photos.unshift({photoRaw:e.base64.split("base64,")[1],base64:e.base64,isSelfie:!0,isSelfieGif:e.isGif||!1,height:e.height,width:e.width})}),this.listenTo(e,"webcam:error",function(e){this.trigger("webcam:error",e)}),this.listenTo(e,"webcam:reset",function(){this.post.photos.shift()}),this.listenTo(e,"webcam:close",function(){this.post.photos.shift(),this.trigger("webcam:close")}),this.js$("photobooth").append(e.getElement())},_createPhotoset:function(){var e={dynamic:!0,padding:2,width:540,minFullWidthSize:this.get("minFullWidthSize"),addMargin:this.options.fullWidthInlineMedia};this.get("canEditMedia")&&(e.PhotosetView=l,e.PhotoView=u,e.post=this.post);var t=this.photoset=new s(e);return this._syncPostToPhotoset(t.model),this.get("canEditMedia")&&(this.listenTo(this.photoset,"change:layout",function(e,t){this.post.set("layout",t)}),this.listenTo(this.photoset,"sort",function(e){this.post.photos.setIdOrder(e.pluck("id"))}),this.listenTo(this.photoset,"photo:remove",function(e,t,i){this.set("layout",i),this.post.photos.remove(t)}),this.listenTo(this.photoset.indexView,"photoset:predrag",function(){this.overlayPopover&&this.overlayPopover.teardown()}),this.listenTo(this.photoset,"photo:editClickthroughUrl",this._createClickthroughUrlPopover),this.listenTo(this.photoset,"photo:editCaption",this._createCaptionPopover),this.listenTo(this.photoset,"change:caption",function(e,t){var i=this.post.photos.get(e.id);i&&i.set("caption",t)})),this.photoset.model.fixLayout(),t.render(),this.js$("photoset").append(t.getElement()),this.get("canEditMedia")&&this.listenTo(this.dragEvents,"drop",this._onDrop),t},_createClickthroughUrlPopover:function(e,t){this.overlayPopover&&(this.overlayPopover=this.overlayPopover.remove());var i=void 0;this.post.get("carouselDisplay")?(i=this.overlayPopover=new p({post:this.post,photo:e,pinnedTarget:t,shift:{x:0,y:60},pinnedTargetContainer:this.photoset.getElement()}),i.render()):(i=this.overlayPopover=new d({pinnedTarget:t,pinnedTargetContainer:this.photoset.getElement(),value:this.post.get("linkthrough"),ariaLabel:o("Clickthrough URL"),placeholder:"https://"}),i.render(),this.listenTo(i,"change:value",function(e,t){t=n.trim(t||""),this.post.set("linkthrough",t)})),this.listenToOnce(i,"close",function(){this.stopListening(i),delete this.overlayPopover})},_createCaptionPopover:function(e,t){this.overlayPopover&&(this.overlayPopover=this.overlayPopover.remove());var i=this.overlayPopover=new d({pinnedTarget:t,pinnedTargetContainer:this.photoset.getElement(),maxLength:200,value:e.get("caption"),placeholder:o("Caption this photo"),updateShift:!1});i.render(),this.listenTo(i,"change:value",function(t,i){e.set("caption",n.trim(i||""))}),this.listenToOnce(i,"close",function(){this.stopListening(i),delete this.overlayPopover})},_onDrop:function(e){if(!n.isEmpty(this.$el.find(e.target))){e.preventDefault();var t=n.result(e.originalEvent.dataTransfer,"files");t&&this.trigger("media:addFiles",t)}},beforeTeardown:function(){this.photobooth&&(this.stopListening(this.photobooth),this.photobooth.remove()),delete this.photobooth,this.photoset&&(this.stopListening(this.photoset),this.photoset.remove()),delete this.photoset,this.overlayPopover&&(this.overlayPopover.remove(),this.stopListening(this.overlayPopover)),delete this.overlayPopover},afterRender:function(){this.js$("photobooth",!0),this.js$("photoset",!0),this._createPhotoset(),this.photobooth=!1,this.trigger("media:ready",this),this.renderSubViews()}});e.exports=m},534:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(277),l=n.template(""),c=r.extend({className:"media-container",template:l,mixins:[o,s,a],defaults:{canEditMedia:!0},defaultOptions:{},initialize:function(e){this.options=e=n.extend({},this.defaultOptions,e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),n.extend(this,n.pick(e,["post","user","uploads","dragEvents"])),n.isFunction(this.afterInitialize)&&this.afterInitialize.apply(this,arguments)},serialize:function(){return this.toJSON()},teardown:function(){return this.stopListening(),this},render:function(){return this.$el.html(this.template(this.serialize())),this.attachSubViews(),this}});e.exports=c},535:function(e,t,i){"use strict";var n=i(3),r=i(214),o=i(536),s=(i(538),i(537),i(540),i(541)),a=i(543),l=r.extend({name:"Photoset",initialize:function(e){(n.isArray(e)||e instanceof o)&&(e={photoset:e}),this.options=e=n.extend({},e),e.photoset instanceof o?this.model=e.photoset:this.model=new o(e.photoset);var t=n.keys(s.prototype.defaults);t.push("PhotoView"),t.push("post");var i=n.pick(e,t);
i.photoset=this.model,this._PhotosetView=e.PhotosetView||s,this._PhotoView=e.PhotoView||a,this.indexView=new this._PhotosetView(i),this.listenTo(this.model,"all",this._relayModelEvent),this.listenTo(this.model.photos,"all",this._relayModelEvent)},_relayModelEvent:function(){this.trigger.apply(this,arguments)},teardown:function(){return this.indexView.teardown(),this.stopListening(),this},remove:function(){return this.teardown(),this.indexView.remove(),this},render:function(){return this.indexView.render(),this},getElement:function(){return this.indexView.$el}});e.exports=l},536:function(e,t,i){"use strict";var n=i(3),r=i(185),o=i(537),s=i(539),a=["","1","11","12","13","123","133","1232","1323","12223"],l=3,c=r.extend({defaults:{layout:null},initialize:function(e,t){t=n.extend({},t),this.layouts=t.layouts||a,this.maxPerRow=t.maxPerRow||l,(n.isArray(e)||e instanceof o)&&(this.attributes=n.extend({photos:e},this.defaults)),this.get("photos")instanceof o?this.photos=this.get("photos"):this.photos=new o(this.get("photos")),this.unset("photos"),this.fixLayout()},fixLayout:function(){var e=this.get("layout");return e=e?s.fix(e,this.photos.length,this.layouts,this.maxPerRow):s.calculateDefault(this.photos.length,this.layouts,this.maxPerRow),this.set("layout",e),e},getRows:function(e){return s.toArray(e||this.get("layout"),this.photos,this.layouts,this.maxPerRow)},getPhotoRow:function(e){var t={id:e};return n.findIndex(this.getRows(),function(e){return n.some(e,t)})},removePhoto:function(e){var t=this.getPhotoRow(e),i=this.photos.remove(e),r=n.reduce(this.get("layout").split(""),function(e,i,r){return i=n.parseInt(i),r===t&&i--,e+(i>0?i:"")},"");this.set("layout",r),i&&this.trigger("photo:remove",i,e,r)},toJSON:function(){var e=r.prototype.toJSON.apply(this,arguments);return e.photos=this.photos.toJSON(),e.rows=this.getRows(),e}}),u=["add","remove","reset","push","pop","unshift","shift","slice","where","findWhere","forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.forEach(u,function(e){var t=o.prototype[e];c.prototype[e]=function(){return t.apply(this.photos,n.toArray(arguments))}}),e.exports=c},537:function(e,t,i){"use strict";var n=i(3),r=i(190),o=i(538),s=r.extend({model:o,getSubset:function(e){return n.isUndefined(e)?[]:n.map(n.isArray(e)?e:n.toArray(arguments),this.get,this)},getSubCollection:function(e){return new s(this.getSubset.apply(this,arguments))},setIdOrder:function(e,t){t||(t={}),this.models=n.map(e,function(e){return this.get(e)},this),t.silent||this.trigger("sort",this,t)}});e.exports=s},538:function(e,t,i){"use strict";var n=i(185),r=i(539),o=n.extend({defaults:{width:null,height:null,x:"50%",y:"50%",url:"",caption:"",clickthroughUrl:"",livephotoUrl:"",livephotoStillImageTime:"",primaryUrl:"",iosUrl:"",androidUrl:""},getAspectRatio:function(){return r.aspectRatio(this.get("width"),this.get("height"))},getWidthForHeight:function(e){return r.widthForHeight(this.get("width"),this.get("height"),e)},getHeightForWidth:function(e){return r.heightForWidth(this.get("width"),this.get("height"),e)}});e.exports=o},539:function(e,t,i){"use strict";var n=i(3),r=i(538),o={},s=function(e,t,i){return e<t.length?t[e]:n.trim(n.pad(e%i||" ",Math.floor(e/i)+1,i+"","right"))},a=function(e,t,i,r){var o=n.isNumber(t)?t:t.length;e?n.isString(e)||(e=e.toString()):e="";var a=o-n.reduce(e.split(""),function(e,t){return e+n.parseInt(t)},0);return a>0?e+=s(a,i,r):a<0&&(e=n(e.split("")).reverse().transform(function(e,t){a?(a+=n.parseInt(t),a>0&&(e.push(a),a=0)):e.push(t)},[]).reverse().value().join("")),e},l=function(e,t,i,r){var o=a(e,t,i,r).split(""),s=0;return n.map(o,function(e){e=n.parseInt(e);var i=n.map(t.slice(s,s+e),function(e){return n.isFunction(e.toJSON)?e.toJSON():e});return s+=e,i})},c=function(e,t){return e&&t?e/t:0},u=function(e,t,i){var n=t?i/t:0;return e*n},h=function(e,t,i){var n=e?i/e:0;return t*n},d=function(e,t){if(!e.length)return 0;var i=n.map(e,function(e){var i,n;return e instanceof r?(i=e.get("width"),n=e.get("height")):(i=e.width,n=e.height),h(i,n,t)});return n.min(i)},p=function(e,t,i){return i||(i=0),(i+t+i)/e-i-i};o.calculateDefault=s,o.fix=a,o.toArray=l,o.aspectRatio=c,o.widthForHeight=u,o.heightForWidth=h,o.rowHeightForWidth=d,o.rowImageWidth=p,e.exports=o},540:function(e,t,i){"use strict";var n={ImageLoader:i(259),ImageLayout:i(539)};e.exports=n},541:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=i(539),a=(i(132),i(276)),l=i(277),c=i(230),u=i(538),h=i(536),d=i(542),p=i(543),g=i(548),m=function(e,t,i){n.isNumber(i)||(i=0);var r=0,o=e.length,a=t-2*i*(o-1),l=a/o,c=n.map(e,function(e,t){e instanceof u&&(e=e.toJSON());var i=t%2?Math.ceil(l):Math.floor(l);t>=o-1&&(i=a),a-=i;var n=Math.round(s.heightForWidth(e.width,e.height,i));return(!r||n&&n<r)&&(r=n),{width:i,height:n}});return{width:t,height:r,photos:c}},f=o.extend({className:"photoset",template:d,mixins:[a,l,c],defaults:{dynamic:!1,width:500,height:0,padding:5,minFullWidthSize:300},$$cacheKeys:{row:".photoset--row",cell:".photoset--cell"},$$rows:function(e){return this.$$(this.$$cacheKeys.row,e)},$$cells:function(e){return this.$$(this.$$cacheKeys.cell,e)},initialize:function(e){this.options=e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),this._PhotoView=e.PhotoView||p,this.photoset=e.photoset||new h},_updateRowCache:function(){return this._rowCache=n.map(this.photoset.getRows(),function(e){return n.pluck(e,"id")}),this._rowCache},_updateLayoutCache:function(){var e=this._updateRowCache(),t=this._layoutCache={rows:[],photos:{}},i=this.get("padding"),r=this.get("width"),o=0;return n.forEach(e,function(s,a){var l=this.photoset.photos.getSubset(s),c=a>0?i:0,u=a<e.length-1?i:0,h=this.rowSize(l,r,i),d=h.height+c+u;t.rows[a]={unpaddedHeight:h.height,paddingTop:c,paddingBottom:u,height:d,cells:[]},o+=d,n.forEach(l,function(e,n){var r=n<l.length-1?i:0,o=n>0?i:0,s=h.photos[n],c=e.get("id");t.photos[c]={scaledWidth:s.width,scaledHeight:s.height,displayWidth:s.width,displayHeight:h.height},t.rows[a].cells[n]={photo:c,unpaddedWidth:s.width,paddingLeft:o,paddingRight:r,width:s.width+o+r,height:d}},this)},this),t.width=r,t.height=o,this.set("height",o),t},rowSize:function(e,t,i){return e||(e=this.photoset.photos),n.isNumber(t)||(t=this.get("width")),n.isNumber(i)||(i=this.get("padding")),m(e,t,i)},createRowElement:function(){return r('<div class="photoset--row"></div>')},createCellElement:function(e){var t=r('<div class="photoset--cell"></div>');return null!=e&&g.set(t,"data-photo-id",e),t},createPhotoSubView:function(e){var t=new this._PhotoView({photoset:this.photoset,photos:this.photoset.photos,photo:e});return e.get("id")&&(this.subViews[e.get("id")]=t),t},createSubViews:function(){this.photoset.photos.forEach(this.createPhotoSubView,this)},createSinglePhotoLayout:function(){this._layoutCache||this._updateLayoutCache();var e=this.photoset.photos.at(0),t=e.get("width"),i=e.get("height"),n=this.get("minFullWidthSize");t>=n&&(i=Math.round(s.heightForWidth(t,i,this.get("width"))),t=this.get("width"));var r=e.get("id"),o=this.subViews[r];o.set({scaledWidth:t,scaledHeight:i,displayWidth:t,displayHeight:i});var a=this.js$("layout"),l=this.createRowElement().height(i),c=this.createCellElement(r);c.css({width:t,height:i,padding:0}).addClass("photoset--single-cell"),t<n&&c.addClass("photoset--single-cell-margin"),c.append(o.$el),l.append(c),a.append(l),this.renumberRowsAndCells()},createPhotosetLayout:function(){var e=this._layoutCache||this._updateLayoutCache();n.forEach(e.rows,function(t,i){var r=this.createRowElement();r.height(t.height),n.forEach(t.cells,function(i,o){var s=i.photo,a=e.photos[s],l=this.subViews[s];l.set(a);var c=this.createCellElement(s);c.css({width:i.width,height:i.height,padding:n.map([t.paddingTop,i.paddingRight,t.paddingBottom,i.paddingLeft],function(e){return e?e+"px":0}).join(" ")}),c.append(l.$el),r.append(c)},this),this.js$("layout").append(r)},this),this.renumberRowsAndCells()},renumberRowsAndCells:function(){n.forEach(this.$$rows(!0),function(e,t){g.set(e,"data-photoset-row",t)},this),n.forEach(this.$$cells(!0),function(e,t){g.set(e,"data-photoset-position",t)},this)},serialize:function(){return n.extend(this.toJSON(),{_rowSize:n.bind(this.rowSize,this),photoTemplate:p.prototype.template,photoset:this.photoset.toJSON()})},afterTeardown:function(){return this.stopListening(),delete this._rowCache,delete this._layoutCache,this.teardownSubViews()},render:function(){return this.get("dynamic")?(this.$el.html('<div class="photoset--layout" data-js-layout></div>'),this.createSubViews(),1===this.photoset.photos.length?this.createSinglePhotoLayout():this.createPhotosetLayout()):this.$el.html(this.template(this.serialize())),this}});e.exports=f},542:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var rows=photoset.rows,cellId=0;__p+=' <div data-js-layout class="photoset--layout"> ',_.forEach(rows,function(e,t){__p+=" ";var i=t>0?padding:0,n=t<rows.length-1?padding:0,r=_rowSize(e,width,padding),o=r.height;__p+=' <div data-photoset-row="'+__e(t)+'" style="height:'+__e(o+i+n)+'px" class="photoset--row"> ',_.forEach(e,function(t,s){__p+=" ";var a=r.photos[s],l=a.width,c=a.height,u=o,h=s<e.length-1?padding:0,d=s>0?padding:0,p=l+d+h,g=_.map([i,h,n,d],function(e){return e?e+"px":0}).join(" ");__p+=' <div data-photoset-position="'+__e(cellId)+'" data-photo-id="'+__e(t.id)+'" style="width:'+__e(p)+"px;height:"+__e(o)+"px;padding:"+__e(g)+'" class="photoset--cell"> '+(null==(__t=photoTemplate(_.defaults({scaledWidth:l,scaledHeight:c,displayWidth:a.width,displayHeight:u},t)))?"":__t)+" </div> ",cellId++,__p+=" "}),__p+=" </div> "}),__p+=" </div>"}return __p}.toString()).apply(void 0,_values(_imports))},543:function(e,t,i){"use strict";var n=i(3),r=i(192),o=i(235).animate,s=i(219),a=i(544),l=150,c=i(276),u=i(277),h=i(230),d=i(538),p=i(547),g=s.extend({className:"photoset--photo",template:p,mixins:[c,u,h],defaults:{scaledWidth:null,scaledHeight:null,displayWidth:null,displayHeight:null},initialize:function(e){e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),this.photo=e.photo||new d,this.photos=e.photos,this.photoset=e.photoset,this.$el.attr("data-photo-id",this.photo.get("id")),this.listenTo(this.photo,"change:id",function(e,t){this.$el.attr("data-photo-id",t)})},thumbnailDimensions:function(e,t){var i=this.photo.getHeightForWidth(100);return t&&i>t&&(i=t,e=this.photo.getWidthForHeight(100)),{width:Math.ceil(e),height:Math.ceil(i)}},resize:function(e){e||(e=l);var t=this.get("displayWidth")||0,i=this.get("displayHeight")||0,n=this.get("scaledWidth")||0,s=this.get("scaledHeight")||0;return o(this.js$("crop"),"stop"),o(this.js$("positioner"),"stop"),o(this.js$("image"),"stop"),r.join(o(this.js$("crop"),{width:t,height:i},{duration:e}),o(this.js$("positioner"),{width:Math.max(0,n-t),height:Math.max(0,s-i)},{duration:e}),o(this.js$("image"),{width:n,height:s},{duration:e}))},serialize:function(){return n.defaults(this.toJSON(),this.photo.toJSON())},beforeTeardown:function(){return this.stopListening(),this},render:function(){var e=this.serialize();if(this.$el.html(this.template(e)),a.hasInstance()&&e.livephotoUrl){var t=this.js$("image");t.attr({"data-live-photo":e.livephotoUrl,"data-live-photo-still-image-time":e.livephotoStillImageTime}),this.livePhoto=a.getInstance().create(t)}return this.attachSubViews(),this}});e.exports=g},547:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div data-js-imagecrop style="width:'+__e(displayWidth)+"px;height:"+__e(displayHeight)+'px" class="photoset--image-crop"><div data-js-imagewrap style="background-image:url('+__e(url)+");background-position:"+__e(x)+" "+__e(y)+'" class="photoset--image-wrap"><img data-js-image src="'+__e(url)+'" alt="'+__e(caption)+'" data-width="'+__e(width)+'" data-height="'+__e(height)+'" class="photoset--image"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},548:function(e,t,i){"use strict";var n=i(3),r=i(8),o={},s=function(e,t,i){var o=e instanceof r?e:r(e),s=t;n.isObject(t)||(s={},s[t]=i),o.attr(s);var a=n.transform(s,function(e,t,i){i.match(/^data\-/i)&&(e[n.camelCase(i.replace(/^data\-/,""))]=t)},{});return o.data(a),o},a=function(e,t){var i=e instanceof r?e:r(e);return n.isString(t)&&(t=n.rest(arguments)),n.forEach(t,function(e){i.removeAttr(e),e.match(/^data\-/i)&&i.removeData(n.camelCase(e.replace(/^data\-/,"")))}),i};o.set=s,o.remove=a,e.exports=o},549:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(192),s=i(235).animate,a=i(136),l=i(541),c=150,u=r(window),h=i(548),d=i(550),p=0,g=1,m=2,f=l.extend({className:"editable-photoset photoset",defaults:n.extend({x:null,y:null,dragId:null,sourceCell:null,targetCell:null,dragOverCell:null,isLocked:!1,isDragging:!1,dragScrollVelocityY:0,dragScrollUpdateMs:50,dragScrollHeight:100,dragSlide:20,ghostWidth:100,ghostMaxHeight:120},l.prototype.defaults),events:n.defaults({'mousedown [data-js-sortable][draggable="true"]':"_onMouseDownSortable","dragstart .photoset--photo-dragger":"_onDragStart"},l.prototype.events),initialize:function(){l.prototype.initialize.apply(this,arguments),this.__updateCursorPosition=n.throttle(n.bind(function(e){this.set(d(e))},this)),n.forEach(["_onDragStart","_onDragEnter","_onDragOver","_onDragLeave","_onDragEnd","_onDrop"],function(e){var t=this[e]||n.noop;this["_"+e]=n.bind(t,this)},this)},_onMouseDownSortable:function(e){if(this.get("isLocked"))return e.preventDefault(),void e.stopPropagation();if(1===e.which&&!e.ctrlKey){if(this.get("isDragging"))return this._onDragEnd(e);if(this.trigger("photoset:predrag",this),!window.DataTransfer||!n.isFunction(window.DataTransfer.prototype.setDragImage)){var t=r(e.target),i=t.closest(".photoset--photo"),o=this.photoset.photos.get(i.data("photoId")),s=o?o.get("url")||"":"";s&&(t.css({backgroundColor:"#ffffff",backgroundImage:"url("+s+")"}),t.one("mouseout mouseup",n.bind(function(){t.css({backgroundColor:"",backgroundImage:""})},this)))}}},_onDragStart:function(e){if(this.get("isLocked"))return e.preventDefault(),void e.stopPropagation();a.trigger("photoset:dragstart");var t=r(e.target),i=t.closest(".photoset--photo"),o=i.data("photoId"),s=e.originalEvent.dataTransfer;if(s){s.effectAllowed="move",s.dropEffect="move";var l=this.$('[data-ghost-id="'+o+'"]');!n.isEmpty(l)&&n.isFunction(s.setDragImage)&&s.setDragImage(l.get(0),.5*l.outerWidth(),.5*l.outerHeight());try{var c=this.photoset.photos.get(o),h=c?c.get("url")||"":"";s.setData("text/uri-list",h),s.setData("text/plain",h)}catch(e){}}var d=i.closest(this.$$cacheKeys.cell),p=d.closest(this.$$cacheKeys.row);this.set({sourceCell:null,targetCell:null,dragOverCell:null,dragId:o}),this.listenTo(this,"change:targetCell",this._onChangeTargetCell),this.$el.on("dragover .photoset--cell",this.__onDragOver),this.$el.on("dragend",this.__onDragEnd),this.$el.on("drop .photoset--cell",this.__onDrop),u.on("dragover",this.__updateCursorPosition),this.startDragScroll(),n.defer(n.bind(function(){var e=this.$$cacheKeys.cell;this.set("isDragging",!0),d.addClass("photoset--placeholder-cell photoset--source-cell"),p.addClass("photoset--source-row"),n.isEmpty(d.siblings(e))&&d.closest(this.$$cacheKeys.row).addClass("photoset--placeholder-row"),t.css({backgroundColor:"",backgroundImage:""}),this.createPlaceholders(),this.set({sourceCell:d.data("placeholderCell"),targetCell:d.data("placeholderCell"),dragOverCell:d.data("dragOverCell")}),this.listenTo(this,"change:dragOverCell change:x change:y",this._onChangeDragTarget)},this))},_onDragOver:function(e){e.preventDefault(),e.stopPropagation(),this.__updateCursorPosition(e);var t=r(e.target),i=t.closest(this.$$cacheKeys.cell);this.set("dragOverCell",i.data("dragOverCell"))},_onDragEnd:function(e){e.preventDefault(),e.stopPropagation(),this.stopListening(this,"change:targetCell",this._onChangeTargetCell),this.stopListening(this,"change:dragOverCell change:x change:y",this._onChangeDragTarget);var t=this.get("dragId");if(null!=t){var i=this.placePhotoInCell(t,this.get("targetCell"));this.set({sourceCell:null,targetCell:null,dragId:null}),i.removeClass("photoset--placeholder-cell"),i.closest(this.$$cacheKeys.row).removeClass("photoset--placeholder-row")}this.removePlaceholders(),this.set("isDragging",!1);var r=this.determineLayout();this.photoset.photos.setIdOrder(r.order),this.photoset.set("layout",r.layout),this.set("isLocked",!0),this.resize().then(n.bind(function(){this.removeTemporary(),this.set("isLocked",!1)},this)),this._ensurePhotoInViewport(t),this.$el.off("dragover .photoset--cell",this.__onDragOver),this.$el.off("dragend",this.__onDragEnd),this.$el.off("drop .photoset--cell",this.__onDrop),u.off("dragover",this.__updateCursorPosition),this.stopDragScroll(),a.trigger("photoset:dragend")},_onDrop:function(e){e.preventDefault(),e.stopPropagation()},_onChangeIsDragging:function(e,t){this.$el.toggleClass("photoset--drag-to-sort",t)},_onChangeIsLocked:function(e,t){this.$el.toggleClass("photoset--locked",t),t||this.$(".photoset--cropped-cell").removeClass("photoset--cropped-cell")},_onUpdate:function(e,t){this.teardown().render(),this.photoset.photos.length>1&&this._ensurePhotoInViewport(this.photoset.photos.last().get("id"))},startDragScroll:function(){this.set({dragScrollTop:this.get("dragScrollHeight"),dragScrollBottom:u.height()-this.get("dragScrollHeight")}),this.listenTo(this,"change:y",this._onChangeDragY)},stopDragScroll:function(){clearInterval(this.dragScrollInterval),delete this.dragScrollInterval,this.stopListening(this,"change:y",this._onChangeDragY)},_onChangeDragY:function(e,t){var i=0,r=t-u.scrollTop();i=r<this.get("dragScrollTop")?Math.ceil(100*(r-this.get("dragScrollTop"))/this.get("dragScrollHeight")):r>this.get("dragScrollBottom")?Math.ceil(100*(r-this.get("dragScrollBottom"))/this.get("dragScrollHeight")):0,this.set("dragScrollVelocityY",i),i?this.dragScrollInterval||(this.dragScrollInterval=setInterval(n.bind(function(){var e=this.get("dragScrollVelocityY");e&&a.trigger("Photoset:dragScroll",e)},this),this.get("dragScrollUpdateMs"))):this.dragScrollInterval&&(clearInterval(this.dragScrollInterval),delete this.dragScrollInterval)},_ensurePhotoInViewport:function(e,t){n.isNumber(t)||(t=c);var i=this._layoutCache||this._updateLayoutCache(),r=this.$el.offset().top||0,o=n.find(i.rows,function(t){return!!n.find(t.cells,{photo:e})||void(r+=t.height)});o&&a.trigger("Photoset:scrollToRow",r,o.height,t)},createPhotoSubView:function(e){var t=l.prototype.createPhotoSubView.apply(this,arguments);return this.options.post&&(t.post=this.options.post),this.listenTo(t,"photoset:hover",function(){var e=n.toArray(arguments);e.unshift("photoset:unhover"),n(this.subViews).omit(t.photo.get("id")).invoke(function(){this.trigger.apply(this,e)}).value()}),t},createPlaceholders:function(){var e=this.photoset.maxPerRow,t=".photoset--placeholder-row",i=".photoset--placeholder-cell",o=".photoset--source-row",s=".photoset--source-cell",a=this.$$cacheKeys.cell,l='<div class="photoset--row photoset--placeholder-row"></div>',c='<div class="photoset--cell photoset--placeholder-cell"></div>';this._createPlaceholders(this.js$("layout"),this.$$rows(),l,t),n.forEach(this.$$rows(!0),function(t,n){var s=r(t),a=s.children(this.$$cacheKeys.cell);(a.length<e||s.is(o))&&this._createPlaceholders(s,a,c,i)},this),n.forEach(this.$$cells(!0).filter(i),function(e,t){h.set(e,"data-placeholder-cell",t)},this);var u=this.determineLayout(),d=this.get("padding"),p=0;n.forEach(this.$$rows(!0),function(e,l){var c=r(e),g=c.index(),m=this.get("width"),f=g<=u.topRow||g>u.bottomRow?0:d,v=g>=u.bottomRow||g<u.topRow?0:d,b=c.height()||0;c.height(b);var w=c.children(a),y=c.prev(t).not(o).find(a),_=c.next(t).not(o).find(a),k=y.data("placeholderCell"),x=_.data("placeholderCell");n.forEach(w,function(e,n){var o=r(e);o.is(i)&&!o.is(s)&&o.css({paddingTop:f,paddingBottom:v,width:c.is(t)?m:0,height:b});var a={top:k,left:o.prev(i).data("placeholderCell"),center:o.data("placeholderCell"),right:o.next(i).data("placeholderCell"),bottom:x};o.data("targetCells",a),h.set(o,"data-drag-over-cell",p++)},!0)},this)},_createPlaceholders:function(e,t,i,o){t.first().is(o)||e.prepend(i),n.forEach(t.not(o),function(e,t){var s=r(e);n.isEmpty(s.next(o))&&s.after(i)},this)},removePlaceholders:function(){this.$$rows(!0).removeClass("photoset--source-row"),this.$$cells(!0).removeClass("photoset--source-cell").removeData("targetCells"),this.$$rows().filter(".photoset--placeholder-row").remove(),this.$$cells().filter(".photoset--placeholder-cell").remove(),this.renumberRowsAndCells(),h.remove(this.$$cells(),"data-drag-over-cell","data-placeholder-cell")},removeTemporary:function(){this.$(".photoset--temporary").remove(),this.$$rows(!0),this.$$cells(!0),this.renumberRowsAndCells()},resize:function(e){n.isNumber(e)||(e=c);var t=n.map(this.$$rows(),function(t,i){return this.resizeRow(t,e,i)},this);return this._updateLayoutCache(),o.all(t)},_calculateCellSize:function(e){var t=r(e),i=t.find(".photoset--photo [data-js-imageCrop]"),o={width:0,height:0,$content:i,$el:t},s=this.photoset.photos.get(t.data("photoId"));return s&&n.extend(o,{isCurrentCell:!0,width:s.get("width"),height:s.get("height")}),o},resizeRow:function(e,t,i){n.isNumber(t)||(t=c);var a=e instanceof r?e:r(e),l=this.determineLayout();n.isNumber(i)||(i=a.index());var u=this.get("width"),h=this.get("padding"),d=i<=l.topRow||i>l.bottomRow?0:h,p=i>=l.bottomRow||i<l.topRow?0:h,g=this.$$cacheKeys.cell,m=n.map(a.children(g),this._calculateCellSize,this),f=[],v=0;n.forEach(m,function(e,t){e.index=t,e.isCurrentCell&&(e.position=v++,e.id=f.length,f.push(e))});var b=this.rowSize(f,u),w=b.height,y=w?w+d+p:0,_=n.map(m,function(e,i){var r={width:e.width,height:w,paddingTop:d,paddingRight:0,paddingBottom:p,paddingLeft:0};null!=e.id&&(r.width=b.photos[e.id].width),null!=e.position&&(r.paddingRight=e.position<v-1?h:0,r.paddingLeft=e.position>0?h:0),n.isEmpty(e.$content)||(s(e.$content,"stop"),s(e.$content,{opacity:1,width:r.width,height:r.height,translateX:0,translateY:0},{duration:t}));var o=this.subViews[e.$el.data("photoId")];return o&&o.set({displayWidth:r.width,displayHeight:r.height}),s(e.$el,"stop"),s(e.$el,n.defaults({width:r.width+r.paddingLeft+r.paddingRight,height:r.height+r.paddingTop+r.paddingBottom},r),{duration:t})},this);s(a,"stop"),_.push(s(a,{height:y},{duration:t})),this.get("isDragging")&&(this._rowHeightCache[a.data("photosetRow")]=y);var k=o.all(_);return k},determineLayout:function(e){if(e&&this._determineLayout)return this._determineLayout;var t="",i=[],o=-1,s=-1,a=this.$$cacheKeys.cell;return n.forEach(this.$$rows(),function(e,l){var c=0;n.forEach(r(e).children(a),function(e){var t=r(e).data("photoId");(t||0===t)&&(i.push(t),c++)},this),c&&(t+=c,o<0&&(o=l),s=l)},this),this._determineLayout={topRow:o,bottomRow:s,order:i,layout:t},this._determineLayout},_onChangeTargetCell:function(e,t){if(null!=t){var i=this.$$cells().filter('[data-placeholder-cell="'+t+'"]'),o=i.closest(this.$$cacheKeys.row),a=i.data("dragOverCell"),l=p;l=i.is(".photoset--source-cell")?p:o.is(".photoset--placeholder-row")?g:m,n.forEach(this.$$cells(),function(e,t){var i=r(e),u=i.find(".photoset--image-crop");if(!n.isEmpty(u)){var h={translateX:0,translateY:0};switch(l){case g:n.isEmpty(o.find(i))&&(i.data("dragOverCell")<a?h.translateY=-this.get("dragSlide"):i.data("dragOverCell")>a&&(h.translateY=this.get("dragSlide")));break;case m:n.isEmpty(o.find(i))||(i.data("dragOverCell")<a?h.translateX=-this.get("dragSlide"):i.data("dragOverCell")>a&&(h.translateX=this.get("dragSlide")))}s(u,"stop"),s(u,h,c)}},this)}else n.forEach(this.$$cells(),function(e){var t=r(e).find(".photoset--image-crop");n.isEmpty(t)||(s(t,"stop"),s(t,{translateX:0,translateY:0},c))},this)},_onChangeDragTarget:function(){var e=this.get("dragOverCell");if(null!=e){var t=this.$$cells().filter('[data-drag-over-cell="'+e+'"]'),i=t.offset(),n=t.width(),r=t.height(),o=this.get("x")-(i.left+.5*n),s=this.get("y")-(i.top+.5*r),a=t.data("targetCells");null!=a.top&&s<-r/3?this.set("targetCell",a.top):null!=a.bottom&&s>r/3?this.set("targetCell",a.bottom):null!=a.center?null!=a.left&&o<-n/3?this.set("targetCell",a.left):null!=a.right&&o>n/3?this.set("targetCell",a.right):this.set("targetCell",a.center):null!=a.left&&o<0?this.set("targetCell",a.left):null!=a.right&&o>0&&this.set("targetCell",a.right)}},placePhotoInCell:function(e,t){var i=this.subViews[e],n=i.$el.closest(this.$$cacheKeys.cell),r=n.closest(this.$$cacheKeys.row),o=this.$$cells().filter('[data-placeholder-cell="'+t+'"]');return h.set(o,"data-photo-id",e),o.is(n)||(n.removeClass("photoset--placeholder-cell").addClass("photoset--temporary"),h.remove(n,"data-photo-id"),r.is(".photoset--placeholder-row")&&r.removeClass("photoset--placeholder-row").addClass("photoset--temporary"),i.js$("imageCrop").css({opacity:0,width:o.width(),height:o.height()}),i.$el.detach(),o.append(i.$el),o.addClass("photoset--cropped-cell")),o},beforeRender:function(){this.listenTo(this,"update",this._onUpdate),this.listenTo(this,"change:isDragging",this._onChangeIsDragging),this.listenTo(this,"change:isLocked",this._onChangeIsLocked)},afterRender:function(){this.renderSubViews(),this.$el.prepend('<div data-js-ghosts class="photoset--ghosts"></div>'),n.forEach(this.subViews,function(e,t){var i=e.thumbnailDimensions(this.get("ghostWidth"),this.get("ghostMaxHeight"));i["background-image"]="url("+e.photo.get("url")+")";var n=r('<div data-js-ghost class="photoset--ghost"></div>').css(i);h.set(n,"data-ghost-id",t),this.js$("ghosts").append(n)},this),this.js$("ghosts").append('<div class="photoset--ghost-cover"></div>').css({width:this.get("ghostWidth"),height:this.get("ghostMaxHeight")})}});e.exports=f},550:function(e,t,i){"use strict";var n=i(3),r=function(e,t){t||(t=e.originalEvent),n.extend(e,n.pick(t,"pageX","pageY"));var i,r,o;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||document,r=i.documentElement,o=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),{x:e.pageX,y:e.pageY}};e.exports=r},551:function(e,t,i){"use strict";var n=i(3),r=i(214),o=i(552),s=i(558),a=r.extend({name:"Webcam",initialize:function(e){this.options=e=n.extend({},e),this.indexView=new o(e),this.listenTo(this.indexView,"all",this._relayViewEvent);var t=["teardown","render","remove"].concat(a.prototype.commands||[]);n.forEach(t,function(e){var t=this.indexView;this[e]=function(){return t[e].apply(t,arguments),this}},this)},_relayViewEvent:function(){this.trigger.apply(this,arguments)},getElement:function(){return this.indexView.$el},getHeightForWidth:function(e){return this.indexView.get("width")?e*this.indexView.get("height")/this.indexView.get("width"):0}},{hasUserMediaSupport:function(){return!!s}});e.exports=a},552:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(192),s=i(235).animate,a=i(129),l=i(219),c=i(553),u=i(259),h=i(260),d=i(262),p=i(230),g=i(276),m=i(277),f=i(556),v=i(557),b=i(560),w=300,y=250,_=r(document),k="",x=l.extend({className:"webcam",template:f,mixins:[p,g,m],defaults:{watermarkUrl:"",width:540,height:405,retina:!0,mirrored:!0,enabled:!0,needsPermission:!0,showControls:!1,flash:!0,showPreviewContainer:!1,defaultTimer:3e3,timePerFrame:1e3,gifFrameCount:4,gifSpeed:200,enableFlash:!0,enableGifMode:!0,enableRemove:!0},commands:["toggleFlash","toggleMirrored","snap","gif","flash","gifStart","gifSnap","gifComplete","retake","close"],initialize:function(e){this.options=e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),k=a.get("Context/hosts/assets_host"),this._WebcamControlsView=e.WebcamControlsView||b},_onChangeEnabled:function(e,t){t?this.videoStream.startStream():this.videoStream.stopStream()},_onChangeNeedsPermission:function(e,t){t||clearTimeout(this._delayedPermissionCheck)},_onChangeWatermarkUrl:function(e,t){if(this.js$("watermarkContainer").empty(),this.$watermark=!1,t){if(!n.startsWith(t,"data:image/png;base64")&&(t.match(/^\w*:\/\//i)||!n.startsWith(t,"/")))throw new Error("Webcam watermark must be an absolute path or base64-encoded image.");n.startsWith(t,"/")&&(t=k+t),this.$watermark=r("<img/>",{alt:"",src:t}),this.js$("watermarkContainer").append(this.$watermark)}},_onChangeShowControls:function(e,t){var i=200;s(this.js$("controlContainer"),"stop"),s(this.js$("controlContainer"),{opacity:t?1:0},{display:t?"block":"none",duration:i})},_onChangeShowPreviewContainer:function(e,t){t?this.js$("previewContainer").css("display","block"):(this.js$("previewContainer").children("img").remove(),this.js$("previewContainer").css("display","none"))},startStream:function(){this.set("enabled",!0)},stopStream:function(){this.set("enabled",!1)},snap:function(e,t){this._snapFrame(e,t).then(n.bind(function(e){this.set("showPreviewContainer",!0),this.trigger("webcam:image",e),this.webcamControls.trigger("webcam:snapped")},this))},gif:function(e,t,i,r){n.isNumber(e)||(e=this.get("gifFrameCount")),n.isNumber(t)||(t=this.get("timePerFrame")),!n.isUndefined(i)||(i=this.get("flash")),!n.isUndefined(r)||(r=!!this.get("watermarkUrl")),this.gifStart();var o=0;clearInterval(this._gifInterval),this._gifInterval=setInterval(n.bind(function(){o++,this.gifSnap(o>=e),r&&clearInterval(this._gifInterval)},this),t)},gifStart:function(){this._frameBuffer=[]},gifSnap:function(e,t,i){this._snapFrame(t,i).then(n.bind(function(t){var i=this.js$("canvas"),n=i.get(0),r=document.createElement("canvas");r.width=.5*(n.width||i.width()),r.height=.5*(n.height||i.height()),d.drawElToCanvas(this.js$("canvas"),r),this._frameBuffer.push(r),e&&this.gifComplete()},this))},gifComplete:function(e){n.isNumber(e)||(e=this.get("gifSpeed"));var t=new c({workers:3,quality:1});n.forEach(this._frameBuffer,function(i){t.addFrame(i,{delay:e})},this),t.on("finished",n.bind(function(e){h.read(e).then(n.bind(function(e){u.load(e.base64).then(n.bind(function(e){var t=r('<img data-js-gif class="webcam--preview-image"/>');t.attr("src",e.src),this.js$("previewContainer").append(t),n.extend(e,{base64:e.src,isGif:!0}),this.trigger("webcam:image",e),this.webcamControls.showSnapButtonGroup("retakeButton"),this.set("showPreviewContainer",!0)},this))},this))},this)),t.render(),delete this._frameBuffer},retake:function(){this.set("showPreviewContainer",!1),this.trigger("webcam:reset")},close:function(){this.trigger("webcam:close")},_snapFrame:function(e,t){!n.isUndefined(e)||(e=this.get("flash")),!n.isUndefined(t)||(t=!!this.get("watermarkUrl"));var i=n.bind(this.flash,this),r=n.bind(this.grabVideoFrame,this,t);return o.promise(function(t,o){e?(i(),n.delay(function(){t(r())},.5*w)):t(r())})},drawWatermark:function(){var e=this.$watermark;if(e.get(0)){var t=this.js$("canvas").get(0),i=t.getContext("2d"),n=e.offset(),r=this.$el.offset();i.drawImage(e.get(0),2*(n.left-r.left),2*(n.top-r.top),e.width(),e.height())}},grabVideoFrame:function(e){d.drawElToCanvas(this.videoStream.video,this.js$("canvas"),this.get("mirrored")),e&&this.drawWatermark();var t=this.js$("canvas").get(0);return t?{width:t.width,height:t.height,base64:t.toDataURL("image/jpeg")}:{width:0,height:0,base64:null}},toggleFlash:function(e){!n.isUndefined(e)||(e=!this.get("flash")),
this.set("flash",e)},toggleMirrored:function(e){!n.isUndefined(e)||(e=!this.get("mirrored")),this.set("mirrored",e)},flash:function(){return s(this.$flash,"stop"),this.$flash.css({display:"block",opacity:1}),s(this.$flash,{opacity:[0,1]},{display:"block",delay:w,duration:y}).then(n.bind(function(){this.$flash.css("display","none")},this))},_checkVideoStreamPermissions:function(){this._delayedPermissionCheck=n.delay(n.bind(function(){this.get("needsPermission")&&this._onChangeNeedsPermission(this,!0)},this),1e3),this.get("needsPermission")?(this.js$("controlContainer").css({display:"none",opacity:0}),this.listenToOnce(this.videoStream,"change:needsPermission",function(e,t){this.set("needsPermission",t)}),this.listenToOnce(this.videoStream,"change:running",function(e,t){clearTimeout(this._delayedPermissionCheck),t&&(this.set("needsPermission",!1),this.set("showControls",!0))})):this.set("showControls",!0)},serialize:function(){var e=this.toJSON();return e.ratio=(e.width?e.height/e.width*100:0)+"%",e.loading=!!this.videoStream&&!this.videoStream.get("running"),e},teardown:function(){return clearInterval(this._gifInterval),clearTimeout(this._delayedPermissionCheck),_.off("keydown.webcam keyup.webcam"),this.stopListening(),this.$flash&&this.$flash.remove(),delete this.$flash,this},remove:function(){return this.teardown(),l.prototype.remove.apply(this,arguments)},beforeRender:function(){var e=n.pick(this.attributes,n.keys(v.prototype.defaults)),t=n.pick(this.attributes,n.keys(this._WebcamControlsView.prototype.defaults));this.videoStream=this.subViews.videoStream=new v(e),this.webcamControls=this.subViews.webcamControls=new this._WebcamControlsView(t),this.$flash=r('<div class="webcam--flash"></div>').appendTo("body"),this.set("needsPermission",!this.videoStream.get("running")),this.listenTo(this,"change:enabled",this._onChangeEnabled),this.listenTo(this,"change:needsPermission",this._onChangeNeedsPermission),this.listenTo(this,"change:watermarkUrl",this._onChangeWatermarkUrl),this.listenTo(this,"change:showControls",this._onChangeShowControls),this.listenTo(this,"change:showPreviewContainer",this._onChangeShowPreviewContainer),this.listenTo(this.videoStream,"change:running",function(e,t){this.js$("watermarkContainer").toggleClass("webcam-watermark--hidden",!t)}),this.listenTo(this.videoStream,"error",function(e){this.trigger("webcam:error",e),this.close()}),this.listenTo(this,"change:flash",function(e,t){this.webcamControls.set("flash",t)}),this.listenTo(this,"change:mirrored",function(e,t){this.videoStream.set("mirrored",t),this.webcamControls.set("mirrored",t)}),this.listenTo(this.webcamControls,"webcam",function(e){if(n.contains(this.commands,e)){var t=this[e];n.isFunction(t)&&t.apply(this,n.rest(arguments))}}),_.on("keydown.webcam keyup.webcam",n.bind(function(e){switch(e.which||e.keyCode){case 16:this.set("flash","keyup"===e.type);break;case 18:"keydown"===e.type&&e.metaKey&&this.toggle("mirrored");break;case 91:case 92:case 93:"keydown"===e.type&&e.altKey&&this.toggle("mirrored")}},this))},render:function(){return this.$el.html(this.template(this.serialize())),this.attachSubViews(),this._checkVideoStreamPermissions(),this.get("enabled")&&this.videoStream.startStream(),this.get("watermarkUrl")&&this._onChangeWatermarkUrl(this,this.get("watermarkUrl")),this}});e.exports=x},553:function(e,t,i){"use strict";var n=i(554).GIF,r=i(555),o=function(e){var t=r;return e||(e={}),e.workerScript||(e.workerScript=t),new n(e)};e.exports=o},554:function(e,t){(function(e){function t(e,i){if({}.hasOwnProperty.call(t.cache,e))return t.cache[e];var n=t.resolve(e);if(!n)throw new Error("Failed to resolve module "+e);var r={id:e,require:t,filename:e,exports:{},loaded:!1,parent:i,children:[]};i&&i.children.push(r);var o=e.slice(0,e.lastIndexOf("/")+1);return t.cache[e]=r.exports,n.call(r.exports,r,r.exports,o,e),r.loaded=!0,t.cache[e]=r.exports}t.modules={},t.cache={},t.resolve=function(e){return{}.hasOwnProperty.call(t.modules,e)?t.modules[e]:void 0},t.define=function(e,i){t.modules[e]=i};var i=function(t){return t="/",{title:"browser",version:"v0.10.26",browser:!0,env:{},argv:[],nextTick:e.setImmediate||function(e){setTimeout(e,0)},cwd:function(){return t},chdir:function(e){t=e}}}();t.define("/gif.coffee",function(e,i,n,r){function o(e,t){return{}.hasOwnProperty.call(e,t)}function s(e,t){for(var i=0,n=t.length;i<n;++i)if(i in t&&t[i]===e)return!0;return!1}function a(e,t){function i(){this.constructor=e}for(var n in t)o(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e}var l,c,u,h,d;u=t("events",e).EventEmitter,l=t("/browser.coffee",e),d=function(e){function t(e){var t,i;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(e);for(t in c)i=c[t],null!=this.options[t]?this.options[t]:this.options[t]=i}return a(t,e),c={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null},h={delay:500,copy:!1},t.prototype.setOption=function(e,t){return this.options[e]=t,null==this._canvas||"width"!==e&&"height"!==e?void 0:this._canvas[e]=t},t.prototype.setOptions=function(e){var t,i;return function(n){for(t in e)o(e,t)&&(i=e[t],n.push(this.setOption(t,i)));return n}.call(this,[])},t.prototype.addFrame=function(e,t){var i,n;null==t&&(t={}),i={},i.transparent=this.options.transparent;for(n in h)i[n]=t[n]||h[n];if(null!=this.options.width||this.setOption("width",e.width),null!=this.options.height||this.setOption("height",e.height),"undefined"!=typeof ImageData&&null!=ImageData&&e instanceof ImageData)i.data=e.data;else if("undefined"!=typeof CanvasRenderingContext2D&&null!=CanvasRenderingContext2D&&e instanceof CanvasRenderingContext2D||"undefined"!=typeof WebGLRenderingContext&&null!=WebGLRenderingContext&&e instanceof WebGLRenderingContext)t.copy?i.data=this.getContextData(e):i.context=e;else{if(null==e.childNodes)throw new Error("Invalid image");t.copy?i.data=this.getImageData(e):i.image=e}return this.frames.push(i)},t.prototype.render=function(){var e,t;if(this.running)throw new Error("Already running");if(null==this.options.width||null==this.options.height)throw new Error("Width and height must be set prior to rendering");this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=function(t){for(var i=function(){var e;e=[];for(var t=0;0<=this.frames.length?t<this.frames.length:t>this.frames.length;0<=this.frames.length?++t:--t)e.push(t);return e}.apply(this,arguments),n=0,r=i.length;n<r;++n)e=i[n],t.push(null);return t}.call(this,[]),t=this.spawnWorkers();for(var i=function(){var e;e=[];for(var i=0;0<=t?i<t:i>t;0<=t?++i:--i)e.push(i);return e}.apply(this,arguments),n=0,r=i.length;n<r;++n)e=i[n],this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},t.prototype.abort=function(){for(var e;;){if(e=this.activeWorkers.shift(),!(null!=e))break;console.log("killing active worker"),e.terminate()}return this.running=!1,this.emit("abort")},t.prototype.spawnWorkers=function(){var e;return e=Math.min(this.options.workers,this.frames.length),function(){var t;t=[];for(var i=this.freeWorkers.length;this.freeWorkers.length<=e?i<e:i>e;this.freeWorkers.length<=e?++i:--i)t.push(i);return t}.apply(this,arguments).forEach(function(e){return function(t){var i;return console.log("spawning worker "+t),i=new Worker(e.options.workerScript),i.onmessage=function(e){return function(t){return e.activeWorkers.splice(e.activeWorkers.indexOf(i),1),e.freeWorkers.push(i),e.frameFinished(t.data)}}(e),e.freeWorkers.push(i)}}(this)),e},t.prototype.frameFinished=function(e){return console.log("frame "+e.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[e.index]=e,s(null,this.imageParts)?this.renderNextFrame():this.finishRendering()},t.prototype.finishRendering=function(){var e,t,i,n,r,o,s;r=0;for(var a=0,l=this.imageParts.length;a<l;++a)t=this.imageParts[a],r+=(t.data.length-1)*t.pageSize+t.cursor;r+=t.pageSize-t.cursor,console.log("rendering finished - filesize "+Math.round(r/1e3)+"kb"),e=new Uint8Array(r),o=0;for(var c=0,u=this.imageParts.length;c<u;++c){t=this.imageParts[c];for(var h=0,d=t.data.length;h<d;++h)s=t.data[h],i=h,e.set(s,o),o+=i===t.data.length-1?t.cursor:t.pageSize}return n=new Blob([e],{type:"image/gif"}),this.emit("finished",n,e)},t.prototype.renderNextFrame=function(){var e,t,i;if(0===this.freeWorkers.length)throw new Error("No free workers");return this.nextFrame>=this.frames.length?void 0:(e=this.frames[this.nextFrame++],i=this.freeWorkers.shift(),t=this.getTask(e),console.log("starting frame "+(t.index+1)+" of "+this.frames.length),this.activeWorkers.push(i),i.postMessage(t))},t.prototype.getContextData=function(e){return e.getImageData(0,0,this.options.width,this.options.height).data},t.prototype.getImageData=function(e){var t;return null!=this._canvas||(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),t=this._canvas.getContext("2d"),t.setFill=this.options.background,t.fillRect(0,0,this.options.width,this.options.height),t.drawImage(e,0,0),this.getContextData(t)},t.prototype.getTask=function(e){var t,i;if(t=this.frames.indexOf(e),i={index:t,last:t===this.frames.length-1,delay:e.delay,transparent:e.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,repeat:this.options.repeat,canTransfer:"chrome"===l.name},null!=e.data)i.data=e.data;else if(null!=e.context)i.data=this.getContextData(e.context);else{if(null==e.image)throw new Error("Invalid frame");i.data=this.getImageData(e.image)}return i},t}(u),e.exports=d}),t.define("/browser.coffee",function(e,t,i,n){var r,o,s,a,l;a=navigator.userAgent.toLowerCase(),s=navigator.platform.toLowerCase(),l=a.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],o="ie"===l[1]&&document.documentMode,r={name:"version"===l[1]?l[3]:l[1],version:o||parseFloat("opera"===l[1]&&l[4]?l[4]:l[2]),platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":(a.match(/(?:webos|android)/)||s.match(/mac|win|linux/)||["other"])[0]}},r[r.name]=!0,r[r.name+parseInt(r.version,10)]=!0,r.platform[r.platform.name]=!0,e.exports=r}),t.define("events",function(e,t,n,r){i.EventEmitter||(i.EventEmitter=function(){});var o=t.EventEmitter=i.EventEmitter,s="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=10;o.prototype.setMaxListeners=function(e){this._events||(this._events={}),this._events.maxListeners=e},o.prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||s(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"!=typeof t){if(s(t)){for(var i=Array.prototype.slice.call(arguments,1),n=t.slice(),r=0,o=n.length;r<o;r++)n[r].apply(this,i);return!0}return!1}switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var i=Array.prototype.slice.call(arguments,1);t.apply(this,i)}return!0},o.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",e,t),this._events[e])if(s(this._events[e])){if(!this._events[e].warned){var i;i=void 0!==this._events.maxListeners?this._events.maxListeners:a,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),console.trace())}this._events[e].push(t)}else this._events[e]=[this._events[e],t];else this._events[e]=t;return this},o.prototype.on=o.prototype.addListener,o.prototype.once=function(e,t){var i=this;return i.on(e,function n(){i.removeListener(e,n),t.apply(this,arguments)}),this},o.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var i=this._events[e];if(s(i)){var n=i.indexOf(t);if(n<0)return this;i.splice(n,1),0==i.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},o.prototype.removeAllListeners=function(e){return e&&this._events&&this._events[e]&&(this._events[e]=null),this},o.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),s(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}),e.GIF=t("/gif.coffee")}).call(this,this)},555:function(e,t){"use strict";var i=(window.URL||window.webkitURL||window.mozURL||window.msURL||{}).createObjectURL;i&&(e.exports=i(new Blob(["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function(b){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c},a.define('/gif.worker.coffee',function(d,e,f,g){var b,c;b=a('/GIFEncoder.js',d),c=function(a){var c,e,d,f;return c=new b(a.width,a.height),a.index===0?c.writeHeader():c.firstFrame=!1,c.setTransparent(a.transparent),c.setRepeat(a.repeat),c.setDelay(a.delay),c.setQuality(a.quality),c.addFrame(a.data),a.last&&c.finish(),d=c.stream(),a.data=d.pages,a.cursor=d.cursor,a.pageSize=d.constructor.pageSize,a.canTransfer?(f=function(c){for(var b=0,d=a.data.length;b<d;++b)e=a.data[b],c.push(e.buffer);return c}.call(this,[]),self.postMessage(a,f)):self.postMessage(a)},self.onmessage=function(a){return c(a.data)}}),a.define('/GIFEncoder.js',function(e,h,i,j){function c(){this.page=-1,this.pages=[],this.newPage()}function b(a,b){this.width=~~a,this.height=~~b,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.out=new c}var f=a('/TypedNeuQuant.js',e),g=a('/LZWEncoder.js',e);c.pageSize=4096,c.charMap={};for(var d=0;d<256;d++)c.charMap[d]=String.fromCharCode(d);c.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(c.pageSize),this.cursor=0},c.prototype.getData=function(){var d='';for(var a=0;a<this.pages.length;a++)for(var b=0;b<c.pageSize;b++)d+=c.charMap[this.pages[a][b]];return d},c.prototype.writeByte=function(a){this.cursor>=c.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=a},c.prototype.writeUTFBytes=function(b){for(var c=b.length,a=0;a<c;a++)this.writeByte(b.charCodeAt(a))},c.prototype.writeBytes=function(b,d,e){for(var c=e||b.length,a=d||0;a<c;a++)this.writeByte(b[a])},b.prototype.setDelay=function(a){this.delay=Math.round(a/10)},b.prototype.setFrameRate=function(a){this.delay=Math.round(100/a)},b.prototype.setDispose=function(a){a>=0&&(this.dispose=a)},b.prototype.setRepeat=function(a){this.repeat=a},b.prototype.setTransparent=function(a){this.transparent=a},b.prototype.addFrame=function(a){this.image=a,this.getImagePixels(),this.analyzePixels(),this.firstFrame&&(this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.writePalette(),this.writePixels(),this.firstFrame=!1},b.prototype.finish=function(){this.out.writeByte(59)},b.prototype.setQuality=function(a){a<1&&(a=1),this.sample=a},b.prototype.writeHeader=function(){this.out.writeUTFBytes('GIF89a')},b.prototype.analyzePixels=function(){var g=this.pixels.length,d=g/3;this.indexedPixels=new Uint8Array(d);var a=new f(this.pixels,this.sample);a.buildColormap(),this.colorTab=a.getColormap();var b=0;for(var c=0;c<d;c++){var e=a.lookupRGB(this.pixels[b++]&255,this.pixels[b++]&255,this.pixels[b++]&255);this.usedEntry[e]=!0,this.indexedPixels[c]=e}this.pixels=null,this.colorDepth=8,this.palSize=7,this.transparent!==null&&(this.transIndex=this.findClosest(this.transparent))},b.prototype.findClosest=function(e){if(this.colorTab===null)return-1;var k=(e&16711680)>>16,l=(e&65280)>>8,m=e&255,c=0,d=16777216,j=this.colorTab.length;for(var a=0;a<j;){var f=k-(this.colorTab[a++]&255),g=l-(this.colorTab[a++]&255),h=m-(this.colorTab[a]&255),i=f*f+g*g+h*h,b=parseInt(a/3);this.usedEntry[b]&&i<d&&(d=i,c=b),a++}return c},b.prototype.getImagePixels=function(){var a=this.width,g=this.height;this.pixels=new Uint8Array(a*g*3);var b=this.image,c=0;for(var d=0;d<g;d++)for(var e=0;e<a;e++){var f=d*a*4+e*4;this.pixels[c++]=b[f],this.pixels[c++]=b[f+1],this.pixels[c++]=b[f+2]}},b.prototype.writeGraphicCtrlExt=function(){this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4);var b,a;this.transparent===null?(b=0,a=0):(b=1,a=2),this.dispose>=0&&(a=dispose&7),a<<=2,this.out.writeByte(0|a|0|b),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},b.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},b.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},b.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes('NETSCAPE2.0'),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},b.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);var b=768-this.colorTab.length;for(var a=0;a<b;a++)this.out.writeByte(0)},b.prototype.writeShort=function(a){this.out.writeByte(a&255),this.out.writeByte(a>>8&255)},b.prototype.writePixels=function(){var a=new g(this.width,this.height,this.indexedPixels,this.colorDepth);a.encode(this.out)},b.prototype.stream=function(){return this.out},e.exports=b}),a.define('/LZWEncoder.js',function(e,g,h,i){function f(y,D,C,B){function w(a,b){r[f++]=a,f>=254&&t(b)}function x(b){u(a),k=i+2,j=!0,l(i,b)}function u(b){for(var a=0;a<b;++a)h[a]=-1}function A(z,r){var g,t,d,e,y,w,s;for(q=z,j=!1,n_bits=q,m=p(n_bits),i=1<<z-1,o=i+1,k=i+2,f=0,e=v(),s=0,g=a;g<65536;g*=2)++s;s=8-s,w=a,u(w),l(i,r);a:while((t=v())!=c){if(g=(t<<b)+e,d=t<<s^e,h[d]===g){e=n[d];continue}if(h[d]>=0){y=w-d,d===0&&(y=1);do if((d-=y)<0&&(d+=w),h[d]===g){e=n[d];continue a}while(h[d]>=0)}l(e,r),e=t,k<1<<b?(n[d]=k++,h[d]=g):x(r)}l(e,r),l(o,r)}function z(a){a.writeByte(s),remaining=y*D,curPixel=0,A(s+1,a),a.writeByte(0)}function t(a){f>0&&(a.writeByte(f),a.writeBytes(r,0,f),f=0)}function p(a){return(1<<a)-1}function v(){if(remaining===0)return c;--remaining;var a=C[curPixel++];return a&255}function l(a,c){g&=d[e],e>0?g|=a<<e:g=a,e+=n_bits;while(e>=8)w(g&255,c),g>>=8,e-=8;if((k>m||j)&&(j?(m=p(n_bits=q),j=!1):(++n_bits,n_bits==b?m=1<<b:m=p(n_bits))),a==o){while(e>0)w(g&255,c),g>>=8,e-=8;t(c)}}var s=Math.max(2,B),r=new Uint8Array(256),h=new Int32Array(a),n=new Int32Array(a),g,e=0,f,k=0,m,j=!1,q,i,o;this.encode=z}var c=-1,b=12,a=5003,d=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];e.exports=f}),a.define('/TypedNeuQuant.js',function(A,F,E,D){function C(A,B){function I(){o=[],q=new Int32Array(256),t=new Int32Array(a),y=new Int32Array(a),z=new Int32Array(a>>3);var c,d;for(c=0;c<a;c++)d=(c<<b+8)/a,o[c]=new Float64Array([d,d,d,0]),y[c]=e/a,t[c]=0}function J(){for(var c=0;c<a;c++)o[c][0]>>=b,o[c][1]>>=b,o[c][2]>>=b,o[c][3]=c}function K(b,a,c,e,f){o[a][0]-=b*(o[a][0]-c)/d,o[a][1]-=b*(o[a][1]-e)/d,o[a][2]-=b*(o[a][2]-f)/d}function L(j,e,n,l,k){var h=Math.abs(e-j),i=Math.min(e+j,a),g=e+1,f=e-1,m=1,b,d;while(g<i||f>h)d=z[m++],g<i&&(b=o[g++],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c),f>h&&(b=o[f--],b[0]-=d*(b[0]-n)/c,b[1]-=d*(b[1]-l)/c,b[2]-=d*(b[2]-k)/c)}function C(p,s,q){var h=2147483647,k=h,d=-1,m=d,c,j,e,n,l;for(c=0;c<a;c++)j=o[c],e=Math.abs(j[0]-p)+Math.abs(j[1]-s)+Math.abs(j[2]-q),e<h&&(h=e,d=c),n=e-(t[c]>>i-b),n<k&&(k=n,m=c),l=y[c]>>g,y[c]-=l,t[c]+=l<<f;return y[d]+=x,t[d]-=r,m}function D(){var d,b,e,c,h,g,f=0,i=0;for(d=0;d<a;d++){for(e=o[d],h=d,g=e[1],b=d+1;b<a;b++)c=o[b],c[1]<g&&(h=b,g=c[1]);if(c=o[h],d!=h&&(b=c[0],c[0]=e[0],e[0]=b,b=c[1],c[1]=e[1],e[1]=b,b=c[2],c[2]=e[2],e[2]=b,b=c[3],c[3]=e[3],e[3]=b),g!=f){for(q[f]=i+d>>1,b=f+1;b<g;b++)q[b]=d;f=g,i=d}}for(q[f]=i+n>>1,b=f+1;b<256;b++)q[b]=n}function E(j,i,k){var b,d,c,e=1e3,h=-1,f=q[i],g=f-1;while(f<a||g>=0)f<a&&(d=o[f],c=d[1]-i,c>=e?f=a:(f++,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3])))),g>=0&&(d=o[g],c=i-d[1],c>=e?g=-1:(g--,c<0&&(c=-c),b=d[0]-j,b<0&&(b=-b),c+=b,c<e&&(b=d[2]-k,b<0&&(b=-b),c+=b,c<e&&(e=c,h=d[3]))));return h}function F(){var c,f=A.length,D=30+(B-1)/3,y=f/(3*B),q=~~(y/w),n=d,o=u,a=o>>h;for(a<=1&&(a=0),c=0;c<a;c++)z[c]=n*((a*a-c*c)*m/(a*a));var i;f<s?(B=1,i=3):f%l!==0?i=3*l:f%k!==0?i=3*k:f%p!==0?i=3*p:i=3*j;var r,t,x,e,g=0;c=0;while(c<y)if(r=(A[g]&255)<<b,t=(A[g+1]&255)<<b,x=(A[g+2]&255)<<b,e=C(r,t,x),K(n,e,r,t,x),a!==0&&L(a,e,r,t,x),g+=i,g>=f&&(g-=f),c++,q===0&&(q=1),c%q===0)for(n-=n/D,o-=o/v,a=o>>h,a<=1&&(a=0),e=0;e<a;e++)z[e]=n*((a*a-e*e)*m/(a*a))}function G(){I(),F(),J(),D()}function H(){var b=[],g=[];for(var c=0;c<a;c++)g[o[c][3]]=c;var d=0;for(var e=0;e<a;e++){var f=g[e];b[d++]=o[f][0],b[d++]=o[f][1],b[d++]=o[f][2]}return b}var o,q,t,y,z;this.buildColormap=G,this.getColormap=H,this.lookupRGB=E}var w=100,a=256,n=a-1,b=4,i=16,e=1<<i,f=10,B=1<<f,g=10,x=e>>g,r=e<<f-g,z=a>>3,h=6,t=1<<h,u=z*t,v=30,o=10,d=1<<o,q=8,m=1<<q,y=o+q,c=1<<y,l=499,k=491,p=487,j=503,s=3*j;A.exports=C}),a('/gif.worker.coffee')}.call(this,this))\n//# sourceMappingURL=gif.worker.js.map\n// gif.worker.js 0.1.6 - https://github.com/jnordberg/gif.js\n\n},{}]},{},[1])"],{type:"text/javascript"})))},556:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div data-js-sizer class="webcam--sizer" style="padding-top:'+__e(ratio)+'"><div class="webcam--container"><div data-js-videostreamcontainer class="webcam--container-layer"><div data-subview="videoStream"></div></div><div data-js-watermarkcontainer class="webcam-watermark '+__e(loading?"webcam-watermark--hidden":"")+'"></div><div data-js-previewcontainer class="webcam--container-layer" style="display:'+__e(showPreviewContainer?"block":"none")+'"><canvas data-js-canvas width="'+__e(retina?2*width:width)+'" height="'+__e(retina?2*height:height)+'" class="webcam--canvas"></canvas></div><div data-js-controlcontainer class="webcam--container-layer"><div data-subview="webcamControls"></div></div></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},557:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(235).animate,s=i(219),a=i(558),l=i(213),c=i(130),u=i(230),h=i(276),d=i(277),p=i(559),g=i(331),m=s.extend({className:"video-stream",template:p,mixins:[u,h,d],defaultOptions:{video:!0,audio:!1},defaults:{width:500,height:375,retina:!0,mirrored:!0,needsPermission:!0,running:!1},initialize:function(e){this.options=e=n.extend({},this.defaultOptions,e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults)))},_onChangeRetina:function(e,t){t?this.$video.attr({width:2*this.get("width"),height:2*this.get("height")}):this.$video.attr({width:this.get("width"),height:this.get("height")})},_onChangeMirrored:function(e,t){this.$el.toggleClass("mirrored",t)},_onChangeRunning:function(e,t){this.loader&&this.loader.set("animate",!t),o(this.js$("noVideo"),"stop"),o(this.js$("noVideo"),{opacity:t?0:1},{display:t?"none":"block",delay:t?50:0,duration:100})},startStream:function(){if(!a)throw new Error("VideoStream: Cannot initialize without getUserMedia support");return a(n.pick(this.options,["audio","video"]),n.bind(this._onStreamReady,this),n.bind(this._onStreamError,this))},stopStream:function(){this.set("running",!1),this.stream&&(this.stream.getVideoTracks()[0].stop(),this.stream=null)},_onStreamReady:function(e){this.set("needsPermission",!1),this.stream=e,this._playVideoSteam()},_onStreamError:function(e){this.stopStream(),this.trigger("error",e),"PermissionDeniedError"!==e.name&&"DevicesNotFoundError"!==e.name||l.alert({text:c("We need permission to use your camera. Just go to your browser preferences, enable camera access, then refresh this page."),text_ok:c("Okey doke")})},_playVideoSteam:function(){this.video&&this.stream&&(this.video.srcObject=this.stream,this.$video.one("loadeddata",n.bind(function(e){this.set("running",!0)},this)),this.video.play())},remove:function(){r(this.video).remove(),s.prototype.apply(this,arguments)},teardown:function(){return this.stopStream(),this.stopListening(),this},beforeRender:function(){this.loader=this.subViews.loader=new g({variation:"centered",loading:!this.get("running")}),this.listenTo(this,"change:retina",this._onChangeRetina),this.listenTo(this,"change:mirrored",this._onChangeMirrored),this.listenTo(this,"change:running",this._onChangeRunning)},render:function(){return this._onChangeMirrored(this,this.get("mirrored")),this.$el.html(this.template(this.toJSON())),this.attachSubViews(),this.$video=this.$(".video-stream--video"),this.video=this.$video.get(0),this._playVideoSteam(),this}});e.exports=m},558:function(e,t,i){"use strict";var n=i(3),r=i(8).browser,o=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;r.mozilla&&Math.floor(r.version)>=20&&(o=navigator.mozGetUserMedia),o&&(o=n.bind(o,navigator)),e.exports=o},559:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<video class="video-stream--video" width="'+__e(retina?2*width:width)+'" height="'+__e(retina?2*height:height)+'"></video><div data-js-novideo class="video-stream--no-video"><div data-subview="loader"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},560:function(e,t,i){"use strict";var n=i(3),r=i(235).hook,o=i(235).animate,s=i(219),a=i(230),l=i(276),c=i(277),u=i(561),h=i(422),d=i(563),p=s.extend({className:"webcam-controls",template:d,events:{mouseenter:"_onHoverControls",mouseleave:"_onHoverControls","click [data-js-flashButton]":"_onClickFlashButton","click [data-js-snapButton]":"_onClickSnapButton","click [data-js-gifButton]":"_onClickGifButton","click [data-js-retakeButton]":"_onClickRetakeButton"},mixins:[a,l,c],defaults:{isActive:!1,flash:!0,mirrored:!0,defaultTimer:3e3,timePerFrame:1e3,gifFrameCount:4,enableFlash:!0,enableGifMode:!0,enableRemove:!0},initialize:function(e){this.options=e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults)))},_onHoverControls:function(e){clearTimeout(this._removeIsActive);var t="mouseover"===e.type||"mouseenter"===e.type;t?this.set("isActive",!0):this._removeIsActive=n.delay(n.bind(function(){this.set("isActive",!1)},this),500)},_onClickFlashButton:function(){this.trigger("webcam","toggleFlash",!this.get("flash"))},_onClickSnapButton:function(e){var t=!e.altKey;this.countdownTimer.stop(),this.listenToOnce(this,"webcam:snapped",function(){this.showSnapButtonGroup("retakeButton")});var i=this.get("defaultTimer");t?(this.showSnapButtonGroup("countdownTimer",0),this.countdownTimer.start(i,1).then(n.bind(function(){this.trigger("webcam","snap")},this))):this.trigger("webcam","snap")},_onClickGifButton:function(e){this.countdownTimer.stop(),this.trigger("webcam","gifStart"),this.listenTo(this.countdownTimer,"countdown:tick",function(e,t){this.trigger("webcam","gifSnap",e+1>=t),e+1<t&&this.pulseButton()});var t=this.get("gifFrameCount"),i=this.get("timePerFrame");this.showSnapButtonGroup("countdownTimer",0),this.countdownTimer.start(t*i,t).then(n.bind(function(){this.stopListening(this.countdownTimer,"countdown:tick"),this.showSnapButtonGroup("processing")},this))},_onClickRetakeButton:function(e){this.showSnapButtonGroup("snapButton"),this.trigger("webcam","retake")},pulseButton:function(){var e=1.5;r(this.js$("primaryButton"),"translateX","-50%"),r(this.js$("primaryButton"),"scale",e),o(this.js$("primaryButton"),"stop"),o(this.js$("primaryButton"),{scale:[1,e]},{duration:200})},showSnapButtonGroup:function(e,t){n.isNumber(t)||(t=100);var i=this.js$("snapButtonGroup").filter('[data-js-snapButtonGroup="'+e+'"]');if(!n.isEmpty(i)){var r=this.js$("snapButtonGroup").not(i);o(i,"stop"),o(r,"stop"),o(this.js$("primaryButton"),"stop"),o(i,{opacity:1},{display:"block",duration:t}),o(r,{opacity:0},{display:"none",duration:t}),this.js$("primaryButton").toggleClass("invert","processing"===e);var s=60;"snapButton"===e&&this.get("enableGifMode")&&(s=150),o(this.js$("primaryButton"),{width:s},{display:"block",duration:t})}},serialize:function(){return this.toJSON()},teardown:function(){return this},beforeRender:function(){this.countdownTimer=this.subViews.countdownTimer=new u,this.listenTo(this,"change:flash",function(e,t){this.js$("flashButton").toggleClass("active",t)}),this.removeButton=this.subViews.removeButton=new h({buttonClass:"active",onClick:n.bind(function(){this.trigger("webcam","close")},this)}),this.listenTo(this,"change:isActive",function(e,t){this.js$("overlayButtons").toggleClass("active",t)})},render:function(){return this.$el.html(this.template(this.serialize())),this.attachSubViews(),this.showSnapButtonGroup("snapButton",0),this}});e.exports=p},561:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(192),s=i(235).hook,a=i(235).animate,l=i(219),c=i(230),u=i(276),h=i(277),d=i(562),p=l.extend({className:"countdown-timer",template:d,mixins:[c,u,h],defaults:{duration:3e3,ticks:1},initialize:function(e){this.options=e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults)))},start:function(e,t){n.isNumber(e)||(e=this.get("duration")),n.isNumber(t)||(t=this.get("ticks")),this.set({duration:e,ticks:t}),this._generateTickMarks(t),this.stop(),this.trigger("countdown:start"),this.js$("inner").removeClass("half-past"),this._halfPastTimeout=n.delay(n.bind(function(){this.js$("inner").addClass("half-past")},this),Math.floor(e/2));var i=0;return o.join(o.promise(n.bind(function(r,o){clearInterval(this._tickerInterval),this._tickerInterval=setInterval(n.bind(function(){this.trigger("countdown:tick",i++,t),i>=t&&(clearInterval(this._tickerInterval),r())},this),e/t)},this)),a(this.js$("rotator"),{rotateZ:["360deg","0deg"]},{easing:"linear",duration:e})).then(n.bind(function(){this.trigger("countdown:complete")},this))},stop:function(){clearTimeout(this._halfPastTimeout),clearInterval(this._tickerInterval),a(this.js$("rotator"),"stop")},teardown:function(){return clearTimeout(this._halfPastTimeout),clearInterval(this._tickerInterval),
this.stopListening(),this},remove:function(){return this.teardown(),l.prototype.remove.apply(this,arguments)},_generateTickMarks:function(e){n.isNumber(e)||(e=this.get("ticks")),this.js$("ticks").empty(),e>1&&n.forEach(n.range(e),function(t){var i=r('<div class="countdown-timer--tick"></div>');s(i,"rotateZ",360*t/e+"deg"),s(i,"translateY","-50%"),this.js$("ticks").append(i)},this)},serialize:function(){return this.toJSON()},render:function(){return this.$el.html(this.template(this.serialize())),this._generateTickMarks(),this.attachSubViews(),this}});e.exports=p},562:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div data-js-inner class="countdown-timer--inner"><div data-js-ticks class="countdown-timer--ticks"></div><div data-js-inner class="countdown-timer--fill"><div class="mask-static-half"><div class="fill"></div></div><div class="mask-rotating-half"><div data-js-rotator class="fill"></div></div></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},563:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div data-js-overlaybuttons class="media-overlay"> ',enableFlash&&(__p+=' <div data-js-flashbutton class="button webcam--flash-button '+__e(flash?"active":"")+'"><div class="icon"></div></div> '),__p+=" ",enableRemove&&(__p+=' <div data-subview="removeButton"></div> '),__p+=' </div><div data-js-primarybutton class="big-button webcam--primary-button"><div data-js-snapbuttongroup="countdownTimer" class="big-button-group"><div data-subview="countdownTimer"></div></div><div data-js-snapbuttongroup="snapButton" class="big-button-group"><div data-js-snapbutton class="button webcam--snap-button"><div class="icon"></div></div> ',enableGifMode&&(__p+=' <div data-js-gifbutton class="button webcam--gif-button"><div class="icon"></div></div> '),__p+=' </div><div data-js-snapbuttongroup="processing" class="big-button-group"><div data-js-processingbutton class="button webcam--processing-button"><div class="icon"></div></div></div><div data-js-snapbuttongroup="retakeButton" class="big-button-group"><div data-js-retakebutton class="button webcam--retake-button"><div class="icon"></div></div></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},564:function(e,t,i){"use strict";var n=i(3),r=i(180),o=i(543),s=i(422),a=o.prototype.template,l=i(565),c=o.extend({className:"photoset--photo media-container",events:n.extend({mouseenter:"_onHoverMediaContainer",mouseleave:"_onHoverMediaContainer","click [data-js-clickthroughUrlButton]":"_onClickClickthroughUrlButton","click [data-js-captionButton]":"_onClickCaptionButton"},o.prototype.events),defaults:n.extend({enableClickthroughUrl:!1,hasClickthroughUrl:!1,enableCaption:!1,hasCaption:!1,isActive:!1},o.prototype.defaults),template:function(e){return a(e)+l(e)},_onHoverMediaContainer:function(e){clearTimeout(this._removeButtonActive);var t="mouseover"===e.type||"mouseenter"===e.type;t?(this.set("isActive",!0),this.trigger("photoset:hover",this,this.photo)):this._removeButtonActive=n.delay(n.bind(function(){this.set("isActive",!1)},this),500)},_onClickClickthroughUrlButton:function(e){this.photo.trigger("photo:editClickthroughUrl",this.photo,e.currentTarget)},_onClickCaptionButton:function(e){this.photo.trigger("photo:editCaption",this.photo,e.currentTarget)},_updateOverlayButtons:function(){this.js$("clickthroughUrlButton").css("display",this.get("enableClickthroughUrl")?"block":"none"),this.js$("captionButton").css("display",this.get("enableCaption")?"block":"none"),this.js$("clickthroughUrlButton").toggleClass("active",this.get("hasClickthroughUrl")),this.js$("captionButton").toggleClass("active",this.get("hasCaption"))},addStateListeners:function(){this.listenTo(this,"change:isActive",function(e,t){this.js$("removeButton").toggleClass("active",t),this.js$("mediaOverlay").toggleClass("active",t)}),this.listenTo(this,"photoset:unhover",function(e,t){this.set("isActive",!1)}),this.listenTo(this,"change:enableClickthroughUrl change:enableCaption",this._updateOverlayButtons),this.listenTo(this,"change:hasClickthroughUrl change:hasCaption",this._updateOverlayButtons),this.listenTo(this.photos,"add remove",function(){this.photos.length>1?this.js$("sortable").attr("draggable",!0):this.js$("sortable").removeAttr("draggable")}),this.post&&(this.listenTo(this.post,"change:linkthrough",function(e,t){this.set("hasClickthroughUrl",!!t)}),this.listenTo(this.post,"change:carouselDisplay",function(e,t){this.setOverlayButtonValues()})),this.listenTo(this.photo,"change:caption",function(e,t){this.set("hasCaption",!!t)})},beforeRender:function(){this.setOverlayButtonValues(),this.removeButton=this.subViews.removeButton=new s({onClick:n.bind(function(){this.photoset.removePhoto(this.photo.id)},this),buttonClass:"top-right"}),this.addStateListeners()},setOverlayButtonValues:function(){var e=this.photos.length>1,t=!r.bool("has_prem_part"),i=e&&!t&&this.post.get("carouselDisplay");this.set("enableClickthroughUrl",!e||i),this.set("enableCaption",e&&!this.get("enableClickthroughUrl")),this.set("hasClickthroughUrl",!!this.post&&!!this.post.get("linkthrough")),this.set("hasCaption",!!this.photo.get("caption"))},afterRender:function(){o.prototype.afterRender.apply(this,arguments),this.photos.length>1&&this.js$("sortable").attr("draggable",!0),this._updateOverlayButtons()}});e.exports=c},565:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div data-js-sortable class="photoset--photo-dragger"></div><div data-js-mediaoverlay class="media-overlay"><div data-js-clickthroughurlbutton class="overlay-button '+__e(hasClickthroughUrl?"active":"")+'"><div class="icon icon_editor_link"></div></div><div data-js-captionbutton class="overlay-button '+__e(hasCaption?"active":"")+'"><div class="icon icon_editor_more"></div></div></div><div data-subview="removeButton"></div>';return __p}.toString()).apply(void 0,_values(_imports))},566:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(192),s=i(235).animate,a=i(241),l=i(130),c=i(219),u=i(277),h=i(230),d=i(276),p=i(283),g=i(567),m=c.extend({className:"overlay-input-popover",mixins:[u,h,d,p],template:g,events:{"keydown [data-js-input]":"_onKeyDown","input [data-js-input]":"_onInput","keyup [data-js-input]":"_onInput","change [data-js-input]":"_onInput","click [data-js-confirm]":"_onClickConfirm"},defaultOptions:{updateValueOnInput:!1,updateValueOnClose:!0,updateShift:!0},defaults:{value:"",placeholder:"",ariaLabel:"",maxLength:2048,confirmText:l("Done")},initialize:function(e){this.options=e=n.extend({},this.defaultOptions,e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),this.$pinnedContainer=r(e.pinnedTargetContainer)},_onKeyDown:function(e){switch(e.which||e.keyCode){case 13:this._onClickConfirm();break;case 27:e.stopPropagation(),this.teardown()}},_onInput:function(){this.options.updateValueOnInput&&this._updateValueFromInput()},_onClickConfirm:function(){this._updateValueFromInput(),this.teardown()},_updateValueFromInput:function(){var e=this.js$("input").val();this.set("value",e)},openAnimation:function(e){n.isNumber(e)||(e=a(100)),this._startWidth=this.$pinned.outerWidth(),this.js$("popover").width(this._startWidth);var t=this.$pinned.position().left;return n.isEmpty(this.$pinnedContainer)?this._offsetLeft=0:this._offsetLeft=this.$pinnedContainer.offset().left-this.$pinned.offset().left+t||0,this.options.updateShift&&this.setShift(n.defaults({x:this._offsetLeft},this.getShift())),o.all([s(this.$pinned,{opacity:0},{display:"none",duration:e}),s(this.js$("confirm"),{opacity:1},{duration:e}),s(this.js$("popover"),{marginLeft:this._offsetLeft,width:this._targetWidth},{duration:e})])},pinnedRect:function(){var e=this.$pinned.css("display");this.$pinned.css("display","block");var t=p.properties.defaults.pinnedRect.apply(this,arguments);return this.$pinned.css("display",e),t},closeAnimation:function(e){return n.isNumber(e)||(e=a(100)),o.all([s(this.$pinned,{opacity:1},{display:"block",duration:e}),s(this.js$("confirm"),{opacity:0},{duration:e}),s(this.js$("popover"),{marginLeft:0,width:this._startWidth},{duration:e})])},serialize:function(){return this.toJSON()},render:function(){return this.$el.html(this.template(this.serialize())),n.isEmpty(this.$pinnedContainer)?this._targetWidth=520:this._targetWidth=this.$pinnedContainer.outerWidth()-20,this.setPinnedSide(!1),n.defer(n.bind(function(){this.openAnimation().then(n.bind(function(){this.js$("input").focus()},this))},this)),this},teardown:function(){return this.options.updateValueOnClose&&this._updateValueFromInput(),this.stopListening(),this.closeAnimation().then(n.bind(function(){this.remove()},this)),this}});e.exports=m},567:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="overlay-button-popover" data-js-popover><input data-js-input type="text" value="'+__e(value)+'" placeholder="'+__e(placeholder)+'" aria-label="'+__e(ariaLabel)+'" maxlength="'+__e(maxLength)+'" class="input-field"><div data-js-confirm class="input-confirm">'+__e(confirmText)+"</div></div>";return __p}.toString()).apply(void 0,_values(_imports))},568:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(192),s=i(235).animate,a=i(241),l=i(130),c=i(219),u=i(277),h=i(230),d=i(276),p=i(283),g=i(569),m=c.extend({className:"overlay-input-popover",mixins:[u,h,d,p],template:g,events:{"keydown [data-js-input]":"_onKeyDown","input [data-js-input]":"_onInput","keyup [data-js-input]":"_onInput","change [data-js-input]":"_onInput","click [data-js-confirm]":"_onClickConfirm"},defaultOptions:{updateValueOnInput:!1,updateValueOnClose:!0,updateShift:!0},defaults:{photo:null,primaryValue:"",iosValue:"",androidValue:"",maxLength:2048,confirmText:l("Done")},initialize:function(e){this.options=e=n.extend({},this.defaultOptions,e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),this.photo=this.options.photo,this.post=this.options.post,this.photo.get("primaryUrl")&&this.set("primaryValue",this.photo.get("primaryUrl")),this.photo.get("iosUrl")&&this.set("iosValue",this.photo.get("iosUrl")),this.photo.get("androidUrl")&&this.set("androidValue",this.photo.get("androidUrl")),this.$pinnedContainer=r(e.pinnedTargetContainer)},_onKeyDown:function(e){switch(e.which||e.keyCode){case 13:this._onClickConfirm();break;case 27:e.stopPropagation(),this.teardown()}},_onInput:function(){this.options.updateValueOnInput&&this._updateValueFromInput()},_onClickConfirm:function(){this._updateValueFromInput(),this.teardown()},_updateValueFromInput:function(){this.set("primaryValue",this.js$("primary").val()),this.set("iosValue",this.js$("ios").val()),this.set("androidValue",this.js$("android").val())},openAnimation:function(e){n.isNumber(e)||(e=a(100)),this._startWidth=this.$pinned.outerWidth(),this.js$("popover").width(this._startWidth);var t=this.$pinned.position().left;return n.isEmpty(this.$pinnedContainer)?this._offsetLeft=0:this._offsetLeft=this.$pinnedContainer.offset().left-this.$pinned.offset().left+t||0,this.options.updateShift&&this.setShift(n.defaults({x:this._offsetLeft},this.getShift())),o.all([s(this.$pinned,{opacity:0},{display:"none",duration:e}),s(this.js$("confirm"),{opacity:1},{duration:e}),s(this.js$("popover"),{marginLeft:this._offsetLeft,width:this._targetWidth},{duration:e})])},pinnedRect:function(){var e=this.$pinned.css("display");this.$pinned.css("display","block");var t=p.properties.defaults.pinnedRect.apply(this,arguments);return this.$pinned.css("display",e),t},closeAnimation:function(e){return n.isNumber(e)||(e=a(100)),o.all([s(this.$pinned,{opacity:1},{display:"block",duration:e}),s(this.js$("confirm"),{opacity:0},{duration:e}),s(this.js$("popover"),{marginLeft:0,width:this._startWidth},{duration:e})])},serialize:function(){return this.toJSON()},render:function(){return this.$el.html(this.template(this.serialize())),n.isEmpty(this.$pinnedContainer)?this._targetWidth=520:this._targetWidth=this.$pinnedContainer.outerWidth()-20,this.setPinnedSide(!1),n.defer(n.bind(function(){this.openAnimation().then(n.bind(function(){this.js$("input").focus()},this))},this)),this},teardown:function(){this.options.updateValueOnClose&&this._updateValueFromInput(),this.photo.set("primaryUrl",this.get("primaryValue")),this.photo.set("iosUrl",this.get("iosValue")),this.photo.set("androidUrl",this.get("androidValue"));var e=this.post.photos.get(this.photo.id);return e&&(e.set("primaryUrl",this.photo.get("primaryUrl")),e.set("androidUrl",this.photo.get("androidUrl")),e.set("iosUrl",this.photo.get("iosUrl"))),this.stopListening(),this.closeAnimation().then(n.bind(function(){this.remove()},this)),this}});e.exports=m},569:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="overlay-button-popover carousel-overlay-button-popover" data-js-popover><input data-js-primary type="text" value="'+__e(primaryValue)+'" placeholder="'+__e(__("Primary URL"))+'" aria-label="'+__e(__("Primary URL"))+'" maxlength="'+__e(maxLength)+'" class="input-field"> <input data-js-ios type="text" value="'+__e(iosValue)+'" placeholder="'+__e(__("iOS URL"))+'" aria-label="'+__e(__("iOS URL"))+'" maxlength="'+__e(maxLength)+'" class="input-field"> <input data-js-android type="text" value="'+__e(androidValue)+'" placeholder="'+__e(__("Android URL"))+'" aria-label="'+__e(__("Android URL"))+'" maxlength="'+__e(maxLength)+'" class="input-field"><div data-js-confirm class="input-confirm">'+__e(confirmText)+"</div></div>";return __p}.toString()).apply(void 0,_values(_imports))},570:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="photobooth-container" data-js-photobooth></div><div class="photoset-container" data-js-photoset></div>';return __p}.toString()).apply(void 0,_values(_imports))},571:function(e,t,i){"use strict";var n=i(3),r=i(572),o=i(574),s=i(558),a=r.extend({defaults:n.extend({enableSelfie:s},r.prototype.defaults),events:n.extend({"click [data-js-webcamButton]":"_onClickWebcamButton"},r.prototype.events),_onClickWebcamButton:function(){this.trigger("webcam:show")},afterRender:function(){if(r.prototype.afterRender.apply(this,arguments),this.get("enableSelfie")){var e=this.subViews.webcamButton=new o;e.render().$el.appendTo(this.js$("mediaUpload").children(".split-cell-inner")),this.listenTo(this,"change:enableSelfie",function(t,i){i||(e.teardown().remove(),this.subViews.webcamButton=null,this.stopListening(this,"change:enableSelfie"))})}}});e.exports=a},572:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=(i(132),i(523)),a=i(292),l=i(422),c=i(505),u=i(230),h=i(276),d=i(277),p=i(573),g=r(document),m=o.extend({className:"media-dropzone-container media-container",template:p,mixins:[u,h,d],defaults:{droppable:!1,showInput:!1,toggleDropzone:!1,dropzoneText:"",enableUpload:!0,enableUrl:!0,uploadIcon:"",uploadText:"",uploadTooltip:"",urlIcon:!1,urlText:"",urlTooltip:"",url:"",urlPlaceholder:"http://",urlAriaLabel:"http://"},defaultOptions:{uploadOptions:{},modelKey:!1,urlParser:!1,documentDrag:!0,parseOnUpload:!1,parseOnInput:!1,parseOnEnter:!0,parseOnPaste:!0,inputDebounceTime:250},events:{mouseenter:"_onHoverMediaContainer",mouseleave:"_onHoverMediaContainer","click [data-show-tooltip]":"_onClickShowTooltip","click [data-js-mediaUrl]":"_focusUrlInput"},initialize:function(e){this.options=e=n.extend({},this.defaultOptions,e),n.isString(e.dropzoneFineprint)&&(e.dropzoneFineprint=[e.dropzoneFineprint]),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),n.defaults(this.attributes,{defaultBehavior:this.get("enableUpload")?"upload":"url",dropzoneBehavior:this.get("enableUpload")?"upload":"url",splitDropzone:this.get("enableUpload")&&this.get("enableUrl")}),this.upload=new s(e.uploadOptions),e.modelKey&&this.listenTo(this.upload,"change:url",this._onUploadUrlChange),this.listenTo(this.upload,"add",function(e){this.trigger("upload:start",e)}),this.listenTo(this.upload,"complete",function(e,t){this.trigger("upload:complete",t)}),this.listenTo(this.upload,"error",function(e,t){this.trigger("upload:error",t)}),this.listenTo(this.upload,"invalid",function(e,t){this.trigger("upload:invalid",t)}),this.listenTo(this.upload,"allComplete",function(e,t){this.trigger("uploads:allComplete",e)}),this.listenTo(this,"change:droppable",function(e,t){this.js$("dropzone").toggleClass("droppable",t)}),this.listenTo(this,"change:showInput",function(e,t){t?(this.js$("dropzone").addClass("show-input"),this._onUrlInputChange()):(this.js$("dropzone").removeClass("show-input"),this.js$("dropzone").height(""),this.get("defaultBehavior")!==this.get("dropzoneBehavior")&&this.set("dropzoneBehavior",this.get("defaultBehavior")))}),this.listenTo(this,"url:complete",this._onUrlComplete),this.listenTo(this,"url:error",this._onUrlError),this.listenTo(this,"change:toggleDropzone",function(e,t){t?(this.js$("dropzone").addClass("toggle-dropzone"),this.js$("mediaUploadText").text(this.get("dropzoneText")),this.js$("mediaUrlText").text(this.get("dropzoneText"))):(this.js$("dropzone").removeClass("toggle-dropzone"),this.js$("mediaUploadText").text(this.get("uploadText")),this.js$("mediaUrlText").text(this.get("urlText")))}),this.listenTo(this,"change:dropzoneBehavior",function(e,t){this.js$("dropzone").removeClass("toggle-dropzone-upload toggle-dropzone-url").addClass("toggle-dropzone-"+t)}),this.__updateUrlFromInput=n.debounce(this._updateUrlFromInput,this.options.inputDebounceTime),this.__onDragOver=n.bind(this._onDragOver,this),this.__onDragLeave=n.bind(this._onDragLeave,this)},urlParser:function(e,t){if(n.isFunction(this.options.urlParser))return this.options.urlParser(e,this,t)},addFiles:function(e){return this.upload.addFiles(e)},_addDragStartListener:function(e){r(document).on("dragover.dropzone dragenter.dropzone",this.__onDragOver)},_removeDragStartListener:function(e){r(document).off("dragover.dropzone dragenter.dropzone",this.__onDragOver)},_addDragEndListener:function(e){r(document).on("mouseout.dropzone",this.__onDragLeave)},_removeDragEndListener:function(e){r(document).off("mouseout.dropzone",this.__onDragLeave)},_onDragOver:function(e){this._dragging=!0,this.set("droppable",!0),this._removeDragStartListener(),this._addDragEndListener()},_onDragLeave:function(e){this._dragging=!1,this.set("droppable",!1),this._addDragStartListener(),this._removeDragEndListener()},_onClickShowTooltip:function(e){var t=this.$(e.currentTarget).data("showTooltip"),i=n.result(this,t);i&&i instanceof c&&!i.isOrWasRecentlyRendered()&&i.render()},_focusUrlInput:function(e){return!(!this.js$("removeButton").is(e.target)&&!this.js$("removeButton").find(e.target).length)||(this.set("showInput",!0),void(this.urlInput&&this.urlInput.focus()))},_onUploadUrlChange:function(e,t){this.model&&(this.model.set(this.options.modelKey,t),this.options.parseOnUpload&&this.urlParser(t,"upload"))},_updateUrlFromInput:function(){var e=this.urlInput?n.trim(this.urlInput.getEditorValue()||""):"";this.set("url",e)},_onUrlInputChange:function(){this.urlInput&&this.get("showInput")&&(this.js$("dropzone").height(this.urlInput.$el.height()),this.__updateUrlFromInput())},_onUrlInputClientEvent:function(e){if("keydown"===e.type)switch(e.which||e.keyCode){case 27:e.preventDefault(),e.stopImmediatePropagation(),this.set("showInput",!1),this.urlInput.setEditorValue(""),this.js$("dropzone").removeClass("has-error"),this.urlInput.blur();break;case 13:this.options.parseOnEnter&&!e.shiftKey?(e.preventDefault(),e.stopImmediatePropagation(),this._updateUrlFromInput(),this.urlParser(this.get("url"),"enter")):this.options.parseOnInput&&(this.urlParser(this.get("url")),this.listenToOnce(this,"change:url",function(e,t){this.urlParser(t,"input")}));break;default:this.js$("dropzone").removeClass("has-error"),this.options.parseOnInput&&(this.urlParser(this.get("url")),this.listenToOnce(this,"change:url",function(e,t){this.urlParser(t,"input")}))}},_onUrlInputPasteEvent:function(e,t){n.delay(n.bind(function(){this.options.parseOnPaste&&(this._updateUrlFromInput(),this.urlParser(this.get("url"),"paste"))},this),0)},_onUrlComplete:function(){this.js$("dropzone").removeClass("has-error")},_onUrlError:function(){this.js$("dropzone").addClass("has-error")},_onHoverMediaContainer:function(e){clearTimeout(this._removeButtonActive);var t="mouseover"===e.type||"mouseenter"===e.type;t?this.js$("removeButton").addClass("active"):this._removeButtonActive=n.delay(n.bind(function(){this.js$("removeButton").removeClass("active")},this),500)},serialize:function(){return n.mapValues(this.toJSON(),function(e,t){return n.isFunction(e)&&t.match(/^(upload|url)(Icon|Text|Tooltip)$/)?e():e},this)},beforeTeardown:function(){this.upload.getElement().detach(),delete this.subViews.upload,g.off("keydown.postForm.dropzone keyup.postForm.dropzone")},afterTeardown:function(){this.uploadTooltip&&this.uploadTooltip.remove(),this.urlTooltip&&this.urlTooltip.remove(),delete this.uploadTooltip,delete this.urlTooltip,delete this.urlInput,delete this.urlInput,delete this.removeButton,this._removeDragStartListener(),this._removeDragEndListener()},beforeRender:function(){if(this.subViews.upload=this.upload.indexView,this.get("enableUrl")){var e={placeholder:this.get("urlPlaceholder"),name:"url",ariaLabel:this.get("urlAriaLabel"),syncWithModel:!1,onChange:n.bind(this._onUrlInputChange,this),onClientEvent:n.bind(this._onUrlInputClientEvent,this),pasteHook:n.bind(this._onUrlInputPasteEvent,this)};n.defaults(e,n.pick(this.options,n.keys(e))),this.urlInput=this.subViews.urlInput=new a(e),this.removeButton=this.subViews.removeButton=new l({onClick:n.bind(function(){this.set("showInput",!1),this.urlInput.setEditorValue(""),this.js$("dropzone").removeClass("has-error")},this),buttonClass:"top-right"})}g.on("keydown.postForm.dropzone keyup.postForm.dropzone",n.bind(function(e){switch(e.which||e.keyCode){case 18:var t=this.get("defaultBehavior"),i="url"===t?"upload":"url";"keydown"===e.type?this.set("dropzoneBehavior",i):this.get("showInput")||this.set("dropzoneBehavior",t)}},this)),this.options.documentDrag&&this._addDragStartListener()},afterRender:function(){this.get("enableUrl")&&this.urlInput.setEditorValue(this.get("url")||""),this.get("enableUpload")&&this.get("uploadTooltip")&&(this.uploadTooltip=new c({className:"dropzone-tooltip-popover",sanitize:!1,text:n.result(this.attributes,"uploadTooltip")}),this.uploadTooltip.setPinnedTarget(this.js$("uploadTooltip"))),this.get("enableUrl")&&this.get("urlTooltip")&&(this.urlTooltip=new c({className:"dropzone-tooltip-popover",sanitize:!1,text:n.result(this.attributes,"urlTooltip")}),this.urlTooltip.setPinnedTarget(this.js$("urlTooltip"))),this.renderSubViews()},render:function(){return this.$el.html(this.template(this.serialize())),this.attachSubViews(),this}});e.exports=m},573:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var dropzoneClasses=[];showInput&&dropzoneClasses.push("show-input"),splitDropzone&&dropzoneClasses.push("split-dropzone"),toggleDropzone&&dropzoneClasses.push("toggle-dropzone"),defaultBehavior&&dropzoneClasses.push("toggle-dropzone-"+defaultBehavior),__p+=' <div class="media-dropzone '+__e(dropzoneClasses.join(" "))+'" data-js-dropzone><div class="split-cells"> ',enableUpload&&(__p+=' <div class="split-cell media-upload-button" data-js-mediaupload><div class="split-cell-inner"><div class="v-center-outer"><div class="v-center-inner"> ',uploadIcon&&(__p+=' <div class="dropzone-icon '+__e(uploadIcon)+'"></div> '),__p+=" ",uploadText&&(__p+=' <div class="dropzone-title"><span class="dropzone-text" data-js-mediauploadtext>'+__e(toggleDropzone?dropzoneText:uploadText)+"</span> ",uploadTooltip&&(__p+=' <div class="dropzone-tooltip" data-js-uploadtooltip><span class="icon icon_help" data-show-tooltip="uploadTooltip"></span></div> '),__p+=" </div> "),__p+=' </div></div></div><div class="media-upload"><div data-subview="upload"></div></div></div> '),__p+=" ",enableUrl&&(__p+=' <div class="split-cell media-url-button" data-js-mediaurl><div class="split-cell-inner"><div class="v-center-outer"><div class="v-center-inner"> ',urlIcon&&(__p+=' <div class="dropzone-icon '+__e(urlIcon)+'"></div> '),__p+=" ",urlText&&(__p+=' <div class="dropzone-title"><span class="dropzone-text" data-js-mediaurltext>'+__e(toggleDropzone?dropzoneText:urlText)+"</span> ",urlTooltip&&(__p+=' <div class="dropzone-tooltip" data-js-urltooltip><span class="icon icon_help" data-show-tooltip="urlTooltip"></span></div> '),__p+=" </div> "),__p+=' </div></div></div><div class="media-url-cropper media-dropzone-cropper"><div class="media-url"><div class="v-center-outer"><div class="v-center-inner"><div data-subview="urlInput"></div></div></div></div></div><div data-subview="removeButton"></div></div> '),__p+=" </div></div>"}return __p}.toString()).apply(void 0,_values(_imports))},574:function(e,t,i){"use strict";var n=i(3),r=i(235).animate,o=i(219),s=i(230),a=i(276),l=i(277),c=i(575),u=o.extend({className:"webcam-button-container",template:c,events:{mouseenter:"_onMouseEnter",mouseleave:"_onMouseLeave"},mixins:[s,a,l],wink:function(e){!n.isUndefined(e)||(e=!this.js$("smiley").hasClass("icon_postforms_selfie_wink")),this.js$("smiley").toggleClass("icon_postforms_selfie_wink",e),this.js$("smiley").toggleClass("icon_postforms_selfie",!e)},_onMouseEnter:function(){var e=100;r(this.js$("text"),"stop"),r(this.js$("text"),{opacity:1},{duration:e});var t=this.js$("smiley").outerWidth()+this.js$("text").outerWidth();r(this.$el,"stop"),r(this.$el,{marginLeft:-Math.round(.5*t),width:t},{duration:e}).then(n.bind(function(){this._winkTimeout=n.delay(n.bind(function(){this.wink(!0),this._winkTimeout=n.delay(n.bind(function(){this.wink(!1)},this),100)},this),400)},this))},_onMouseLeave:function(){var e=100;clearTimeout(this._winkTimeout),this.wink(!1),r(this.js$("text"),"stop"),r(this.js$("text"),{opacity:0},{duration:e});var t=this.js$("smiley").outerWidth();r(this.$el,"stop"),r(this.$el,{marginLeft:-Math.round(.5*t),width:t},{duration:e}).then(n.bind(function(){}))},render:function(){return this.$el.html(this.template()),this},teardown:function(){return clearTimeout(this._winkTimeout),this}});e.exports=u},575:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div data-js-webcambutton class="webcam-button"><span data-js-smiley class="icon icon_postforms_selfie"></span> <span data-js-text class="dropzone-text">'+__e(__("Take a selfie"))+"</span></div>";return __p}.toString()).apply(void 0,_values(_imports))},576:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="media-wrapper" data-js-media><div data-subview="mediaPreview"></div><div data-subview="mediaComposer"></div></div><div class="caption-wrapper" data-js-caption><div data-subview="reblogTree"></div><div data-subview="caption"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},577:function(e,t){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABDgAAAMqCAMAAABQdwGjAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURUxpcW7MlHHGl27Mlv/HACs/U/9pAC0/U//IAP/HAJBfz69Xr49ezy8/V/m0w49ez49fz49fz5Bgzo9ezvizwv9gACw+U5Bez3HKk/9qAJBfz/9pAJBezy0+VKDY52/MlJ3Z6JBfz49fz5Bez/izw5Bezviyw1ZSl/9qAP9oAPi0wo9fz49ez49ez5BfzpBez49ez5BezpBfz5Bezo9ez5Bez49ez/e0w49fz49ezy0/VS8/T/9pAJBez49ezoxe1JBezpBfzv9pAJBez5Beziw+VC0+U/mxwf9sAJBfz5Bez5Bez5Bez5Bfzi0/VP9pAI9e0P9pAI9ez49e0f9pAP9qAP9qAP9pAJBez5FczY9ez5Bezviywv9pAP9pAP9qAI9ez/9qAP9qAP9qAP9qAP9pAP9qAJFezv9pAJtzz49ez5Bezyo/VSw+U/9qAP9qAP9pAP9qAP9pAG7MlJBe0C4/VSw/Uv9pAP9pAP9qAP9qAP9mAJBezi0/VCo/VCw+VCw+U/9pAP9pAP9pAP9qAP9qAP9pAP9qAJBezv9qAPizwyw/Veu8y23Mlfmzw/m0wy0+U/9pAKHa6P/HAP/HAKHa6G7MlaHa6G3Mlf/HAKDa6Py1xPqzw/mzw//HAP/HAP/HAP/HAI7Vy//GAGnTlm3MlP/OAPqzxKHZ56Ha5/izw27MlKHa527Mlfizw/mzw6Ha6Cw/VP/GAP/HAP/GAP9qAKHa6G3OlKHb5KDZ6G7Llfmzwm3NlCw+VGzLlGzNkrJinojTwNvAz//GADmWx5Bfzy0/VP9qAP/HAG7Mlfmzw+eKJ6Ha6JhxqD6rfjBVcYplPs1RLTaAqjZ1aTNrjv///ziRwC5EW31IQTFaeGNYfzeGsTFcXy9KYjV1nDV7ozqQdEFIZDiLuZFuozJkhXNbQ1VNSi9PatuFKtRfLMy41JafqnFeirR1M0VHTk5VbjpFXzRCWTRwlYRomJ1sOTlEUcx/LWdWRlGNvy5JWIBPQNLV2mJvf35gQKSatD5iZ4WVM+oAAADEdFJOUwD8G1pcQHaADu7VAtcgLMplwEWudgffICZd5+iPv1NlIvt80pvZfAbFMUixlU7jg7vDM2/3Xmsi88ZfEDftOAz+F3NWee7RMSOo3Ii2yW9YLSYnPLX6LcubEqPOwk2r9eCVfBGIaZxC0wdIdBifUqHk7gyQG0hQPo7YHgOeiC+wkoFuF2NEed8/vSd4EMqsWvdJzc0pXp54rTbyF2ZscUeJsDAcD20KNUGn0hRtTXORwKDj1FZ1kVgc3urkYsd8HhCRSPRyuDBtAAAUl0lEQVR42uzBAQEAAACAkP6v7ggKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgNm7l9gozgOA424r4IDgFNMgBM0hosAxl0rBJ0sETnFX8uNSG9kGRKQG85AKxmpaDBiBgIhIPESTC0pECAnppXn0dbK8cuo0aR7mURAFqkZtUSnlkqRR1ZlZr3dnd3ZtiO0dh9/vtLOzD9vy/vXNN48FAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC+KRY8Oa+ip/15gAQ/H6rG3we4324IB5CwnTIkHMB9ejqIw1f/jNwJbn5S7KJwAEnmBXH476eRr4aGPhss9oFwAEmWFsIRjDg+EA5gYouCOOS68Wm4pSIcwIRWB22484/I/4Kb14WDWaqvf2Bu3sDGY92JD9q5p2NFW/Ou9r7k18g09hxsW9HTv7vk/v1dc8t1NdTi11y7/JG45asKKw+Vrowe8Pw0/Bg/Cdpw5f3IleDmTeFglqrPxqzvWFn2kGMr8msPbEx4he2b8qtbOrfH1nRkk+yqxa/5yHuljhZWvvhekt9Mw4/xbNCG27lw3BgaujZYFo4FY1b7zyTd4VhS+sEujcOG4pXNZYOO3VuLVm9tLV61KTEce2rxa16oFo7nE8Px2jT8GGuCNtyKunEruPXX8nDkjz2f4z+TWRaObFPsAZ3Rfdva2nKBaCt9fu7u3hW9uUHH3nSGY9WPIq+FI4nczQs1CEe4pXKnsKVyXTiYzeHY3Loy0rp/Q0v40S7e4GiMarEluKuvIdr0aI4/f1fUgkw40xHd3Fw8GGkYe91wTdfYmzTsreFvezYIwoWyew+fXRtZGBbk6MLcwtlDU//2SwtbKv8u21IRDmZZOA4WFjPbgs/4rwrL68IYbMovbSwbkGwP72kfW9gSLnQlvMm+4P5jafhtVwVlWF559eFg9ZvT9+5zgjLczXXjdtnOWOEgfZ6pGo4VRctN2dhyc3yMMTfcaplf9PD24I6O2PCkJ+FNwqctngXhWBisfnz63n1pYZ9KMOAYGhUOUu71c5MNR/36bHbJ+Azo7nDaonjLZXPJkKMxvry1t72utuH4fnrDEZ6ncvfW+AxHydSocJDCcIy8cGZy4QjTUJjhDD/xncVrt5TMcnQFy/sLixXmL2YwHCd2pDUcz60ZH3Dcuzs0dHFUOEi74yMjI68/QDgOBp/42AFbfcGAZH19YTmc9eif8O1nMBynhk+9nMpwrH4q6MKN3K7YG8HN/wwKB2n3ahCOkXOHJxGOvuJNlb5t2ey2+JEbzfGU7AwP3qhPUThODA//+o0UhiPqxtC98W5cHhQOUlKHZRW9FYZj5PSyicMRmxzNZEuGI7nDwfbFO5PtPZaecOwYDuxIXThy3bg93o1ro8JBSrw7MqG3EsNRujt2bn5pf/leko0le1y7coeFDbQ+QDjOvPK9yn779ncewNtHwnAMH3k0XeGYE85v5CY47oXduPjnweRw/FQ4mGkvTByOkdNnEsLRlhlzbEM4gMh2Fw8/OuOPbyo92yR/Iktb55bu+wzHieHp80qKwrE6d6HRO/n9KcndiMKxZlHOU0sjP/NfTSrC8cvHEsJR8ZDzxcHShvjj24sPCAvN7xl/4raehvsKx45pDMfwkZdTEo7V89bkricaHvcVHr8x9FliN6JwuAYpKQzH6eOJmypxRTtJFpefWpKw9bKzo2X8yT31aQnHjnSE47ln1+QjcOVKlI2hy6ODwkF6vPNYJe+cTB5ulIejpaN40JAw4thSvvVSV7d78abNYy/Qu32qwvGtBzNcbZJjpsOxYFFZCi5eH6zgsnCQMsvCbpxMWhOG40BjzkD/sb3Vt0sSW5KT2XgwKkfH5MNx/tFqvv0gzp8arrZbZabDMacsG5+MDk7S6DXhoMaOj4y8+2pdpXAcrPS0hvIQNMZPgotZGR7kkd096XBMh3AUU/lAjhqH49rks+GKYKTAyZFzFc5zKztytNjekvPk63KX59hS8X02JxdiZg8AO3W+Lk3h+OJq5IuE09qEg5SPOE5WWlM1HHUHstmW+E7WtqABmcLiug0NpRsye2oajiMVdsTWLhwf/zHycXBzUDj4hqgejo7S8UV3eIj5+FJrc8kcyM7kGZAZDMfv36gTDqhtOJpKL/k1NzZdGs6BbCteHc6mNtY0HNUJB8xAOOrDIzSKrnsenZpStHHSWzLC6Cy6HphwTEE4nhzzY/+pzKJw1O0JPvJLCrMczSWXK46uJVg4xa17ffEB68Lx9cORP+ltgf9UZlM4whPrswfGxhzd0dWKY6ezRdc4z58tm+ktv5hxusKxNijDS8IB0xyOaBojm+1pam1t3xBGpGQKI7e6rXFna2tT7tsQMqkMx+GFkfCrl97M3fyFcMC0hSOaH63yPWxNE3ydU0rC8VLZ16Y8Lhzw4OFYX3aMV4n9B4pOZdlYdXW2ZV/iS3TFr/6TinAcrRCOo8IBX3/EETxkIPctbdklneuSpkH62/JfAJm4PhUjjheNOGAKzd+dyUz83Wormwa69u2seG3Rde39XXMXN/RVWt+dWZfZXts5jkM/iDuUNMfxTIX7hQOYOWE4rv4lcjX8stiPxtxMCsXNj+KuCQc8tOFIcnGyF/IRDhCOccIBCAcwZRYszQuvIfi3S5F/VQlH/irnY34nHPAwmxdU4dKfIpeqhGNeBcIBwiEcgHAAMxuOzz8XDsCIA5i6cHz598iXwgFMOhwf/iHy4STC4dvqAeEAhAMQDkA4AOEAhEM4AOEAhAMQDkA44KH03See+OH/2zufl7ayNo5nMWInKjYGGpC4SEKYRWISYxSjxCiJgvEHohuNG3cl2u5sV07bpTCbQrvppp0y0P1M50/olewKRSqlTAtDZ9rNdDFM29UL7znn5v44z7k313GSQOP3M+Dc5OZeJc395Hme85xzi//ymD6IA4AuZTbuJ8Rnldck4xqjkJmge0oV87D+fPXyPD11ZZkckK7445v0LFm/vxJ1+NsS5t/WH0ssD9HdS8buQHV8A+IAoIOMagqj8itqW9auGLnox+Ujc2nJB+yZQfLrAuw5RRyH7Mk5h/ikIJ99LCvvTtl3ZoYgDgA6xpCXOLZj0k456LhMj12x7ZyPaNoq+XVj7DUHNKWZctAVp5+e/aq0e1DeuQVxANBJcaRWAnakL/a+Cr8oU1uTk+m8uD73qDgq+tEZv9hty036hjUtTn4ds1Ch5hj0BB3FkdP/pExeRB9z20QcuUCG/bfbiEggDgA6KI50k/0JfkmW9Wv9qih1zBNxXDYerGfIbmaJYZKB7Kou8QXFZR8pOonDb2wXJ/mLwkQcKX1rY7zSHnOseYvjFXv+Z4gDXEBxhD0yGTOLqMVJNsLFMSmZwv6QiSQnxQi+IstK8uRXFFlGM1igSVBDHP3WownNFIUpjmEzuklqHgY8Fz3e4vib3o3pCj5U4MKLg+cfUblsoa3L4hiXr+1D6+ESeyiGOzZjO7EjvnEwp+Yk/KAQizoCTuKIy9GKFiLisAKaMI2GOiSO18p93G7iUwW6gkvnFkeWfssvsyeSruLIygEJv5azxoY4al0+XBDQtIpv3+mqJ+JIGKdzFIcv3lyB5+IWv5ObLo5/2OaLM90D8jo+caAreHDvwTnFsSwHHCzk0Gz5gZc4ysZACC+r7ojQQ80n5sVTG+zn/n8TB6+xFlrddMY88FEXx19s861jyHFKxLGATxzoCn6q1x+eTxxjcmbC2DHSDydxXJZTFf6wxP6/HTFGREblIghnXz9hTNNiHuJINU1V9LaP2Ra/dYtMBB90c7Ctd8+8zPHbKXIV0EXiqD++dA5x1ArKl3hY6uUgxdG4/HC0MeayZ7aHTKgNGzF96KQsCckUR7+sIaU4av/jqk5Ry3/kOvPAP7o4/jw+fu8ojmcv/37PpXH6/OT1szfIVUDXwMRR//ZXV3GU3Y4LacogyKSUvNiHY/uOVkl9Mts4d1ozhlLHlcbRjcb5Qg6DIvbh2IOy03CsJI79NnSB3WQe+EMXx//Y5stnXrxErgI6wqNv2s2vD+uCH93EkY/asPd1bqqNWaNSeZOLYzewysjn9Q7wNPHOciPh0YscaSWuSBv5B8uBdlVx5PJ5fvKx2JxoaS82E0eJjBW3gpljM1fhRY43nuIQfR3IVUDb+aXeMZ4+cBaHxJFt5576HX6VPbUkiUNiyf7aYkEcXsxpufCUKHIklc6OXaO2sa9WKGjLeU7eT8Ux1I4eMFuu8sk1V7GDXAV0hHv1DvLQWxyzJLwg4jhiT1XdxJEihc+KCFjYr0htV0Rxo8o2pZrJrFmXOFBHaok4gqQGQsUxa4zdtBLeyfFRDzn+cBuQRa4COs/TDnrj6SNncczZLs+stzjkiCO1Ojg4yM8Q36SzUPKirSvNf66IrGWFXtpJa9Ibe3FBTVXYuQeFQKLKzPmOiEOMq+g9YJ/Z1quz5SrT7MABJCygjTz+tv3U3YscXByHIRs1kqocqqlKVS2OiiYK5eQJcSWPcWdExUzZVVqFKFjVV36uIefiqN+xndwpVQm0/N+HhxyfPhvjKmcIOXiucvvajbXe3mv4dIO28eRSu3lyX2jjl0duxVHXKR78OzwhP1VSiqN6erKiOTRibPGCZ1+OT6llkUqkxlVQ9REzlYwHU6REYg3Hrqtz6l2Ko4nW/wONmN2jvDz6/ky5yvH3fM7bDXy6wdfMJe6Nx098buJw7eMIqUvxjEvDt1YD2LZmnyjbIM3DkKwYDanlePlkWJp3r89myY/pZJg4cjUijriV0Qx7iaPs0M/eAgYWzCHZL65NYDRXuc3FsYaPHvia4Q1g37jsayoOvqLGVE0pSpQcxCEaPOjUePZchP/gYx0ZXgXNyS1a3CYyJWdx9BU0ohwHcQTVttSWwOfW6+b48OksQ7I8V1kU0+yRq4Cvmfv1e/d95xEHv9rJGKlf6vu2t5z71aYPnjzUDvVciMUDS7U5efZ8SVl9LOMsDn2xn1BTcYiFxNbb8f5dN83Bk5Xj1165yilyFdAV4vjRfV9zcZTpFz1PXio+R3E4FCL4EMzVHX3VsE124FBOrn9yL8UsePyx7SwO8dLBpuJQ1utoGTN8ZOX4y4fGkOypV8zxHLkK6HaaiyNEB0u2ZJNIk9zUQsSGpuXCOb3hszalRZIFKSbYJiHGBMk17OKYVxc8JeIYpjN5W22Oj381RlaOT5p648UpchVwscUhJsTbCo7rJGOQxCFyBSk+mWfSSBntnCxmSOWkpYoniQtqZHVjaXZs2aPlnNdZ54ptepdmRsTc1y+fP3wUG89/d09UTvgL7t7pRa4CLq44+Dw1KwoIFTR5PFWeVq8UInhx1RzujYpt+1LFq3T54YR8vDytvkI72u1LBx4knEZ1WsgdsujGO2d1vHzzm80byFXABRWHyE20pLia+yZ4SDFVdBWHuGuKVIiI2RZG3xTbcTkPktvBSnK2IYsjSxviDXH0ze8lxfBMtZ1vVM8Voo5Xb5W5sq/f6UtzLNwx1j1HrgIupjgaU1sz4fTSrjKXhYpDKURkbHNaa1NkJfKoUrXg6xbH3cQh7tuUksUR4TdyG24M6lbb+07N9Cqriz4/eWt0kv7+4uRVY0GfuyO9JshVwAUVh+gJNZk68jURh16IsCUjVbsrMuT2KXG18SMhjagScYiuj6gkDhtz5ba/VwPXF449uTvyveUN5CqgSxmllQOVqNWmlSB3YdunDes8KtmpSUGC6aW0PO9+1GFqibykRoT3j5G9tgFf+x0iC8mNTrxbM9OLzbWxeNuuDeQqoFtZDwYTEx6vmS9nUhGtsBNW7vo6lAgmpKUAs8FgMGDVN0cT7HHW+lXBhNUaOsGOpfNPakvBoDUdNxkMyi3k4UQwYwUWy/zknGp0r9ixN2xg+vYVZ2ksKNZArgIAsAKPnt7eEQa//ZJgcWTkZ1UanGm8WwAAiVu9XvyAVAUAQLi21twba9/hPQIAUL670SzcwE2oAQCOzNx01QbCDQCAa9TR45CwTN+CNgAAzcOOWzemfzBDjekeWAMAcFYGGFAGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwIXh/3PpuUi22YH6AAAAAElFTkSuQmCC";
},578:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(130),s=i(418),a=i(579),l=i(292),c=i(452),u=i(419),h=i(422),d=i(580),p=i(266),g=i(265),m=i(259),f=s.extend({className:"link-post",events:{"mouseenter [data-js-removable=true]":"_onHoverRemoveButton","mouseleave [data-js-removable=true]":"_onHoverRemoveButton","mouseleave .media-container":"_onHoverRemoveButton"},template:a,defaults:r.defaults({hasMedia:!1,showCaption:!1,ogFetchPending:!1,tagEditor:null,hasCustomTags:!1,numOgTags:5},s.prototype.defaults),afterInitialize:function(){this._ogService=new d,"new"!==this.model.get("mode")&&this.set({hasMedia:!0,hasCustomTags:!0}),this.model.has("caption")&&this.set("showCaption",!0),this.set("hideControlsLine",!this.get("showCaption")),this.tagEditor=this.get("tagEditor")},afterRender:function(){this.renderSubViews(),this.model.canEditMedia()||(this.title.disable(),this.excerpt.disable(),this.url.disable(),this._hideEmptyFields()),this._onChangeThumbnail(this.model,this.model.get("thumbnail")),this._onChangeAuthor(this.model,this.model.get("author")),this._onChangeHasMedia(this,this.get("hasMedia")),this._onChangeShowCaption(this,this.get("showCaption")),this._onChangeShortUrl(this.model,this.model.get("url")),"new"!==this.model.get("mode")||r.isEmpty(this.model.get("url"))||(this.url.setEditorValue(this.model.get("url")),this._onChangeUrl(this.model,this.model.get("url"))),this.trigger("media:ready"),this.get("showCaption")?this.delayedFocus(this.caption):this.delayedFocus(this.url)},createSubViews:function(){var e=this.subViewOptions(),t=r.extend({className:"title",name:"title",isResizable:!1,placeholder:o("Enter a title"),ariaLabel:o("Link title"),forceSingleLine:!0},e),i=r.extend({className:"summary",name:"excerpt",isResizable:!1,placeholder:o("Enter a summary"),ariaLabel:o("Link summary"),forceSingleLine:!1},e),n=r.extend({className:"url",isResizable:!1,placeholder:o("Type or paste a URL"),ariaLabel:o("Type or paste a URL"),forceSingleLine:!0,pasteHook:r.bind(this._onPaste,this),onClientEvent:r.bind(this._onUrlClientEvent,this),onChange:r.bind(r.debounce(this._onUrlEditorChange,500),this)},e),s=r.extend({className:"caption",name:"caption",placeholder:o("Add a description, if you like"),ariaLabel:o("Description")},e),a=r.extend({isRemovable:!0},e);this.url=this.subViews.url=new l(n),this.title=this.subViews.title=new l(t),this.excerpt=this.subViews.excerpt=new l(i),this.caption=this.subViews.caption=new c(s),this.removeButton=this.subViews.removeButton=new h({buttonClass:"top-right"}),this.model.isReblog()&&(this.reblogTree=this.subViews.reblogTree=new u(a))},addStateListeners:function(){"reblog"!==this.model.get("mode")&&this.listenTo(this.model,"change:url",this._onChangeUrl),this.listenTo(this,"change:ogFetchPending",this._onChangeFetchPending),this.listenTo(this,"change:hasMedia",this._onChangeHasMedia),this.listenTo(this,"change:showCaption",this._onChangeShowCaption),this.listenTo(this.model,"change:thumbnail",this._onChangeThumbnail),this.listenTo(this.model,"change:url",this._onChangeShortUrl),this.listenTo(this.model,"change:author",this._onChangeAuthor),this.listenTo(this.model,"change:tagInput",this._onTagInputChange),this.listenTo(this.removeButton,"remove",this._onRemoveClick)},removeThumbnail:function(){this.model.unset("thumbnail")},removeMedia:function(){this.model.softReset(),this.title.setEditorValue(""),this.excerpt.setEditorValue(""),this.url.setEditorValue(""),this.tagEditor&&!this.get("hasCustomTags")&&this.tagEditor.removeTags(),r.isEmpty(this.model.get("caption"))&&(this.caption.setEditorValue(""),r.isEmpty(this.model.get("tags"))&&this.set("showCaption",!1)),this.set("hasMedia",!1),this.url.focus()},getRichTextEditor:function(){return this.caption},_onHoverRemoveButton:function(e){var t=n(e.relatedTarget||e.toElement),i="mouseover"===e.type||"mouseenter"===e.type;(i||0===t.parents('[data-subview="removeButton"]').length&&0===t.parents("[data-js-removable=true]").length)&&this.js$("removeButton").toggleClass("active",i)},_onChangeThumbnail:function(e,t){var i=this.js$("image"),o=!r.isEmpty(t);this.js$("media").toggleClass("has-thumbnail",o),this.js$("article").attr("data-js-removable",!o),this.$(".publisher-container").attr("data-js-removable",o),i.attr("data-js-removable",o),i.empty(),o&&i.append(n("<img />").attr("src",t)),"reblog"!==this.model.get("mode")&&(o?this.model.unset("remove_thumbnail"):this.model.set("remove_thumbnail",!0))},_onUrlClientEvent:function(e){this.get("ogFetchPending")&&"keydown"===e.type&&27===e.keyCode&&(this._cancelOpenGraphFetch(),e.stopPropagation(),e.preventDefault())},_onUrlEditorChange:function(){var e=this.url.getEditorValue(),t=this._normalizeUrl(e);r.isEmpty(t)||t===this.model.get("url")||this.model.set("url",t)},_onPaste:function(e){var t,i;r.isEmpty(this.url.getEditorValue())&&(t=e.getData("text/plain"),i=this._normalizeUrl(t),r.isEmpty(i)||this.model.set("url",i))},_shouldShowThumbnail:function(e){return r.get(e,"width",0)>=this.getMinFullWidthSize()},_onChangeFetchPending:function(e,t){this.model.set("loading",t)},setPostData:function(e){e=e||{},r.has(e,"title")&&this.title.setEditorValue(e.title),r.has(e,"excerpt")&&this.excerpt.setEditorValue(e.excerpt),r.has(e,"thumbnail")&&this.model.set("thumbnail",e.thumbnail),r.has(e,"author")&&this.model.set("author",e.author),r.has(e,"tags")&&(r.each(e.tags,function(e){this.tagEditor.addTag(e.toLowerCase())},this),r.isEmpty(e.tags)||this.tagEditor.removePlaceholder())},_normalizeUrl:function(e){return r.isString(e)?(e=e.trim(),e=g.addProtocolIfMissing(e,"https:"),p.isUrl(e)?e:null):null},_onChangeUrl:function(e,t){this.get("ogFetchPending")||p.isUrl(t)&&(this.set("ogFetchPending",!0),this._ogService.fetchOpenGraphData(t).then(r.bind(this._updateWithGraphInfo,this),r.bind(this._onOpenGraphFail,this)))},_onChangeShortUrl:function(e,t){if(p.isUrl(t))try{var i,n=g.parseUrl(t);n&&r.has(n,"host")&&(i=n.host.replace(/^www\./i,""),this.js$("publisher").attr("href",t).text(i))}catch(e){}},_onChangeAuthor:function(e,t){var i=r.isEmpty(t)?"":o("By %1$s",t);this.js$("author").text(i).toggle(!r.isEmpty(t))},_onTagInputChange:function(e,t){t&&this.set("hasCustomTags",!0)},_updateWithGraphInfo:function(e){var t=e.image,i=function(t){var i,n={title:e.title,excerpt:e.description,author:e.author,thumbnail:t?"":e.image};!this.get("hasCustomTags")&&r.has(e,"tags")&&(i=this._parseOpenGraphTags(e.tags),r.extend(n,{tags:i.slice(0,this.get("numOgTags"))})),this.setPostData(n),this.set({hasMedia:!0,showCaption:!0,ogFetchPending:!1}),this.delayedFocus(this.caption)};r.isEmpty(t)?i.call(this,!1):m.load(t).then(r.bind(function(e){i.call(this,!this._shouldShowThumbnail(e))},this),r.bind(function(){i.call(this,!0)},this))},_onOpenGraphFail:function(){this.set({hasMedia:!0,showCaption:!0,ogFetchPending:!1}),this.delayedFocus(this.caption)},_cancelOpenGraphFetch:function(){this._ogService.abort()},_parseOpenGraphTags:function(e){return e=r.isString(e)?e.split(","):e,r.isArray(e)?e:[]},_onRemoveClick:function(){this.model.get("thumbnail")?this.removeThumbnail():this.removeMedia()},_onChangeHasMedia:function(e,t){this.$el.toggleClass("has-media",t),this.js$("media").toggle(t),this.url.$el.toggle(!t),this.removeButton.$el.toggle(t&&this.model.canEditMedia())},_onChangeShowCaption:function(e,t){this.set("hideControlsLine",!t),this.js$("caption").toggle(t)},_hideEmptyFields:function(){this.title.$el.toggle(!r.isEmpty(this.model.get("title"))),this.excerpt.$el.toggle(!r.isEmpty(this.model.get("excerpt")))}});e.exports=f},579:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="media-wrapper"><div class="media-container link-media-container"><div class="link-editor"><div data-subview="url"></div><section class="link-media-body" data-js-media><div class="thumbnail" data-js-image data-js-removable="false"></div><article data-js-article data-js-removable="true"><div class="publisher-container"><a href="#" data-js-publisher target="_blank" rel="bookmark noopener" class="publisher"></a></div><div data-subview="title"></div><div data-subview="excerpt"></div><div data-js-author class="author"></div></article></section></div> ',canEditMedia&&(__p+=' <div data-subview="removeButton"></div> '),__p+=' </div></div><div class="caption-wrapper" data-js-caption><div data-subview="reblogTree"></div><div data-subview="caption"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},580:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(215),s=o.extend({fetchOpenGraphData:function(e){var t=r.ajax({url:"/svc/post/fetch_og",type:"POST",withFormKey:!0,data:{url:e}});return this.xhr=t,t.then(function(e){var t=r.parseJSON(e)||{};return t.response}).always(n.bind(function(){this.xhr=null},this))},abort:function(){this.xhr&&this.xhr.abort()}});e.exports=s},581:function(e,t,i){"use strict";var n=i(3),r=i(130),o=i(254),s=i(418),a=i(292),l=i(452),c=i(582),u=s.extend({defaults:n.defaults({fontSizes:["extra_large","large","medium","small"]},s.prototype.defaults),template:c,afterInitialize:function(){this.listenTo(this.model,"change:quote",this.updateQuoteSize),this.wrapSource()},createSubViews:function(){var e=this.subViewOptions(),t=n.extend({className:"quote-field",name:"quote",placeholder:"&ldquo;"+r("Quote")+"&rdquo;",ariaLabel:r("Quote")},e),i=n.extend({className:"source-field",name:"source",placeholder:r("Source"),ariaLabel:r("Source")},e);n.extend(i,{fullWidthInlineMedia:!1}),this.quote=this.subViews.quote=new a(t),this.source=this.subViews.source=new l(i)},afterRender:function(){return this.renderSubViews(),this.updateQuoteSize(this.model,this.model.get("quote")||""),n.isEmpty(this.model.get("source"))?this.delayedFocus(this.quote):this.delayedFocus(this.source),this.quote.editor.isEmpty()&&this.quote.editor.setData(""),this.cleanQuote(),this},teardown:function(){return this.$el.empty(),this},updateQuoteSize:function(e,t){if("string"==typeof t){var i=t.length;i<20?this._setQuoteSize("extra_large"):i<81?this._setQuoteSize("large"):i<300?this._setQuoteSize("medium"):this._setQuoteSize("small")}},_setQuoteSize:function(e){var t=this.quote.$el;t.hasClass(e)||(t.removeClass(this.get("fontSizes").join(" ")),t.addClass(e))},cleanQuote:function(){var e=this.model.get("quote");e&&this.model.set("quote",o.stripHtml(e,!1))},getRichTextEditor:function(){return this.source},wrapSource:function(){var e=this.model.get("source");!e||e.indexOf("<p>")>-1||this.model.set("source","<p>"+e+"</p>")}});e.exports=u},582:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div data-subview="quote"></div><div data-subview="source"></div>';return __p}.toString()).apply(void 0,_values(_imports))},583:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(130),s=i(418),a=i(293).SelectionPersistence,l=i(292),c=i(584),u=/^([^(:|\n)]+:)/,h=s.extend({template:c,placeholders:["%1$sFirefighter:%2$s That's the way the cookie crumbles.%3$s%1$sButler:%2$s It falls on me to reassemble the cookie.","%1$sStockbroker:%2$s I need a vacation.%3$s%1$sTourist:%2$s I'm already on one.%3$s%1$sStockbroker:%2$s Get out of my office.","%1$sAbbott:%2$s Who is the man on first base?%3$s%1$sCostello:%2$s That's what I'm telling you!%3$s%1$sAbbott:%2$s I'm unqualified to manage a baseball team.","%1$sRick:%2$s Our problems don't amount to a hill of beans in this crazy world.%3$s%1$sIlsa:%2$s Great, now I'm hungry for beans.","%1$sAlbert Einstein:%2$s Energy equals mass times the speed of light squared.%3$s%1$sCop:%2$s Tell it to the judge.","%1$sAxl:%2$s Welcome to the jungle.%3$s%1$sCustomer:%2$s We'd like a table for two, please.%3$s%1$sAxl:%2$s Your table is right this way.","%1$sTourist:%2$s Could you give us directions to Olive Garden?%3$s%1$sNew Yorker:%2$s No, but I could give you directions to an actual Italian restaurant.","%1$sPangloss:%2$s Could you give me directions to the Olive Garden?%3$s%1$sCandide:%2$s No, but we can cultivate our own garden.%3$s%1$sPangloss:%2$s That sounds rational to me.","%1$sCharles Dickens:%2$s It was the best of mimes, it was the worst of mimes.%3$s%1$sMime:%2$s ...","%1$sJuliet:%2$s Romeo, Romeo, wherefore art thou, Romeo?%3$s%1$sRomeo:%2$s I'm right here, Juliet.?%3$s%1$sJuliet:%2$s âWhereforeâ means âwhyâ not âwhere.â%3$s%1$sRomeo:%2$s Misunderstandings like these are what define our relationship.","%1$sSeal:%2$s Did you know that when it snows my eyes become larger?%3$s%1$sOptometrist:%2$s That's highly abnormal. I'm going to refer you to a specialist.%3$s%1$sSeal:%2$s BABAAAAAAAYYYY!","%1$sSeal:%2$s There's so much a man can tell you, so much he can say.%3$s%1$sMan:%2$s I've just been waiting for someone to ask!","%1$sUsher:%2$s These are my confessions.%3$s%1$sTheater-goer:%2$s These are my tickets.%3$s%1$sUsher:%2$s Right this way."],afterInitialize:function(){this.user.get("language")&&"en_US"!==this.user.get("language")&&(this._placeholders=n.filter(this.placeholders,function(e){return o(e)!==e}),n.isEmpty(this._placeholders)&&(this._placeholders=this.placeholders))},randomPlaceholder:function(){var e=n.sample(this._placeholders||this.placeholders);return o(e,"<b>","</b>","<br>")},createSubViews:function(){var e=this.subViewOptions(),t=n.extend({className:"title-field",name:"title",isResizable:!0,placeholder:o("Title"),ariaLabel:o("Post title"),allowLinebreaks:!1},e),i=n.extend({className:"chat-field normal",name:"chat",placeholder:this.randomPlaceholder(),onChange:n.bind(function(e){this.formatText()},this),ariaLabel:o("Post body"),convertNewlinesToLinebreaks:!0},e);this.title=this.subViews.title=new l(t),this.chat=this.subViews.chat=new l(i),this.registerTitleKeyboardShortcut(this.title)},afterRender:function(){this.renderSubViews(),this.model.get("chat")&&this.formatText(),this.delayedFocus(this.chat)},formatText:function(){this.chat.getEditorValue()&&this.formatTextNode(this.chat.editor.element)},formatTextNode:function(e){if(e){if(e.nodeType!==Node.TEXT_NODE)return void n.each(e.childNodes,n.bind(function(e){this.formatTextNode(e)},this));if(this.stripZeroWidthSpaceFromNode(e),"B"===e.parentNode.tagName)return void this.cleanBoldNode(e.parentNode);if(!(r(e).prev().length>0&&"BR"!==r(e).prev()[0].tagName)){var t=e.nodeValue.match(u);if(t){var i=a.saveSelection(this.chat.editor.element),o=e.parentNode;if(n.isObject(o)){var s=t[0];e.nodeValue=e.nodeValue.replace(u,"");var l=document.createElement("b");l.innerHTML=s,o.insertBefore(l,e)}a.restoreSelection(i)}}}},cleanBoldNode:function(e){if("B"===e.tagName)if(e.childNodes.length>1)for(;e.childNodes.length>1&&e.innerHTML.match(/<br\s*[\/]?>/);)e.parentNode.insertBefore(e.firstChild,e);else{var t=e.firstChild;if(t.nodeValue.indexOf(":")===-1)return void this.unwrapNode(e);var i=/:(.+)$/,n=t.nodeValue.match(i);if(n){var r=a.saveSelection(this.chat.editor.element),o=n[1],s=document.createTextNode(o);t.nodeValue=t.nodeValue.replace(/:(.+)$/,":"),e.parentNode.insertBefore(s,e.nextSibling),a.restoreSelection(r)}}},unwrapNode:function(e){var t=a.saveSelection(this.chat.editor.element),i=e.parentNode,n=e.firstChild,r=n.nodeValue;r&&(i.insertBefore(n,e.nextSibling),i.normalize()),e.remove(),this.formatTextNode(i),a.restoreSelection(t)},stripZeroWidthSpaceFromNode:function(e){var t=/\u200B/g;if(e&&e.nodeType===Node.TEXT_NODE&&e.nodeValue.match(t)){var i=a.saveSelection(this.chat.editor.element);e.nodeValue=e.nodeValue.replace(t,""),Math.max(i.start,i.end)>e.nodeValue.length&&(i.start=i.end=e.nodeValue.length),a.restoreSelection(i)}}});e.exports=h},584:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div data-subview="title"></div><div data-subview="chat"></div>';return __p}.toString()).apply(void 0,_values(_imports))},585:function(e,t,i){"use strict";var n=i(3),r=i(418),o=i(130),s=(i(132),i(586)),a=i(292),l=i(587),c=i(589),u=i(591),h=i(600),d=i(452),p=i(419),g=i(602),m=i(213),f=r.extend({defaults:n.defaults({maxSearchResults:4,showSearchField:!0,showAudioUploader:!0,showSearchResultList:!1,showCopyrightWarning:!1,hasMediaView:!0,hasMedia:!1,showTos:!1,showCaption:!1},r.prototype.defaults),template:s,afterInitialize:function(){this.searchService=new g,(this.post.get("url")||"new"!==this.post.get("mode"))&&this.set({hasMedia:!0,showCaption:!0,showSearchField:!1,showAudioUploader:!1,showSearchResultList:!1,showCopyrightWarning:!1})},createSubViews:function(){var e=this.subViewOptions(),t=n.extend({className:"audio-search-field",placeholder:o("Search for a song or paste a URL"),ariaLabel:o("Search for a song or paste a URL"),name:"search",forceSingleLine:!0,onClientEvent:n.bind(this.handleSearchMenuKeys,this)},e),i=n.extend({},e),r={className:"audio-search-results-field"},s=n.extend({url:this.post.get("url"),service:this.post.get("service"),albumArt:this.post.get("albumArt"),canEditMedia:this.post.canEditMedia()},e);this.post.get("bandcamp")&&n.extend(s,this.post.get("bandcamp"));var g=n.extend({},e),m=n.extend({className:"caption-field",name:"caption",placeholder:o("Add a description, if you like"),ariaLabel:o("Description")},e),f=n.extend({isRemovable:!0},e);this.searchField=this.subViews.searchField=new a(t),this.audioUploader=this.subViews.audioUploader=new c(i),this.searchResultList=this.subViews.searchResultList=new l(r),this.mediaPreview=this.subViews.mediaPreview=new u(s),this.confirmTos=this.subViews.confirmTos=new h(g),this.caption=this.subViews.caption=new d(m),this.post.isReblog()&&(this.reblogTree=this.subViews.reblogTree=new p(f))},addStateListeners:function(){this.listenTo(this.audioUploader,"upload:start",this._onFileUploadStart),this.listenTo(this.audioUploader,"upload:complete",this._onFileUploadComplete),this.listenTo(this.audioUploader,"upload:error upload:invalid",this._onFileUploadError),this.searchResultList.listenTo(this.searchService,"searchResults:fetched",this.searchResultList.updateResultsForService),this.listenTo(this.searchService,"audioEmbedData:fetched",this._onAudioEmbedDataFetched),this.searchResultList.listenTo(this.searchField,"searchField:menuKey",this.searchResultList.handleMenuCommand),this.listenTo(this.searchResultList,"searchResults:updated",function(e){var t=n.isEmpty(this.post.get("url"))&&e>0;this.set("showSearchResultList",t)}),this.listenTo(this.searchResultList,"searchResults:selectAudio",this.setAudioContentFromUrl),this.listenTo(this.searchResultList,"searchResults:selectVideo",this.switchToVideoPost),this.listenTo(this.searchResultList,"searchResults:clear",function(){this.set("showCopyrightWarning",!1),this.post.unset("copyrightFallback")}),this.searchField.listenTo(this.searchResultList,"searchResults:clear",function(){this.setEditorValue(""),this.focus()}),this.listenTo(this.mediaPreview,"media:ready",function(){var e=n.toArray(arguments);e.unshift("media:ready"),this.trigger.apply(this,e)}),this.post.canEditMedia()&&this.listenTo(this.mediaPreview,"media:remove",this.removeMedia),this.listenTo(this.post,"change:search",n.debounce(this._onChangeSearchInput,200)),this.listenTo(this,"change:showSearchField",this._onChangeShowSearchField),this.listenTo(this,"change:showAudioUploader",this._onChangeShowAudioUploader),this.listenTo(this,"change:showSearchResultList",this._onChangeShowSearchResultList),this.listenTo(this,"change:hasMedia",this._onChangeHasMedia),this.listenTo(this,"change:showTos",this._onChangeShowTos),this.listenTo(this,"change:showCaption",this._onChangeShowCaption),this.listenTo(this,"change:showCopyrightWarning",this._onChangeShowCopyrightWarning)},removeMedia:function(){this.searchResultList.hasResults()||this.searchField.setEditorValue(""),this.post.softReset();var e=n.isEmpty(this.post.get("search"));this.set({hasMedia:!1,showSearchField:!0,showSearchResultList:!e,showAudioUploader:e,showTos:!1}),this.mediaPreview.set({url:"",service:""}),this.js$("confirmTos").attr("checked",!!this.post.get("confirmTos")),n.isEmpty(this.post.get("caption"))&&n.isEmpty(this.post.get("tags"))&&this.set("showCaption",!1),this.searchField.focus()},_onChangeShowSearchField:function(e,t){this.searchField.$el.css({display:t?"block":"none",opacity:t?1:0})},_onChangeShowAudioUploader:function(e,t){this.audioUploader.$el.css({display:t?"block":"none",opacity:t?1:0})},_onChangeShowSearchResultList:function(e,t){this.searchResultList.$el.css({display:t?"block":"none",opacity:t?1:0})},_onChangeShowCopyrightWarning:function(e,t){this.searchResultList.set("showCopyrightWarning",t)},_onChangeHasMedia:function(e,t){this.isRendered()&&(t?this.mediaPreview.$el.css({display:"block",opacity:1}):this.mediaPreview.$el.css({display:"none",opacity:0}))},_onChangeShowTos:function(e,t){this.isRendered()&&(t?this.js$("tos").css({display:"block",opacity:1}):this.js$("tos").css({display:"none",opacity:0}))},_onChangeShowCaption:function(e,t){this.isRendered()&&(t?this.js$("caption").css({display:"block",opacity:1}):this.js$("caption").css({display:"none",opacity:0}))},setAudioContent:function(e,t,i){n.isObject(e)&&(i=e,e=""),i=n.extend({preuploadUrl:"",url:(e||"").replace(/\u200B/g,""),service:t},i),("bandcamp"!==t||i.id&&i.type)&&(this.mediaPreview.set(i),this.post.set(n.pick(i,["url","preuploadUrl","service","albumArt","preuploadAlbumArt","trackTitle","trackArtist","trackAlbum"])))},setAudioContentFromUrl:function(e,t,i){t||(t=this.searchService.getServiceByUrl(e)),i||(i={}),this.setAudioContent(e,t,i),this.set({hasMedia:!0,showCaption:!0,showSearchField:!1,showSearchResultList:!1,showAudioUploader:!1,showTos:!n.isEmpty(i.preuploadUrl)}),this.caption.focus()},_onChangeSearchInput:function(e,t){t||(t="");var i=!n.isEmpty(t)&&this.searchService.getServiceByUrl(t);if(i)"direct"===i?this.setAudioContentFromUrl(t,i):this.searchService.getData(t,i),this.post.unset("search");else if(n.isEmpty(t))this.searchResultList.reset(),this.set("showAudioUploader",this.get("showSearchField"));else{if(this.set("showAudioUploader",!1),this.get("showCopyrightWarning")){if(t===this.post.get("copyrightFallback"))return;this.set("showCopyrightWarning",!1),this.post.unset("copyrightFallback"),this.searchResultList.reset()}this._executeAudioSearches(t)}},_executeAudioSearches:function(e,t,i){t=n.isArray(t)?t:this.searchService.searchServices,n.forEach(t,function(t){this.searchService.search(t,e,i)},this)},_onAudioEmbedDataFetched:function(e,t,i){n.isObject(e)&&(i=e,e=i.url),this.setAudioContentFromUrl(e,t,i)},handleSearchMenuKeys:function(e){var t,i=["keyup","keydown"],n={13:"confirm",38:"cycleUp",40:"cycleDown"};if(e=e||window.event,i.indexOf(e.type)!==-1&&(t=e.which||e.keyCode,t in n))return"keydown"===e.type&&13===t&&e.stopImmediatePropagation(),this.searchResultList.isRendered()&&"keyup"!==e.type&&(this.searchField.trigger("searchField:menuKey",n[t]),e.preventDefault()),!1},_onFileUploadStart:function(e){this.uploads.add(e)},_onFileUploadComplete:function(e){var t={preuploadUrl:e.get("url")},i=e.get("album_art_url");i&&(t.preuploadAlbumArt=!0,t.albumArt=i);var r=e.get("id3");n.isObject(r)&&(t.trackTitle=r.Title,t.trackArtist=r.Artist,t.trackAlbum=r.Album),this.setAudioContentFromUrl(t.preuploadUrl,"direct",t)},_onFileUploadError:function(e){var t=e.get("responseJSON");if(t){var i=parseInt(n.get(t,"meta.status"),10),r=n.get(t,"response.is_copyright");if(403===i&&r)return void this.uploadFailedCopyright(n.get(t,"response"))}var s=e.get("error")||o("Error uploading audio");n.isArray(s)&&(s=s.join("</p><p>")),m.alert("<p>"+s+"</p>")},afterRender:function(){this.renderSubViews(),n.forEach({showSearchField:this.searchField,showAudioUploader:this.audioUploader,showSearchResultList:this.searchResultList,hasMedia:this.mediaPreview},function(e,t){this.get(t)||e.$el.css({display:"none",opacity:0})},this),this.get("showTos")||this.js$("tos").css({display:"none",opacity:0}),this.get("showCaption")?this.delayedFocus(this.caption):(this.delayedFocus(this.searchField),this.js$("caption").css({display:"none",opacity:0}))},uploadFailedCopyright:function(e){var t="new"===this.post.get("mode")?["spotify","soundcloud","youtube"]:["spotify","soundcloud"],i={maxResults:3};this.searchResultList.setCopyrightWarningMessage(e.message),this.set({showCopyrightWarning:!0,showAudioUploader:!1}),this.subViews.searchField.setEditorValue(e.search_string),this.post.set("copyrightFallback",e.search_string),this._executeAudioSearches(e.search_string,t,i),this.searchField.focus()},switchToVideoPost:function(e){var t={postParams:{type:"video",copyrightFallback:this.post.get("copyrightFallback")},afterReload:function(t){t.postTypeForm.executeUrlParser(e)}};this.trigger("switchPostType","video",t)},getRichTextEditor:function(){return this.caption}});e.exports=f},586:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="media-wrapper" data-js-media><div data-subview="mediaPreview"></div><div data-js-mediacomposer class="audio-search-container"><div data-subview="searchField"></div><div data-subview="audioUploader"></div><div data-subview="searchResultList"></div></div></div><div class="caption-wrapper" data-js-tos><div data-subview="confirmTos"></div></div><div class="caption-wrapper" data-js-caption><div data-subview="reblogTree"></div><div data-subview="caption"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},587:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=i(230),a=i(276),l=i(588),c=o.extend({defaults:{currentChoice:-1,serviceResults:{},showCopyrightWarning:!1},events:{"click .clear-results":"clearResults","click .result":"_clickedChoice","mouseover .result":"resetCurrentChoice"},mixins:[s,a],template:l,initialize:function(){this.listenTo(this,"change:serviceResults",function(e){e.trigger("searchResults:updated",e._getResultCount())}),this.listenTo(this,"change:currentChoice",this._styleResults)},updateResultsForService:function(e){var t=this.get("serviceResults"),i=n.clone(t);i[e.service]=e.tracks,this.set("serviceResults",i),!1===n.isEqual(t,e)&&(this.resetCurrentChoice(),this.teardown(),this.render())},handleMenuCommand:function(e){var t=r(".result",this.$el),i=this.get("currentChoice");if("confirm"===e){if(i!==-1){var n=r(t[this.get("currentChoice")]),o=n.attr("data-href"),s=n.hasClass("audio-result")?"searchResults:selectAudio":"searchResults:selectVideo";this.trigger(s,o)}}else{var a="cycleUp"===e?-1:1,l=(this.get("currentChoice")+a+t.length)%t.length;this.set("currentChoice",l)}},render:function(){var e=n.extend(n.pick(this.attributes,"serviceResults"),{resultCount:this._getResultCount(),copyrightWarningMessage:this.get("copyrightWarningMessage")||"",showCopyrightWarning:!!this.get("showCopyrightWarning")});return this.$el.html(this.template(e)),this},teardown:function(){return this.$el.empty(),this},reset:function(){this.set("serviceResults",{})},resetCurrentChoice:function(){this.set("currentChoice",-1)},clearResults:function(){this.trigger("searchResults:clear")},hasResults:function(){return this._getResultCount()>0},setCopyrightWarningMessage:function(e){this.set("copyrightWarningMessage",e)},_clickedChoice:function(e){var t=r(e.currentTarget).attr("data-href"),i=e.currentTarget.classList.contains("audio-result")?"searchResults:selectAudio":"searchResults:selectVideo";this.trigger(i,t)},_getResultCount:function(){return n.reduce(this.get("serviceResults"),function(e,t){return e+(n.isArray(t)?t.length:0)},0)},_styleResults:function(e,t){n.each(r(".result",e.$el),function(e,i){r(e).toggleClass("cycled",i===t)})}});e.exports=c},588:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="clear-results icon_close '+__e(0===resultCount?"inactive":"")+'"></div><div class="copyright-warning '+__e(showCopyrightWarning===!1?"inactive":"")+'">'+(null==(__t=copyrightWarningMessage)?"":__t)+"</div> ",_.each(serviceResults,function(e,t){__p+=' <div class="audio-result-set" data-service="'+(null==(__t=t)?"":__t)+'"> ',_.each(e,function(e){__p+=' <div class="result '+__e("youtube"===t?"video-result":"audio-result")+'" data-href="'+(null==(__t=e.href)?"":__t)+'"><span class="primary">'+__e(e.primary)+'</span><span class="secondary">'+__e(e.secondary)+'</span><span class="info">'+__e(e.info)+"</span></div> "}),__p+=" </div> "});return __p}.toString()).apply(void 0,_values(_imports))},589:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(590),s=i(572),a=s.extend({className:"audio-direct-upload-button",defaultOptions:n.defaults({enableUrl:!1,dropzoneText:"",uploadIcon:"dropzone-add-audio-icon",uploadText:"",uploadOptions:{name:"audio",mediaType:"audio",maxUploadSize:10485760,uploadPattern:r.browser.mozilla?/^audio\/(?:.*)$/i:/^(?:audio\/mp3|audio\/mpeg)$/i,accept:"audio/mp3",url:"/svc/post/upload_audio"}},s.prototype.defaultOptions),template:o});e.exports=a},590:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="media-dropzone" data-js-dropzone><div class="media-upload-button" data-js-mediaupload><div class="v-center-outer"><div class="v-center-inner"><div class="dropzone-icon '+__e(uploadIcon)+'"></div></div></div><div class="media-upload"><div data-subview="upload"></div></div></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},591:function(e,t,i){"use strict";var n=i(3),r=i(534),o=i(592),s=i(594),a=i(422),l=i(596),c=i(599),u=r.extend({className:"audio-media-container media-container",defaults:n.defaults({url:"",service:"",albumArt:"",type:"",id:""},r.prototype.defaults),events:{mouseenter:"_onHoverRemoveButton",mouseleave:"_onHoverRemoveButton"},template:c,beforeTeardown:function(){return delete this.audioPlayer,this.$el.removeClass(this.post.get("service")),this.$el.empty(),this},_onHoverRemoveButton:function(e){var t="mouseover"===e.type||"mouseenter"===e.type;this.js$("removeButton").toggleClass("active",t)},beforeRender:function(){this.removeButton=this.subViews.removeButton=new a({onClick:n.bind(function(){this.trigger("media:remove",this)},this),buttonClass:"top-right"}),this.$el.addClass(this.post.get("service")),"direct"===this.post.get("service")&&(this.post.canEditMedia()&&(this.id3Editor=this.subViews.id3Editor=new o(this.options),this.albumArtUploader=this.subViews.albumArtUploader=new s(n.defaults({url:this.post.get("albumArt")||""},this.options))),this.audioPlayer=this.subViews.audioPlayer=new l({model:this.post,albumArt:this.post.get("albumArt"),streamUrl:this.post.get("url"),track:this.post.get("trackTitle"),artist:this.post.get("trackArtist"),album:this.post.get("trackAlbum"),preview:this.post.canEditMedia()}))},afterRender:function(){this.listenTo(this.post,"change:url change:service",function(e){this.$el.removeClass(e.previous("service")),this.teardown().render()}),this.renderSubViews(),this.trigger("media:ready",this)}});e.exports=u},592:function(e,t,i){
"use strict";var n=i(3),r=i(8),o=i(219),s=i(130),a=i(593),l=o.extend({className:"id3-editor",events:{"input .id3-editor--input":"_onChangeInput","change .id3-editor--input":"_onChangeInput"},template:a,initialize:function(e){this.options=e=n.extend({},e),n.extend(this,n.pick(e,["post","user"]))},_onChangeInput:function(e){var t=r(e.currentTarget);this.post.set(t.attr("name"),t.val())},serialize:function(){var e={id3Fields:n.pick(this.post.toJSON(),"trackTitle","trackArtist"),id3FieldLabel:{trackTitle:s("Track"),trackArtist:s("Artist")}};return e},render:function(){return this.$el.html(this.template(this.serialize())),this}});e.exports=l},593:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.forEach(id3Fields,function(e,t){__p+=' <div class="id3-editor--container '+__e(id3FieldLabel[t]?"id3-editor--"+id3FieldLabel[t].toLowerCase():"")+'"><input name="'+__e(t)+'" value="'+__e(e)+'" class="id3-editor--input" type="text"><label class="id3-editor--label">'+__e(id3FieldLabel[t]||__(_.capitalize(t)))+"</label></div> "});return __p}.toString()).apply(void 0,_values(_imports))},594:function(e,t,i){"use strict";var n=i(3),r=i(130),o=i(595),s=i(572),a=s.extend({className:"media-dropzone-container album-art-uploader",defaultOptions:n.defaults({enableUrl:!1,uploadOptions:{name:"album_art",maxUploadSize:10485760,uploadPattern:/^image\/(?:.*)$/i,accept:"image/*",url:"/svc/post/upload_album_art"}},s.prototype.defaultOptions),initialize:function(e){return n.defaults(this.defaultOptions,{dropzoneText:r("Select album art"),uploadText:r("Select album art")}),s.prototype.initialize.apply(this,arguments)},template:o,events:n.extend({"click [data-js-removeButton]":"_onClickRemoveButton"},s.prototype.events),_onClickRemoveButton:function(){this.set("url","")},_onUploadUrlChange:function(e,t){this.set("url",t)},_onUrlChange:function(e,t){this.model.set({preuploadAlbumArt:!n.isEmpty(t),albumArt:t}),this.js$("albumArt").css("background-image",t?"url("+t+")":""),this.$el.toggleClass("can-upload-album-art",n.isEmpty(t))},afterRender:function(){this.listenTo(this.upload,"change:url",this._onUploadUrlChange),this.listenTo(this,"change:url",this._onUrlChange),this.$el.toggleClass("can-upload-album-art",n.isEmpty(this.get("url"))),s.prototype.afterRender.apply(this,arguments)}});e.exports=a},595:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="album-art--container"><div data-js-albumart class="album-art" style="'+__e(url?"background-image:url("+url+");":"")+'"></div><div data-js-removebutton class="album-art--remove-button"><div class="v-center-outer"><div class="v-center-inner"><span data-js-removebuttontext>'+__e(__("Remove image"))+'</span></div></div></div></div><div data-js-dropzone class="media-dropzone"><div data-js-mediaupload class="media-upload-button"><div class="v-center-outer"><div class="v-center-inner"><div class="dropzone-title"><span data-js-mediauploadtext class="dropzone-text">'+__e(dropzoneText)+'</span></div></div></div><div class="media-upload"><div data-subview="upload"></div></div></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},599:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"spotify"===service&&(__p+=' <iframe data-js-audioembed src="https://open.spotify.com/embed?uri='+__e(encodeURIComponent(url))+'&amp;view=coverart" width="500" height="580" frameborder="0" allowtransparency="true" scrolling="no" class="audio-embed--spotify"></iframe> '),__p+=" ","soundcloud"===service&&(__p+=' <iframe data-js-audioembed src="https://w.soundcloud.com/player/?url='+__e(encodeURIComponent(url))+'&amp;visual=true&amp;liking=false&amp;sharing=false&amp;auto_play=false&amp;show_comments=false&amp;continuous_play=false&amp;origin=tumblr" frameborder="0" allowtransparency="true" scrolling="no" width="500" height="500" class="audio-embed--soundcloud"></iframe> '),__p+=" ","bandcamp"===service&&(__p+=' <iframe data-js-audioembed src="https://bandcamp.com/EmbeddedPlayer/size=medium/bgcol=ffffff/linkcol=0687f5/notracklist=true/transparent=true/'+__e(type)+"="+__e(id)+'/" frameborder="0" allowtransparency="true" scrolling="no" width="500" height="120" class="audio-embed--bandcamp"></iframe> '),__p+=" ","direct"===service&&(__p+=' <div data-js-audioembed class="audio-embed--direct '+__e(canEditMedia?"audio-embed--direct-editable":"")+'"><div data-subview="audioPlayer"></div><div data-subview="id3Editor"></div><div data-subview="albumArtUploader"></div></div> '),__p+=" ",canEditMedia&&(__p+=' <div data-subview="removeButton"></div> ');return __p}.toString()).apply(void 0,_values(_imports))},600:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(219),s=i(276),a=i(277),l=i(230),c=i(601),u=o.extend({className:"confirm-tos",events:{"change [data-js-confirmTos]":"_onChangeConfirmTos","click [data-js-confirmTosText]":"_onClickConfirmTosText"},mixins:[s,a,l],template:c,initialize:function(e){this.options=e=n.extend({},e),n.extend(this.attributes,n.pick(e,n.keys(this.defaults))),this.user=e.user,this.post=e.post},_onChangeConfirmTos:function(e){this.post.set("confirmTos",r(e.currentTarget).is(":checked"))},_onClickConfirmTosText:function(){this.js$("confirmTos").trigger("click")},serialize:function(){return{confirmTos:this.post.get("confirmTos")}},render:function(){return this.$el.html(this.template(this.serialize())),this.js$("confirmTos").attr("checked",!!this.post.get("confirmTos")),this},teardown:function(){return this.$el.empty(),this}});e.exports=u},601:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<label class="binary_switch"><input class="confirm-tos--checkbox" type="checkbox" name="confirm_tos" data-js-confirmtos> <span class="binary_switch_track"></span> <span class="binary_switch_button"></span></label><span class="confirm-tos--text" data-js-confirmtostext>'+(null==(__t=__("This is my original work, or I %1$shave permission%2$s to post this.",'<a href="/terms-of-service" target="_blank">',"</a>"))?"":__t)+"</span>";return __p}.toString()).apply(void 0,_values(_imports))},602:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(7),s=function(){var e=4,t=["spotify","soundcloud","bandcamp"],i=["spotify","soundcloud"],s={},a=[],l=10,c={normalizeResults:function(e,t,i){var r={service:e};switch(e){case"spotify":return n.extend(r,{tracks:n.map(n.take(t.tracks.items,i),function(e){return{primary:e.name,secondary:n.first(e.artists).name,info:e.album.name,href:e.uri,id:e.uri}})});case"soundcloud":return n.extend(r,{tracks:n.map(n.take(t,i),function(e){return{primary:e.title,secondary:e.user.username,info:null,href:e.permalink_url,id:e.id}})});case"youtube":return n.extend(r,{tracks:n.map(n.take(t.items,i),function(e){return{primary:e.snippet.title,secondary:e.snippet.channelTitle,info:null,href:"https://www.youtube.com/watch?v="+e.id.videoId,id:e.id.videoId}})});default:throw"Invalid service: "+e}},getServiceByUrl:function(e){var t={spotify:/(open\.spotify\.com|spotify)[\/|:](track|album|artist|playlist|user)[\/|:](.*)?([\d-\w]{22})/i,soundcloud:/(http|https):\/\/soundcloud\.com\/[^\/]+\/(sets\/)?[^\/]+\/?(\?.*)?$/i,bandcamp:/(http|https):\/\/(?:([^\/]+\.)\.bandcamp\.com|[^\/]+\.[^\/]+)\/(track|album)\/[^\/]+$/i,direct:/[.](mp3)$/i};for(var i in t)if(t[i].test(e))return i;return!1},getData:function(e,i){if(!n.contains(t,i))return!1;if(e in s){var o=s[e];this._notifyOnDataLookup(e,i,o.data,o.isOK)}else{if("spotify"!==i||!e.match(new RegExp(/[\/:]playlist[\/:]/))){var a=r.ajax({url:"/svc/post/get_"+i+"_data",type:"POST",withFormKey:!0,data:{url:e,service:i}});return a.then(n.bind(function(t){t&&!t.error?this._notifyOnDataLookup(e,i,t,!0):this._notifyOnDataLookup(e,i,t,!1)},this),n.bind(function(t){this._notifyOnDataLookup(e,i,t,!1)},this))}this._notifyOnDataLookup(e,i,{},!0)}},_notifyOnDataLookup:function(e,t,i,n){var r=n?"audioEmbedData:fetched":"audioEmbedData:error";this.trigger(r,e,t,i,n)},_cacheDataLookupResults:function(e,t,i,r){s[e]={data:i,isOK:r},a.push(e),n.size(s)>l&&(delete s[a[0]],a.shift())},search:function(t,i,o){var s=o&&o.maxResults&&n.isNumber(o.maxResults)?o.maxResults:e,a=r.ajax({url:"/search_audio",type:"POST",withFormKey:!0,data:{q:i,audio_search_provider:t}});return a.then(n.bind(function(e){this.trigger("searchResults:fetched",this.normalizeResults(t,e,s))},this),n.bind(function(e){this.trigger("searchResults:fetched",{service:t,tracks:[]})},this))}};return function(){this.dataServices=t,this.searchServices=i,n.extend(this,o.Events,c),this.listenTo(this,"audioEmbedData:fetched",this._cacheDataLookupResults),this.listenTo(this,"audioEmbedData:error",this._cacheDataLookupResults)}}();e.exports=s},603:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(9),s=i(418),a=i(213),l=(i(132),i(180)),c=i(130),u=i(353),h=i(258),d=function(){return r.browser.chrome?".mp4,.mov,.wmv,video/*":r.browser.mozilla?"video/*":""}(),p=i(604),g=i(572),m=i(600),f=i(452),v=i(419),b=i(611),w=s.extend({template:b,defaults:n.defaults({hasMediaView:!0,hasMedia:!1,showTos:!1,showCaption:!1},s.prototype.defaults),afterInitialize:function(){this._urlParser=n.debounce(n.bind(this._embedCodeParser,this),100),this.post.getEmbedData()&&this.set({hasMedia:!0,showCaption:!0}),this.post.get("copyrightFallback")&&this.set({hasMedia:!0}),this.set("hideControlsLine",!this.get("showCaption"))},createSubViews:function(){var e=this.subViewOptions(),t=n.extend({embed:this.post.getEmbedData(),canEditMedia:this.post.canEditMedia()},e),i=n.extend({url:this.post.get("embedCode"),showInput:!n.isEmpty(this.post.get("embedCode")),embed:this.post.getEmbedData(),uploadIcon:"dropzone-add-video-icon",uploadText:c("Upload a video"),uploadTooltip:function(){var t=1e3*e.user.get("videoSecondsRemaining");return"<p>"+["<strong>"+c("Upload a video")+"</strong>",c("%1$s minutes of video remaining today.",o.utc(t).format("m:ss")),c("%1$s max per file.","100MB")].join("</p><p>")+"</p>"},urlIcon:"dropzone-add-url-icon",urlText:c("Add video from web"),urlPlaceholder:c("Paste a URL or embed code"),urlParser:this._urlParser,uploadOptions:{mediaType:"video"}},e);n.extend(i.uploadOptions,{name:"video",maxUploadSize:this.getMaxVideoByteSize(),uploadPattern:/^video\/(?:.*)$/i,accept:d,url:"/svc/post/upload_video"});var r=n.extend({},e),s=n.extend({className:"caption-field",name:"caption",placeholder:c("Add a caption, if you like"),ariaLabel:c("Caption")},e),a=n.extend({isRemovable:!0},e);this.mediaPreview=this.subViews.mediaPreview=new p(t),this.mediaComposer=this.subViews.mediaComposer=new g(i),this.confirmTos=this.subViews.confirmTos=new m(r),this.caption=this.subViews.caption=new f(s),this.post.isReblog()&&(this.reblogTree=this.subViews.reblogTree=new v(a))},getMaxVideoByteSize:function(){return!l.bool("ignore_video_upload_limits")&&(l.bool("increased_video_upload_limit")?524288e3:104857600)},addStateListeners:function(){this.listenTo(this.mediaComposer,"upload:start",this._onFileUploadStart),this.listenTo(this.mediaComposer,"upload:complete",this._onFileUploadComplete),this.listenTo(this.mediaComposer,"upload:error upload:invalid",this._onFileUploadError),this.listenTo(this.mediaPreview,"media:ready",function(){var e=n.toArray(arguments);e.unshift("media:ready"),this.trigger.apply(this,e)}),this.post.canEditMedia()&&this.listenTo(this.mediaPreview,"media:remove",this.removeMedia),this.listenTo(this,"change:hasMedia",this._onChangeHasMedia),this.listenTo(this,"change:showTos",this._onChangeShowTos),this.listenTo(this,"change:showCaption",this._onChangeShowCaption)},removeMedia:function(){this.post.softReset(),this.set({hasMedia:!1,showTos:!1}),this.mediaPreview.set({file:!1,embed:!1}),this.js$("confirmTos").attr("checked",!!this.post.get("confirmTos")),n.isEmpty(this.post.get("caption"))&&n.isEmpty(this.post.get("tags"))&&this.set("showCaption",!1)},_onChangeHasMedia:function(e,t){this.isRendered()&&(t?(this.mediaComposer.$el.css({display:"none",opacity:0}),this.mediaPreview.$el.css({display:"block",opacity:1})):(this.mediaPreview.$el.css({display:"none",opacity:0}),this.mediaComposer.$el.css({display:"block",opacity:1})))},_onChangeShowTos:function(e,t){this.isRendered()&&(t?this.js$("tos").css({display:"block",opacity:1}):this.js$("tos").css({display:"none",opacity:0}))},_onChangeShowCaption:function(e,t){this.set("hideControlsLine",!t),this.isRendered()&&(t?this.js$("caption").css({display:"block",opacity:1}):this.js$("caption").css({display:"none",opacity:0}))},_onFileUploadStart:function(e){this.uploads.add(e);var t=e.get("file");this.mediaPreview.set({file:t,canEditMedia:!0}),this.listenToOnce(this.mediaPreview,"media:ready",function(){this.set({hasMedia:!0,showTos:!0,showCaption:!0}),this.caption.focus()})},_onFileUploadComplete:function(e){var t=e.get("file"),i="portrait"===e.get("orientation");this.mediaPreview.set({file:t,canEditMedia:!0,width:i?e.get("height"):e.get("width"),height:i?e.get("width"):e.get("height")}),this.post.set({preuploadUrl:e.get("key"),preuploadKey:e.get("ch")})},_onFileUploadError:function(e){var t=e.get("error")||c("Error uploading video");n.isArray(t)&&(t=t.join("</p><p>"));var i=this.getMaxVideoByteSize();l.bool("upload_to_vimeo")&&i&&e.get("file").size>i||"Video file is too large"===t?this.launchVimeoDialog():a.alert("<p>"+t+"</p>"),this.removeMedia()},launchVimeoDialog:function(){var e=c("That's an impressively big video. Unfortunately, Tumblr can only handle 100MB at a time. If you're looking to post huuuuuge stuff, just use Vimeo.");l.bool("increased_video_upload_limit")&&(e=c("That's an impressively big video. Unfortunately, Tumblr can only handle %1$s at a time. If you're looking to post huuuuuge stuff, just use Vimeo.","500MB"));var t={text:e,type:"video-vimeo-error",visible_glass:!0,buttons:{0:{text:c("Nevermind"),callback:function(){}},1:{text:c("Upload to Vimeo"),selected:!0,btn_class:"blue upload-to-vimeo-btn",callback:function(){window.open("https://vimeo.com/upload?utm_source=tumblr&utm_medium=partner&utm_campaign=28742","_blank")}}},scroll_lock:!0};a.dialog(t)},_embedCodeParser:function(e,t,i){if(this._embedCodeParsing&&this._embedCodeParsing.abortEmbedCodeParse(),!n.isEmpty(n.trim(e))){var r=!1,o=this._parseEmbedCode=u.parseEmbedData(e,540).then(n.bind(function(i){r||(this._embedCodeParsing=!1),this.listenToOnce(this.mediaPreview,"media:ready",function(){this.set({hasMedia:!0,showCaption:!0}),this.caption.focus()}),this.mediaPreview.set(n.extend({embed:h(i),canEditMedia:!0},n.pick(i,["width","height"]))),t.trigger("url:complete"),this.post.set({embedCode:e})},this),function(e){t.trigger("url:error")});return o.abortEmbedCodeParse=function(){r=!0},o}},afterRender:function(){this.renderSubViews(),this.get("hasMedia")?this.mediaComposer.$el.css({display:"none",opacity:0}):this.mediaPreview.$el.css({display:"none",opacity:0}),this.get("showTos")||this.js$("tos").css({display:"none",opacity:0}),this.get("showCaption")?this.delayedFocus(this.caption):this.js$("caption").css({display:"none",opacity:0})},executeUrlParser:function(e){this.subViews.mediaComposer.urlParser(e)},getRichTextEditor:function(){return this.caption}});e.exports=w},604:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(192),s=i(605),a=i(534),l=i(240),c=i(428),u=i(130),h=i(606),d=i(422),p=i(607),g=i(608),m=i(609),f=i(610),v=a.extend({className:"media-container video-media-container",events:{mouseenter:"_onHoverRemoveButton",mouseleave:"_onHoverRemoveButton"},template:p,mixins:[l],defaults:n.defaults({canPreview:!0,file:!1,embed:!1,width:!1,height:!1},a.prototype.defaults),afterInitialize:function(){this.addStateListeners()},addStateListeners:function(){this.listenTo(this,"change",this._onChangeVideo),this.listenTo(this.post,"change:preuploadUrl",this._onChangePreuploadUrl)},_onHoverRemoveButton:function(e){var t="mouseover"===e.type||"mouseenter"===e.type;this.js$("removeButton").toggleClass("active",t)},_onChangeVideo:function(){(this.hasChanged("file")||this.hasChanged("embed")||this.hasChanged("canPreview"))&&(this.hasChanged("file")?this.attributes.embed=!1:this.hasChanged("embed")&&(this.attributes.file=!1),this.hasChanged("canPreview")||this.set("canPreview",!0),this.isRendered()&&(this.teardown(),this.render(),this.addStateListeners()))},_onChangePreuploadUrl:function(e,t){this._updateUploadPreview(t,this.get("file"))},_updateUploadPreview:function(e,t){var i=t&&t.name?'"'+t.name+'"':"";e?(this.js$("previewIcon").removeClass("video-uploading").addClass("video-check"),this.js$("previewMessage").html(u("Your video %1$s has been uploaded",i))):(this.js$("previewIcon").removeClass("video-check").addClass("video-uploading"),this.js$("previewMessage").html(u("Uploading your video %1$s",i)))},_createVideoPlayer:function(e){if(!this.get("canPreview"))return this.js$("video").html(g({icon:"",message:""})),void this._updateUploadPreview(this.post.get("preuploadUrl"),e);var t=540,i=this.get("width"),r=this.get("height"),s=i&&r?h(i,r,t):{width:t};n.extend(s,{file:e,techOrder:["html5"]});var a=this.player=new c(document.createElement("video"),{attributes:{watch:!1},vjsOptions:s}),l=!1,u=this.whenEvent(a,"ready");return this.listenTo(a,"error",n.bind(function(e){l=!0,n.defer(function(){this.set("canPreview",!1),this.trigger("media:ready",this)}.bind(this))},this)),o.join(this.whenEvent(a,"change:loaded"),u).then(function(){if(!l){this.js$("video").append(a.$el);var e={width:"auto",height:"auto"},i=a.$video.prop("videoWidth"),n=a.$video.prop("videoHeight");i&&n&&(e=h(i,n,t)),a.$el.css(e),this.trigger("media:ready",this)}}.bind(this)),a.render(),a},_createVideoEmbed:function(){var e=function(e){return r('<a href="'+e.get("blog_url")+'"></a>').prop("hostname")}(this.user.getChannel(this.post.get("tumblelog"))),t=this.get("embed"),i=n.extend({tumblelogHostname:e},t);this.js$("video").html(m(i)),"inline"===t.embedRenderContext?s(function(){this.trigger("media:ready",this)},250,this)():this.trigger("media:ready",this)},beforeTeardown:function(){this.player&&this.player.teardown(),delete this.player},beforeRender:function(){this.removeButton=this.subViews.removeButton=new d({onClick:function(){this.trigger("media:remove",this)}.bind(this),buttonClass:"top-right"})},afterRender:function(){this.js$("video",!0),this.renderSubViews(),this.player=!1,this.get("file")?this._createVideoPlayer(this.get("file")):this.get("embed")?n.isEmpty(this.get("embed"))?(this.js$("video").html(f()),this.trigger("media:ready",this)):this._createVideoEmbed(this.get("embed")):this.trigger("media:ready",this)}});e.exports=v},605:function(e,t){"use strict";function i(e,t,i){return function(){i||(i=this);var n=arguments;return setTimeout(function(){e.apply(i,n)},t)}}e.exports=i},606:function(e,t,i){"use strict";var n=i(3),r=function(e,t,i){var r={};n.isPlainObject(e)&&(i=t,n.extend(r,e),e=r.width,t=r.height);var o=Math.round(t/e*i);return r.width=i,r.height=o,r};e.exports=r},607:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="video-container" data-js-video></div> ',canEditMedia&&(__p+=' <div data-subview="removeButton"></div> ');return __p}.toString()).apply(void 0,_values(_imports))},608:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="media-preview"><div class="v-center-outer"><div class="v-center-inner"><div class="icon '+__e(icon)+'" data-js-previewicon></div><p class="media-preview-text" data-js-previewmessage>'+__e(message)+"</p></div></div></div>";return __p}.toString()).apply(void 0,_values(_imports))},609:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"inline"===embedRenderContext?__p+=' <div class="video-preview"> '+(null==(__t=previewIframe)?"":__t)+" </div> ":(__p+=' <div class="video-preview video_preview '+__e(thumbnail&&thumbnail.url?"has_thumbnail":"no_thumbnail")+'"> ',thumbnail&&thumbnail.url&&(__p+=' <img src="'+__e(thumbnail.url)+'" alt="" width="'+__e(thumbnail.width||"")+'" height="'+__e(thumbnail.height||"")+'"> '),__p+=' <div class="video_info_wrapper"><i class="icon_post_video"></i><div class="video_text"><span class="clippable">'+__e(__("Watch on %s",tumblelogHostname))+'</span><i class="icon_arrow_carrot_right"></i></div></div></div> ');return __p}.toString()).apply(void 0,_values(_imports))},610:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="video-error"><div class="v-center-outer"><div class="v-center-inner"><span class="icon"></span> <span class="error-message">'+__e(__("This video embed stopped working. Try another?"))+"</span></div></div></div>";return __p}.toString()).apply(void 0,_values(_imports))},611:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="media-wrapper" data-js-media><div data-subview="mediaPreview"></div><div data-subview="mediaComposer"></div></div><div class="caption-wrapper" data-js-tos><div data-subview="confirmTos"></div></div><div class="caption-wrapper" data-js-caption><div data-subview="reblogTree"></div><div data-subview="caption"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},612:function(e,t,i){"use strict";var n=i(3),r=i(130),o=i(418),s=i(613),a=i(452),l=i(419),c=i(615),u=o.extend({template:c,className:"post-composer_note-post",createSubViews:function(){var e=this.subViewOptions(),t=n.extend({className:"answer-field",name:"answer",placeholder:r("Your answer here"),ariaLabel:r("Answer")},e),i=n.extend({className:"caption-field",name:"caption",placeholder:r("Add your own text, if you like"),ariaLabel:r("Caption")},e),o=n.extend({isRemovable:!0},e);this.askField=this.subViews.askField=new s(e),this.post.isReblog()?(this.reblogTree=this.subViews.reblogTree=new l(o),this.caption=this.subViews.caption=new a(i)):this.answerField=this.subViews.answerField=new a(t)},afterRender:function(){this.renderSubViews(),this.post.isReblog()?this.delayedFocus(this.caption):this.delayedFocus(this.answerField)},getRichTextEditor:function(){return this.model.get("is_reblog")?this.caption:this.answerField}});e.exports=u},613:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(230),s=i(276),a=i(614),l=r.extend({template:a,mixins:[o,s],serialize:function(){return n.extend({post:this.model.toJSON(),showAnswerField:this.model.isReblog()},this.toJSON())},render:function(){return this.$el.html(this.template(this.serialize())),this}});e.exports=l},614:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="note_wrapper" data-name="askField"><div class="note_item"><div class="text"><p class="asker"><span class="name">'+__e(post.asking_tumblelog.name.toLowerCase())+"</span>&nbsp; <span>"+__e(__("asked"))+':</span></p><p class="note_text">'+(null==(__t=post.ask)?"":__t)+'</p></div><div class="nipple"></div></div><div class="avatar"><img src="'+__e(post.asking_tumblelog.avatar)+'" alt="" width="40" height="40"></div></div> ',showAnswerField&&(__p+=' <div class="note_wrapper" data-name="answerField"><div class="note_item"><div class="text"><p class="answerer"><span class="name">'+__e(post.answering_tumblelog.name.toLowerCase())+"</span>&nbsp; <span>"+__e(__("answered"))+":</span></p> "+(null==(__t=post.answer)?"":__t)+' </div><div class="nipple"></div></div><div class="avatar"><img src="'+__e(post.answering_tumblelog.avatar)+'" alt="" width="40" height="40"></div></div> ');return __p}.toString()).apply(void 0,_values(_imports))},615:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div data-subview="askField"></div><div data-subview="answerField"></div><div data-subview="reblogTree"></div><div data-subview="caption"></div>';return __p}.toString()).apply(void 0,_values(_imports))},616:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="post-margin" data-js-margin><div data-subview="avatar"></div></div><div class="post-container" data-js-container-outer><div class="post-container-inner post" data-js-container-inner><div class="post-form--header clearfix" data-js-header><div class="controls-container"><div class="control left"><div data-subview="tumblelogSelect"></div></div><div class="control right"><div data-subview="uploadingIndicator"></div><div data-subview="postSettings"></div></div></div></div> ',__p+=blockContentEditing?' <div class="post-form--form blocked"> '+__e(blockContentEditingLabel)+" </div> ":' <div class="post-form--form post-content-text"><div data-subview="postTypeForm"></div></div> ',__p+=' <div class="post-form--footer" data-js-footer><div data-subview="tagEditor"></div><div data-subview="editorButtons"></div></div><div class="post-form--guard"></div><div class="post-form--bottom" data-js-bottom><div class="post-form--controls" data-js-postformcontrols><div class="controls-container"><div class="control left"><button class="tx-button" data-js-clickableclose="">'+__e(closeLabel)+'</button></div><div class="control right"><div data-subview="socialButtons"></div></div><div class="control right"><div data-subview="savePostButton"></div></div></div></div><div data-subview="errorBar"></div></div><div data-subview="richTextEditorTutorial"></div></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},617:function(e,t,i){"use strict";var n=i(3),r=i(8),o=i(7),s=i(215),a=0,l=function(e){e=null==e||n.isPlainObject(e)?n.extend({target:"body",autostart:!1},e):{target:e,autostart:!1};var t=".drag_eventor_"+a++,i=r(e.target),l=!1,c=0,u=new s;n.extend(u,o.Events);var h=["dragenter","dragover","dragleave","dragend","drop"],d=function(e){u.trigger(e.type,e)};return u.start=function(){c++,l||(l=!0,n.forEach(h,function(e){i.on(e+t,d)}))},u.stop=function(){c--,c<=0&&(l=!1,n.forEach(h,function(e){i.off(e+t,d)}))},e.autostart&&u.start(),u};e.exports=l},1540:function(e,t,i){"use strict";var n=i(1541);n.start()},1541:function(e,t,i){"use strict";var n=i(5),r=i(1542),o=n.extend({root:"/widgets/share/",routes:{tool:"shareTool","tool/banned(/)":"bannedSite","tool/preview(/)":"preview"},shareTool:function(){this.shareTool=new r,this.shareTool.render()},bannedSite:function(){this.shareTool=new r,this.shareTool.renderBanned()},preview:function(){this.shareTool=new r,this.shareTool.renderPreview()}});e.exports=o},1542:function(e,t,i){"use strict";var n=i(3),r=i(214),o=i(1543),s=i(1566),a=i(1568),l=r.extend({name:"ShareTool",initialize:function(e){this.options=n.extend({},this.defaults,e),this.clonedData=JSON.parse(JSON.stringify(this.data?this.data:{}))},render:function(){return this.shareToolView=new o(this.clonedData),this.shareToolView.render(),this},renderBanned:function(){return this.bannedSiteView=new s,this.bannedSiteView.render(),this},renderPreview:function(){return this.previewView=new a(this.clonedData),this.previewView.render(),this}});e.exports=l},1543:function(e,t,i){"use strict";var n=i(3),r=i(192),o=i(219),s=i(136),a=i(129),l=i(259),c=i(1544),u=i(276),h=i(251),d=i(353),p=i(182),g=i(331),m=i(1545),f=i(1551),v=i(1560),b=i(1561),w=i(1563),y=i(1565),_=o.extend({el:"#share-tool",template:y,mixins:[u],defaults:{url:"",media:{},photosetLimit:10,postData:{},selection:"",shareSource:"",type:"",sequence:""},initialize:function(e){this.options=n.extend({},this.defaults,e),this.user=p(),this.post=null,this.media=this.options.media,this.postData=this._getPostData(),this.data=a.get("Components/PostFormBuilder"),this.windowWidth=0,this.windowHeightOffset=0,this.isPhotosetDragging=!1,this.user.set(this.data.limits),this.user.set(this.data.dashboardSettings),this.user.set("language",this.data.language||"en_US"),this.listenTo(s,"photoset:dragstart",this.__photosetDragStart),this.listenTo(s,"photoset:dragend",this.__photosetDragEnd),d.setEmbedRegexes(this.data.embedRegexes)},__photosetDragStart:function(){this.isPhotosetDragging=!0},__photosetDragEnd:function(){this.isPhotosetDragging=!1},__addMedia:function(e,t){this.post.set(t),this.renderPostForm(!0)},__changePostType:function(e,t){this.post=this._getPostModel(t.type),this.postTypeTransition.type=t.type,this.postTypeTransition.position=t.position,this.postTypeTransition.render()},__postTypeTransitionIn:function(){this.renderPostForm()},__postFormSaved:function(e,t){this.celebration.response=t.responseJSON,this.celebration.render().then(n.bind(this.postForm.teardown,this.postForm)),this.$el.addClass("celebrating")},__resize:function(){this.isPhotosetDragging||window.resizeTo(this.windowWidth,this.$el.outerHeight(!0)+this.windowHeightOffset)},_createSubviews:function(){var e={user:this.user,minFullWidthSize:this.data.minFullWidthSize};this.loader=this.subViews.loader=new g({variation:"centered"}),this.header=this.subViews.header=new m(e),this.mediaSelection=this.subViews.mediaSelection=new f(n.assign(e,{photosetLimit:this.options.photosetLimit})),this.postForm=this.subViews.postForm=new v(e),this.celebration=this.subViews.celebration=new b,this.postTypeTransition=this.subViews.postTypeTransition=new w},_getPostData:function(){var e=this.options.postData,t=this.options.media;return n.each(e,function(e){n.has(e,"caption")&&e.caption.length&&(e.caption="<p>"+e.caption+" </p>")}),this.options.type?n.pick(e,this.options.type):(n.size(t.audio)<1&&(e=n.omit(e,"audio")),n.size(t.video)<1&&(e=n.omit(e,"video")),
n.size(t.photo)<1&&(e=n.omit(e,"photo")),this.options.selection||(e=n.omit(e,["quote","text"])),e)},_getPostModel:function(e){e=e||this.options.type;var t={tumblelog:this.post?this.post.get("tumblelog"):this.data.currentChannel,editorType:this.user.get("defaultEditorType"),mode:"new",sourceUrl:this.options.url,sharePostTypes:n.keys(this.postData),contextData:{baseRoute:this.data.baseRoute},shareData:{shareSource:this.options.shareSource,sequence:this.options.sequence}};return t="reblog"===e?n.assign(t,{lookupData:{reblog_id:this.options.reblogId,reblog_key:this.options.reblogKey,post_type:this.post?this.post.get("type"):""},mode:"reblog",reblogSource:this.options.reblogSource}):n.assign(t,{type:e,mode:"new",sourceUrl:this.options.url,sharePostTypes:n.keys(this.postData)},this.postData[e]),new h(t)},_getDefaultPostType:function(){return this.options.type?this.options.type:"preview"===this.options.sequence||"preview_always"===this.options.sequence?"link":this.options.selection?"quote":n.size(this.media.video)>0?"video":n.size(this.media.photo)>1?"photo":"link"},_refreshHeader:function(){this.header.teardown(),this.header.post=this.post,this.header.render()},_setupMutationObserver:function(){var e=window.MutationObserver||window.WebKitMutationObserver;if(e){var t=this.$el.get(0),i={attributes:!0,attributeOldValue:!1,characterDatakey:!0,characterDataOldValue:!1,childList:!0,subtree:!0},r=new e(n.debounce(n.bind(this.__resize,this),60));r.observe(t,i)}else setInterval(n.bind(this.__resize,this),200)},render:function(){return this.$el.html(this.template()),this.windowWidth=this.$el.width()+c(),this.windowHeightOffset=window.outerHeight-window.innerHeight,this._setupMutationObserver(),this._createSubviews(),this.attachSubViews(),this},afterRender:function(){return this.loader.render().set("loading",!0),this.$el.addClass("loading"),n.size(this.media.photo)>0?(this.media.photo=n.uniq(this.media.photo,function(e){return e.url}),_.preloadImages(this.media.photo).done(n.bind(function(e){this.media.photo=n.filter(e,function(e){return e.width>=240&&e.height>=50}),n.size(this.media.photo)<1&&(this.postData=n.omit(this.postData,"photo")),this.beforeRenderPostForm()},this))):this.beforeRenderPostForm(),this.listenTo(s,"sharetool:addMedia",this.__addMedia),this.listenTo(s,"sharetool:changePostType",this.__changePostType),this.listenTo(s,"sharetool:postTypeTransitionIn",this.__postTypeTransitionIn),this.listenTo(s,"postForms:saved",this.__postFormSaved),this},beforeRenderPostForm:function(){return this.options.reblogKey?void this.renderReblogForm():(this.post=this._getPostModel(this._getDefaultPostType()),void(this.post.has("sharephotos")?_.preloadImages(this.post.get("sharephotos")).done(n.bind(function(e){this.post.set("photos",e),this.renderPostForm()},this)):this.renderPostForm()))},renderPostForm:function(e){var t=this.post.get("type");this.loader.set("loading",!1),this.$el.removeClass("loading"),this.mediaSelection.teardown(),this.postForm.teardown(),this._refreshHeader(),!e&&n.has(this.media,t)&&n.size(this.media[t])>0?this.renderMediaSelection():(this.postForm.post=this.post,this.postForm.render())},renderMediaSelection:function(){var e=this.post.get("type"),t=this.media[e];n.size(t)<2?("photo"===e?this.post.set("photos",t):"video"===e&&this.post.set({video_embed:t[0],embedCode:n.has(t[0],"embed_code")?t[0].embed_code:""}),this.renderPostForm(!0)):(this.mediaSelection.media=this.media[e],this.mediaSelection.post=this.post,this.mediaSelection.render())},renderReblogForm:function(){this.stopListening(this.post),this.post=this._getPostModel("reblog"),this.renderPostForm(!0)}},{preloadImages:function(e){if(e&&n.size(e)){n.has(e,"url")&&(e=[e]);var t=n.map(e,function(e){return l.load(e.url).then(function(e){return{url:e.src,externalUrl:e.src,height:e.height,width:e.width}}).catch(function(e){})});return r.all(t).then(function(e){return e.filter(Boolean)})}}});e.exports=_},1544:function(e,t){"use strict";e.exports=function(){var e=document.createElement("div"),t=0;return e.style.height="100px",e.style.width="100px",e.style.overflow="scroll",document.body.appendChild(e),t=e.offsetWidth-e.clientWidth,document.body.removeChild(e),t}},1545:function(e,t,i){"use strict";var n=i(3),r=i(276),o=i(278),s=i(280),a=i(286),l=i(1546),c=i(136),u=i(219),h=i(1550),d=u.extend({className:"share-tool--header",template:h,mixins:[r],__postFormsSaving:function(){this.$el.addClass("saving")},__postFormsError:function(){this.$el.removeClass("saving")},initialize:function(e){this.options=n.extend({},this.defaults,e),this.user=this.options.user,this.listenTo(c,"postForms:saving",this.__postFormsSaving),this.listenTo(c,"postForms:error",this.__postFormsError)},render:function(){if(this.post&&this.user){var e=n.size(this.post.get("sharePostTypes"))>1;this.$el.html(this.template({showPostButton:e}));var t=this.post.get("tumblelog"),i={user:this.user,post:this.post,model:this.post};return this.avatar=this.subViews.avatar=new o(n.assign(i,{determineViewState:!1,showSubavatar:this.user.getChannel(t).get("show_author_avatar"),avatarUrl:this.user.getChannel(t).get("avatar_url")})),this.tumblelogSelect=this.subViews.tumblelogSelect=new s(i),this.postSettings=this.subViews.postSettings=new a(i),e&&(this.postTypeButton=this.subViews.postTypeButton=new l({post:this.post})),this.attachSubViews(),this}}});e.exports=d},1546:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(1547),s=i(1548),a=r.extend({tagName:"div",className:"share-tool--post-type-button",template:o,events:{"click [data-js-clickablePostTypeSelect]":"togglePostTypeDropdown"},initialize:function(e){this.options=n.extend({},this.defaults,e),this.post=this.options.post,this.postTypeDropdown=new s({shift:{x:0,y:10},identifier:"postTypeDropdown",postTypes:this.post.get("sharePostTypes")})},togglePostTypeDropdown:function(e){this.postTypeDropdown.isOrWasRecentlyRendered()||this.postTypeDropdown.render()},render:function(){return this.$el.html(this.template({type:this.post.get("type")})),this.postTypeDropdown.setPinnedTarget(this.$(".post-type")),this}});e.exports=a},1547:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="post-type '+__e(type)+'" data-js-clickableposttypeselect></div>';return __p}.toString()).apply(void 0,_values(_imports))},1548:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(230),s=i(276),a=i(283),l=i(130),c=i(219),u=i(136),h=i(1549),d=c.extend({className:"popover--post-type-dropdown",mixins:[o,s,a],template:h,events:{"click .item-option":"__itemClick"},__itemClick:function(e){e.preventDefault();var t=n(e.currentTarget),i=t.offset(),r=t.data("post-type");u.trigger("sharetool:changePostType",{},{type:r,position:{left:i.left,top:i.top,width:t.outerWidth(),height:t.outerHeight()}}),this.teardown()},initialize:function(e){this.postTypes=e.postTypes},_getPostTypes:function(){return r.transform(this.postTypes,function(e,t){e[t]=l(r.capitalize(t))},{})},render:function(){return this.delegateEvents(),this.$el.html(h({types:this._getPostTypes()})),this},teardown:function(){return this.stopListening(),this.$el.remove(),this}});e.exports=d},1549:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="pop-menu"><div class="inner select-center"><div class="item-option-wrapper"> ',_.forEach(types,function(e,t){__p+=' <div class="item-option '+__e(t)+'" data-post-type="'+__e(t)+'"><i class="icon icon_post_'+__e(t)+'_small"></i> <span class="label">'+__e(e)+"</span></div> "}),__p+=" </div></div></div>";return __p}.toString()).apply(void 0,_values(_imports))},1550:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj)__p+='<div class="post-form--header clearfix" data-js-header><div class="controls-container"><div class="control left"><div data-subview="avatar"></div><div data-subview="tumblelogSelect"></div></div><div class="control right"> ',showPostButton&&(__p+=' <div data-subview="postTypeButton"></div> '),__p+=' <div data-subview="postSettings"></div></div></div><div class="saving-guard"></div></div>';return __p}.toString()).apply(void 0,_values(_imports))},1551:function(e,t,i){"use strict";var n=i(3),r=i(276),o=i(219),s=i(136),a=i(1552),l={audio:i(1553),photo:i(1556),video:i(1558)},c=o.extend({className:"share-tool--media-selection",template:a,mixins:[r],events:{"click .next-button:not(:disabled)":"__nextButtonClick","click .cancel-button":"__cancelButtonClick","click .close-button":"__closeButtonClick"},__nextButtonClick:function(e){e.preventDefault(),s.trigger("sharetool:addMedia",{},this.selectedMedia)},__cancelButtonClick:function(e){e.preventDefault(),s.trigger("sharetool:cancelMedia")},__closeButtonClick:function(e){e.preventDefault(),window.close()},__mediaChange:function(e,t){this.selectedMedia=t,this.$(".next-button").attr("disabled",n.size(t)<1)},_getMediaView:function(){var e=this.post.get("type"),t=n.has(l,e)?l[e]:null;return t?new t({media:this.media,photosetLimit:this.options.photosetLimit}):null},initialize:function(e){this.options=n.extend({},this.defaults,e),this.user=this.options.user,this.selectedMedia=null},render:function(){if(this.post&&!(n.size(this.media)<1))return this.$el.html(this.template()),this.mediaView=this.subViews.mediaView=this._getMediaView(),this.attachSubViews(),this},afterRender:function(){return this.listenTo(s,"sharetool:mediaChange",this.__mediaChange),this.renderSubViews(),this},teardown:function(){return this.stopListening(),this.$el.empty(),this}});e.exports=c},1552:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="selection-grid-wrapper"><div data-subview="mediaView"></div></div><div class="selection-navigation clearfix"><button class="tx-button left close-button">'+__e(__("Close"))+'</button> <button class="tx-button blue right next-button" disabled="disabled">'+__e(__("Next"))+"</button></div>";return __p}.toString()).apply(void 0,_values(_imports))},1553:function(e,t,i){"use strict";var n=i(1554),r=i(1555),o=n.extend({template:r});e.exports=o},1554:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(219),s=i(475),a=o.extend({className:"media-selection-grid clearfix",defaults:{media:{}},events:{"click .thumbnail":"__thumbnailClick"},__thumbnailClick:function(e){e.preventDefault();var t=n(e.currentTarget);t.hasClass("selected")?t.removeClass("selected"):(this.$(".selected").removeClass("selected"),t.addClass("selected"))},initialize:function(e){this.options=r.extend({},this.defaults,e)},render:function(){return this.$el.html(this.template({media:this.options.media})),r.delay(r.bind(this.renderMasonryGrid,this),150),this},renderMasonryGrid:function(){this.masonry=new s(this.$el.get(0),{itemSelector:".thumbnail",columnWidth:".thumbnail",percentPosition:!0,gutter:20})}});e.exports=a},1555:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+="";return __p}.toString()).apply(void 0,_values(_imports))},1556:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(136),s=i(1554),a=i(1557),l=s.extend({template:a,__thumbnailClick:function(e){e.preventDefault();var t=n(e.currentTarget);if(!(this.photos.length>=this.maxPhotos)||t.hasClass("selected")){t.toggleClass("selected"),t.hasClass("selected")?this.photos.push(t.data()):r.remove(this.photos,function(e){return e.url===t.data("url")}),this._updateSelectedPhotos();var i={};this.photos.length&&(i.photos=this.photos),o.trigger("sharetool:mediaChange",{},i)}},_updateSelectedPhotos:function(){for(var e=this.$(".thumbnail.selected"),t=0;t<this.photos.length;t++){var i=this.photos[t].url,n=e.filter('[data-url="'+i+'"]');n.find(".selected-label").text(t+1)}},initialize:function(e){s.prototype.initialize.call(this,e),this.photos=[],this.maxPhotos=this.options.photosetLimit,this.options.media=r.sortBy(this.options.media,function(e){return-e.width})}});e.exports=l},1557:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.forEach(media,function(e,t){__p+=' <div class="thumbnail" data-url="'+__e(e.url)+'" data-external-url="'+__e(e.url)+'" data-width="'+__e(e.width)+'" data-height="'+__e(e.height)+'"><img class="media" src="'+__e(e.url)+'" alt=""><div class="hover"><div class="hover-inner"><span class="selected-label"></span> <span class="info">'+__e(e.width)+" x "+__e(e.height)+"</span></div></div></div> "});return __p}.toString()).apply(void 0,_values(_imports))},1558:function(e,t,i){"use strict";var n=i(8),r=i(3),o=i(136),s=i(1554),a=i(1559),l=s.extend({template:a,__thumbnailClick:function(e){s.prototype.__thumbnailClick.call(this,e);var t=n(e.currentTarget),i=t.hasClass("selected");o.trigger("sharetool:mediaChange",{},r.assign(t.data(),{video_embed:i?this.options.media[t.index()]:null}))}});e.exports=l},1559:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.forEach(media,function(e,t){__p+=' <div class="thumbnail video" style="background-image:url('+__e(_.has(e,"thumbnail")?e.thumbnail.url:"")+')" data-embed-code="'+__e(e.embed_code)+'"><div class="hover"><div class="hover-inner"><i class="selected-label icon_checkmark"></i> <i class="play-icon icon_play"></i> ',_.has(e.attribution,"title")&&(__p+=' <span class="info">'+__e(e.attribution.title)+"</span> "),__p+=" </div></div></div> "});return __p}.toString()).apply(void 0,_values(_imports))},1560:function(e,t,i){"use strict";var n=i(3),r=i(219),o=i(136),s=i(130),a=i(182),l=i(249),c=r.extend({className:"share-tool--post-form",defaults:{showCloseButton:!0,minFullWidthSize:null},events:{"click [data-js-clickableclose]":"__closeButtonClick"},__closeButtonClick:function(e){return e.preventDefault(),e.stopPropagation(),this.options.showCloseButton?void window.close():void o.trigger("sharetool:cancelPostForm")},initialize:function(e){this.options=n.extend({},this.defaults,e),this.user=this.options.user||a()},render:function(){return this.post?(this.postFormComponent=new l({user:this.user,post:this.post,closeLabel:s(this.options.showCloseButton?"Close":"Cancel"),disablePhotoFromUrl:!0,minFullWidthSize:this.options.minFullWidthSize}),this.postFormComponent.whenRendered(!0).done(n.bind(function(){this.$el.html(this.postFormComponent.postForm.el),this.$el.css("margin-bottom",1).css("margin-bottom","")},this)),this):this},teardown:function(){return this.postFormComponent&&(this.postFormComponent.remove(),this.postFormComponent=null),this.stopListening(),this.$el.empty(),this}});e.exports=c},1561:function(e,t,i){"use strict";var n=i(3),r=i(276),o=i(219),s=i(235).animate,a=i(1562),l=i(911),c=o.extend({className:"share-tool--celebration",template:a,mixins:[r],_animateExploreButton:function(){var e=this.$(".explore-button");e.length&&(e.css("opacity",0),s(e,{opacity:[1,0],scale:[1,.3]},{delay:2e3,duration:250,easing:[.175,.885,.32,1.275]}))},initialize:function(e){this.options=n.extend({},this.defaults,e)},render:function(){if(!this.response)return this;var e=this.response.message.split(" ");return this.$el.html(a(n.extend(this.response,{tokens:e,usernameIdx:e.indexOf(this.response.post_tumblelog.name_or_id)}))),this.confetti=this.subViews.confetti=new l({amount:30,autoParty:!0,colors:["#ff492f","#ff8a00","#e8d738","#00cf35","#00b8ff","#7c5cff"],speed:.3}),this.attachSubViews(),this._animateExploreButton(),s(this.$el,{opacity:[1,0]},{duration:300,easing:"easeInOutQuart"})}});e.exports=c},1562:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="celebration-wrapper"><div class="confetti-wrapper"><div data-subview="confetti"></div></div><div class="success-message"><div class="avatar-dance"><div class="avatar-wrapper"><div class="avatar" style="background-image:url('+__e(post_tumblelog.avatar_64)+')"></div></div><div class="shadow"></div></div><p class="message"> ',_.forEach(tokens,function(e,t){__p+=" ",__p+=t===usernameIdx?' <a class="post-link" href="'+__e(post_tumblelog.post_url)+'">'+__e(post_tumblelog.name_or_id)+"</a> ":" <span> "+__e(e)+" </span> ",__p+=" "}),__p+=' </p><a class="tx-button blue explore-button" href="/explore" role="button">'+__e(__("Here's what's trending"))+"</a></div></div>";return __p}.toString()).apply(void 0,_values(_imports))},1563:function(e,t,i){"use strict";var n=i(3),r=i(235).animate,o=i(219),s=i(136),a=i(1564),l=o.extend({className:"share-tool--post-type-transition",template:a,events:{},initialize:function(e){this.options=n.extend({},this.defaults,e)},render:function(){return this.type?(this.$el.html(this.template({type:this.type})),this.transitionIn(),this):this},transitionIn:function(){this.position&&r(this.$el,{opacity:[1,0]},{duration:300,easing:"easeInOutQuart",complete:n.bind(function(){s.trigger("sharetool:postTypeTransitionIn"),this.transitionOut()},this)})},transitionOut:function(){r(this.$el,{translateY:["-100%","0%"]},{delay:600,duration:250,easing:"easeInSine",complete:n.bind(this.teardown,this)})},teardown:function(){return this.stopListening(),this.$el.attr("style","").empty(),this}});e.exports=l},1564:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="post-type-transition '+__e(type)+'"><i class="icon icon_post_'+__e(type)+'"></i></div>';return __p}.toString()).apply(void 0,_values(_imports))},1565:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div data-subview="loader"></div><div data-subview="header"></div><div class="share-tool-content"><div data-subview="mediaSelection"></div><div data-subview="postForm"></div></div><div data-subview="celebration"></div><div data-subview="postTypeTransition"></div>';return __p}.toString()).apply(void 0,_values(_imports))},1566:function(e,t,i){"use strict";var n=i(219),r=i(1567),o=n.extend({el:"#share-tool",template:r,render:function(){return this.$el.html(this.template()),this}});e.exports=o},1567:function(module,exports,__webpack_require__){var _=__webpack_require__(3),_imports="undefined"!=typeof _?_.templateSettings.imports:{},_keys=_.keys,_values=_.values;module.exports=Function(_keys(_imports),"return "+function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="banned-site"><h2 class="banned-title">'+__e(__("Not Available for Sharing"))+'</h2><p class="banned-content">'+__e(__("Sorry, the owner of this site has asked that we not allow its content to appear on Tumblr."))+'</p><p class="banned-content">'+__e(__("If you'd like to ask for permission, please contact the site owner directly."))+"</p></div>";return __p}.toString()).apply(void 0,_values(_imports))},1568:function(e,t,i){"use strict";var n=i(3),r=i(130),o=i(259),s=i(219),a=i(1544),l=i(292),c=i(254),u=s.extend({el:"#share-tool",defaults:{selection:null,redirect:null},initialize:function(e){this.options=n.extend({},this.defaults,e)},render:function(){return this.captionField=this._createCaptionEditor(),this.windowWidth=this.$el.width()+a(),this.windowHeightOffset=window.outerHeight-window.innerHeight,this._resizeAfterImageLoad(),this._resize(),this._updateAnchorHrefs(),window.parent!==window.self&&this._updateAnchorTargets("_blank"),this},_resize:function(){window.resizeTo(this.windowWidth,this.$el.outerHeight(!0)+this.windowHeightOffset)},_resizeAfterImageLoad:function(){var e=this.$(".thumbnail img");e.length>0&&o.load(e.attr("src")).then(n.defer(n.bind(this._resize,this)))},_createCaptionEditor:function(){var e=new l({placeholder:r("Add a caption, if you like"),syncWithModel:!1,className:"caption-editor",onClientEvent:n.bind(this._onEditorClientEvent,this)});return this.$(".caption").html(e.render().$el),n.isEmpty(this.options.selection)||e.setEditorValue(this.options.selection),e.focus(),e},_getPlaintextCaption:function(){var e=this.captionField.getEditorValue();return c.stripTags(e)},_updateAnchorHrefs:function(){var e=this._getPlaintextCaption(),t=this.options.redirect,i=this.$("a");n.isEmpty(t)||(n.isEmpty(e)?i.attr("href",t):t.indexOf("redirect_to")===-1?i.attr("href",t+"&caption="+encodeURIComponent(e)):i.attr("href",t+encodeURIComponent("&caption="+e)))},_updateAnchorTargets:function(e){this.$("a").attr("target",e)},_updateHeight:function(){var e=this.$el.height();this._previousHeight!==e&&(this._resize(),this._previousHeight=e)},_onEditorClientEvent:function(){this._updateHeight(),this._updateAnchorHrefs()}});e.exports=u},1569:function(e,t){}});