(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["45743"],{13882:function(e,t,i){function n(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}i.d(t,{Z:()=>n})},983946:function(e,t,i){function n(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}i.d(t,{Z:()=>n})},619013:function(e,t,i){i.d(t,{Z:()=>r});var n=i(13882);function r(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},762587:function(e){e.exports=function(e,t,i,n){t=t||"&",i=i||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var o=e.length;s>0&&o>s&&(o=s);for(var l=0;l<o;++l){var d,c,u,h,p=e[l].replace(a,"%20"),_=p.indexOf(i);(_>=0?(d=p.substr(0,_),c=p.substr(_+1)):(d=p,c=""),u=decodeURIComponent(d),h=decodeURIComponent(c),Object.prototype.hasOwnProperty.call(r,u))?Array.isArray(r[u])?r[u].push(h):r[u]=[r[u],h]:r[u]=h}return r}},712361:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,n,r){return(i=i||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e)?Object.keys(e).map(function(r){var a=encodeURIComponent(t(r))+n;return Array.isArray(e[r])?e[r].map(function(e){return a+encodeURIComponent(t(e))}).join(i):a+encodeURIComponent(t(e[r]))}).join(i):r?encodeURIComponent(t(r))+n+encodeURIComponent(t(e)):""}},817673:function(e,t,i){t.decode=t.parse=i(762587),t.encode=t.stringify=i(712361)},151304:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:s=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},l],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};n.hash="0b5f077c08e31de36594b6918e128d12";let r=n;var a,s,o,l,d=n.default||n;if("query"===d.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(d);else{let e=[d.params.name,d.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=d}},946672:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="6bb1a587f71f85424aa51845831862d4";let r=n},223526:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="3caf9424c2af74d2b11a6ea682b57d1b";let r=n},844221:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};n.hash="18c3db3fbed169f50cffd214f66ddd8e";let r=n},521508:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};n.hash="f12c153dafdb70970e02775ea0db67c2";let r=n},232434:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};n.hash="76215b7b40cb02e76b77e58c8765d0d1";let r=n},437566:function(e,t,i){var n,r,a;i.r(t),i.d(t,{default:()=>o});let s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[r={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isTemporarilyDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[n,{args:null,kind:"FragmentSpread",name:"BoardCard_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r,{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};s.hash="918c0a075d1004184a9085be4c3a53c1";let o=s},41776:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};n.hash="56f620fbd63abf8f7cb32f9a378198f8";let r=n},375427:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};n.hash="d928a4e793c8e81567357b1faa71d2e3";let r=n},226900:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};n.hash="1a4583782792fbfe92015cb2dbe50f70";let r=n},272065:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="bfa270bf437ef1e9195cafe07b0b3631";let a=r},245578:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};n.hash="58c24e25a76e7a1c4533f3b07f490517";let r=n},774667:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};n.hash="616d5be8fea6092b51f23b548a1a5dca";let r=n},219670:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinPane_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};n.hash="4435ca5e135b834ea8a6425f68eb2f7a";let r=n},318002:function(e,t,i){i.d(t,{X_:()=>a,Xo:()=>c,Xv:()=>d,fW:()=>u,h_:()=>l,vF:()=>o});var n=i(767415);let r=(e,t)=>{let i=`client.partner.quick_promote_button.${e}`;(0,n.nP)(i,{sampleRate:1,tags:{app_type:"web",location:t}})},a=e=>{e&&e.utm_campaign&&(0,n.nP)("client.partner.account.convert_attempt.utm_campaign.exists",{sampleRate:1,tags:e})},s=(e,t,i,n={},r)=>{r({event_type:e,component:t,element:10148,view_type:i,aux_data:{...n}})},o=(e,t,i,n,a,o,l={})=>{r(t,i),s(n,a,o,l,e)},l=e=>{e({event_type:8217})},d=()=>{(0,n.nP)("client.partner.biz_nux_v3.nux_start",{sampleRate:1,tags:{app_type:"web"}})},c=()=>{(0,n.nP)("client.partner.biz_nux_v3.nux_end",{sampleRate:1,tags:{app_type:"web"}})},u=e=>{let t=`client.partner.biz_nux_v3.render.${e}`;(0,n.nP)(t,{sampleRate:1,tags:{app_type:"web"}})}},433100:function(e,t,i){i.d(t,{X:()=>S,f:()=>P});var n=i(667294),r=i(178226),a=i(735243),s=i(477738),o=i(148),l=i(252974),d=i(250182),c=i(655068),u=i(531624),h=i(885086),p=i(515511),_=i(213491),m=i(360033),g=i(986475),f=i(640200),b=i(785893);let y=(e,t,i)=>{let n=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!n)return;let r=(0,g.Z)(f.Z,!0)(n),a=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[a]?e[a]=r:e.push(r)},v=(e,t,i,n)=>{let r=n.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(r?.action?.filter){let e=r.action.filter.filterOptions;r.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,useHook:S}=(0,_.Z)("OneBarProductFilters");function P({children:e}){let[t,i]=(0,n.useState)([]),[_,g]=(0,n.useState)(null),f=function(){let{scope:e}=(0,o.b)();return[s.lw.BOARDS,s.lw.PINS_BUYABLE,s.lw.PINS_VIDEO,s.lw.USERS].includes(e)}(),S=(0,u.Z)(),P=(0,d.Z)(),w=(0,r.Z)(),I=(0,a.Z)(),E=(0,c.Z)(),A=(0,h.Z)(),C=(0,n.useCallback)(({oneBarModules:e,baseCacheKey:n})=>{let r=e?.filter(({module_type:e})=>17===e||0===e);if(!r||r?.length===0||!n)return;let a=n!==_,s=a?[]:t;(a||!f)&&y(s,r,4),(a||!S)&&y(s,r,1),(a||!P)&&y(s,r,0),(a||!w)&&y(s,r,3),(a||!I)&&y(s,r,6),(a||!A)&&y(s,r,10),(a||!E)&&[7,8,9].forEach(e=>{y(s,r,e)}),(0,m.ZP)(s,t)||(i(s),g(n))},[t,w,I,f,P,E,S,A,_]),k=(0,l.Z)(),{priceMax:j,priceMin:T,scope:R,brands:O,onSale:Z,style:B,colors:N,domains:L}=(0,o.b)();(0,n.useEffect)(()=>{if(!k||0===t.length)return;let e=(0,p.Z)(t);if(R!==s.lw.PINS){let t=(0,s.gi)(R),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof j||"string"==typeof T){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(T)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(j)}:null].filter(Boolean))}v(new Set([3]),O,"stringValue",e),v(new Set([6]),N,"stringValue",e),v(new Set([0]),L,"stringValue",e),v(new Set([7,8,9]),Z,"numericValue",e),v(new Set([10]),B,"stringValue",e),(0,m.ZP)(e,t)||i(e)},[t,k,j,T,R,O,N,L,Z,B]);let D=(0,n.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:C}),[t,C]);return(0,b.jsx)(x,{value:D,children:e})}},178226:function(e,t,i){i.d(t,{Z:()=>a});var n=i(616550),r=i(575820);function a(){return!!(0,r.mB)((0,n.TH)().search).brands}},735243:function(e,t,i){i.d(t,{Z:()=>s});var n=i(616550),r=i(613567),a=i(575820);function s(){let{checkExperiment:e}=(0,r.F)(),t=(0,n.TH)(),{colors:i}=(0,a.mB)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,i){i.d(t,{Z:()=>r});var n=i(613567);function r(){let{checkExperiment:e}=(0,n.F)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,i){i.d(t,{Z:()=>a});var n=i(616550),r=i(575820);function a(){return!!(0,r.mB)((0,n.TH)().search).domains}},655068:function(e,t,i){i.d(t,{Z:()=>a});var n=i(616550),r=i(575820);function a(){let e=(0,n.TH)(),{on_sale:t}=(0,r.mB)(e.search);return!!t}},531624:function(e,t,i){i.d(t,{Z:()=>a});var n=i(616550),r=i(575820);function a(){let e=(0,n.TH)(),{price_max:t,price_min:i}=(0,r.mB)(e.search);return!!(i??t)}},885086:function(e,t,i){i.d(t,{Z:()=>s});var n=i(616550),r=i(613567),a=i(575820);function s(){let{checkExperiment:e}=(0,r.F)(),t=(0,n.TH)(),{style:i}=(0,a.mB)(t.search);return!!i&&!!e("web_shopping_onebar_style_filter",{dangerouslySkipActivation:!0}).anyEnabled}},579046:function(e,t,i){i.d(t,{Z:()=>s,m:()=>a});var n=i(444622),r=i(395309);let a=["female","male","unknown"],s=e=>{let{interests:t,ages:i,genders:s,country:o}=e;return{AGE_BUCKET:i||[],APPTYPE:n.jz,GENDER:s||a,INTEREST:(t||[]).map(e=>e.topic_id),LOCATION:[...new Set((o||r.UF).split("+"))]}}},132602:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),r=i(883119),a=i(785893);function s({color:e="red",duration:t,finalProgress:i,shape:s="pill"}){let[o,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},0);return()=>{clearTimeout(e)}},[]);let d="pill"===s;return(0,a.jsx)(r.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${o?"-5px":"-100%"})`:`scaleX(${+!!o})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:d?8:6,rounding:d?"pill":2,width:`${i}%`})}},335357:function(e,t,i){i.d(t,{Z:()=>a});let n=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let i=this._uidToData[e];i||(i=new n(e,t),this._uidToData[e]=i,this._numItems+=1),this._moveToFront(i),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){let t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){let t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let a=r},116980:function(e,t,i){i.d(t,{Pw:()=>n,SB:()=>r,ZP:()=>s,x9:()=>a});let n=80,r=56,a=e=>"phone"===e?r:n;function s(e,t){return t?0:a(e)}},462214:function(e,t,i){i.d(t,{Z:()=>a});var n=i(465989),r=i(767415);function a(e,t,i,a,s){let o=new URLSearchParams,l=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);o.append(n.NR.SOURCE_EVENT_ID,e??"0"),o.append(n.NR.DESTINATION,JSON.stringify([...l])),o.append(n.NR.EXPIRY,i?n.uV:n.ug),o.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),s&&o.append(n.NR.ADVERTISER_ID,s),a&&o.append(n.NR.CAMPAIGN_ID,a),o.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(n.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}},959477:function(e,t,i){i.d(t,{Z:()=>a});var n=i(247387),r=i(99737);function a(e,t){let i="";if(e&&(i=e,t)){let a=(0,r.Z)(e,!0),s="/advertiser/",{hostname:o}=a;(null===o||o===n.KUo)&&(e.startsWith(n.auO)&&(e=e.replace(n.auO,"")),i=e.startsWith(s)?e:s+t+e)}return i}},343669:function(e,t,i){i.d(t,{G6:()=>a,i7:()=>s,oi:()=>n,u$:()=>r,un:()=>l,vU:()=>o,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function a(e){return r(e)===n.SAFARI}function s(e){return r(e)===n.CHROME}function o(e){return r(e)===n.FIREFOX}function l(e){return r(e)===n.EDGE}function d(e){return r(e)===n.IE}},219162:function(e,t,i){i.d(t,{Z:()=>s});var n=i(505633),r=i(865043),a=i(426775);let s=(e,t)=>{t?.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,r.My)("url_reset")),(0,n.Z)(e)}},938598:function(e,t,i){i.d(t,{Z:()=>n});let n=(e,t)=>{let i=new Date;return new Date(1e3*e)<=new Date(i.getFullYear()-(t||18),i.getMonth(),i.getDate())}},673434:function(e,t,i){i.d(t,{Z:()=>n});let n=e=>Math.floor(new Date(e).getTime()/1e3)},36796:function(e,t,i){i.d(t,{Z:()=>r,z:()=>a});var n=i(456940);function r(e){let t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){let e=t[1],i=e&&-1!==e.indexOf(".")?e.split("."):[];if(i.length>=2&&"gmail"===i[0]&&"com"!==i.slice(1).join("."))return!0;let r=(0,n.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===r||2===r))return!0}return!1}function a(e,t){let i=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==i.length)return!1;let r=i[1],a=r&&-1!==r.indexOf(".")?r.split("."):[],s=a[0];if(s===t&&a.length>3)return!0;if(a.length>=2){let e=(0,n.Z)(s,t);return s.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==a.length||s!==t||2!==a[1].length&&"com"!==a[1])&&(a.length,!1)}},260397:function(e,t,i){i.d(t,{Z:()=>r});var n=i(785893);let r=({size:e=56})=>(0,n.jsxs)("svg",{display:"block",fill:"none",fillRule:"evenodd",height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,n.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,n.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,n.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,n.jsx)("path",{d:"M20 20h472v472H20V20z"})]})},589172:function(e,t,i){i.d(t,{Z:()=>s});var n=i(613567),r=i(774838),a=i(177433);function s(e){let{isAuthenticated:t}=(0,r.B)(),{expName:i,anyEnabled:s,group:o}=function({experimentsClient:e,handlerId:t,isAuthenticated:i,skipActivation:n}){let{checkExperiment:r}=e,a=r(i?"web_masonry_v2_auth":"web_masonry_v2_unauth",{dangerouslySkipActivation:n});return a.group?{expName:i?"web_masonry_v2_auth":"web_masonry_v2_unauth",...a}:"www/[username]/[slug].js"!==t||i?"www/pin/[id].js"!==t||i?{expName:"",anyEnabled:!1,group:""}:{expName:"web_masonry_v2_unauth_pin",...r("web_masonry_v2_unauth_pin",{dangerouslySkipActivation:n})}:{expName:"web_masonry_v2_unauth_board",...r("web_masonry_v2_unauth_board",{dangerouslySkipActivation:n})}}({experimentsClient:(0,n.F)(),handlerId:(0,a.MM)(),isAuthenticated:t,skipActivation:e?.skipActivation??!1});return{expName:i,anyEnabled:s,group:o,isMeasureAllEnabled:"enabled_measure_all"===o||"enabled_measure_all_impression_fix"===o,isImpressionFixEnabled:"control_impression_fix"===o||"enabled_impression_fix"===o||"enabled_measure_all_impression_fix"===o}}},800213:function(e,t,i){i.d(t,{Z:()=>l});var n=i(681698),r=i(865043),a=i(4533),s=i(34550),o=i(378199);async function l(e){let t=(0,o.ZP)(),i=t?t.map(({pageType:e,...t})=>t):null,l={is_register:e??!1};if(i&&(l.unauth_visited_pages=JSON.stringify(i)),i){let e=await (0,n.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:l});(0,r.My)(`landing_signals.flush.${e.status}`),(0,s.M0)().removeItem(a.pm),(0,s.M0)().removeItem(a.ny),(0,s.M0)().removeItem(a.Vb),(0,s.M0)().removeItem(a.Mi)}}},528630:function(e,t,i){i.d(t,{Z:()=>s});var n=i(446885),r=i(763904),a=i(785893);function s({alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:o,...l}){return(0,a.jsx)(r.Z,{appUpsellFooterConfig:t,hideOnScroll:l.hideOnScroll,navFooterConfig:o?.scrollConfig,children:r=>(0,a.jsx)(n.Z,{...l,footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:i,hasTopShadow:s,navFooterConfig:o},hideOnScrollState:r,type:"footer"})})}},456940:function(e,t,i){function n(e,t){let i,n;if(0===e.length)return t.length;if(0===t.length)return e.length;let r=[];for(i=0;i<=t.length;i+=1)r[i]=[i];for(n=0;n<=e.length;n+=1)r[0][n]=n;for(i=1;i<=t.length;i+=1)for(n=1;n<=e.length;n+=1)t.charAt(i-1)===e.charAt(n-1)?r[i][n]=r[i-1][n-1]:r[i][n]=Math.min(r[i-1][n-1]+1,Math.min(r[i][n-1]+1,r[i-1][n]+1));return r[t.length][e.length]}i.d(t,{Z:()=>n})},863357:function(e,t,i){i.d(t,{Z:()=>s});var n=i(966502),r=i(470967),a=i(900946);function s(e,t){let i=Math.round(1e3*Math.random())+"",s=Math.round(1e3*Math.random())+"";r.t8((0,n.GS)(i),s);let o={token:`${i}-${s}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,a.Z)(o)}`}},241649:function(e,t,i){i.d(t,{Z:()=>s});var n=i(681698),r=i(647908),a=i(487038);let s=async({clientTrackingParams:e,href:t,pinId:i,spamCheckCallback:s})=>{let o=await function(e){let t=(0,r.Z)(e),i=a.y8.get("ApiResource",t);if(i)return i;let s=(0,n.Z)(e);return a.y8.add("ApiResource",t,s),s}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!o.resource_response.error){let{message:e,redirect_status:t,url:i}=o.resource_response.data||{};s({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:i})}}},369236:function(e,t,i){function n({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}i.d(t,{Z:()=>n})},327670:function(e,t,i){i.d(t,{Z:()=>d});var n=i(505633),r=i(327569);let a=e=>"string"!=typeof e&&e?e.state:null;var s=i(483635),o=i(49629),l=i(43861);let d=({event:e,onHistoryChange:t,href:i,history:d,target:c})=>{let u=(0,r.Z)(i),h=a(i)??{},p=(0,s.Z)(u);p===l.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===c?(0,n.Z)(u,"blank"===c):d&&p===l.Z.SAME_ORIGIN&&(d.push((0,o.Z)({url:u}),{from:d.location,...h}),t&&t({event:e}))}},711846:function(e,t,i){i.d(t,{Z:()=>a});var n=i(505633),r=i(863357);function a(e,t){(0,n.Z)((0,r.Z)(e,t),!0,t?.features)}},460219:function(e,t,i){i.d(t,{Z:()=>r});var n=i(568710);function r({location:e,pinId:t,surface:i}){return!!i&&!n.ZF.includes(i)||e.pathname.includes(t)}},680391:function(e,t,i){i.d(t,{Z:()=>_});var n=i(667294),r=i(616550),a=i(241649),s=i(369236),o=i(327670),l=i(460219),d=i(201466),c=i(327569),u=i(748336),h=i(862893),p=i(767415);function _(e){let{clientTrackingParams:t,externalData:i,href:_,onHistoryChange:m,target:g}=e,[f,b]=(0,n.useState)(null),y=(0,r.k6)(),v=(0,r.TH)(),x=(0,c.Z)(_),S=(0,u.Z)({url:x}),{showWarning:P}=(0,h.s)()??{},{pin:w,surface:I}=i||{},E=t||w?.trackingParams,A=(0,d.Z)();return(0,n.useEffect)(()=>{S&&w&&null===f&&(!w.promoter||w.isDownstreamPromotion)&&(0,l.Z)({location:v,pinId:w.entityId,surface:I})&&(0,a.Z)({clientTrackingParams:E,pinId:w.entityId,spamCheckCallback:e=>b(e),href:x})},[E,w,I,x,S,v,f]),({event:e})=>{if(!(0,s.Z)({isOffsiteUrl:S,event:e})){if(e.preventDefault(),!_||"string"==typeof _&&_.startsWith("#"))return void(0,p.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:v.pathname,href:_}});S||i?.dangerouslyForceOffsiteUrl?A({auxData:i?.auxData,clientTrackingParams:E,pin:i?.pin&&{attributionSourceId:i.pin.attributionSourceId,campaignId:i.pin.campaignId,isPromoted:i.pin.isPromoted,pinPromotionId:i.pin.pinPromotionId,isThirdPartyAd:i.pin.isThirdPartyAd,advertiserId:i.pin.advertiserId,destinationUrl:i.pin.destinationUrl,link:i.pin.link,domain:i.pin.domain},pinId:i?.pin?.entityId,queryParams:i?.queryParams,showWarning:P,spamCheck:f,url:x}):(0,o.Z)({event:e,href:_,history:y,onHistoryChange:m,target:"blank"===g?"blank":null})}}}},201466:function(e,t,i){i.d(t,{Z:()=>m});var n=i(430037),r=i(465989),a=i(462214),s=i(343669),o=i(505633),l=i(230201),d=i(863357),c=i(711846),u=i(594774);let h=(e,t,i)=>{let n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(r.$N.ATTRIBUTION_SOURCE_ID,e),n.setAttribute(r.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(r.$N.ATTRIBUTE_ON,i),n.click()},p=(e,t,i,n,s,o,l)=>{let d=(0,a.Z)(e,[i,n,s],!0,o,l),c=document.createElement("a");c.setAttribute("href",t),c.setAttribute("target","_blank"),c.setAttribute("rel","noopener nofollow noreferrer"),c.style.cursor="pointer",c.style.display="block",c.setAttribute(r.NR.SOURCE,d),c.click()},_=()=>{let{logContextEvent:e}=(0,l.v)();return({attributionSourceId:t,auxData:i,campaignId:r,clientTrackingParams:a,href:o,isPromoted:l,pinId:c,pinPromotionId:u,isThirdPartyAd:_,advertiserId:m,destinationUrl:g,link:f,domain:b})=>{if(!l)return!1;let y=(0,n.Z)(),v={params:{pinId:c,csrId:null,clientTrackingParams:a,auxData:i,isThirdPartyAd:_}},x=(0,d.Z)(o,v);y?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&l&&o===g&&(fetch((0,d.Z)(g,v),{redirect:"manual"}),x=g);let S=y?.userAgent.browserName??"";if((0,s.G6)(S)){let i=y?.userAgent.browserVersion?y.userAgent.browserVersion:"0.0",n=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&n>=14.1)return h(t,x,o),e({event_type:101,clientTrackingParams:a,object_id_str:c||"",aux_data:{pin_id:c||"",click_measurement_ppid:u||"",click_measurement_campaign_id:r||"",is_pcm:!0,attribution_source_id:t,page_url:o}}),!0}else if((0,s.i7)(S)&&window.document.featurePolicy?.allowsFeature("attribution-reporting"))return p(t,x,g,f,b,r,m),e({event_type:101,clientTrackingParams:a,object_id_str:c||"",aux_data:{pin_id:c||"",click_measurement_ppid:u||"",click_measurement_campaign_id:r||"",is_arapi:!0,attribution_source_id:t,page_url:o}}),!0;return!1}},m=e=>{let t=_();return({auxData:i,clientTrackingParams:r,pin:a,pinId:s,queryParams:l,showWarning:h,spamCheck:p,url:_})=>{if("undefined"!=typeof window&&window.Windows)return void(0,u.Z)(_,{clientTrackingParams:r,pinId:s,hasPin:!!a,auxData:i,isThirdPartyAd:a?.isThirdPartyAd});if(!a&&!e?.isFromClickthroughLink)return void(0,c.Z)(_,l?{queryParams:l}:{params:{pinId:s}});if(p?.blocked)return void h?.(p);if(a&&t({attributionSourceId:a.attributionSourceId,auxData:i,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:r,href:_,isPromoted:a.isPromoted,pinId:s,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain}))return;let m={params:{clientTrackingParams:r,auxData:i,pinId:s,isThirdPartyAd:a?.isThirdPartyAd}},g=(0,n.Z)();if(g?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&a?.isPromoted&&_===a?.destinationUrl){fetch((0,d.Z)(_,m),{redirect:"manual"}),(0,o.Z)(_,!0);return}(0,c.Z)(_,m)}}},877904:function(e,t,i){i.d(t,{Z:()=>r});var n=i(767415);function r(e,t){return new Promise((i,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)i();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)i();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else i()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>i()),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}})}},289450:function(e,t,i){function n(e){let t=!1;return{promise:new Promise((i,n)=>{e.then(e=>t?n({isCanceled:!0}):i(e),e=>t?n({isCanceled:!0}):n(e))}),cancel(){t=!0}}}i.d(t,{Z:()=>n})},749529:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class a extends n.Component{constructor(e){super(e),r(this,"onImageLoad",e=>{this.mounted&&("number"==typeof e.width&&"number"==typeof e.height&&e.width>119&&e.height>119?this.setState(t=>({loadedItems:[...t.loadedItems,e]})):this.setState(e=>({errors:e.errors+1})))}),r(this,"onImageError",()=>{this.mounted&&this.setState(e=>({errors:e.errors+1}))}),r(this,"mounted",!1),r(this,"loadImages",e=>{let t=new Image;t.onload=()=>this.onImageLoad({height:t.naturalHeight,url:e,width:t.naturalWidth}),t.onerror=()=>this.onImageError(),t.src=e}),this.state={errors:0,loadedItems:[]}}componentDidMount(){this.mounted=!0;let{url:e}=this.props;this.loadImages(e||"")}componentWillUnmount(){this.mounted=!1}render(){let{children:e}=this.props,{loadedItems:t}=this.state;return e({image:t})}}},937656:function(e,t,i){i.d(t,{$4:()=>j,AQ:()=>K,Bj:()=>b,DB:()=>W,FM:()=>X,G9:()=>N,GX:()=>g,Hy:()=>ed,JO:()=>R,Ke:()=>T,LM:()=>r,Lc:()=>eu,Lr:()=>el,MN:()=>v,Mn:()=>J,N8:()=>f,NB:()=>et,P0:()=>ei,P9:()=>es,Pn:()=>x,S:()=>O,TK:()=>P,TZ:()=>A,UU:()=>u,Uw:()=>q,W_:()=>eo,XB:()=>l,Xy:()=>C,YM:()=>w,aD:()=>eh,aj:()=>M,bA:()=>B,bo:()=>d,cH:()=>eg,dS:()=>E,eZ:()=>_,fk:()=>er,g1:()=>ec,gU:()=>c,hH:()=>z,i2:()=>h,iR:()=>L,jh:()=>ep,km:()=>p,lx:()=>Z,mr:()=>$,mt:()=>H,n_:()=>F,np:()=>G,of:()=>n,q:()=>em,qY:()=>I,qm:()=>ea,rc:()=>Q,ro:()=>e_,sD:()=>s,sG:()=>m,u1:()=>V,uR:()=>o,v5:()=>a,v9:()=>Y,vk:()=>ee,wj:()=>S,x1:()=>D,yC:()=>y,yI:()=>k,yb:()=>U,zr:()=>en});let n=880,r=340,a=380,s=510,o=40,l=20,d=4,c=474,u=134,h=96,p=800,_=186,m=40,g=10,f=48,b=88,y=183,v=130,x=24,S=400,P=50,w=8,I=8,E=5,A=29,C=5,k=20,j=400,T=100,R=800,O=800,Z=500,B=40,N=100,L=5,D=["attempted","publishing","succeeded","uploading"],z={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},F=["tl","tc","tr","bl","bc","br"],M=["left","center"],U=["top","center","bottom"],G=["none","uppercase"],H=["sm","md","lg"],K=[1,.75],W=198,$=132,Y=1,V=56,q=240,Q="cubic-bezier(0.66, 0.025, 0.33, 0.975)",X=1e3,J=1500,ee=2,et=3,ei=20,en=20,er=2,ea=["processing","publishing","saving"],es=300.5,eo=1,el=0xc800000,ed=2500,ec=3,eu="pin-builder-default-education-id",eh="pin-builder-default-tour-id",ep="pin-builder-editing-tour-id",e_="save_from_url",em=["processing","edited","creating","saving","saved"],eg=2048},900993:function(e,t,i){i.d(t,{Z:()=>s});var n=i(575820);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let a={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:({user:e})=>!!e?.video_upload_allowed,authOnly:!0,hasCustomEnabledCheck:()=>!0},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinAltText:{authOnly:!0,experiment:"web_idea_pin_creation_alt_text",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}},s=new class{constructor(){r(this,"_experiments",null),r(this,"_viewer",null),r(this,"_advertiser",null),r(this,"_scenario",null),r(this,"_language",null),r(this,"_context",null),r(this,"_orbacActingAs",null)}initialize(e){let{requestContext:t,viewer:i,location:r,advertiser:a,scenario:s,orbacActingAs:o}=e;this._context=e,this._experiments=t.experimentsClient,this._language=t.language,this._viewer=i,this._advertiser=a,this._orbacActingAs=o;let{adCreate:l}=(0,n.mB)(r.search);s?this._scenario=s:l?this._scenario="ad_creation":this._scenario="default"}scenario(){return this._scenario}enabled(e){if(!this._viewer||!this._experiments)return!1;let{advertisers:t,authOnly:i,customEnabledCheck:n,experiment:r,groups:s=/.*/,hasCustomEnabledCheck:o,languages:l,orbacDisabled:d,partnerOnly:c,scenarios:u,skipActivation:h}=a[e];return(!this._orbacActingAs?.id||this._orbacActingAs.id===this._viewer.id||!d)&&(o&&n&&this._context&&o(this._context)?!!this._context&&n(this._context):h&&this._experiments?!!r&&this.checkExperimentWithSkipActivation(e):!!t&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!i||!!this._viewer.isAuth)&&(!this._viewer||!c||!!this._viewer.isPartner)&&(!u||!!u.includes(this._scenario))&&(!l||!!l.includes(this._language))&&(!r||s.test(this.getExperimentGroup(e)||"")))}getExperimentGroup(e){if(!this._viewer||!this._experiments)return null;let{checkExperiment:t}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return t("disable_pin_creation").group??null;case"imageSignals":return t("pin_quality_signal_image").group??null;case"tagging":return t("web_pin_builder_tagging").group??null;case"videoEditing":return t("video_edit").group??null;case"ideaPinProductTagging":return t("web_idea_pin_product_tagging").group??null;case"ideaPinAltText":return t("web_idea_pin_creation_alt_text").group??null;case"pinItemBase64":return t("aid_exp_pin_builder_item_base64").group??null;default:return null}}checkExperimentWithSkipActivation(e){if(!this._viewer||!this._experiments)return!1;let{checkExperiment:t}=this._experiments;switch(e){case"disabledIdeaPinCreation":case"disabledPinCreation":case"disabledVideoPinCreation":return t("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"imageSignals":return t("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"tagging":return t("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled??!1;case"videoEditing":return t("video_edit",{dangerouslySkipActivation:!0}).anyEnabled??!1;default:return!1}}}},78521:function(e,t,i){i.d(t,{M:()=>p,Z:()=>m});var n=i(667294),r=i(213491),a=i(408660),s=i(101215),o=i(613567),l=i(774838),d=i(865043),c=i(739405),u=i(785893);let{Provider:h,useMaybeHook:p}=(0,r.Z)("GoogleSignInApi"),_=()=>{let e=(0,c.HG)(),{checkExperiment:t}=(0,o.F)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled};function m({children:e}){let t=_(),i=(0,c.HG)(),r=(0,n.useRef)(null),o=(0,n.useRef)(new Set),p=(0,n.useRef)(new Set),m=(0,n.useRef)(null),{language:g}=(0,l.B)(),f=i?"dweb":"mweb",b=(0,n.useRef)(!1),y=(0,n.useCallback)(()=>{if(b.current)return;b.current=!0;let e=!1,t=()=>{let t=(0,a.Fm)();t&&(e||(e=!0,(0,s.Z)({type:"loadScript",status:"success"}),(0,s.Z)({type:"apiClient",valid:!!t}),m.current=t,(0,a.OY)({autoSelect:!0},e=>{if((0,s.Z)({type:"response",valid:!!e}),e)if((0,d.My)(`${f}.google_sign_in.select_by.${e.select_by}`),"SIGN_IN_WITH_GOOGLE_BUTTON"===(0,a.PL)(e.select_by)){let t=Array.from(o.current),i=t[t.length-1],n=r.current;i?i(e):n&&n(e)}else r.current?.(e)}),p.current.forEach(e=>{e()}),p.current.clear()))};window.onGoogleLibraryLoad=()=>t(),(0,s.Z)({type:"loadScript",status:"start"}),(0,a.Px)(void 0,g).then(()=>{t()}).catch(()=>{})},[g,f]);(0,n.useEffect)(()=>{t?(o.current.clear(),p.current.clear()):y()},[t,y]);let v=(0,n.useRef)({ensureInit:(e,t)=>(y(),"button"===e?o.current.add(t):r.current=t,new Promise(e=>{m.current?e(void 0):p.current.add(e)})),removeButtonCallback:e=>{o.current.delete(e)}});return(0,u.jsx)(h,{value:v.current,children:e})}},444382:function(e,t,i){i.d(t,{Z:()=>n});let n={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8,SSO:9}},380261:function(e,t,i){i.d(t,{Z:()=>r});let n=e=>(e||"").replace(/-/g,"+").replace(/_/g,"/"),r=e=>JSON.parse(decodeURIComponent(atob(n(e.split(".")[1])).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))},160125:function(e,t,i){i.d(t,{GH:()=>l,JF:()=>f,Jb:()=>p,MI:()=>m,_V:()=>d,fi:()=>b,sl:()=>u,we:()=>h});var n=i(673434),r=i(681698),a=i(877904),s=i(951608),o=i(865043);let l="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,o.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,o.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e?(0,o.dy)({event:"global_object_not_found",provider:"facebook"}):(0,o.My)("pcons.non_autologin.fb.global_object_not_found")},h=(e,t)=>(t&&(0,o.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,s.Z)(e),"FACEBOOK").then(()=>u(t))),p=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),_=({userID:e,accessToken:t,data:{birthday:i,email:r,first_name:a,gender:s,last_name:o,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:i?(0,n.Z)(i):void 0,email:r,first_name:a,gender:s,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:o});async function m(e){let t=(await (0,r.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}})).resource_response.data||{};return(0,o.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let g=(e,t)=>new Promise((i,n)=>{if("connected"!==e.status)return void n({status:e.status||"unknown"});let{userID:r,accessToken:a}=e.authResponse;m(a).then(e=>{i({creds:{facebook_id:r,facebook_token:a,facebook_autologin:t?.autologin||!1},signupOptions:_({userID:r,accessToken:a,data:e})})},n)}),f=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>g(e)),b=async(e,t)=>{await h(e,!1);let i=await p(),n=t?"dweb":"mweb";if("connected"===i.status){(0,o.My)(`${n}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=i.authResponse;try{let i=await (0,r.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(i?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:r}=i.resource_response.data,a=e||t;return(0,o.My)(`${n}.login_data_from_fb_token.success`),{isGoogleConnected:a,hasPassword:r,isFBAuthOnly:!a&&!r}}(0,o.My)(`${n}.login_data_from_fb_token.no_data`)}catch{(0,o.My)(`${n}.login_data_from_fb_token.error`)}}return null}},951608:function(e,t,i){i.d(t,{Z:()=>r});let n=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},r=e=>`//connect.facebook.net/${n(e)}/sdk.js`},408660:function(e,t,i){i.d(t,{Fm:()=>s,OY:()=>l,PL:()=>c,Px:()=>o,mK:()=>u,ru:()=>d});var n=i(877904),r=i(247387),a=i(865043);let s=()=>window?.google?.accounts?.id,o=(e,t)=>(0,n.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),e?.unsafe?null:"GSI"),l=({autoSelect:e},t)=>{let i={auto_select:e??!1,button_auto_select:!0,client_id:r.v3o,callback:t,cancel_on_tap_outside:!1,context:"use",itp_support:!0,use_fedcm_for_prompt:!0,use_fedcm_for_button:!0};s()?.initialize(i)},d=({buttonRef:e,isDesktop:t,isVisualRefreshEnabled:i,locale:n,logo_alignment:r,onClick:o,onTouch:l})=>{let d=s();if(d&&e.current){let t=e.current.offsetWidth;d.renderButton(e.current,{locale:n,size:"large",shape:i?"rectangular":"pill",text:"continue_with",theme:"outline",width:t+"px",logo_alignment:r,click_listener:()=>{o&&o(),l&&l(),(0,a.EX)({event:"start",provider:"google"})}})}else(0,a.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},c=e=>"auto"===e||"fedcm_auto"===e?"AUTO_LOGIN":e.startsWith("btn")||e.startsWith("fedcm_button")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},637539:function(e,t,i){i.d(t,{Ny:()=>u,ZP:()=>p,eD:()=>m,lp:()=>_,nY:()=>g});var n=i(4533),r=i(219162),a=i(413220),s=i(34550),o=i(247387),l=i(865043),d=i(925201),c=i(629724);let u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6,LOGIN_GOOGLE:7});class h{static defaultLoginRedirectUrl(){return window.location.pathname===o.lfe||window.location.pathname===o.ZEf||window.location.pathname.startsWith("/add-account")?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith("/add-account")?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){let e=s.ZP.getItem(n.kl);if(e&&e.indexOf("|")>-1){let t=e.split("|");return 3===t.length&&new Date().getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){let e=s.ZP.getItem(n.kl),t=[];e&&3===(t=e.split("|")).length&&t.shift();let i=(new Date().getTime()/1e3).toString();t.push(i);let r=t.join("|");s.ZP.setItem(n.kl,r)}static isFullyLoggedIn(e,t){return e&&t===a.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";let t=(0,c.Z)();if(t){let i=t.next;i&&(e=i,delete t.next),e=(0,d.Z)(e||"/",t)}}(0,r.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){(0,s.M0)().setItem(n.F6,Date.now()),!t&&e&&"/"!==e?h.handleRedirect(e):h.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){let t=window.navigator.credentials;if(t&&e.username_or_email)try{let i=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(i).then(()=>{(0,l.My)("navigatorCredentials.store.success")})}catch(e){(0,l.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,i){(0,l.My)("multi_step_login"),h.storeLoginCredentialsToBrowser(e),i?i(e,t):(0,l.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}let p=h;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function m(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}function g(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},919492:function(e,t,i){i.d(t,{E_:()=>d,Eh:()=>a,du:()=>l,yV:()=>s});var n=i(841270),r=i(899681);let a=(e,t)=>{if("DEPRECATED_CHECK_EXISTS"===t)return"facebook_id"in e&&"facebook"||"google_open_id_token"in e&&"google"||"line_id_token"in e&&"line"||"sso_id_token"in e&&"sso"||"email";if("DEPRECATED_CHECK_TRUTHY"===t)if(e.facebook_id)return"facebook";else if(e.google_open_id_token)return"google";else if(e.line_id_token)return"line";else if(e.sso_id_token)return"sso";else return"email";return e.type},s=e=>{let t=a(e,"DEPRECATED_CHECK_TRUTHY");return"google"===t?"google_one_tap":t},o=(e="")=>e in n.i5,l=e=>r.rT.includes(e)||r.ZR.has(e)||o(e),d={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk",SSO:"sso"}},101215:function(e,t,i){i.d(t,{Z:()=>l});var n=i(465925),r=i(865043);let a=e=>(0,r.dy)({event:e,provider:"google"}),s=e=>(0,n.RP)("google_autologin",e),o=e=>(0,n.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(a("start"),a("load_script_start"),o("autoLoginGoogleStart")):"success"===e.status?a("load_script_success"):a("load_script_failure");break;case"apiClient":e.valid?(a("initialize_library"),o("autoLoginGoogleInitEnd")):(s("noAccountFound"),a("global_object_not_found"));break;case"response":e.valid?(a("receive_credential_response_from_provider"),(0,r.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(s("noResponse"),(0,r.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(a("pinterest_login_start"),(0,r.NC)("press_google_one_tap_other"),(0,n.M3)("google_autologin","autoLoginGoogleEnd"),(0,n.PA)("google_autologin")):("success"===e.status?a("pinterest_login_success"):a("pinterest_login_failure"),a("end"));break;case"manualLoginAttempt":(0,r.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,n.PA)("google_autologin")}}},552764:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294),r=i(613567);let a=()=>{let e=(0,r.F)();return(0,n.useCallback)(()=>{e.flush()},[e])}},830031:function(e,t,i){i.d(t,{E:()=>r,S:()=>n});let{Provider:n,useMaybeHook:r}=(0,i(213491).Z)("pwtSurfaceContext")},953833:function(e,t,i){i.d(t,{Z:()=>s});var n=i(28692);let r=()=>!!window.performance?.timing;var a=i(296264);function s(e){return("desktop"!==e||!!r())&&!!a.Z&&(0,n.v)()}},465925:function(e,t,i){i.d(t,{M3:()=>g,PA:()=>f,RP:()=>m,gq:()=>p});var n=i(953833),r=i(705460),a=i(426035),s=i(449896),o=i(217472),l=i(998727),d=i(240083),c=i(296264);let u=({name:e,pwtStaticContext:t})=>{if(!c.Z||!(0,n.Z)())return null;let i={type:"stopwatch",name:e},r=[],a=!0;return{abort:e=>{if(!a)return;a=!1;let n={type:"ABORT",reason:e,traceId:(0,d.Z)(),startTime:0,endTime:c.Z?.now()||0,spans:[],annotationMap:(0,l.Z)(r),binaryAnnotationMap:(0,s.ng)({metricId:i,pwtStaticContext:t,type:"ABORT"})};(0,o.Z)({metricId:i,pwtStaticContext:t,result:n})},annotate:e=>{a&&r.push({label:e,timestamp:c.Z.now()})},stop:()=>{if(!a)return;a=!1;let e={type:"COMPLETE",traceId:(0,d.Z)(),startTime:0,endTime:c.Z.now(),spans:[],annotationMap:(0,l.Z)(r),binaryAnnotationMap:(0,s.ng)({metricId:i,pwtStaticContext:t,type:"COMPLETE"})};(0,o.Z)({metricId:i,pwtStaticContext:t,result:e})}}},h={},p=(e,t)=>{t.forEach(t=>{h[t]=u({name:t,pwtStaticContext:e})})},_=e=>h[e],m=(e,t)=>{let i=_(e);if(i)try{i.abort(t)}catch(t){(0,r.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},g=(e,t)=>{let i=_(e);i&&(i.annotate(t),(0,a.ZP)(`stopwatch_${e}_${t}`))},f=e=>{let t=_(e);if(t)try{t.stop()}catch(t){(0,r.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},998727:function(e,t,i){i.d(t,{Z:()=>n});let n=e=>{let t={};e.forEach(({label:e,timestamp:i})=>{t={...t,[e]:(t[e]||[]).concat([i])}});let i=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,n)=>{let r=n?`${e}_${n+1}`:e;i={...i,[r]:t}})}),i}},81179:function(e,t,i){function n(e,t){let i;if(e.error){let{httpStatus:n,api_error_code:r,redirectUrl:a}=e.error;(404===n||401===n&&7===r)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===n&&a&&(i={pathname:a})}return i}i.d(t,{Z:()=>n})},890678:function(e,t,i){i.d(t,{Z:()=>a});var n=i(629972),r=i(957547);function a(e){let{enabledRouteRefresh:t,headers:i,name:a,noCache:s,options:o,schema:l}=e??{name:n.fY,options:null},d=!e,{fetchResource:c,ref:u}=(0,r.Z)({enabledRouteRefresh:t,headers:i,name:a,noCache:s,options:o,schema:l},d,!1);return d||c(),u}},565649:function(e,t,i){i.d(t,{Z:()=>l});var n=i(616550),r=i(173874),a=i(81179),s=i(661376),o=i(462867);function l(e){let t=(0,n.k6)(),i=(0,n.TH)(),{isAuth:l}=(0,o.Z)(),d=!l&&(0,r.L6)(i),c=(0,s.Z)(e),u=(0,a.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},346632:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294),r=i(338334);function a({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:i,resourceName:a,resourceOptions:s,value:o}){let l=(0,r.Z)({allowSearchOnMount:e,resourceName:a,resourceOptions:s,value:o});return(0,n.useEffect)(()=>{l?.length&&i(l)},[l]),t||null}},337079:function(e,t,i){i.d(t,{Z:()=>n});let n=2},338334:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),r=i(335357),a=i(57887);function s({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:i={},value:s}){let o=(0,n.useRef)(!1),l=(0,n.useRef)({}),[d,c]=(0,n.useState)([]),u=function({resourceName:e,resourceOptions:t}){let i=(0,a.vL)(),s=(0,n.useRef)();return s.current||(s.current=function({resourceCreator:e,resourceName:t,resourceOptions:i}){let n=e(t,{...i,count:"count"in i?i.count:5}),a=new r.Z,s=()=>{n.abort()},o=async(e,t)=>{if(n.isCalling()){let i=n.options?.term,r=n.options?.pin_scope;if(e===i&&t===r)return;s()}let{bookmarks:i,...r}=n.options||{};n.options={...r,term:e,pin_scope:t};let{data:o}=(await n.callGet({showError:!1})).resource_response,l=o?.items,d=o?.hint||{};return a.set(`${t}-${e}`,{hint:d,items:l}),{term:e,items:l,hint:d}};return async function(e,t){let i=a.get(`${t}-${e}`);if(i){let{items:t}=i;if(t&&t.length){s();let{hint:n}=i;return{hint:n,items:t,term:e}}}return e.length>=0?o(e,t):{hint:{},items:[],term:e}}}({resourceCreator:i,resourceName:e,resourceOptions:t})),s.current}({resourceName:t,resourceOptions:i}),h=i.pin_scope||"pins",p=`${h}-${s}`;return(0,n.useEffect)(()=>{(async()=>{if(null!=s&&""!==s&&(e||o.current))if(p in l.current)c(l.current[p]);else try{let e=await u(s,h);if(e){let{items:t}=e;l.current[p]=t,c(t)}}catch(e){if("Resource call aborted"===e)return;throw e}o.current||(o.current=!0)})()},[s,h,p]),d}},477738:function(e,t,i){i.d(t,{Hd:()=>d,_R:()=>o,gi:()=>a,lw:()=>n,oD:()=>r,wF:()=>l,zh:()=>s});let n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",BOARDS_MINE:"my_boards",USERS:"users",MY_CONTENT:"my_content",SHOP_TOOL:"shop_tool"},r=e=>Object.values(n).find(t=>t===e)??void 0,a=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},s=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},o=e=>{switch(e){case n.PINS_MINE:case n.MY_CONTENT:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.SHOP_TOOL:return 3380;case n.BOARDS:return 44;case n.USERS:return 45;case n.PINS:default:return 43}},l=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:case n.MY_CONTENT:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},d=(e,t)=>{if(t)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},892232:function(e,t,i){i.d(t,{Z:()=>a});var n=i(575820),r=i(99737);function a(e){if(!e)return"";let{directory:t,queryKey:i}=(0,r.Z)((0,n.Gw)(e,["request_params"]));return t+"?"+Object.keys(i).sort().map(e=>`${e}=${i[e]}`).join("&")}},405897:function(e,t,i){i.d(t,{i:()=>n});let n={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search",SUGGESTION_SEARCH:"suggestion_search"}},830293:function(e,t,i){i.d(t,{Ht:()=>s,Tb:()=>a});var n=i(892232),r=i(405897);function a({appliedProductFilters:e,appliedUnifiedFilters:t,autoCorrectionDisabled:i,filters:n,journeyDepth:r,query:a,rs:s,scope:o,selectedOneBarModules:l,selectedPinImgSig:d,sourceId:c,sourceModuleId:u,topPinIds:h,user:p}){let _=[e,n,r,a,s,o,l,d,c,u,t,h,p].map(e=>e??"").join(":");return i?"auto-correction-disabled:"+_:_}function s(e){let{appliedProductFilters:t,appliedUnifiedFilters:i,autoCorrectionDisabled:a,bubbleId:s,domains:o,filters:l,guidedSearchQuery:d,journeyDepth:c,pageSize:u,priceMax:h,priceMin:p,query:_,requestParams:m,rs:g,scope:f,selectedOneBarModules:b,selectedPinImgSig:y,seoDrawerEnabled:v,sourceId:x,sourceModuleId:S,sourceUrl:P,topPinId:w,topPinIds:I,user:E}=e;return{name:"BaseSearchResource",options:function({appliedUnifiedFilters:e=null,appliedProductFilters:t=null,autoCorrectionDisabled:i=!1,bubbleId:a=null,domains:s=null,filters:o=null,journeyDepth:l=null,pageSize:d=null,priceMax:c=null,priceMin:u=null,query:h="",requestParams:p=null,rs:_=r.i.DIRECT_NAVIGATION,scope:m="pins",selectedOneBarModules:g=null,selectedPinImgSig:f=null,seoDrawerEnabled:b=!1,sourceId:y=null,sourceModuleId:v=null,sourceUrl:x=null,topPinId:S=null,topPinIds:P=null,user:w}){return{applied_unified_filters:e,appliedProductFilters:t,article:a,auto_correction_disabled:i,corpus:f?"personalize":null,customized_rerank_type:f?"manas_graph_sage_only_wand_rewrite":null,domains:s,filters:o,journey_depth:l,page_size:d,price_max:c,price_min:u,query_pin_sigs:f,query:h,redux_normalize_feed:!0,request_params:p,rs:_,scope:m,selected_one_bar_modules:g,seoDrawerEnabled:b,source_id:y,source_module_id:v,source_url:(0,n.Z)(x),top_pin_id:S,top_pin_ids:P,user:w}}({appliedProductFilters:t,appliedUnifiedFilters:i,autoCorrectionDisabled:!!a,bubbleId:s,domains:o,filters:l,guidedSearchQuery:d,journeyDepth:c,pageSize:u,priceMax:h,priceMin:p,query:_,requestParams:m,rs:g,scope:f,selectedOneBarModules:b,selectedPinImgSig:y,seoDrawerEnabled:v,sourceId:x,sourceModuleId:S,sourceUrl:P,topPinId:w,topPinIds:I,user:E})}}},923298:function(e,t,i){i.d(t,{Z:()=>a});var n=i(818244),r=i(233550);let a=()=>{let e=(0,n.g)(),t=(0,r.l)();return i=>{let{mobileOptions:n,desktopOptions:r,reason:a,attributionLabel:s,pinId:o}=i;e?e.showDesktopSignupModal({signupFlow:r?.modalType==="login"?{type:"login"}:{type:"signup"},reason:a,attributionLabel:s,...r?.modalOptions}):t&&t.showMobileSignupModal({reason:a,attributionLabel:s,headingType:n?.headingType??"none",pinId:o})}}},135269:function(e,t,i){i.d(t,{Z:()=>a});var n=i(739405),r=i(177433);function a(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,n.ZP)(),site:(0,r.uo)()})}},447926:function(e,t,i){i.d(t,{L_:()=>r,Nh:()=>a,qn:()=>n});let n=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(e){return console.error("Cannot access localStorage."),t}},r=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(e){console.error("Cannot access localStorage.")}},a=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(e){console.error("Cannot access localStorage.")}}},269941:function(e,t,i){i.d(t,{Z:()=>r});let n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,r=e=>n.test(e)},680589:function(e,t,i){i.d(t,{ZP:()=>r,mP:()=>n});let n="";function r(e,t=80,i=n,a=!1){let s;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||a)s=e.substring(0,t);else{let i=e.lastIndexOf(" ",t);s=e.substring(0,i)}return(s=s.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+i}},537701:function(e,t,i){function n(e,t){let i=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,t)=>"_"+t.toLowerCase())}i.d(t,{Z:()=>n})},607162:function(e,t,i){i.d(t,{Z:()=>r});var n=i(575820);function r(){let e=(0,n.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";let t=document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"}},11908:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),r=i(607162),a=i(865043);function s(){return(0,n.useCallback)(e=>{e.action&&e.event?(0,a.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,r.Z)()}):(0,a.My)("pinner_conversion.missing_tags")},[])}},481889:function(e,t,i){i.d(t,{A:()=>m,Z:()=>_});var n=i(667294),r=i(581722),a=i(4533),s=i(104999),o=i(746868),l=i(818244),d=i(613567),c=i(233550),u=i(34550),h=i(413211),p=i(739405);function _(){let{trackConversionUpsellForContext:e}=(0,l.g)()||{},{trackConversionUpsellForContext:t}=(0,c.l)()||{},{viewType:i,viewParameter:n}=(0,o.SU)();return{trackConversionUpsell:({eventType:r,viewType:a,viewParameter:s,element:o,component:l,upsellReason:d,incrementUpsellReasonCounter:c})=>{let u=e||t;u&&u({eventType:r,viewType:a||i||202,viewParameter:s||n,element:o,component:l,upsellReason:d,incrementUpsellReasonCounter:c})}}}function m(){let e=(0,s.Z)(),t=(0,u.M0)(),i=(0,r.I0)(),o=(0,r.v9)(e=>e?.upsell?.upsellReason),{checkExperiment:l}=(0,d.F)(),c=(0,p.HG)(),_=(0,n.useRef)(null),m=()=>t.getItem(a.w0)&&Number.isInteger(t.getItem(a.w0))?t.getItem(a.w0):0,g=()=>{t.setItem(a.w0,m()+1)};return{trackConversionUpsellForContext:({eventType:t,viewType:n,viewParameter:r,element:s,component:d,upsellReason:p,incrementUpsellReasonCounter:f})=>{let b=(0,u.M0)(),y=c&&l("dweb_upsell_manager_redux").anyEnabled;14688===t&&(b.setItem(a.bg,p||""),p&&y&&i((0,h.vY)(p)),_.current=d,!1!==f&&g());let v=b.getItem(a.bg)||null;!v&&y&&(v=p||o),e({event_type:t,view_type:n,view_parameter:r,element:s,component:_.current,aux_data:{upsell_reason:v,upsell_view_count:m()}})}}}},46304:function(e,t,i){i.d(t,{Z:()=>a});var n=i(959477),r=i(247387);function a({advertiser:e,isAdsSite:t,isAnalyticsSite:i,isTrendsSite:a,baseUrl:s,adsUrl:o,isQuickPromote:l,isShoppingCatalogs:d}){if(t&&!e&&!l)return"/";let c=s;return(t||i||a)&&!d?(o||(o=s),e?(c=(0,n.Z)(o,e.id),t||(c=r.auO+c)):c=t?o:r.auO+c):d?c=r.auO+(0,n.Z)(s,e?e.id:""):o||(c=r.auO+s),c}},327569:function(e,t,i){i.d(t,{Z:()=>n});let n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},314598:function(e,t,i){function n(e,t){if(!t)return e;let i=new RegExp(/http(s?):/);if(!i.test(e)){let n=i.exec(t);n&&n.length&&(e=n[0]+e)}return e}i.d(t,{Z:()=>n})},144690:function(e,t,i){i.d(t,{AA:()=>u,iE:()=>g,yp:()=>m});var n=i(667294),r=i(230201),a=i(213491),s=i(236269),o=i(681698),l=i(774838),d=i(767415),c=i(785893);let u={LOADING:"LOADING",LOADED:"LOADED",ERROR:"ERROR"},h={0:"US_FL_SIGNUP_CONSENT",1:"KR_SIGNUP_CONSENT",2:"IT_SIGNUP_CONSENT"},p=e=>h[e],{Provider:_,useHook:m}=(0,a.Z)("ComplianceManager"),g=({children:e})=>{let t=(0,n.useRef)(!1),{isBot:i}=(0,l.B)(),{logContextEvent:a}=(0,r.v)(),[h,m]=(0,n.useState)({state:u.LOADING}),g=(0,n.useCallback)(async()=>{try{if(i)return void m({state:u.ERROR});let e=performance.now(),t=await (0,o.Z)({url:"/v3/compliance_requirements/",callOptions:{timeout:3e3}});if(t.resource_response.data){let{requirements:i}=t.resource_response.data,n=i.map(e=>p(e)),r=performance.now();a({view_type:9,event_type:16679,aux_data:{time_in_ms:r-e,compliance_requirements:n.toString()}}),m({state:u.LOADED,requirements:i})}}catch(t){let e=(0,s.Z)(t,"message_detail")||(0,s.Z)(t,"message")||"";"timeout"===(0,s.Z)(t,"type")?a({event_type:16681}):a({event_type:16680,aux_data:{status_code:(0,s.Z)(t,"httpStatus")||"-1",api_error_code:(0,s.Z)(t,"api_error_code")||"-1"}}),(0,d.nP)("complianceManager.fetchConfiguration.failure",{sampleRate:1,tags:{errorMessage:e,httpStatus:(0,s.Z)(t,"httpStatus")||"",apiErrorCode:(0,s.Z)(t,"api_error_code")||"",errorCode:(0,s.Z)(t,"code")||"",type:(0,s.Z)(t,"type")}}),m({state:u.ERROR})}},[i,a]),f=(0,n.useCallback)(e=>{a({event_type:16682,aux_data:{feature_key:p(e)}})},[a]),b=(0,n.useCallback)(e=>{switch(h.state===u.LOADING&&!t.current&&(t.current=!0,g()),h.state){case u.LOADED:return h.requirements.includes(e);case u.LOADING:case u.ERROR:default:return f(e),!1}},[h,g,f]),y=(0,n.useMemo)(()=>({state:h.state,isRequirementEnabled:b}),[h.state,b]);return(0,c.jsx)(_,{value:y,children:e})}},174481:function(e,t,i){i.d(t,{Z:()=>c});var n=i(667294);let r=null,a=!1,s=0,o=()=>{r&&clearTimeout(r),a=!0,r=setTimeout(()=>{a=!1},100)},l=()=>{0===s&&window.addEventListener("scroll",o),s+=1},d=()=>{(s-=1)||window.removeEventListener("scroll",o)},c=()=>{let[e,t]=(0,n.useState)(!1),i=(0,n.useRef)(null);(0,n.useEffect)(()=>(l(),()=>{i.current&&clearTimeout(i.current),d()}),[]);let r=e=>{i.current&&clearTimeout(i.current),i.current=e&&a?setTimeout(()=>r(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1)}).current}}},902123:function(e,t,i){i.d(t,{Z:()=>s,q:()=>a});var n=i(667294);let r=()=>{let[e,t]=(0,n.useState)(!1),[i,r]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1);return{active:e,focused:i,hovered:a,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}};function a({children:e}){return e(r())}let s=r},771690:function(e,t,i){i.d(t,{Z:()=>a});var n=i(667294),r=i(289450);function a(){let e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)(()=>()=>{[...Object.keys(t.current).map(e=>t.current[e]),...e.current].forEach(e=>e())},[]),function(i,n){if(n){let e=t.current[n];e&&(e(),delete t.current[n])}let{cancel:a,promise:s}=(0,r.Z)(i);return n?t.current[n]=a:e.current=[...e.current,a],s}}},281213:function(e,t,i){i.d(t,{W:()=>c,r:()=>d});var n=i(667294),r=i(230201),a=i(213491),s=i(613567),o=i(785893);let{Provider:l,useHook:d}=(0,a.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:i}=(0,r.v)(),{checkExperiment:a}=(0,s.F)(),[d,c]=(0,n.useState)(!1),[u,h]=(0,n.useState)([]),[p,_]=(0,n.useState)([]),[m,g]=(0,n.useState)({}),f=a("web_ads_mrc_video_impression").anyEnabled,b=e=>{g(t=>({...t,[e]:!0}))},y=(0,n.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],i=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");f&&(t||i)&&h(t=>[...t,e].slice(-1e3))}},[f]),v=(0,n.useCallback)(e=>{18===e.eventType&&f&&_(t=>[...t,e].slice(-1e3))},[f]),x=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},S=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,n.useEffect)(()=>{let e=u.filter(e=>{let{pinIdStr:i}=e.event_data.pinImpressions[0];return!m[i]||!f||(t(x(e)),!1)});e.length!==u.length&&h(e)},[u,f,t,m]),(0,n.useEffect)(()=>{let e=p.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&f){let t=S(e);return t&&i(t),!1}return!0});e.length!==p.length&&_(e)},[p,f,i,m]);let P=(0,n.useMemo)(()=>({captionsEnabled:d,logMrcVideoAdImpressionOnPlay:v,logMrcVideoAdEventOnPlay:y,setCaptionsEnabled:c,setVideoPlayed:b,videosPlayed:m}),[d,y,v,m]);return(0,o.jsx)(l,{value:P,children:e})}},594774:function(e,t,i){i.d(t,{Z:()=>a});var n=i(681698),r=i(711846);function a(e,t){let{auxData:i,clientTrackingParams:a,hasPin:s,pinId:o,isThirdPartyAd:l}=t||{},d={pin_id:o,check_only:!0,client_tracking_params:s?a:void 0,url:e,aux_data:JSON.stringify(i)};l&&(d.third_party_ad=o,delete d.pin_id),(0,n.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:i,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(i)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,r.Z)(e,{params:s?{pinId:o,clientTrackingParams:a,auxData:i,isThirdPartyAd:l}:{pinId:o}})})}},803373:function(e,t,i){i.d(t,{es:()=>E,xV:()=>T,cG:()=>v,Hw:()=>A,Mj:()=>C,LZ:()=>I,Ti:()=>k,HC:()=>j,bq:()=>R,NH:()=>f,Xc:()=>b,xQ:()=>x,re:()=>m,Mz:()=>g,O9:()=>y,Lu:()=>w,$n:()=>Z,HH:()=>O,uB:()=>_,d5:()=>S});var n=i(430037),r=i(579046),a=i(395309);let s=({values:e,pin:t,productGroup:i,country:n})=>{let{name:s,destination_url:o,budget:l,duration:d,inclusive_end_date:c,is_ongoing:u,advertiser_id:h,ages:p,interests:_,genders:m,ad_type:g,selected_ocpm_tag:f,isAutoTargeting:b}=e,y=Math.round(l*a.Az),v=(0,r.Z)({ages:p,interests:_,genders:m,country:n}),x={};g===a.Hl.WEB_CONVERSION&&(x.objective_type=a.Hl.WEB_CONVERSION,x.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:f.conversionTagId,conversion_event:f.conversionEvent}});let S={budget_in_micro_currency:y,campaign_name:s&&s.length<64?s:`${(s||"").substr(0,62)}`,destination_url:t?o:null,duration:parseInt(d,10),auto_targeting_enabled:b,is_ongoing:u,start_now:!0,targeting_spec:v,advertiser_id:h,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:i?i.id:null,...x,flexible_daily_budget_enabled:!1};return!u&&c&&c.trim().length>0&&(S.inclusive_end_date=c),S};var o=i(861072),l=i(236269),d=i(681698),c=i(247387),u=i(575820),h=i(46304),p=i(767415);let _=472,m=364,g={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},f={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},b={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},y=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}),v=e=>{let{isAnalyticsSite:t=!1,isSterlingSite:i=!1,isWwwSite:n=!1,loggingType:r}=e,a="";t?a=".analytics":n?a=".www":i&&(a=".ads"),(0,p.nP)(`sterling.quick_promote.page${a}.${r}`,{sampleRate:1})},x=e=>e?a.vX.indexOf(e):-1,S=e=>{if(null!=e&&!(e<0)&&!(e>a.vX.length-1))return a.vX[e]},P=e=>e===a.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===a.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},w=(e,t)=>{let{component:i,element:n}=P(S(e));t({event_type:101,component:i,element:n,aux_data:{page:"GestaltQuickPromote"}})},I=(e,t)=>{let i=S(e),{component:n}=P(i);i===a.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):i===a.Gl.SUCCESS_MODAL&&t({event_type:6358,component:n,aux_data:{page:"GestaltQuickPromote"}})},E=(e,t)=>{let i=[...new Set(e?.split("+"))];return t&&i.filter(e=>e in t)},A=(e,t)=>{if(!t||!e)return"";let i=`https://${c.KUo}`,n=`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`;return`${i}/advertiser/${e}/billing/${n}`},C=(e,t)=>{if(!e)return"";let{ad_group_id:i=""}=e,n=(0,o.default)("adgroup",t,{id:i,showAllEntities:!0});return(0,h.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:n,adsUrl:null,isQuickPromote:!0})},k=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),j=async e=>{let{pin:t,productGroup:i,country:n,onSaveSuccess:r,onSaveFailed:a,quickPromoteFormValues:o,advertiserId:c}=e;if(!t&&i)return;let u=`/ads/v4/advertisers/${c}/pins/${t?.id||""}/quick_promote/`;try{let{resource_response:e}=await (0,d.Z)({url:u,method:"POST",data:s({values:o,pin:t,productGroup:i,country:n})});e.data&&r(e.data)}catch(i){let e=(0,l.Z)(i,"httpStatus"),t=(0,l.Z)(i,"message_detail");a(t?{area:401===e?"pin":"modal",message:t}:{area:"modal"})}},T=e=>{let{hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:n,hasBusinessInfo:r,serverErrorArea:s,stepIndex:o,isQuickPromotePage:l=!1}=e,{hasValidBusinessInfo:d,hasValidBillingInfo:c}=k({hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:n,hasBusinessInfo:r}),u=[void 0,null].includes(o)?0:o+1;return S(o)===a.hf&&(s?u="modal"===s?x(a.Gl.ERROR_MODAL):o:d&&c?u=x(a.Gl.SUCCESS_MODAL):d?u=x(a.Gl.BILLING_FORM):l||(u=x(a.Gl.BUSINESS_FORM))),u>a.vX.length-1?void 0:u},R=e=>{let t=a.Pq.WIDE;return e<870?t=a.Pq.NARROW:e>=870&&e<=1275&&(t=a.Pq.MEDIUM),t},O=(e,t,i)=>{let{crossSite:r}=(0,u.mB)(e.search);if((0,n.Z)()?.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled&&t.length<=1)return void window.close();window?[...Array(i.find(e=>e&&e.location&&e.location.pathname.includes("pin-builder"))?3:1)].forEach(()=>r?window.history.back():t.goBack()):t.goBack()};function Z(e,t){let i=[...e],n=i.indexOf(t);return n>-1?i.splice(n,1):i.push(t),i}},363815:function(e,t,i){i.d(t,{I9:()=>l,OY:()=>c,ZP:()=>o,tb:()=>d});var n=i(4533),r=i(36796),a=i(34550),s=i(496883);function o(e){return!(!e.match(s.CU)||(0,r.Z)(e)||(0,r.z)(e,"yahoo")||(0,r.z)(e,"hotmail"))}let l=()=>{a.ZP.setItem(n.Z4,!0)},d=()=>{a.ZP.setItem(n.Z4,!1)};function c(e){let t=e.isAuth&&e.socialNetwork&&e.socialNetwork.facebook&&e.socialNetwork.facebook.connected,i=e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected,n=e.isAuth&&e.hasPassword;return t&&!i&&!n}},568710:function(e,t,i){i.d(t,{Wv:()=>r,ZF:()=>n,zI:()=>a,zl:()=>s});let n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ShoppingTool","ProductPinRetrieval"],s=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton"]},92242:function(e,t,i){i.d(t,{H:()=>d,N:()=>l});var n=i(667294),r=i(213491),a=i(57887),s=i(785893);let{Provider:o,useHook:l}=(0,r.Z)("LastSavedTo");function d({children:e}){let[t,i]=(0,n.useState)();(0,a.Z8)("BoardPickerBoardsShortlistResource",e=>{if(!t){let{data:t}=e.response.resource_response;i(t)}});let r=(0,n.useCallback)(e=>{let n=t?t.filter(t=>t.id!==e.id):[];i([e,...n])},[t]),l=(0,n.useMemo)(()=>({lastSavedTo:t,saveToBoard:r}),[t,r]);return(0,s.jsx)(o,{value:l,children:e})}},716848:function(e,t,i){i.d(t,{H:()=>n,W:()=>r});let{Provider:n,useMaybeHook:r}=(0,i(213491).Z)("PinCreateDeleteContext")},914253:function(e,t,i){i.d(t,{bn:()=>o,fJ:()=>d,gC:()=>l});var n=i(581722),r=i(213491),a=i(785893);let{Provider:s,useHook:o}=(0,r.Z)("Boards");function l(){let e=o();return t=>e[t]}function d({children:e}){let t=(0,n.v9)(({boards:e})=>e,n.wU);return(0,a.jsx)(s,{value:t,children:e})}},738932:function(e,t,i){i.d(t,{Z:()=>c});var n=i(667294),r=i(883119),a=i(138596),s=i(514223),o=i(785893);function l(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends n.Component{constructor(...e){super(...e),l(this,"setInputRef",e=>{e&&(this._input=e)}),l(this,"handleKeyDown",e=>{let{event:t}=e,{disabled:i,indexManager:n}=this.props;if(!i)switch(t.which){case s.Z.ENTER:case s.Z.NUMPAD_ENTER:t.preventDefault(),n.select();break;case s.Z.UP:t.preventDefault(),n.prev();break;case s.Z.DOWN:t.preventDefault(),n.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){let{onChange:e,value:t}=this.props;return(0,o.jsx)(r.xu,{"data-test-id":"picker-search-field-container",role:"presentation",width:"100%",children:(0,o.jsx)(r.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:"lg",value:t})})}}let c=function(e){let t=(0,a.ZP)();return(0,o.jsx)(d,{...e,i18n:t})}},103457:function(e,t,i){i.d(t,{Z:()=>m});var n=i(667294),r=i(883119),a=i(138596),s=i(343111),o=i(71919),l=i(738932),d=i(694220),c=i(809995),u=i(653316),h=i(785893);function p(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends n.Component{constructor(...e){super(...e),p(this,"state",{searchQuery:""}),p(this,"handleSelectItem",e=>{let{onCreate:t,onSelected:i}=this.props;if(!e&&t){let{searchQuery:e}=this.state;t(e)}else e&&i(e);(t||e)&&this.setState({searchQuery:""})}),p(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),p(this,"renderSectionHeader",e=>e.title?(0,h.jsx)(r.xu,{children:(0,h.jsx)(r.xu,{paddingX:3,paddingY:1,children:(0,h.jsx)(r.xv,{size:"200",children:e.title})})}):null),p(this,"renderRow",({item:e,hovered:t,sectionProps:i={}})=>{let{boardSavedTo:n,isSelectMode:r,disabledRowId:a}=this.props,{searchQuery:s}=this.state,{inSectionSelection:o=!1}=i,l=n&&n.board===e.id?n&&n.state:null,c="board_section"===e.type;return(0,h.jsx)(d.Z,{disabled:e.id===a&&o,isSection:c,isSelectMode:r,isWithinSectionPicker:o,item:e,saveState:l,searchQuery:s,selected:t})})}render(){let{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:i,getSections:n,isLoaded:a,onCreate:d,pinId:p}=this.props;if(!a)return(0,h.jsx)(r.xu,{paddingY:5,children:(0,h.jsx)(r.xH,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})});{let{searchQuery:a}=this.state,_=n(a);return this.indexManager=new s.Z(_.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),(0,h.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!i&&(0,h.jsx)(r.xu,{children:(0,h.jsx)(r.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,h.jsx)(l.Z,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:a})})}),(0,h.jsx)(o.Z,{disabled:!!e,grow:!i&&!a,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:_}),d&&(0,h.jsx)(r.xu,{borderStyle:_.length>1?"shadow":"none",children:(0,h.jsx)(u.Z,{buttonLabel:t,hasHoverState:!0,name:a,onClick:()=>d(a)})}),i&&d&&p&&(0,h.jsx)(c.Z,{onBoardSelected:d,pinId:p})]})}}}function m(e){let t=(0,a.ZP)();return(0,h.jsx)(_,{...e,i18n:t})}},266637:function(e,t,i){i.d(t,{j:()=>s});let n={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"s",:"u",:"u",:"u",:"u"},r=e=>{if(!e)return"";let t="";for(let i=0;i<e.length;i+=1)t+=n[e.charAt(i)]||e.charAt(i);return t},a=(e,t)=>{let i=t.split(" "),n=e.split(" "),a=0;for(let e=0;e<n.length;e+=1)(r(n[e]).includes(i[a])||n[e].includes(i[a]))&&(a+=1);return a===i.length},s=(e,t,i="name")=>{let n=t.toLowerCase();return e.filter(e=>a(e[i].toLowerCase(),n))}},105435:function(e,t,i){i.d(t,{Z:()=>o});var n=i(667294),r=i(730448);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let s=({scrollTop:e,clientHeight:t,scrollHeight:i},n)=>e+t+(n?n(t):2*t)>i;class o extends n.PureComponent{constructor(...e){super(...e),a(this,"setContainerRef",e=>{this.containerRef=e}),a(this,"fetchMoreIfNecessary",(0,r.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&s(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},862893:function(e,t,i){i.d(t,{s:()=>m,Z:()=>g});var n=i(667294),r=i(213491),a=i(608575),s=i(883119),o=i(465784),l=i(138596),d=i(216975),c=i(785893);let u=()=>{let e=(0,l.ZP)(),{dismissWarning:t}=m()??{};return(0,c.jsx)(s.xu,{paddingX:3,children:(0,c.jsx)(s.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},h=()=>{let e=(0,l.ZP)();return(0,c.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(s.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{let i=(0,l.ZP)(),{dismissWarning:n}=m()??{};return(0,c.jsx)(o.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,c.jsx)(u,{}),heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:n,children:(0,c.jsxs)(s.xu,{padding:6,children:[(0,c.jsx)(s.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(h,{},"learnMoreLink")})}),(0,c.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(s.xu,{marginEnd:3,children:(0,c.jsx)(s.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(s.xv,{inline:!0,lineClamp:1,weight:"bold",children:a.parse(t).hostname})]})]})})},{Provider:_,useMaybeHook:m}=(0,r.Z)("SpammyClickthrough");function g({children:e}){let[t,i]=(0,n.useState)(null),r=(0,n.useCallback)(()=>{i(null)},[i]),a=(0,n.useCallback)(e=>{i(e)},[i]),s=(0,n.useMemo)(()=>({dismissWarning:r,showWarning:a}),[r,a]);return(0,c.jsxs)(_,{value:s,children:[t&&(0,c.jsx)(p,{...t}),e]})}},529312:function(e,t,i){i.d(t,{f:()=>o,w:()=>l});var n=i(667294),r=i(213491),a=i(785893);let{Provider:s,useHook:o}=(0,r.Z)("Session");function l({children:e}){let[t,i]=(0,n.useState)(void 0),r=(0,n.useCallback)(()=>i(void 0),[]),o=(0,n.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:i,removeUnauthFollowUserId:r}),[t,r]);return(0,a.jsx)(s,{value:o,children:e})}},662911:function(e,t,i){i.r(t),i.d(t,{default:()=>P});var n,r=i(667294),a=i(581722);i(167912);var s=i(883119),o=i(104999),l=i(907022),d=i(774838),c=i(865043),u=i(736328),h=i(739405),p=i(462867),_=i(143677),m=i(422913),g=i(214451),f=i(701572),b=i(914253),y=i(785893);let v=void 0!==n?n:n=i(437566),x=["thumbnail","imageOnly"],S=({isUsingMask:e,setIsHovered:t,children:i})=>e?(0,y.jsx)(s.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:i}):(0,y.jsx)(r.Fragment,{children:i});function P({boardKey:e,component:t,containerBackgroundColor:i,display:n="responsive",forwardedRef:P,fullSize:w,hideSecretBoardIcon:I=!1,isAttributionHeightUnfixed:E=!1,isCollaboratorsAttributionVisible:A=!1,isFeaturedBoardsModule:C=!1,isHomePageBoards:k,noPaddings:j=!1,showFollowButton:T=!0,isUsingMask:R=!1,showPinCount:O=!0,slotIndex:Z,type:B,viewObjectIdStr:N,viewParameter:L,viewType:D,isBoardPreviewEnabled:z,trackInteractionObjectProp:F,isFromProfileGrid:M=!1,metaMarginTop:U=2,metaMarginBottom:G=0,metaPaddingY:H=0}){let K=(0,p.Z)(),W=K&&K.isAuth,$=(0,a.I0)(),{locale:Y}=(0,d.B)(),V=(0,u.Z)(),q=(0,l.Z)(v,e),Q=(0,b.gC)(),X=q?.entityId?Q(q.entityId):null,J=(0,m.Z)(q),ee=(0,o.Z)(),et=(0,h.HG)(),[ei,en]=(0,r.useState)(!1);if(!q)return null;let{owner:er,shouldShowBoardCollaborators:ea}=q,es=K.isAuth?K.id:"",eo=er?.entityId===es,el=q.collaboratingUsers?.__typename==="UserCollaboratingUsersConnectionContainer"?q.collaboratingUsers.connection?.edges:[],ed=el?.some(e=>e?.node?.entityId===es)||eo;if("secret"===q.privacy&&!ed)return null;let ec=z&&!(M&&q.hasCustomCover)&&!!q.images170x?.[0]?.url,eu="grid"===B||"thumbnail"===B?2:4,eh=ec?q.images236x?.[0]?.url:J(eu),ep=q.coverPin??X?.cover_pin,e_=(ep?.crop&&ep?.size&&{x:ep?.crop[0]??0,y:ep?.crop[1]??0,width:ep?.size[0]??0,height:ep?.size[0]??0})??{x:0,y:0,width:0,height:0},em={isCustom:!ec&&(q.hasCustomCover||void 0),url:eh,position:e_},eg=q.pinThumbnailUrls??X?.pin_thumbnail_urls,ef=(0,g.Jx)(q.images170x,eg?.filter(e=>null!==e)??void 0,eh).map(({url:e})=>({name:(0,g.po)(e),url:e})),eb=[44,49].includes(L)||[3,442,625].includes(D),ey=()=>49===L?eo?3106:3107:L,ev=q?.sensitivityScreen?{reason:q.sensitivityScreen?.reason,showWarning:q.sensitivityScreen?.showWarning}:void 0,ex=q.pinCount??X?.pin_count??0,eS=q.sectionCount??X?.section_count??0,eP=(0,y.jsx)(_.Z,{archivedDate:q.archivedByMeAt??X?.archived_by_me_at,boardId:q.entityId,canEdit:!!q.boardAccess&&q.boardAccess.includes("write"),containerBackgroundColor:i,coverPhoto:em,display:n,followedByMe:!!(X?.followed_by_me??q.followedByMe),fullSizeDrawer:w,hideMeta:x.includes(B),hideSecretBoardIcon:I,id:q.entityId,imagesLego:ef,isActive:ei,isAttributionHeightUnfixed:E,isAuthenticated:W,isCollaborative:!!q.isCollaborative,isCollaborator:!!ed,isCollaboratorsAttributionVisible:A,isFeaturedBoardsModule:C,isHomePageBoards:k,isOwner:eo,isProtected:"protected"===q.privacy||X?.privacy==="protected",isSecret:"secret"===q.privacy||X?.privacy==="secret",isTemporarilyDisabled:!!q.isTemporarilyDisabled||!!X?.is_temporarily_disabled,lastModifiedDate:q.boardOrderModifiedAt??X?.board_order_modified_at??"",layout:et?"square":void 0,locale:Y,metaMarginBottom:G,metaMarginTop:U,metaPaddingY:H,name:q.name??(X?.name||""),numberOfCollaborators:el?.length??0,numCols:eu,onFollow:e=>$((0,f.Z)(e,ee)),onUnfollow:e=>$((0,f.f)(e,ee)),pinCount:O&&ex?ex:void 0,sectionCount:eS??0,sensitivityScreen:ev,showBoardCollaborators:!1!==ea,showFollowButton:T,showTitleOnly:"imageTitle"===B,slotIndex:Z,userKey:q?.owner,viewerId:es,viewObjectIdStr:N,viewParameter:L,viewType:D}),ew=q.url||X?.url;return!x.includes(B)&&ew?(0,y.jsx)(s.Tg,{href:W?ew:ew.toLowerCase(),onTap:()=>{if(eb&&ee({aux_data:{board_id:q.entityId,board_pin_count:ex,board_section_count:eS},component:t??1,element:36,event_type:102,view_parameter:ey(),view_data:{view_object_id_str:N}}),!W){if((0,c.NC)("click_go_to_board"),F)return void V(F);V({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,y.jsx)(s.xu,{ref:P,paddingY:j?0:et?2:3,children:(0,y.jsx)(S,{isUsingMask:R,setIsHovered:en,children:eP})})}):eP}},2061:function(e,t,i){i.d(t,{Yg:()=>l,ib:()=>c,nF:()=>h,xX:()=>u});var n=i(613567),r=i(774838),a=i(739405),s=i(767415);let o=({checkExperiment:e})=>{let{group:t}=e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0});return{logStat:(e,i)=>(0,s.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:t,...i}})}},l=()=>{let{isAuthenticated:e}=(0,r.B)(),t=(0,a.HG)(),{checkExperiment:i}=(0,n.F)();return e&&!t?o({checkExperiment:i}):{logStat:()=>{}}},d=0,c=({checkExperiment:e,isAuthMweb:t})=>{if(!t)return;let{logStat:i}=o({checkExperiment:e});(d+=1)<10&&i(`repin_${d}`)};function u({checkExperiment:e,isDesktop:t,isAuthenticated:i}){if(!i)return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};if(t){let{anyEnabled:t}=e("auth_dweb_graphql_pin_page");return{isGraphQLEnabledForRelatedPins:t,isGraphQLEnabledInGeneral:t,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}{let{anyEnabled:t,group:i}=e("auth_mweb_graphql_pin_page");switch(i){case"control":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"enabled":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"enabled_and_impression_fix":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"SuspendOnMissingData",isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"only_related_pins":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"only_related_pins_and_impression_fix":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!0,addRelatedPinsLatency:!1};case"should_render_with_missing_data":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingData",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"render_and_subscribe":return{isGraphQLEnabledInGeneral:!0,isGraphQLEnabledForRelatedPins:!0,closeupPageSuspenseBehavior:"RenderWithMissingDataAndSubscribe",isImpressionFixEnabled:!1,addRelatedPinsLatency:!1};case"add_related_pins_latency":return{isGraphQLEnabledInGeneral:!1,isGraphQLEnabledForRelatedPins:!1,closeupPageSuspenseBehavior:null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!0};default:return{isGraphQLEnabledInGeneral:t,isGraphQLEnabledForRelatedPins:t,closeupPageSuspenseBehavior:t?"SuspendOnMissingData":null,isImpressionFixEnabled:!1,addRelatedPinsLatency:!1}}}}function h(){let{checkExperiment:e}=(0,n.F)(),t=(0,a.HG)(),{isAuthenticated:i}=(0,r.B)();return u({checkExperiment:e,isDesktop:t,isAuthenticated:i})}},409726:function(e,t,i){i.d(t,{Z:()=>l});var n=i(883119),r=i(927251),a=i(307345),s=i(785893);let o=({collaborator_count:e,useLegoLayout:t,type:i})=>t?(0,s.jsx)(n.xu,{marginEnd:2*!!e,children:(0,s.jsx)(a.Z,{type:i})}):(0,s.jsx)(a.Z,{type:i}),l=({board:e,showCollaborativeIcon:t,showPrivateIcon:i,showProtectedIcon:l,showSectionsIcon:d,useLegoLayout:c})=>{let u=e?.collaborating_users?.length||0;return t||i||l||d?(0,s.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!c,children:[i&&(0,s.jsx)(o,{collaborator_count:u,type:"secret",useLegoLayout:c}),l&&(0,s.jsx)(o,{collaborator_count:u,type:"protected",useLegoLayout:c}),t&&(c?(0,s.jsx)(r.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,s.jsx)(a.Z,{type:"group"})),d&&(0,s.jsx)(a.Z,{type:"sections"})]}):null}},149119:function(e,t,i){i.d(t,{Z:()=>a});var n=i(883119),r=i(785893);let a=({image_url:e,naturalHeight:t,naturalWidth:i})=>(0,r.jsx)(n.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,r.jsx)(n.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,r.jsx)(n.Ee,{alt:"",naturalHeight:t,naturalWidth:i,src:e})})})},343111:function(e,t,i){i.d(t,{Z:()=>s});let n={row:0,section:0},r={row:-1,section:-1},a=()=>void 0;class s{constructor(e){this.index={...n},this.sections=e,this.updateCallback=a,this.selectItem=a}getIndex(){return this.index}isAtStart(){let{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){let{row:e,section:t}=this.index,i=this.sections[t]||[];return this.sections.length===t+1&&i.length===e+1}next(){if(this.isAtEnd())return;let{row:e,section:t}=this.index;e===r.row&&t===r.section?this.index={...n}:this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;let{row:e,section:t}=this.index;if(e===r.row&&t===r.section)this.index={...n};else if(e>0)this.index.row-=1;else{let e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){let{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index={...r},this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},71919:function(e,t,i){i.d(t,{Z:()=>l});var n=i(667294),r=i(883119),a=i(105435),s=i(785893);function o(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(e){super(e),o(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),o(this,"handleIndexUpdate",e=>{let{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),o(this,"handleSelectItem",e=>()=>{let{disabled:t,onSelectItem:i}=this.props;t||i(e)}),o(this,"handleMouseEnter",e=>()=>{let{disabled:t,indexManager:i}=this.props;t||i.updateIndex(e)}),o(this,"handleMouseLeave",()=>{let{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),o(this,"renderItems",(e,t)=>{let{renderItem:i}=this.props,{selectedIndex:n}=this.state,{row:a,section:o}=n||{},{customProps:l={},items:d,renderItem:c}=e,{isDisabled:u}=l,h=t===o,p=c||i;return p&&d.map((e,i)=>{let n=u?.(e)??!1,o=h&&i===a;return(0,s.jsx)(r.xu,{ref:!n&&o?this.setSelectedItemRef:null,"data-test-id":"board-selection",children:n?p({item:e,hovered:o,sectionProps:l}):(0,s.jsx)(r.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter({section:t,row:i}),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:p({item:e,hovered:o,sectionProps:l})})},i)})}),o(this,"renderSections",()=>{let{renderSectionHeader:e,sections:t}=this.props;return t.map((t,i)=>(0,s.jsxs)(r.xu,{children:[e&&e(t,i),this.renderItems(t,i)]},i))});let{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){let{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){let e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;let i=e.getBoundingClientRect(),n=i.top,r=i.bottom,a=t.getBoundingClientRect(),s=a.top;r>=a.bottom?e.scrollIntoView(!1):n<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){let{grow:e=!1,maxHeight:t,fetchMore:i}=this.props;return(0,s.jsx)(a.Z,{fetchMore:i,children:({setRef:i,onScroll:n})=>(0,s.jsx)(r.xu,{ref:e=>{this.containerRef=e,i(e)},flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:n,overflow:"auto",children:this.renderSections()})})}}},201198:function(e,t,i){i.d(t,{Z:()=>o});var n=i(883119),r=i(785893);let a={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function s(){return(0,r.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:a,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function o({disabled:e,name:t,onClick:i,size:a,submitting:o,text:l}){return(0,r.jsxs)(n.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[o&&(0,r.jsx)(s,{}),(0,r.jsx)(n.zx,{color:"red",disabled:e||o,name:t,onClick:i,size:a,text:l,type:"submit"})]})}},148:function(e,t,i){i.d(t,{b:()=>u,v:()=>h});var n=i(667294),r=i(616550),a=i(213491),s=i(477738),o=i(739405),l=i(582610),d=i(785893);let{Provider:c,useHook:u}=(0,a.Z)("SearchParams"),h=({children:e,value:t})=>{let i=function(){let e=(0,o.HG)(),{search:t,pathname:i}=(0,r.TH)(),{scope:n}=(0,r.UO)(),a=!n&&i.includes("/_tools/shop");return(0,l.Z)({isDesktop:e,scope:a?s.lw.SHOP_TOOL:n,search:t})}(),a=(0,n.useMemo)(()=>({...i,...t}),[i,t]);return(0,d.jsx)(c,{value:a,children:e})}},250704:function(e,t,i){function n(e,t){return e&&e.includes("~0")&&(e=e.replace("~0","")),e||`${t||""}~0`}i.d(t,{Z:()=>n})},337351:function(e,t,i){i.d(t,{Iv:()=>n,dU:()=>h,it:()=>s,jI:()=>u,n0:()=>l,nY:()=>a,sW:()=>c,up:()=>r});let n="uploaded",r="pinbuilder",a="scraped",s="button";function o(e){return!!e&&"object"==typeof e&&"method"in e}function l(e){return o(e)&&e.method===a}function d(e){return o(e)&&e.method===n}function c(e){return o(e)&&e.method===s}function u(e){return l(e)||d(e)||c(e)}function h({boardId:e,checkExperiment:t,createPin:i,sectionId:n,state:r}){let a=[];if(l(r)){let{imgData:s}=r;s.forEach(s=>{a.push(i(function({boardId:e,checkExperiment:t,image:i,sectionId:n,state:r}){let{description:a,link:s,method:o}=r;return{boardId:e,checkExperiment:t,description:a,guid:"",imageBase64:"",imageUrl:i,link:s,method:o,sectionId:n}}({boardId:e,checkExperiment:t,image:s,sectionId:n,state:r})))})}else a.push(i(function({boardId:e,checkExperiment:t,sectionId:i,state:n}){if(d(n)){let{description:r,imageBase64:a,imageUrl:s,method:o}=n;return{boardId:e,checkExperiment:t,description:r,guid:"",imageBase64:a,imageUrl:s,link:"",method:o,sectionId:i}}{let{description:r,guid:a,imageUrl:s,link:o,method:l}=n;return{boardId:e,checkExperiment:t,description:r,guid:a,imageUrl:s,link:o,method:l,sectionId:i}}}({boardId:e,checkExperiment:t,sectionId:n,state:r})));return a}},163691:function(e,t,i){i.d(t,{Z:()=>n});let n=function(e){return{...e,ts:Date.now()}}},278277:function(e,t,i){i.d(t,{C:()=>s,O:()=>a});var n=i(4533),r=i(34550);let a=()=>(0,r.M0)().getItem(n.Mi)??"",s=e=>{(0,r.M0)().setItem(n.Mi,e)}},229127:function(e,t,i){i.d(t,{N4:()=>a,Wh:()=>n,hr:()=>r});let n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},901287:function(e,t,i){i.d(t,{Z:()=>w});var n,r,a=i(667294);i(167912);var s=i(883119),o=i(907022),l=i(138596),d=i(216975),c=i(785893);function u(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let h=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],p=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),_=e=>Math.PI/180*e;class m extends a.PureComponent{constructor(...e){super(...e),u(this,"animationTimer",null),u(this,"canvasRemovalTimer",null),u(this,"containerRef",(0,a.createRef)()),u(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),i=2.5*e,n=document.createElement("canvas");return n.style.position="absolute",n.style.left=`${0-(i-t)/2}px`,n.style.top=`${0-(i-e)/2}px`,n.style.pointerEvents="none",n.style.width=`${i}px`,n.style.height=`${i}px`,n.style.overflow="visible",n.width=i,n.height=i,n}),u(this,"explode",()=>{let e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;let i=e.getContext("2d");t.prepend(e);let n=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(p(10,30)),color:h[Math.floor(Math.random()*h.length)],degree:Number(p(0,360).toFixed(1)),speed:Math.round(p(0,25)),friction:.9,opacity:Number(p(0,.5).toFixed(1)),yVel:0,gravity:.04})),r=(e,t,i,n)=>{window.requestAnimationFrame(()=>r(e,t,i,n)),t.clearRect(0,0,i,n),e.forEach(e=>{e.x+=e.speed*Math.cos(_(e.degree)),e.y+=e.speed*Math.sin(_(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i&&r(n,i,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){let{delay:t,startAnimation:i}=this.props,{startAnimation:n}=e;i&&n!==i&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,c.jsx)(s.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}function g(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}u(m,"defaultProps",{delay:0});let f=void 0!==n?n:n=i(844221),b=void 0!==r?r:r=i(521508),y=e=>({pointerEvents:"none",opacity:+!!e,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}),v=e=>({opacity:+!!e,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),x=(e,t,i,n)=>{let r,a,s={},o=i.current?.getBoundingClientRect(),l=t.current?.getBoundingClientRect(),d=n.current?.getBoundingClientRect();if(l&&o&&d){s={left:o.left-l.left,top:o.top-l.top};let e={x:d.left-o.left,y:d.top-o.top},t={x:(d.width-o.width)/2,y:(d.height-o.height)/2};r=`translate(${e.x}px, ${e.y}px)`,a=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:s.left,top:s.top,width:e?d?.width:o?.width,height:e?d?.height:o?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?r:"none",transform:e?r:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:o?.width,height:o?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?a:"none",transform:e?a:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},S=e=>({opacity:+!!e,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class P extends a.PureComponent{constructor(...e){super(...e),g(this,"state",{isInitialized:!1}),g(this,"containerRef",(0,a.createRef)()),g(this,"pinDestinationRef",(0,a.createRef)())}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(){let{isInitialized:e}=this.state,{onDismiss:t}=this.props;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}render(){let{pin:e,firstRepin:t,pinImageRef:i,selectedBoardName:n,shuffleAsset:r}=this.props,o=r?.cutoutImages??e?.imageSpec_236x,l=e?.description??"",u=o?.height??1,h=o?.width??1,p=o?.url??"",{isInitialized:_}=this.state,{mask:g,imageContainer:f}=x(_,this.containerRef,i,this.pinDestinationRef);return(0,c.jsx)(a.Fragment,{children:(0,c.jsxs)(s.xu,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:g},maxHeight:335,overflow:"hidden",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:f},children:(0,c.jsx)(s.Ee,{alt:l,naturalHeight:u,naturalWidth:h,src:p})})}),(0,c.jsx)(s.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:y(_)},left:!0,position:"absolute",right:!0,top:!0,children:(0,c.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:v(_)},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,c.jsx)(m,{delay:1250,startAnimation:_,children:(0,c.jsx)(s.zd,{height:180,rounding:2,width:270,children:(0,c.jsxs)(s.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,c.jsx)(s.xu,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,c.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,c.jsx)(s.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,c.jsx)(s.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:S(_)},"data-test-id":"board-saved-heading",paddingX:2,children:(0,c.jsx)(s.X6,{align:"center",children:t?(0,d.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:n??""}):(0,d.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:n??""})})})]})})]})})}}function w({pinKey:e,shuffleAssetKey:t,...i}){let n=(0,l.ZP)(),r=(0,o.Z)(f,e),a=(0,o.Z)(b,t);return(0,c.jsx)(P,{...i,i18n:n,pin:r,shuffleAsset:a})}g(P,"defaultProps",{firstRepin:!1})},582610:function(e,t,i){i.d(t,{Z:()=>a});var n=i(477738),r=i(575820);function a({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:a="",b_id:s,brands:o,category:l,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:h,domains:p,filters:_,guided_search_query:m,interest_id:g,journey_depth:f,on_sale:b,price_max:y,price_min:v,q:x,query_pin_sigs:S,request_params:P,rs:w,selected_one_bar_modules:I,source_id:E,source_module_id:A,style:C,tab:k,top_pin_ids:j,user:T}=(0,r.mB)(i),R="true"===c.toLowerCase()&&"shop_tool"!==t?n.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===a.toLowerCase(),brands:o,bubbleId:s,category:l,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:_,debD:h,domains:p,guidedSearchQuery:m,interestId:g,journeyDepth:f?parseInt(f,10):void 0,onSale:b,personalizationPinSig:S,placementId:(0,n.Hd)(R,e),priceMax:y,priceMin:v,query:x,requestParams:P,rs:w,scope:R,selectedOneBarModules:I,sourceId:E,sourceModuleId:A,style:C,tab:k||"",topPinIds:j,user:T,viewParameter:(0,n._R)(R),viewType:R===n.lw.SHOP_TOOL?1:2}}},395309:function(e,t,i){i.d(t,{Az:()=>f,DI:()=>x,Gl:()=>w,Hl:()=>T,NA:()=>n,NG:()=>d,OC:()=>k,Pq:()=>A,QM:()=>_,Sk:()=>P,UF:()=>y,Uo:()=>C,WF:()=>o,Xm:()=>c,Zf:()=>a,_N:()=>p,ac:()=>s,dt:()=>g,e_:()=>h,gf:()=>b,hf:()=>I,i_:()=>l,jY:()=>v,ni:()=>S,qg:()=>u,rX:()=>r,vX:()=>E,yG:()=>m,yq:()=>j});let n="10",r=1,a=365,s=64,o=8,l=9,d=11,c=15,u=16,h=17,p=18,_=19,m=20,g=22,f=1e6,b=1e6,y="US";function v(e){let t="USD",i="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",i="";break;case"AU":t="AUD",i="$";break;case"CA":t="CAD",i="$";break;case"CH":t="CHF",i="CHF";break;case"DK":t="DKK",i="kr";break;case"GB":t="GBP",i="\xa3";break;case"NO":t="NOK",i="kr";break;case"NZ":t="NZD",i="$";break;case"SE":t="SEK",i="kr"}return[t,i]}let x={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},S={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},P={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},w={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},I="QUICK_PROMOTE_PAGE",E=[w.GDPR_MODAL,w.PIN_SELECTION_MODAL,I,w.BUSINESS_FORM,w.BILLING_FORM,w.SUCCESS_MODAL,w.ERROR_MODAL],A={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},C=e=>e>=1&&e<=2,k="qp-fac-education-id",j="qp-fac-modal-education-id",T={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"}},927251:function(e,t,i){i.d(t,{Z:()=>d});var n=i(883119),r=i(138596),a=i(216975),s=i(462867),o=i(785893);function l(e){let t=e?.imageMediumUrl??e?.image_medium_url??"",i=e?.avatar_color_index??void 0;return{name:e?.fullName??e?.full_name??"",color:i,src:"https://s.pinimg.com/images/user/default_75.png"===t?void 0:t}}function d({board:e,forceViewer:t,isCompact:i,ownerOnly:d}){let c=(0,r.ZP)(),u=(0,s.Z)(),h=d?[l(e?.owner)]:(function(e,t,i){let{collaborated_by_me:n,collaborating_users:r,owner:a}=e??{},s=r??[],o=[a];if(n||i){let e=s.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){let t=s.splice(e,1)[0];o.push(t)}else o.push(t)}return[...o,...[...s].sort((e,t)=>(e.full_name??"")>(t.full_name??"")?1:(t.full_name??"")>(e.full_name??"")?-1:0)]})(e,u,t).map(l),p=h.slice(0,3).map(e=>e.name),_="";switch(h.length){case 3:_=(0,a.Wc)(`${c._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${p[0]??""}`,second:`${p[1]??""}`,last:`${p[2]??""}`});break;case 2:_=(0,a.Wc)(`${c._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${p[0]??""}`,second:`${p[1]??""}`});break;default:_=p.join(", ")}let m=h.length>3?(0,a.Wc)(`, ${c.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', h.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars')}`,{userNames:_,leftCount:`${h.length-3}`}):(0,a.Wc)(`, ${c._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:_});return(0,o.jsx)(n.HE,{accessibilityLabel:m,collaborators:h,size:i?"xs":"sm"})}},908808:function(e,t,i){function n(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function r(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}i.d(t,{HG:()=>r,OQ:()=>a,hd:()=>n});let a=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},66708:function(e,t,i){i.d(t,{Z:()=>c});var n=i(27399),r=i(660322),a=i(329197),s=i(908808),o=i(779686),l=i(679602),d=i(438274);function c({boardId:e,sourceBoardId:t="",sourceSectionId:i="",name:c,nameSource:u,pinImport:h,initialPinIds:p=[]},_,m,g){let f=0;"RECOMMENDATION"===u?f=1:"EDITED_RECOMMENDATION"===u&&(f=2);let b={board_id:e,initial_pins:h&&!h.all?h.pinIds:p,name:c,name_source:f,...m?{orbac_subject_id:m}:Object.freeze({})};return c=>n.Z.create("BoardSectionResource",b).callCreate({showError:!1}).then(({resource_response:{data:n}})=>{g({event_type:7100,object_id_str:n.id}),c((0,s.hd)(e,n)),c((0,o.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),c((0,a.Z)(e,"pin_count")),c((0,r.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:m}));let{all:u,pinIds:p}=h||{all:!1,pinIds:[]};return u?new Promise((r,a)=>c((0,l.Z)({inverseSelection:!0,selectedPinIds:p,source:{boardId:t||e,sectionId:i||null},target:{boardId:e,sectionId:n.id}},_)).then(()=>r(n)).catch(a)):(p.length>0&&c((0,o.N8)(d.Z.BOARDFEED,e)),n)})}},773382:function(e,t,i){i.d(t,{Z:()=>r});var n=i(233597);function r(e,t){return i=>i((0,n.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}},329197:function(e,t,i){i.d(t,{Z:()=>r});var n=i(233597);function r(e,t,i){return(0,n.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}},679602:function(e,t,i){i.d(t,{S:()=>p,Z:()=>_});var n=i(27399),r=i(329197),a=i(773382),s=i(779686),o=i(148266),l=i(438274),d=i(382802);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},u=e=>(0,s.N8)(e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,e.sectionId||e.boardId);function h(e,t){let{source:i,target:n}=e;n.boardId!==i.boardId?(t((0,r.Z)(i.boardId,"pin_count")),t((0,r.Z)(n.boardId,"pin_count"))):i.sectionId&&n.sectionId||t((0,r.Z)(n.boardId,"pin_count")),i.sectionId&&t((0,a.Z)(i.sectionId)),n.sectionId&&t((0,a.Z)(n.sectionId))}function p(e){return t=>{let{selectedPinIds:i,source:n,target:r}=e;t((0,s.EX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,s.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:i,itemType:"pin"})),i.forEach(e=>{t((0,o.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),h(e,t)}}function _(e,t){return i=>{let{selectedPinIds:r,target:a}=e;return r.forEach(e=>{i((0,o.Vp)({pinId:e,boardId:a.boardId,sectionId:a.sectionId||void 0,title:a.name||""}))}),(function(e,t,i){let{inverseSelection:r,selectedPinIds:a,source:o,target:d,orbacSubjectId:h}=e;if(o.boardId===d.boardId&&(o.sectionId||null)===(d.sectionId||null))return Promise.reject();if(r){let e={board_id:o.boardId,new_board_id:d.boardId,old_section_id:o.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return n.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(o)),t(u(d))])).catch(c(i))}{let e=(e,i)=>{t((0,s.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:a,itemType:"pin"})),t((0,s.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?l.Z.BOARD_SECTION_PINS:l.Z.BOARDFEED,itemIds:a,itemType:"pin"}))};e(o,d);let r=()=>e(d,o);if(d.boardId===o.boardId)if(d.sectionId){let e={section_id:d.sectionId,pins:a,orbac_subject_id:h};return n.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(i)(e)})}else{let e={section_id:o.sectionId,pins:a,orbac_subject_id:h};return n.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{r(),c(i)(e)})}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:a,orbac_subject_id:h};return n.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(i)(e)})}}})(e,i,t).then(()=>h(e,i))}}},72034:function(e,t,i){function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function r(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function a(e){return{type:"PIN_SAVE",payload:e}}function s(e,t){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:t}}}function o(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1,nodeId:t}}}function d({id:e,text:t,nodeId:i}){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t,nodeId:i}}}function c({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0,nodeId:t}}}function u({id:e,nodeId:t}){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1,nodeId:t}}}function h(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}function _(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function m(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}i.d(t,{Gb:()=>s,I1:()=>l,Ib:()=>c,JU:()=>_,Ur:()=>a,Vw:()=>o,au:()=>m,b9:()=>h,i0:()=>u,mO:()=>r,q1:()=>d,yR:()=>n,yj:()=>p})},780954:function(e,t,i){i.d(t,{M:()=>o,i:()=>d});var n=i(782677),r=i(27399),a=i(660322),s=i(407775);let o=(e,t,i,n)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:i,pinnerId:n}}),l=e=>async t=>{let{boardId:i,guid:l,imageBase64:d,imageUrl:c,method:u,sectionId:h}=e,p={...e,board_id:i,method:"button"!==u||l?u:"button_external",image_url:c,image_base64:d,section:h},_="PinResource",m=await r.Z.create(_,p).callCreate(),g=(0,n.Fv)(m.resource_response.data,s.Z[_]);t((0,a.XM)(_,p,m,g));let f=m.resource_response.data,{pinner:{id:b}}=f;return t(o(f.id,i,h,b)),m},d=e=>async t=>{let{imageBase64:i,imageUrl:n}=e;return await t(l({...e,imageUrl:n,imageBase64:i}))}},148266:function(e,t,i){function n(e){return{type:"PIN_BETTER_SAVE",payload:e}}function r(e){return{type:"PIN_BETTER_SAVE_CUTOUT",payload:e}}function a(e){return{type:"PIN_BETTER_UNSAVE",payload:e}}function s(e){return{type:"PIN_BETTER_UNSAVE_CUTOUT",payload:e}}function o(e){return{type:"PIN_BETTER_SELECT_BOARD_OR_SECTION",payload:e}}function l(e){return{type:"PIN_BETTER_SELECT_BOARD_CUTOUT",payload:e}}function d(e){return{type:"POST_REPIN_MORE_IDEAS_UPSELL_SHOWN",payload:{boardId:e}}}i.d(t,{ND:()=>d,Vp:()=>o,a1:()=>n,b6:()=>l,jg:()=>a,o4:()=>r,ti:()=>s})},214119:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(442279).createSelector)(({users:e,boards:t,session:i})=>{let n=e[i.userId]||null;return Object.keys(t).reduce((e,i)=>{let r=t[i];return!r.archived_by_me_at&&(r.owner?.id===n?.id||r.collaborating_users&&r.collaborating_users.map(({id:e})=>e).includes(n?.id))&&r.cover_images?e.concat([r]):e},[])},e=>e.sort((e,t)=>e.name.localeCompare(t.name)))},828890:function(e,t,i){i.d(t,{Z:()=>c});var n=i(581722),r=i(883119),a=i(138596),s=i(216975),o=i(120100),l=i(842715),d=i(785893);function c({boardId:e,onBoardSelected:t,noArrowIcon:i,showSingleBoardRep:c}){let u=(0,a.ZP)(),h=(0,n.v9)(({boards:e})=>e)[e],p=h.section_count,_=!!p&&p>0,m=(0,o.Z)(),g=h.name??"this board";return(0,d.jsx)(r.iP,{accessibilityLabel:(0,s.Wc)(`${u._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:g}),onTap:m({fn:()=>t(_)}),rounding:2,tapStyle:"compress",children:(0,d.jsx)(l.Z,{boardId:e,noArrowIcon:i,showSingleBoardRep:c})})}},453799:function(e,t,i){i.d(t,{Z:()=>m});var n=i(581722),r=i(616550),a=i(883119),s=i(138596),o=i(565649),l=i(914253),d=i(828890),c=i(216975),u=i(310758),h=i(785893);function p({onSectionSelected:e,sectionId:t,showSectionRep:i}){let r=(0,n.v9)(({boardsections:e})=>e[t]),o=(0,s.ZP)(),l=r&&r.preview_pins?.[0]&&r.preview_pins[0].image_medium_url,d=r?.title??"";return(0,h.jsx)(u.Z,{onTouch:e,pressState:"none",rounding:2,children:(0,h.jsxs)(a.xu,{alignItems:"center",column:12,"data-test-id":"sectionPickerRow",display:"flex",marginBottom:4*!!i,rounding:2,children:[i&&(0,h.jsx)(a.xu,{height:48,width:51,children:(0,h.jsx)(a.zd,{height:"100%",rounding:2,width:"100%",children:l&&(0,h.jsx)(a.Ee,{alt:(0,c.Wc)(o._('{{ boardSectionName }} thumbnail', 'SectionPickerRow.boardImage.accessibilityLabel.text', 'Additional text explaining board image thumbnail. boardSectionName:Title of the board section for a11y text'),{boardSectionName:d}),color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:l})})}),!i&&(0,h.jsx)(a.xu,{column:1,paddingY:2}),(0,h.jsx)(a.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:i?(0,h.jsx)(a.xu,{marginStart:2,overflow:"hidden",width:"100%",children:(0,h.jsx)(a.xv,{lineClamp:1,size:"400",weight:"bold",children:r?.title})}):(0,h.jsx)(a.xu,{marginStart:2,children:(0,h.jsx)(a.xv,{weight:"bold",children:r?.title})})})]})})}let _=(e,t)=>{let{isFetching:i}=(0,o.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),r=(0,n.v9)(({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce((e,t)=>{if("boardsection"===t.type){let i={type:"boardsection",id:t.id};e.push(i)}return e},[])),a=(0,n.v9)(i=>r.map(e=>e.id).reduce((n,r)=>{let a=i.boardsections[r??""];return r!==t&&a&&n.push({board:{id:e},id:a.id,title:a.title,type:"boardsection",slug:a.slug}),n},[]));return{isFetching:i,boardSections:r,filteredBoardSections:a}};function m({boardId:e,originalBoardId:t,sectionId:i,repin:n,hideBoardPickerRow:o,showSectionRep:c}){let u=(0,s.ZP)(),{isFetching:m,boardSections:g,filteredBoardSections:f}=_(e,i),b=(0,r.k6)(),y=(0,l.gC)()(t||"");return(0,h.jsxs)(a.xu,{children:[g.length>0&&(0,h.jsxs)(a.xu,{paddingY:3*!c,children:[c&&(0,h.jsx)(a.xu,{paddingY:2,children:(0,h.jsx)(a.xu,{marginBottom:2,children:(0,h.jsx)(a.xv,{children:u._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!o&&(0,h.jsx)(d.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>n(e,void 0,u),showSingleBoardRep:c},e),c&&(0,h.jsx)(a.xu,{paddingY:4,children:(0,h.jsx)(a.xv,{children:u._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),f.map(i=>(0,h.jsx)(p,{onSectionSelected:()=>{n(e,i,u),t&&b.push(y?.url??"")},sectionId:i.id??"",showSectionRep:c},i.id))]}),(0,h.jsx)(a.xH,{accessibilityLabel:u._('Loading board section for repin flow', ' - ', ' -- '),show:m})]})}},694220:function(e,t,i){i.d(t,{W:()=>c,Z:()=>u});var n=i(883119),r=i(249459),a=i(138596),s=i(409726),o=i(149119),l=i(307345),d=i(785893);function c(e,t=""){let i=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(i).reduce((i,n)=>{if(i.length>0&&e&&e.length){let r=t.toLowerCase().indexOf(e.toLowerCase());return i.concat(t.substring(r,r+e.length),n)}return[n]},[]):t}let u=function(e){let t=(0,a.ZP)(),{disabled:i,item:u,isSection:h,isSelectMode:p,isWithinSectionPicker:_,saveState:m,searchQuery:g,selected:f}=e,b=h?null:u,y=h?u:null,v=y&&y.title||b&&b.name||"",x="",S=!1,P="",w=0;b&&({image_cover_url:x,is_collaborative:S,privacy:P,section_count:w=0}=b);let I=c(g,v),E=P===r.ZP.BoardPrivacy.SECRET,A=!i&&(f||!!m),C=!_&&"number"==typeof w&&w>0,k="number"==typeof w&&w>0?"boardWithSection":"boardWithoutSection",j=p?t._('Select', 'Board select button label', 'Board select button label'):t._('Save', 'Pin save button label', 'Pin save button label');return(0,d.jsxs)(n.xu,{alignItems:"center",color:A?"secondary":"default","data-test-id":k,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[b&&(0,d.jsx)(n.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:x&&(0,d.jsx)(n.Ee,{alt:t._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:x})}),y&&!!y.preview_pins?.length&&(0,d.jsx)(o.Z,{image_url:y.preview_pins[0].image_square_url??"",naturalHeight:y.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:y.preview_pins[0].image_square_size_pixels?.width??1}),(0,d.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(n.xv,{color:i?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:I}),(C||!A)&&(0,d.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[E&&(0,d.jsx)(l.Z,{type:"secret"}),S&&(0,d.jsx)(s.Z,{board:b,showCollaborativeIcon:S,useLegoLayout:!0}),C&&(0,d.jsx)(l.Z,{type:"sections"})]}),!C&&A&&!m&&(0,d.jsx)(n.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,d.jsx)(n.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:j})}),!C&&A&&"loading"===m&&(0,d.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,d.jsx)(n.xH,{accessibilityLabel:t._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},307345:function(e,t,i){i.d(t,{Z:()=>s});var n=i(883119),r=i(138596),a=i(785893);let s=function({type:e}){let t=(0,r.ZP)(),i={group:{accessibilityLabel:t._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:t._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"protect"},secret:{accessibilityLabel:t._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"arrow-down"}}[e];return(0,a.jsx)(n.xu,{marginStart:1,children:(0,a.jsx)(n.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,a.jsx)(n.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:"12"}):(0,a.jsx)(n.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:16})})})}},809995:function(e,t,i){i.d(t,{Z:()=>h});var n=i(667294),r=i(883119),a=i(230201),s=i(138596),o=i(661376),l=i(785893);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.Component{constructor(...e){super(...e),d(this,"state",{isHovering:!1}),d(this,"onHover",()=>{this.setState({isHovering:!0})}),d(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){let{name:e,selected:t,image:i,inFlyoutExp:n}=this.props;return n?(0,l.jsxs)(r.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,l.jsx)(r.xu,{children:(0,l.jsx)(r.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&i&&i.url?(0,l.jsx)(r.Ee,{alt:"",color:"",fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,src:i.url}):(0,l.jsx)(r.xu,{color:"secondary",height:40,width:40})})}),(0,l.jsx)(r.xu,{padding:2,children:(0,l.jsx)(r.X6,{size:"400",children:e})})]}):(0,l.jsxs)(r.xu,{alignItems:"center",color:t?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,l.jsx)(r.xu,{children:(0,l.jsx)(r.JO,{accessibilityLabel:"",color:t?"default":"subtle",icon:"add"})}),(0,l.jsx)(r.xu,{marginStart:3,children:(0,l.jsx)(r.xv,{color:t?"default":"subtle",weight:"bold",children:e})})]})}}let u=e=>(0,n.useMemo)(()=>e&&e.length?e.map(e=>e.title):[],[e]),h=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:i,image:d,minHeight:h,onBoardSelected:p})=>{let{logContextEvent:_}=(0,a.v)(),m=(0,s.ZP)(),[g,f]=(0,n.useState)(-1),{data:b=[],isLoaded:y}=(0,o.Z)({name:"ApiResource",options:{url:`/v3/pins/${String(i)}/board_title_suggestions/`,pin_id:i}}),v=u(b),x=e=>{p(v[e],!1),_({event_type:101,component:13025,element:23})},S=e=>{f(e)},P=()=>{f(-1)},w=(t,i)=>{let n=g===i;return(0,l.jsx)("li",{children:(0,l.jsx)(r.iP,{onMouseEnter:()=>S(i),onMouseLeave:P,onTap:()=>x(i),children:(0,l.jsx)(c,{image:d,inFlyoutExp:e,name:t,selected:n})})},i)};return y?v&&v.length?e?(0,l.jsx)(r.xu,{children:(0,l.jsx)("ul",{children:v.map(w)})}):t?(0,l.jsxs)(r.xu,{children:[(0,l.jsx)(r.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,l.jsx)(r.xv,{children:m._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,l.jsx)("ul",{children:v.map(w)})]}):(0,l.jsxs)(r.xu,{children:[(0,l.jsx)(r.xu,{marginTop:2,paddingX:5,children:(0,l.jsx)(r.xv,{children:m._('Suggested board names', ' - ', ' -- ')})}),(0,l.jsx)("ul",{children:v.map(w)})]}):null:(0,l.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:h||"",children:(0,l.jsx)(r.xH,{accessibilityLabel:m._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},653316:function(e,t,i){i.d(t,{Z:()=>o});var n=i(883119),r=i(138596),a=i(174481),s=i(785893);function o(e){let t=(0,r.ZP)(),{buttonLabel:i,hasHoverState:o,name:l,onClick:d}=e,{isHovering:c,hoverHandlers:u}=(0,a.Z)(),h=l||i||t._('Create board', ' - ', ' -- ');return(0,s.jsx)(n.iP,{onMouseEnter:u.onMouseOver,onMouseLeave:u.onMouseLeave,onTap:d,children:(0,s.jsxs)(n.xu,{alignItems:"center",color:o&&c?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,s.jsx)(n.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,s.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),l?(0,s.jsx)(n.xu,{margin:1,children:(0,s.jsxs)(n.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,s.jsxs)(n.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",h," "]})]})})}},533889:function(e,t,i){i.d(t,{Z:()=>f});var n=i(667294),r=i(581722),a=i(883119),s=i(104999),o=i(138596),l=i(514223),d=i(462867),c=i(200619),u=i(601871),h=i(201198),p=i(66708),_=i(785893);function m(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class g extends n.Component{constructor(e){super(e),m(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:i,dispatch:n,completeCreateSectionAction:r,pinImport:a,viewer:s,orbacActingAs:o,logContextEvent:l}=this.props,d=(0,u.lJ)(s,o);return this.setState({isSaving:!0}),n((0,p.Z)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:i&&i.id,name:this.state.inputName.trim(),pinImport:a},this.props.i18n,d,l)).then(e=>{this.setState({isSaving:!1}),r(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),m(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:i}=this.state;[l.Z.ENTER,l.Z.NUMPAD_ENTER].includes(e.which)&&!t&&i.trim()&&this.onCreateSection()}),m(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),m(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:i,inputRef:n}=this.state;n&&(!t.inputRef||i)&&n.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:i,inputName:n,isSaving:r}=this.state,s=!!n.trim()&&!i;return(0,_.jsxs)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[e&&(0,_.jsx)(a.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,_.jsx)(a.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,_.jsxs)(a.xu,{padding:4,children:[(0,_.jsx)(a.xu,{marginBottom:2,children:(0,_.jsx)(a.__,{htmlFor:"sectionEditName",children:(0,_.jsx)(a.xv,{color:i?"error":"subtle",size:"200",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,_.jsx)(a.xu,{children:(0,_.jsx)(a.xu,{ref:this.handleInputRef,children:(0,_.jsx)(a.nv,{errorMessage:i||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:n})})})]}),(0,_.jsx)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,_.jsx)(a.xu,{padding:4,children:(0,_.jsx)(a.kC,{alignItems:"stretch",justifyContent:"end",children:(0,_.jsx)(h.Z,{disabled:!s||r,onClick:this.onCreateSection,submitting:r,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}let f=function(e){let t=(0,r.I0)(),i=(0,o.ZP)(),n=(0,d.Z)(),a=(0,c.Z)();return(0,_.jsx)(g,{...e,dispatch:t,i18n:i,logContextEvent:(0,s.Z)(),orbacActingAs:a,viewer:n})}},449058:function(e,t,i){i.d(t,{Z:()=>_});var n=i(667294),r=i(883119),a=i(681698),s=i(507006),o=i(138596),l=i(216975),d=i(514223),c=i(771690),u=i(785893);function h(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends n.Component{constructor(...e){super(...e),h(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),h(this,"onDismiss",()=>{}),h(this,"mounted",!1),h(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),h(this,"handleKeyDown",e=>{e.keyCode===d.Z.UP?this.handlePrevHashtag(e):e.keyCode===d.Z.DOWN?this.handleNextHashtag(e):e.keyCode===d.Z.ESCAPE?this.handleClose(e):e.keyCode===d.Z.ENTER&&this.handleSubmit(e)}),h(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),h(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),h(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),h(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),h(this,"callResource",e=>{let{makeCancelablePromise:t}=this.props;t((0,a.Z)({url:"/v3/search/autocomplete/",data:{q:e,show_pin_count:!0}}),"typeahead").then(e=>{if(!this.mounted)return;let{data:t}=e.resource_response;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){let{recommendations:e,resourceLoaded:t,selectedIndex:i}=this.state,{anchor:n,idealDirection:a}=this.props,o=e.filter(e=>e.query),d="flyout_"+o.length;return t&&o.length>0?(0,u.jsx)(r.J2,{anchor:n,idealDirection:a||"down",onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(r.xu,{width:"100%",zIndex:new r.Ry(3),children:o.length>0?o.map((e,t)=>(0,u.jsx)(r.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(r.xu,{alignItems:"center",color:t===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,u.jsx)(r.xu,{flex:"grow",children:(0,u.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(r.xu,{flex:"none",children:(0,u.jsx)(r.xv,{inline:!0,size:"100",children:(0,l.nk)(this.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(e.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,u.jsx)(s.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query)):null})},d):null}}function _(e){let t=(0,o.ZP)(),i=(0,c.Z)();return(0,u.jsx)(p,{...e,i18n:t,makeCancelablePromise:i})}},194784:function(e,t,i){i.d(t,{Z:()=>C});var n,r,a,s,o,l=i(667294);i(167912);var d=i(883119),c=i(230201),u=i(907022),h=i(846960),p=i(707855),_=i(495506),m=i(138596),g=i(216975),f=i(661376),b=i(785893);let y=void 0!==n?n:n=i(223526),v=void 0!==r?r:r=i(946672),x=void 0!==a?a:a=i(151304);function S({pinKey:e}){let t=(0,m.ZP)(),i=(0,u.Z)(y,e),n="GraphQL"===(0,p.o)(e),r=(0,_.Z)({strategy:n?"GRAPHQL":"LEGACY",query:x,variables:{pinId:i.entityId},options:{fetchPolicy:"network-only"},useGetLegacyResource:({pinId:e})=>{let t=(0,f.Z)({name:"ApiResource",options:{url:`/v3/pins/${e}/`,field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return{data:t.data,refresh:t.refresh}}}),a=r?.v3GetPinQuery?.__typename==="V3GetPin"?r.v3GetPinQuery.data:null,s=(0,u.Z)(v,a);return s&&s.pinnedToBoard&&"quick_creates"!==s.pinnedToBoard.layout?(0,b.jsxs)(d.xu,{children:[(0,b.jsx)(d.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,b.jsx)(d.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,g.nk)(t._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(s.pinnedToBoard||{}).name}).join(" ")})}),(0,b.jsx)(d.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,b.jsx)(d.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var P=i(449058);function w(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let I=void 0!==s?s:s=i(375427),E=void 0!==o?o:o=i(226900);class A extends l.Component{constructor(...e){super(...e),w(this,"state",{flyoutCursorIndex:-1,description:this.props.pin?.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),w(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),w(this,"handleHashtagAddition",e=>{let{pin:t}=this.props;this.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:t?.entityId,aux_data:{hashtags:e}});let i=this.state.flyoutCursorIndex,n=Number(i+this.state.hashtagQuery.length),r=this.state.description.slice(0,i)+e+" "+this.state.description.slice(n);this.updateDescription(r),this.setState({description:r,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})})}render(){let{color:e,isFirstPin:t,pin:i,pinImageRef:n,shuffleAsset:r}=this.props,{editing:a,flyoutOpened:s,hashtagQuery:o,isHashtagFlyoutOpen:l}=this.state,c=r?.cutoutImages??i?.imageSpec_236x,u=c?.url||i?.imageBase64||this.props.urlPinInfo?.imageUrl,p=this.state.description||this.props.urlPinInfo?.description||"",_=i?.link||this.props.urlPinInfo?.link;return(0,b.jsxs)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:s&&a?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:t?"50%":"",children:[(0,b.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[i?.entityId&&!r&&(0,b.jsx)(S,{pinKey:i}),(0,b.jsx)(d.xu,{paddingY:9*!!t,width:240,children:(0,b.jsx)(d.xu,{ref:n,maxHeight:s&&a?220:335,overflow:"hidden",rounding:4,children:u?(0,b.jsx)(d.Ee,{alt:p,naturalHeight:c?.height||1,naturalWidth:c?.width||1,src:u}):!!_&&(0,b.jsx)(h.Z,{color:e||"",description:p,url:_})})})]}),this.anchor&&l?(0,b.jsx)(P.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:o}):null]})}}function C({pinKey:e,shuffleAssetKey:t,...i}){let{logContextEvent:n}=(0,c.v)(),r=(0,u.Z)(I,e),a=(0,u.Z)(E,t);return(0,b.jsx)(A,{...i,logContextEvent:n,pin:r,shuffleAsset:a})}},248380:function(e,t,i){i.d(t,{K:()=>z});var n,r,a=i(667294),s=i(581722);i(167912);var o=i(616550),l=i(27399),d=i(230201),c=i(382802),u=i(521367),h=i(375217),p=i(924591),_=i(907022),m=i(400962),g=i(138596),f=i(233597),b=i(577356),y=i(314598),v=i(462867),x=i(380108),S=i(92242),P=i(250704),w=i(716848),I=i(160587),E=i(72034),A=i(826681),C=i(883119),k=i(216975),j=i(180483),T=i(785893);let R=(e,t,i)=>i?(0,j.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:i.title??"",boardName:t??""}):(0,T.jsx)(C.xv,{children:(0,k.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,T.jsx)(C.xv,{weight:"bold",children:t})})});var O=i(611882);function Z(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let B=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,N=void 0!==n?n:n=i(272065),L=void 0!==r?r:r=i(245578);class D extends a.Component{constructor(...e){super(...e),Z(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||this.props.urlPinInfo?.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),Z(this,"unmounted",!1),Z(this,"setModalTitle",e=>this.safeSetState({modalTitle:e})),Z(this,"updateDescription",e=>{this.safeSetState({pinDescription:e})}),Z(this,"close",()=>{let{onClose:e}=this.props;e&&e(),this.props.logContextEvent({event_type:2502,component:5,element:610})}),Z(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),Z(this,"getPinResource",(e,t,i)=>{let{color:n,clientTrackingParams:r,pin:a,method:s,guid:o,additionalCreateFields:d,advertiser_id:c,urlPinInfo:u,shuffleAsset:h}=this.props,p=a?.entityId?"RepinResource":"PinResource",_=a?.imageUrl||u?.imageUrl,m=a?.link||u?.link,g=!a?.entityId&&_?(0,y.Z)(_,m):a?.imageSpec_orig?.url||"",f={...d,board_id:t||"",color:n||"",clientTrackingParams:(0,P.Z)(r,a?.trackingParams),description:this.state.pinDescription,guid:o||"",link:m,image_base64:a?.imageBase64??void 0,image_url:g,is_buyable_pin:!1,is_removable:a?.promotedIsRemovable??void 0,media_upload_id:a?.mediaUploadId??void 0,method:s||"",pin_id:a?.entityId||"",section:i,title:a?.title||"",...c?{advertiser_id:c}:Object.freeze({}),...h?{shuffle_asset:h.entityId}:{}};if(!e){let{facebook:e,twitter:t}=this.state.sharing;f.share_facebook=e,f.share_twitter=t}return l.Z.create(p,f)}),Z(this,"triggerPubSubs",e=>{this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),Z(this,"makeCancelablePromise",e=>{let t=!1;return{promise:new Promise((i,n)=>{e.then(e=>t?n({isCanceled:!0}):i(e)),e.catch(e=>t?n({isCanceled:!0}):n(e))}),cancel(){t=!0}}}),Z(this,"handleLogToastClick",()=>{this.props.logContextEvent({event_type:101,component:20,view_type:52})}),Z(this,"showBoardSavedToast",(e,t)=>{let{toastManagerContext:i,i18n:n}=this.props;i.showToast(({hideToast:i})=>(0,T.jsx)(p.Z,{duration:O.A,href:t?`${e.url??""}${t.slug??""}`:e.url,imageUrl:e.image_cover_url??"",onClick:this.handleLogToastClick,onHide:i,text:R(n,e.name,t)}))}),Z(this,"dismissModal",()=>{let{resolve:e,newPin:t}=this.state;e&&e(t)}),Z(this,"handleBoardSaveSuccess",(e,t,i,n)=>{let{action:r,saveToBoard:a,dispatch:s,pin:o,setCompletionPromise:l,shouldShowToast:d,showRepinAnimation:c,viewerUserId:u,urlPinInfo:p}=this.props;s((0,h.fO)());let _=e.resource_response.data,m=this.makeCancelablePromise(new Promise(e=>{this.triggerPubSubs(_);let r=this.state.pinDescription.match(B)||[];r.length>0&&this.props.logContextEvent({event_type:2,element:10273,object_id_str:this.props.pin?.entityId,aux_data:{hashtags:JSON.stringify(r)}}),n?(d&&this.showBoardSavedToast(t,i),this.safeSetState({displaySuccessAnimation:!0,modalTitle:this.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:_,resolve:e})):e(_)}));!n&&o?.entityId&&c(o.entityId),l(m),a(t),s((0,I.Br)({boardId:t.id,sectionId:i&&i.id,increment:1})),u&&(s((0,A.JS)({userId:u,increment:1})),s((0,h.fO)())),(i||!t.image_cover_url)&&(t.image_cover_url=o?.imageUrl||p?.imageUrl||o?.imageSpec_236x?.url||"",s((0,I.yT)(t))),i&&s((0,f.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:i.id}})),o?.entityId&&s((0,E.Ur)({id:o.entityId,nodeId:o.__id,boardId:t.id,title:t.name??"",url:t.url??"",localPinId:_.id}))}),Z(this,"handleSaveToBoard",(e,t,i)=>{let{onToggleModal:n,shouldShowToast:r,mountAfterActionPlacement:a}=this.props;r&&!i&&(this.close(),this.showBoardSavedToast(e,t));let s="secret"===(e.privacy||""),o={board:t?t.id:e.id,state:O.S.LOADING};this.safeSetState({boardSavedTo:o},()=>{this.getPinResource(s,e.id,(t||{}).id).callCreate({showError:!1}).then(r=>{a("Save",{pin_id:this.props.pin?.entityId,is_promoted:this.props.pin?.isPromoted}),this.safeSetState({boardSavedTo:Object.assign(o,{state:O.S.SUCCESS})},()=>this.handleBoardSaveSuccess(r,e,t,i)),n&&!i&&n(!1)}).catch(e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),c.Z.showError(e.message_detail||e.message);let t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),n&&n(!1)})})}),Z(this,"handleNewBoardAnimationCompletion",()=>{let{pin:e,showRepinAnimation:t}=this.props;e?.entityId&&t(e.entityId)})}getModalTitle(e,t){if(e)if(t)return this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane');else return this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board');return t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}componentDidUpdate(e){let{boardWithSection:t,showCreate:i,pin:n,urlPinInfo:r,description:a}=this.props,s={};(n!==e.pin||r!==e.urlPinInfo||a!==e.description)&&(s.pinDescription=n?.description||r?.description||a||""),(i!==e.showCreate||t!==e.boardWithSection)&&(s.modalTitle=this.getModalTitle(i,!!t)),Object.keys(s).length>0&&this.safeSetState(s)}componentWillUnmount(){this.unmounted=!0}render(){let{close:e,dismissModal:t,handleNewBoardAnimationCompletion:i,handleSaveToBoard:n,setModalTitle:r,updateDescription:a}=this,{boardSavedTo:s,displaySuccessAnimation:o,modalTitle:l,newPin:d}=this.state,{color:c}=this.props;return this.props.children({boardSavedTo:s,color:c,dismissModal:t,displaySuccessAnimation:o,handleAbort:e,handleNewBoardAnimationCompletion:i,handleSaveToBoard:n,modalTitle:l,newPin:d,setModalTitle:r,updateDescription:a})}}function z({pinKey:e,shuffleAssetKey:t,...i}){let{saveToBoard:n}=(0,S.N)(),{logContextEvent:r}=(0,d.v)(),a=(0,w.W)()?.onPinCreate,l=(0,g.ZP)(),c=(0,o.TH)(),h=(0,v.Z)(),p=(0,b.F9)(),f=(0,s.I0)(),{updateHeaderState:y}=(0,x.Z)(),P=(0,s.v9)(({advertiser:e})=>h.isAuth&&e&&e.owner_user_id!==h.id?e.id:void 0),{previous:I}=(0,m.Hv)(),E=(0,u.cO)(),A=(0,_.Z)(N,e),C=(0,_.Z)(L,t);return(0,T.jsx)(D,{...i,advertiser_id:P,dispatch:f,i18n:l,location:c,logContextEvent:r,mountAfterActionPlacement:E,onPinCreate:a,pin:A,previousHistory:I,saveToBoard:n,showRepinAnimation:e=>y({type:"showRepinAnimation",payload:e}),shuffleAsset:C,toastManagerContext:p,viewerUserId:h.isAuth?h.id:void 0})}},904946:function(e,t,i){i.d(t,{Z:()=>es});var n,r,a,s,o=i(667294);i(167912);var l=i(883119),d=i(465784),c=i(907022),u=i(138596),h=i(462867),p=i(181735),_=i(901287),m=i(581722),g=i(104999),f=i(774838),b=i(66708),y=i(785893);let v=({board:e,completeCreateSectionAction:t,height:i,onClose:n,pinImport:r,url:a,width:s})=>{let c=(0,u.ZP)(),{isRTL:h}=(0,f.B)(),p=(0,g.Z)(),_=(0,m.I0)(),[v,x]=(0,o.useState)(""),[S,P]=(0,o.useState)(!1),[w,I]=(0,o.useState)(null);return(0,y.jsx)(d.ZP,{accessibilityModalLabel:c._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),footer:(0,y.jsx)(l.kC,{children:(0,y.jsx)(l.xu,{marginStart:"auto",children:(0,y.jsx)(l.zx,{color:"red",dataTestId:"create-section-add-button",disabled:S||!v.trim()||!!w,fullWidth:!0,onClick:()=>{e&&(P(!0),_((0,b.Z)({boardId:e.id,name:v.trim(),pinImport:r},c,void 0,p)).then(i=>{t(e,i,!1)}).catch(e=>{I(e.message_detail||e.message)}).finally(()=>{P(!1)}))},size:"lg",text:c._('Add', 'sectionCreateModal.add.button', 'add a new section')})})}),heading:(0,y.jsx)(l.xu,{paddingY:8,children:(0,y.jsxs)(l.kC,{justifyContent:"center",children:[(0,y.jsx)(l.xu,{maxWidth:400,children:(0,y.jsx)(l.X6,{align:"center",size:"600",children:c._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,y.jsx)(l.xu,{left:h,padding:8,position:"absolute",right:!h,top:!0,children:(0,y.jsx)(l.hU,{accessibilityLabel:c._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),icon:"cancel",iconColor:"darkGray",onClick:n,size:"md"})})]})}),onDismiss:n,size:"sm",children:(0,y.jsx)(l.xu,{padding:8,children:(0,y.jsxs)(l.kC,{children:[(0,y.jsx)(l.zd,{height:i,rounding:4,width:s,children:a&&(0,y.jsx)(l.Ee,{alt:"",fit:"cover",naturalHeight:i??1,naturalWidth:s??1,src:a})}),(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{width:s?`calc(100% - ${s}px)`:"100%"}},marginStart:8,children:(0,y.jsx)(l.nv,{dataTestId:"create-section-name-input-field",errorMessage:w,id:"sectionEditName",label:c._('Name', 'section.create.label', 'label text for section input'),onChange:e=>{x(e.value),I(null)},placeholder:c._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),size:"lg",type:"text",value:v})})]})})})};var x=i(230201),S=i(660322),P=i(661376),w=i(337079),I=i(739405);let E=void 0;function A(e,t,i,n){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...i?{advertiser_id:i,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:E,shortlist_suggestions:2,isDesktop:n}}var C=i(103457),k=i(266637);let j=void 0!==n?n:n=i(232434),T=e=>{let t=[],i=[];return e.forEach(e=>{e.name?.match(/^\d/)?i.push(e):t.push(e)}),[...t,...i]};class R extends o.Component{constructor(...e){var t,i,n;super(...e),t="getSections",i=e=>{let{boardResource:{data:t}}=this.props;if(!t)return[];let{all_boards:i,boards_shortlist:n}=t,r=T(i);return r.length<=3?[{items:r}]:e.length>=w.Z?[{items:(0,k.j)(r,e)}]:[n.length?{items:n,title:this.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:r,title:this.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{boardResource:{data:e,error:t,isLoaded:i},boardSavedTo:n,isSelectMode:r,onBoardCreate:a,onBoardSelected:s,pin:o}=this.props,l=i&&!!e&&e.all_boards.length<=3;return(0,y.jsx)(C.Z,{boardSavedTo:n,getSections:this.getSections,hasLoadError:!!t,hasLowBoardCount:l,isLoaded:i,isSelectMode:r,onCreate:a,onSelected:s,pinId:o?.entityId})}}function O({pinKey:e,...t}){let i=(0,u.ZP)(),n=(0,h.Z)(),r=(0,I.HG)(),a=(0,c.Z)(j,e),s=(0,m.v9)(({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.id}),o=(0,m.v9)(({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.owner_user_id}),l=(0,P.Z)({name:"BoardPickerBoardsResource",options:A(a?.entityId,o,s,r)});return(0,y.jsx)(R,{...t,boardResource:l,i18n:i,pin:a})}class Z extends o.Component{constructor(...e){var t,i,n;super(...e),t="getSections",i=e=>{let{board:t,i18n:i,sectionsResource:{data:n}}=this.props,r=i._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),a=i._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return e.length>=w.Z?[{items:(0,k.j)([t],e),customProps:{inSectionSelection:!0}},{items:(0,k.j)(n??[],e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0},title:r},{items:n??[],title:a}]},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{sectionsResource:{error:e,isLoaded:t},boardSavedTo:i,isSelectMode:n,onSectionCreate:r,onSectionSelected:a,pinId:s}=this.props;return(0,y.jsx)(C.Z,{boardSavedTo:i,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),getSections:this.getSections,hasLoadError:!!e,isLoaded:t,isSelectMode:n,onCreate:r,onSelected:a,pinId:s})}}function B(e){let t=(0,u.ZP)(),i=(0,P.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,y.jsx)(Z,{...e,i18n:t,sectionsResource:i})}var N=i(249459),L=i(346632),D=i(269941),z=i(583875),F=i(180483);function M(e){let t=(0,u.ZP)(),{body:i,img:n,onClick:r,selected:a,title:s,username:o,valid:d}=e;return(0,y.jsx)(l.xu,{marginBottom:4,children:(0,y.jsx)(l.iP,{onTap:r,children:(0,y.jsxs)(l.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[n,(0,y.jsxs)(l.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,y.jsx)(l.xu,{marginBottom:1,children:(0,y.jsx)(l.xv,{lineClamp:1,weight:"bold",children:s})}),(0,y.jsx)(l.xv,{lineClamp:1,size:"100",children:o||i})]}),(0,y.jsx)(l.xu,{marginStart:2,children:o?a?(0,y.jsx)(l.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,y.jsx)(l.zx,{color:"gray",disabled:!!a||!d,size:"sm",text:a?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')})})]})})})}var U=i(211731);function G(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function H(e,t,i){let{id:n}=e;return t===i.findIndex(e=>e.id===n)}class K extends o.Component{constructor(...e){super(...e),G(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),G(this,"isIdSelected",{}),G(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),G(this,"handleCollaboratorClick",e=>{let{id:t,type:i}=e;this.isIdSelected[t]=!this.isIdSelected[t];let{inviteUsers:n,inviteEmails:r}=this.props,{selectedCollaborators:a}=this.state,s=a.concat([e]);this.props.onSelectedCollaboratorsChange({id:t,resource:"email"===i?r:n}),this.setState({selectedCollaborators:s})}),G(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){let{inviteUsers:e,inviteEmails:t}=this.props;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(i=>{let{id:n,type:r}=i;return this.isIdSelected[n]=!this.isIdSelected[n],this.props.onSelectedCollaboratorsChange({id:n,resource:"email"===r?t:e}),null})}render(){let{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,i=t||[],n=(""===e?this.state.selectedCollaborators.concat(i).filter(H):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:(0,D.Z)(e)}).concat(i).filter(H)).map(e=>(function(e,t,i,n){if("user_share_suggestion"===e.type||"user"===e.type){let n=(0,y.jsx)(z.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,y.jsx)(M,{img:n,onClick:()=>i(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){let r,a,{id:s,valid:o}=e,d=(0,y.jsx)(l.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,y.jsx)(l.JO,{accessibilityLabel:n._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),c=(0,F.Z)(n._('Email {{ email }}', ' - ', ' -- '),{email:s});return t?(r=n._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),a=()=>void 0):(r=o?n._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):n._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),a=()=>o?i(e):void 0),(0,y.jsx)(M,{body:r,img:d,onClick:a,selected:t,title:c,valid:o})}})(e,this.isIdSelected[e.id],this.handleCollaboratorClick,this.props.i18n)).map((e,t)=>(0,y.jsx)("li",{children:e},t));return(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,y.jsx)(l.xu,{paddingX:3,paddingY:2,children:(0,y.jsx)(l.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,y.jsx)(l.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,y.jsx)(l.xu,{flex:"grow",children:(0,y.jsx)(L.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,y.jsx)(l.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:e})})})}),(0,y.jsx)(l.xu,{marginBottom:14,overflow:"scrollY",paddingX:3,children:(0,y.jsx)("ul",{children:n})})]})}}function W(e){let t=(0,u.ZP)(),i=(0,P.Z)({name:"ShareSuggestionsResource",noCache:!0}),n=(0,U.zC)(),r=(0,U.DK)();return(0,y.jsx)(K,{...e,i18n:t,inviteEmails:n,inviteUsers:r,shareSuggestionsResource:i})}var $=i(201198),Y=i(607565);function V({onCancel:e,onCreate:t,onInvite:i,prefilledName:n,preselectedCollaborators:r,showTitle:a}){let s=(0,u.ZP)(),{isRTL:d}=(0,f.B)(),{handleCreate:c,handleChangeName:h,handleChangePrivacy:p,isAdAccountOwner:_,state:{createBoardError:m,inputName:g,nameValidatorErrors:b,privacy:v,saving:x}}=(0,Y.Z)({onCreate:t,prefilledName:n}),S=0===b.length,P=v===N.ZP.BoardPrivacy.SECRET;return(0,y.jsx)(l.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,y.jsx)("form",{onSubmit:e=>{e.preventDefault(),c()},style:{height:"100%"},children:(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[a&&(0,y.jsx)(l.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,y.jsx)(l.X6,{size:"400",children:s._('Create board', ' - ', ' -- ')})}),(0,y.jsxs)(l.xu,{padding:3,children:[(0,y.jsx)(l.xu,{marginBottom:2,children:(0,y.jsx)(l.__,{htmlFor:"boardEditName",children:(0,y.jsx)(l.xv,{size:"100",children:s._('Name', ' - ', ' -- ')})})}),(0,y.jsx)(l.xu,{children:(0,y.jsx)(l.nv,{errorMessage:b.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>h(e),placeholder:s._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:g})})]}),_&&(0,y.jsxs)(o.Fragment,{children:[(0,y.jsxs)(l.xu,{padding:3,children:[(0,y.jsx)(l.xu,{marginBottom:2,children:(0,y.jsx)(l.__,{htmlFor:"secret",children:(0,y.jsx)(l.xv,{size:"100",children:s._('Secret', 'secret board', 'secret board')})})}),(0,y.jsx)(l.xu,{children:(0,y.jsx)(l.rs,{id:"secret",onChange:p,switched:P})})]}),(0,y.jsx)(l.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,y.jsx)(l.xu,{width:"100%",children:(0,y.jsx)(W,{onSelectedCollaboratorsChange:i,preselectedCollaborators:r})})})]}),!_&&(0,y.jsx)(o.Fragment,{children:(0,y.jsxs)(l.xu,{padding:3,children:[(0,y.jsx)(l.xu,{marginBottom:2,children:(0,y.jsx)(l.__,{htmlFor:"protected",children:(0,y.jsx)(l.xv,{size:"100",children:s._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,y.jsx)(l.xu,{children:(0,y.jsx)(l.rs,{disabled:!0,id:"protected",onChange:()=>void 0,switched:!0})})]})}),(0,y.jsxs)(l.xu,{borderStyle:"shadow",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:d,paddingX:4,paddingY:2,position:"absolute",right:!d,width:720,children:[(0,y.jsx)(l.kC,{children:(0,y.jsx)(l.zx,{onClick:e,text:s._('Cancel', 'cancel board create', 'cancel board create')})}),(0,y.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"end",children:[!!m&&(0,y.jsx)(l.xu,{paddingX:2,children:(0,y.jsx)(l.xv,{align:"center",color:"error",size:"200",weight:"bold",children:m})}),(0,y.jsx)($.Z,{disabled:!g.trim()||!S||!!m||x,submitting:x,text:s._('Create', 'create a new board', 'create a new board')})]})]})]})})})}var q=i(533889);function Q(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let X=void 0!==r?r:r=i(41776);class J extends o.Component{constructor(...e){super(...e),Q(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),Q(this,"close",()=>{let{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:i}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):i()}),Q(this,"sendInvites",e=>{let{inviteQueue:t}=this.state;Object.keys(t).forEach(i=>{t[i].resource(e.id??"",[i])})}),Q(this,"handleInvite",e=>{let{inviteQueue:t}=this.state;if(t[e.id]){let i={...t};delete i[e.id],this.setState({inviteQueue:i})}else{let i={...t,[e.id]:e};this.setState({inviteQueue:i})}}),Q(this,"handleBoardCreate",e=>{let{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),Q(this,"handleBoardSave",(e,t)=>{let{selectedSectionBoard:i}=this.state,{onBoardSave:n,invalidatePinBetterSaveResource:r,invalidateResource:a}=this.props,s="board_section"===e.type;if(a(),r(),i&&("boardsection"===e.type||s))return n(i,e,t);let{section_count:o=0}=e;!i&&"number"==typeof o&&o>0?this.setState({selectedSectionBoard:e},this.manageModalTitle):(this.sendInvites(e),n(e,void 0,t))}),Q(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle),this.props.logContextEvent({event_type:101,component:e?13105:13025,element:e?10306:249})}),Q(this,"manageModalTitle",()=>{let{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:i}=this.state;e&&e(i&&t?this.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):i&&!t?this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t&&!i?this.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))})}render(){let{boardSavedTo:e,isRepin:t,isSelectMode:i,pin:n,preselectedCollaborators:r,setModalTitle:a,suggestedBoardTitle:s}=this.props,{newName:o,selectedSectionBoard:d,showCreate:c}=this.state,u=!!d,h=!a;return(0,y.jsxs)(l.xu,{display:"flex",position:"relative",width:"100%",children:[!c&&(0,y.jsx)(l.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?(0,y.jsx)(B,{board:d,boardSavedTo:e,isSelectMode:i,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):(0,y.jsx)(O,{boardSavedTo:e,isSelectMode:i,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinKey:n})}),c&&!d&&(0,y.jsx)(V,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:o||s,preselectedCollaborators:r,showTitle:h}),c&&d&&(0,y.jsx)(q.Z,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:o,isRepin:t,onClearModal:this.close,showTitle:h})]})}}function ee({pinKey:e,...t}){let{logContextEvent:i}=(0,x.v)(),n=(0,u.ZP)(),r=(0,c.Z)(X,e),a=(0,m.I0)();return(0,y.jsx)(J,{...t,i18n:n,invalidatePinBetterSaveResource:()=>{a((0,S.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:()=>{a((0,S.jB)("BoardPickerBoardsResource",A(r?.entityId)))},logContextEvent:i,pin:r})}var et=i(194784);function ei(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let en=void 0!==a?a:a=i(774667),er=void 0!==s?s:s=i(219670);class ea extends o.PureComponent{constructor(...e){super(...e),ei(this,"pinImageRef",(0,o.createRef)()),ei(this,"handleSavePinToBoard",(e,t,i)=>{let{handleSaveToBoard:n}=this.props;n(e,t,i)}),ei(this,"close",()=>{let{handleAbort:e}=this.props;e()}),ei(this,"dismissModal",()=>{let{dismissModal:e}=this.props;e&&e()})}render(){let{boardSavedTo:e,boardWithSection:t,color:i,displaySuccessAnimation:n,handleNewBoardAnimationCompletion:r,isInModal:a,newPin:s,pin:c,preselectedCollaborators:u,onBoardCreated:h,sensitiveContentNotice:m,setModalTitle:g,showCreate:f,shouldRenderContent:b,suggestedBoardTitle:x,updateDescription:S,urlPinInfo:P,shuffleAsset:w}=this.props,I=P?.description||P?.link||P?.imageUrl;if(!c&&!I||!b)return null;if(f&&t)return(0,y.jsx)(v,{board:t,completeCreateSectionAction:this.handleSavePinToBoard,height:c?.imageSpec_236x?.height??0,onClose:this.close,url:c?.imageSpec_236x?.url??P?.imageUrl??"",width:c?.imageSpec_236x?.width??0});let E=null;s&&s.board&&(E=s.board.name);let A=m&&m.title||this.props.modalTitle,C=m?(0,y.jsx)(p.Z,{inModal:!0,notices:[m]}):(0,y.jsx)(l.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,y.jsxs)(o.Fragment,{children:[(0,y.jsxs)(l.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,y.jsx)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,y.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,y.jsx)(et.Z,{color:i,pinImageRef:this.pinImageRef,pinKey:c,shuffleAssetKey:w,updateDescription:S,urlPinInfo:P})})}),(0,y.jsx)(l.kC,{alignItems:"stretch",width:"60%",children:(0,y.jsx)(ee,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:h,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:c,preselectedCollaborators:u,setModalTitle:a?g:void 0,showCreate:f,suggestedBoardTitle:x})})]}),n&&(0,y.jsx)(_.Z,{onDismiss:()=>{r(),this.dismissModal()},pinImageRef:this.pinImageRef,pinKey:c,selectedBoardName:E,shuffleAssetKey:w})]})});return a?(0,y.jsx)(d.ZP,{accessibilityModalLabel:A||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal'),heading:A,onDismiss:this.close,size:"md",children:C}):C}}ei(ea,"defaultProps",{pwtAuxData:{}});let es=function({pinKey:e,shuffleAssetKey:t,...i}){let n=(0,u.ZP)(),r=(0,h.Z)(),a=(0,c.Z)(en,e),s=(0,c.Z)(er,t);return(0,y.jsx)(ea,{...i,i18n:n,pin:a,shuffleAsset:s,viewer:r})}},611882:function(e,t,i){i.d(t,{A:()=>n,S:()=>r});let n=4e3,r={LOADING:"loading",SUCCESS:"success"}},607565:function(e,t,i){i.d(t,{Z:()=>_});var n=i(667294),r=i(581722),a=i(249459),s=i(236269),o=i(138596),l=i(216975),d=i(660322),c=i(462867),u=i(496883),h=i(44849),p=i(427475);function _({onCreate:e,prefilledName:t}){let i=(0,o.ZP)(),_=(0,r.v9)(({advertiser:e})=>e),m=(0,r.I0)(),g=(0,c.Z)(),f=!_||g.isAuth&&_.owner_user_id===g.id,b=_&&_.id,y=(0,p.Z)(),[v,x]=(0,n.useState)({createBoardError:null,inputName:t||"",nameValidatorErrors:[],privacy:f?a.ZP.BoardPrivacy.PUBLIC:a.ZP.BoardPrivacy.PROTECTED,saving:!1}),S=()=>{let{inputName:t,privacy:n}=v;x({...v,saving:!0,createBoardError:null}),y({boardCreateOptions:{name:t,privacy:n,...!f&&b?{advertiser_id:b}:Object.freeze({}),aux_data:{source:"board_picker"}}}).then(t=>{x({...v,saving:!1}),e(t)}).catch(e=>{let t=i._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else{let i=(0,s.Z)(e,"message");if(i){let n=(0,s.Z)(e,"message_detail");t=n?`${i} ${n}`:i}}x({...v,saving:!1,createBoardError:t})}),m((0,d.jB)("BoardsResource",(0,h.Z)(g.isAuth?g.username:"",n===a.ZP.BoardPrivacy.SECRET)))};return{handleChangeName:(e,t)=>{x({...v,inputName:e,nameValidatorErrors:(0,u.FU)([(0,u.aH)({message:i._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,u.Gy)({max:a.ZP.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,l.nk)(i._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:a.ZP.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null}),t&&S()},handleChangePrivacy:()=>{x({...v,privacy:v.privacy===a.ZP.BoardPrivacy.SECRET?a.ZP.BoardPrivacy.PUBLIC:a.ZP.BoardPrivacy.SECRET})},handleCreate:S,isAdAccountOwner:f,state:v}}},427380:function(e,t,i){i.d(t,{Z:()=>s});var n=i(883119),r=i(914253),a=i(785893);function s({boardId:e}){let t=(0,r.gC)()(e),i=t?.images&&t.images["170x"]?t.images["170x"][0]:void 0;return e&&i?i.url&&(0,a.jsx)(n.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:i.url}):null}},378199:function(e,t,i){i.d(t,{Z4:()=>d,ZP:()=>c,t_:()=>o});var n=i(4533),r=i(249459),a=i(34550),s=i(163691);let o=()=>{let e=(0,a.M0)().getItem(n.pm);return null!==e?JSON.stringify(e):""},l=()=>(0,a.M0)().getItem(n.pm)??[],d=(e,t)=>{let i=[...l()],o=i.length,d=o?i[0].path:"";if(!o||e!==d){let i=(0,s.Z)({path:e,pageType:t});(0,a.M0)().prependItem(n.pm,i,r.LG)}},c=l},427475:function(e,t,i){i.d(t,{Z:()=>c});var n=i(581722),r=i(782677),a=i(27399),s=i(375217),o=i(647908),l=i(233597),d=i(660322);function c(){let e=(0,n.I0)(),t=(0,n.v9)(e=>e.resources);return async function({boardCreateOptions:i,deprecatedSchemaForNormalization:n}){let c=await a.Z.create("BoardResource",i).callCreate(),u=c.resource_response.data,h=n?(0,r.Fv)(u,n):void 0;e((0,d.XM)("BoardResource",i,c,h)),e((0,s.fO)({event_type:20})),u.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let p=t.BoardsResource||{},_=t.BoardsFeedResource||{};return Object.keys(p).forEach(t=>{(0,o.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(_).forEach(t=>{(0,o.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},22768:function(e,t,i){i.d(t,{Z:()=>eh});var n=i(739405),r=i(462867),a=i(616550),s=i(667294),o=i(883119),l=i(27399),d=i(895005),c=i(343669),u=i(230201),h=i(681698),p=i(138596),_=i(774838),m=i(135269),g=i(577356),f=i(900946),b=i(248380),y=i(904946),v=i(785893);function x(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let S="success",P="fail";class w extends s.Component{constructor(...e){super(...e),x(this,"_completionPromiseTimeout",null),x(this,"_pincreateCompletionPromise",null),x(this,"state",{boardName:"",pinId:"",showPinSuccess:!1,pinImageUrl:this.props.urlPinInfo.imageUrl,readyToRender:!!this.props.urlPinInfo.imageUrl}),x(this,"setCompletionPromise",e=>{this._pincreateCompletionPromise=e,this._pincreateCompletionPromise.promise.then(e=>{this.logCreateEvent({id:e.id,status:S}),this.setState({boardName:e.board.name,pinId:e.id,showPinSuccess:!0}),this._completionPromiseTimeout=window.setTimeout(this.handleClose,1e4)}).catch(()=>{this.logCreateEvent({status:P})})}),x(this,"logCreateEvent",({id:e,status:t})=>{let{method:i,query:n}=this.props;if(t===S&&n.guid||t===P){let r=(0,f.Z)({...n,client:"web",event:`pin_create_${t}`,...e?{pin_id:e}:{},path:i});new Image().src="https://log.pinterest.com/?"+r}}),x(this,"handleHeightChange",e=>{window.resizeTo(750,e+48)}),x(this,"handleClose",()=>{window.setTimeout(window.close,1)}),x(this,"handleClosePinCreateSuccess",()=>{let{requestContext:e}=this.props;(0,c.G6)(e.userAgent.browserName)||e.experimentsClient.flush(),window.clearTimeout(this._completionPromiseTimeout)}),x(this,"_createImageResource",e=>{(0,h.Z)({url:"/v3/pins/image/",method:"PUT",data:{image_url:e},callOptions:{async:!0}})}),x(this,"_findPinImageResource",e=>{l.Z.create("FindPinImagesResource",{url:e,scrapeMetric:"www_url_scrape"}).callGet({showError:!1}).then(e=>{if(!e||!e.resource_response||!e.resource_response.data)return;let t=(e.resource_response.data.items||[]).filter(e=>"pinnable"===e.type);0!==t.length&&(this._createImageResource(t[0].url),this.setState({pinImageUrl:t[0].url}))}).finally(()=>this.setState({readyToRender:!0}))})}componentDidMount(){let{urlPinInfo:e}=this.props;e.imageUrl?this._createImageResource(e.imageUrl):this._findPinImageResource(e.link),window.opener&&window.innerHeight<750&&this.handleHeightChange(750)}componentWillUnmount(){this._pincreateCompletionPromise&&this._pincreateCompletionPromise.cancel()}renderShowPinSuccess(){let{color:e,urlPinInfo:t}=this.props,{boardName:i,pinImageUrl:n,pinId:r,showPinSuccess:a}=this.state;return(0,v.jsx)(d.Z,{boardName:i,color:e,description:t.description,imageUrl:n,link:t.link,onClose:this.handleClosePinCreateSuccess,openNewTab:a,pinId:r})}render(){let{action:e,color:t,urlPinInfo:i,guid:n,method:r}=this.props,{pinImageUrl:a}=this.state,s={description:i.description,imageUrl:a,link:i.link};return(0,v.jsx)(o.xu,{children:(0,v.jsx)(o.xu,{alignItems:"center",bottom:!0,color:this.state.showPinSuccess?"secondary":"dark",display:"flex",justifyContent:"center",overflow:"scrollY",position:"fixed",right:!0,top:!0,width:"100%",children:this.state.showPinSuccess?this.renderShowPinSuccess():(0,v.jsx)(b.K,{action:"repin"===e?"repin":"create",color:t,description:i.description,guid:n,method:r,onClose:this.handleClose,pinKey:null,setCompletionPromise:this.setCompletionPromise,urlPinInfo:s,children:({boardSavedTo:e,dismissModal:n,displaySuccessAnimation:r,handleAbort:a,handleNewBoardAnimationCompletion:l,handleSaveToBoard:d,newPin:c,modalTitle:u,setModalTitle:h,updateDescription:p})=>(0,v.jsx)(o.xu,{maxWidth:750,width:"100%",children:(0,v.jsx)(y.Z,{boardSavedTo:e,color:t,description:i.description,dismissModal:n,displaySuccessAnimation:r,handleAbort:a,handleNewBoardAnimationCompletion:l,handleSaveToBoard:d,modalTitle:u,newPin:c,onHeightChange:this.handleHeightChange,pinKey:null,pwtAuxData:{pin_create_method:"bookmarklet"},setModalTitle:h,shouldRenderContent:!this.state.showPinSuccess&&this.state.readyToRender,updateDescription:p,urlPinInfo:s})})})})})}}function I(e){let{logContextEvent:t}=(0,u.v)(),i=(0,p.ZP)(),n=(0,m.Z)();return(0,v.jsx)(w,{...e,i18n:i,logContextEvent:t,requestContext:(0,_.B)(),siteType:n,toastManagerContext:(0,g.F9)()})}var E=i(59355),A=i(575820);function C(){let e=(0,a.TH)(),{action:t,method:i}=(0,a.UO)(),n=(0,A.mB)(e.search);return(0,E.Q)({view_type:12,view_parameter:119,view_data:{method:i||"create",guid:n.guid}}),(0,v.jsx)(I,{action:t||"create",color:n.color,method:i||"create",query:{color:n.color,media:n.media||"",description:n.description,url:n.url,guid:n.guid},urlPinInfo:{description:n.description,imageUrl:n.media,link:n.url}})}var k=i(581722),j=i(104999),T=i(924591),R=i(216975),O=i(271202),Z=i(134136),B=i(613567),N=i(661376),L=i(550759),D=i(337351),z=i(528630),F=i(680391);let M=function({nextRouterState:e,selectedBoard:t}){let i=(0,p.ZP)(),n=t?`/board/${t.id}/create_section/`:"/board/create/",r=(0,F.Z)({href:{pathname:n,state:e}});return(0,v.jsx)(z.Z,{height:70,children:(0,v.jsx)(o.rU,{href:n,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),r({event:e})},rounding:2,children:(0,v.jsxs)(o.xu,{alignItems:"center",display:"flex",padding:1,children:[(0,v.jsx)(o.JO,{accessibilityLabel:i._('Create board button', ' - ', ' -- '),color:"error",icon:"add-circle",size:38}),(0,v.jsx)(o.xu,{marginStart:3,children:(0,v.jsx)(o.xv,{weight:"bold",children:t?i._('Create section', 'Create new section to Pin to', 'Create new section to Pin to'):i._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})};var U=i(780954),G=i(214119),H=i(254889),K=i(828890),W=i(453799),$=i(427380);function Y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class V extends s.PureComponent{constructor(...e){super(...e),Y(this,"state",{isPinCreating:!1}),Y(this,"onBoardSelected",(e,t)=>{t?this.setState({selectedBoard:e}):this.createPin(e)}),Y(this,"onSectionSelected",(e,t)=>{let i=this.state.selectedBoard;i&&this.createPin(i,t)}),Y(this,"findPinnableImagePromise",e=>l.Z.create("FindPinImagesResource",{url:e,scrapeMetric:"www_url_scrape"}).callGet({showError:!1}).then(e=>{if(e?.resource_response.data){let t=(e.resource_response.data.items||[]).filter(e=>"pinnable"===e.type);if(t.length>0)return t[0].url}return""})),Y(this,"getRouterStateFromUrlParams",()=>{let{location:{search:e,state:t},match:{params:{method:i}}}=this.props,{description:n,guid:r,media:a,url:s}=(0,A.mB)(e);return{...{description:n||"",guid:r,imageUrl:a||"",link:s,method:i||D.it},...t}}),Y(this,"createPin",async(e,t)=>{this.setState({isPinCreating:!0});let{checkExperiment:i,createPin:n,history:r,logContextEvent:a,showToast:s}=this.props,l=this.getRouterStateFromUrlParams();if((0,D.sW)(l)){let{imageUrl:e,link:t}=l;t&&""===e&&(l.imageUrl=await this.findPinnableImagePromise(t))}let d=(0,D.dU)({boardId:e.id,checkExperiment:i,createPin:n,sectionId:t&&t.id,state:l});try{let e=(await Promise.all(d))[0].resource_response.data,{board:t,id:i}=e;s&&"function"==typeof s&&s(({hideToast:i})=>(0,v.jsx)(T.Z,{_dangerouslySetThumbnail:(0,v.jsx)(o.xu,{height:32,width:32,children:(0,v.jsx)($.Z,{boardId:t.id})}),duration:5e3,href:`/pin/${e?.id}`,onHide:i,primaryAction:{accessibilityLabel:this.props.i18n._('Navigate to created Pin', 'storyboard.toast.viewPublishedPin.accessibilityLabel', 'Accessibility label on a button link text on a toast that appears to confirm creation of a pin. Tapping on the button navigates user to the created pin'),label:this.props.i18n._('View', 'storyboard.toast.viewPublishedPin.buttonText', 'Button link text on a toast that appears to confirm creation of a pin. Tapping on the button navigates user to the created pin'),onClick:()=>{}},text:(0,R.Wc)(this.props.i18n._('Saved to {{ boardName }}', 'CreatePinPage.Toast.Message', 'Confirmation message after saving Pin into Board. boardName: board name'),{boardName:t.name})})),a({event_type:1,view_type:92,component:7,object_id_str:i}),(0,D.sW)(l)||r.length<=1?window.close():(0,D.n0)(l)&&r.length>2?r.go(-2):r.goBack()}catch(e){this.setState({isPinCreating:!1}),s&&"function"==typeof s&&s(({hideToast:e})=>(0,v.jsx)(T.Z,{onHide:e,text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation')}))}}),Y(this,"backToBoardPicker",()=>{this.setState({selectedBoard:void 0})})}renderRecentBoards(){let{i18n:e,recentBoards:t}=this.props;return(0,v.jsxs)(o.xu,{marginTop:2,children:[(0,v.jsxs)(o.xu,{marginBottom:1,children:[(0,v.jsx)(o.xv,{children:e._('Top choices', ' - ', ' -- ')}),t.map(e=>(0,v.jsx)(K.Z,{boardId:e.id,onBoardSelected:t=>this.onBoardSelected(e,t)},e.id))]}),(0,v.jsx)(o.iz,{})]})}renderAllBoards(){let{allBoards:e,boardPickerResource:t,i18n:i}=this.props;return(0,v.jsxs)(o.xu,{marginBottom:1,marginTop:2,children:[(0,v.jsx)(o.xv,{children:i._('All boards', ' - ', ' -- ')}),t.isFetching&&(0,v.jsx)(o.xu,{column:12,paddingY:2,children:(0,v.jsx)(o.xH,{accessibilityLabel:i._('Loading boards', ' - ', ' -- '),show:!0})}),e.map(e=>(0,v.jsx)(K.Z,{boardId:e.id,onBoardSelected:t=>this.onBoardSelected(e,t)},e.id))]})}render(){let{allBoards:e,location:{state:t},recentBoards:i}=this.props,{selectedBoard:n}=this.state,r=(0,D.n0)(t);return(0,v.jsxs)(Z.default,{hasFixedHeader:!0,children:[(0,v.jsx)(O.default,{children:(0,v.jsxs)(o.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,v.jsx)(o.xu,{column:2,children:n?(0,v.jsx)(o.hU,{accessibilityLabel:this.props.i18n._('Back', 'navigation button', 'navigation button'),icon:"arrow-back",iconColor:"gray",onClick:this.backToBoardPicker,size:"lg"}):(0,v.jsx)(H.Z,{icon:r?"arrow-back":"cancel",padding:3})}),(0,v.jsx)(o.xu,{column:8,children:(0,v.jsx)(o.xv,{align:"center",weight:"bold",children:n?this.props.i18n._('Choose section', 'label for section picker in pin create', 'label for section picker in pin create'):this.props.i18n._('Choose board', 'label for board picker in pin create', 'label for board picker in pin create')})}),(0,v.jsx)(o.xu,{column:2})]})}),(0,v.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:90}},position:"relative",children:[(0,v.jsxs)(o.xu,{children:[(0,v.jsx)(o.iz,{}),n?(0,v.jsx)(W.Z,{boardId:n.id,repin:this.onSectionSelected}):(0,v.jsxs)(o.xu,{marginBottom:1,children:[i&&i.length>0&&this.renderRecentBoards(),e&&e.length>=0&&this.renderAllBoards()]})]}),this.state.isPinCreating&&(0,v.jsx)(L.Z,{})]}),(0,v.jsx)(M,{nextRouterState:this.getRouterStateFromUrlParams(),selectedBoard:n})]})}}let q=e=>{let{hostname:t}=(0,A.Qc)(e);return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com"))};function Q(){let e=(0,a.k6)(),t=(0,a.TH)(),i=(0,a.$B)(),n=(0,k.I0)(),s=(0,p.ZP)(),o=(0,j.Z)(),{checkExperiment:l}=(0,B.F)(),{isAuth:d}=(0,r.Z)(),{showToast:c}=(0,g.F9)(),{search:u}=t,{url:h}=(0,A.mB)(u),{hostname:_,path:m}=(0,A.Qc)(h),f=(0,k.v9)(e=>e.session.userId),b=(0,k.v9)(e=>(e.users[f]??{}).recent_boards??[]),y=(0,k.v9)(e=>(0,G.Z)(e)),{isFetching:x}=(0,N.Z)({name:"BoardPickerBoardsResource",options:{filter:"all",field_set_key:"profile_grid_item",user_id:f}});if(!d)return(0,v.jsx)(a.l_,{to:"/"});if(!_||q(_)){let e=m.match(/^(\/amp)?\/pin\/(\d+)\/$/);if(e){let t=e[2],i=`/pin/${t}/repin/x/`;return(0,v.jsx)(a.l_,{to:{pathname:[i]}})}}return(0,v.jsx)(V,{allBoards:y,boardPickerResource:{isFetching:x},checkExperiment:l,createPin:e=>n((0,U.i)(e)),history:e,i18n:s,location:t,logContextEvent:o,match:i,recentBoards:b,showToast:c})}var X=i(172045),J=i(817947),ee=i(688318),et=i(145176),ei=i(937656),en=i(749529),er=i(900993),ea=i(386001),es=i(116980),eo=i(893957),el=i(767415);function ed({width:e,height:t,src:i,onImageLoad:n}){let r=(0,p.ZP)();return(0,eo.Z)(()=>n({width:e,height:t})),(0,v.jsx)(o.Ee,{alt:r._('Uploaded image', 'Label for a user uploaded image on Pin create', 'Label for a user uploaded image on Pin create'),naturalHeight:t??1,naturalWidth:e??1,src:i})}function ec({imageUrl:e}){(0,s.useEffect)(()=>{(0,el.nP)("offsite_pin_creation.view",{sampleRate:1,tags:{type:"single_pin"}})},[]);let t=(0,a.TH)(),[i,n]=(0,s.useState)((0,ea.Z)({width:1,height:1}));return(0,v.jsxs)(o.xu,{"data-test-id":"pindraft-external-body",direction:"row",display:"flex",marginTop:0,children:[(0,v.jsx)(o.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingX:5,children:(0,v.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:ei.LM,children:(0,v.jsx)(o.xu,{direction:"column",display:"flex",height:i,position:"relative",children:(0,v.jsx)(o.xu,{"data-tutorial-id":"pin-builder-media-draft-view",flex:"grow",height:"100%",children:(0,v.jsx)(o.xu,{height:"100%",width:"100%",children:(0,v.jsx)(o.xu,{"data-test-id":"media-image-view",height:"100%",overflow:"hidden",rounding:2,width:"100%",children:(0,v.jsx)(en.Z,{url:e,children:({image:t})=>{let i=t[0];return i?(0,v.jsx)(ed,{height:i.height,onImageLoad:({width:e,height:t})=>{e&&t&&n((0,ea.Z)({width:e,height:t}))},src:e,width:i.width}):null}})})})})})})}),(0,v.jsx)(o.xu,{color:"secondary",marginTop:-5,width:2}),(0,v.jsx)(o.xu,{"data-test-id":"unauth-offsite-pin-creation-signup",children:(0,v.jsx)(et.default,{attributionLabel:t.state?.attributionLabel,container:"pinBookmarklet",nextUrlParam:encodeURIComponent(`${t.pathname}${t.search}&${ee.r}=${ee.O}`),signupFlow:{type:"login"},signupSource:"pinBookmarklet"})})]})}function eu(){let e=(0,p.ZP)(),t=(0,_.B)(),i=(0,r.Z)(),[n,l]=(0,s.useState)(null),d=(0,a.TH)(),c=(0,A.mB)(d.search);return(0,eo.Z)(()=>(er.Z.initialize({user:void 0,requestContext:t,viewer:i,location:d,advertiser:void 0,scenario:"offsite_pin_creation"}),l({id:(0,X.Z)(),imageUrl:c.media}),(window.opener||"bookmarklet"===c.method)&&(window.innerHeight<J.C||window.innerWidth<J.N)&&window.resizeTo(J.N,J.C),()=>l(null))),(0,v.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{top:es.Pw}},direction:"column",display:"flex",left:!0,position:"fixed",right:!0,children:(0,v.jsxs)(o.xu,{color:"secondary","data-test-id":"pin-builder",flex:"grow",height:"100%",position:"relative",children:[(0,v.jsx)(o.xu,{display:"visuallyHidden",children:(0,v.jsx)(o.X6,{accessibilityLevel:1,children:e._('Pin Builder', 'pinBuilder.heading', 'The page heading for Pin Builder')})}),(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{border:"4px solid transparent"}},height:"100%",overflow:"auto",children:(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transformOrigin:"top center",transition:`transform 250ms ${ei.rc}, height 250ms ${ei.rc}`}},height:"100%",children:(0,v.jsx)(o.xu,{alignItems:"center",direction:"column",display:"flex",paddingY:7,children:(0,v.jsx)(o.xu,{children:(0,v.jsx)(o.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:(0,v.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:n&&(0,v.jsx)(o.xu,{"data-group-id":"pin-builder-pin-draft","data-test-id":`pin-builder-pin-draft-${n.id}`,paddingY:3,children:(0,v.jsx)(o.xu,{position:"relative",children:(0,v.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:ei.XB}},"data-test-id":"pin-builder-draft",direction:"column",display:"flex",paddingX:ei.bo,rounding:4,width:ei.of,children:(0,v.jsx)(ec,{imageUrl:n.imageUrl})})})})})})})})})})]})})}let eh=function(){let e=(0,n.HG)(),t=(0,r.Z)();return e?t.isAuth?(0,v.jsx)(C,{}):(0,v.jsx)(eu,{}):(0,v.jsx)(Q,{})}},726386:function(e,t,i){(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||[]).push(["www/pin/create/[method]",function(){return i(22768).Z}])}},function(e){e.O(0,["17373","18106","20043","25418","25678","27332","32531","45704","46246","4835","5243","52559","5297","53547","54518","58145","59770","60554","63930","64332","66339","79226","8307","87566","98902"],function(){return e(e.s=726386)}),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/create/[method]-f3e660720f49ec77.mjs.map